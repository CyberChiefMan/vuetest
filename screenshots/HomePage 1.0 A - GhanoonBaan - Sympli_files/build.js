!function e(t,n,i){function s(r,a){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return s(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)s(i[r]);return s}({1:[function(e,t,n){"use strict";var i={read:"read",project:{read:"project.read",create:"project.create",edit:"project.edit",leave:"project.leave","delete":"project.delete",archive:"project.archive",activate:"project.activate",transfer:{initiate:"project.transfer.initiate",reject:"project.transfer.reject",read:"project.transfer.read"},settings:{email:"project.settings.email",slack:"project.settings.slack",webhook:"project.settings.webhook",jira:"project.settings.jira"},manage:{users:"project.manage.users"}},bundle:{read:"bundle.read",create:"bundle.create",update:"bundle.update",upload:"bundle.upload","delete":"bundle.delete"},spot:{create:"spot.create",edit:"spot.edit","delete":"spot.delete"},message:{create:"message.create","delete":"message.delete"},activity:{read:"activity.read"},user:{manage:"user.manage"},company:{read:"company.read",edit:"company.edit",manage:{users:"company.manage.users",community:"company.manage.community"}}};t.exports=i},{}],2:[function(e,t,n){"use strict";t.exports={Specs:"Specs",Review:"Review",Changes:"Changes"}},{}],3:[function(e,t,n){"use strict";t.exports={keys:{},groups:{bundle:"main-bundle-",project:"project-"}}},{}],4:[function(e,t,n){"use strict";var i={companyGuest:"company-guest",companyUser:"company-user",companyAdmin:"company-admin",companyOwner:"company-owner"};t.exports=i,t.exports.RoleToString=function(e){return e==i.companyAdmin?"Admin":e==i.companyUser?"User":e==i.companyGuest?"Guest":e==i.companyOwner?"Owner":""}},{}],5:[function(e,t,n){"use strict";t.exports={jira:"jira"}},{}],6:[function(e,t,n){var i={android:"android",ios:"ios",web:"web"};t.exports=i},{}],7:[function(e,t,n){"use strict";var i={projectUser:"project-user",projectAdmin:"project-admin",projectOwner:"project-owner"};t.exports=i,t.exports.RoleToString=function(e){return e==i.projectAdmin?"Power user":e==i.projectUser?"User":e==i.projectOwner?"Owner":""}},{}],8:[function(e,t,n){var i={authenticate:"authenticate",authenticated:"authenticated",message:{create:"message:create",update:"message:update","delete":"message:delete",list:"message:list"},bundleSpot:{all:"bundleSpot:*",create:"bundleSpot:create",update:"bundleSpot:update","delete":"bundleSpot:delete"},project:{create:"project:create",update:"project:update","delete":"project:delete",archive:"project:archive",activate:"project:active",tags:{create:"project:tags:add","delete":"project:tags:delete",update:"project:tags:update"},user:{join:"project:user:join"},all:"project:*"},bundle:{create:"bundle:create",update:"bundle:update","delete":"bundle:delete",ready:"bundle:ready",all:"bundle:*"},user:{add:"user:add",joined:"user:joined",left:"user:left"},brandbook:{create:"brandbook:create",update:"brandbook:update","delete":"brandbook:delete"},typing:{start:"typing:start",stop:"typing:stop"},mentionees:{refresh:"mentionees:refresh"},customer:{update:"customer:update"},company:{inactive:"company:inactive"},account:{update:"account:update","delete":"account:delete"},announcement:{publish:"announcement:publish","delete":"announcement:delete"},disconnect:"disconnect"};t.exports=i},{}],9:[function(e,t,n){"use strict";var i={admin:"admin",user:"user",company:"company",unconfirmed:"unconfirmed",idp:"idp"};t.exports=i},{}],10:[function(e,t,n){"use strict";var i={photoshop:"photoshop",sketch:"sketch",photoshop_flat:"photoshop-flat",isPhotoshop:function(e){return e==this.photoshop_flat||e==this.photoshop}};t.exports=i},{}],11:[function(e,t,n){"use strict";function i(e,t){var n=t&&t.length?e+JSON.stringify(t):"",i=window.location.hash.split("/issues/")[0].split("/tags/")[0]+n;return history.pushState(null,"",i),n}function s(e,t){if(t&&0===t.indexOf(e))try{var n=decodeURIComponent(t).replace(e,"");return"undefined"===n?null:JSON.parse(n)}catch(i){return null}return null}function o(e,t){var n;switch(t.name){case"projectsView":n=3;break;case"bundleSpecs":n=3;break;case"bundleVersionSpecs":n=4;break;case"bundleReview":n=1;break;case"bundleVersionReview":n=2;break;default:n=-1}var i=n===-1?null:t.params[n];return window.location.href.indexOf(t.path)===-1||null===i?s(e,e+window.location.hash.split(e)[1]):i?s(e,i):null}t.exports.Tags={browserHistoryPush:function(e){return i("/tags/",e)},getFromUrlSafeByRoute:function(e){return o("/tags/",e)}},t.exports.Issues={browserHistoryPush:function(e){return i("/issues/",e)},getFromUrlSafeByRoute:function(e){return o("/issues/",e)}}},{}],12:[function(e,t,n){"use strict";var i={"error.read.denied":"You don't have access","error.announcement.published":"Announcement is published already","error.announcement.notfound":"Announcement not found","error.demo.notfound":"Demo not found","error.project.notfound":"The project that you are looking for has been deleted","error.project.denied":"You don’t have access to this project","error.project.archived":"The project that you are looking for is not active","error.project.create.limit":"You hit the limit for the active projects on your plan and you can not create new projects until you archive some of the active projects or upgrade your plan.","error.project.create.denied":"You don't have required permissions to create a project","error.project.transfer.limit":"You hit the limit for the active projects on your plan and you can not accept transferred projects until you archive some of the active projects or upgrade your plan.","error.project.transfer.initiate":"You can't initiates transfer for project due to your plan limitations. Please upgrade your plan.","error.project.transfer.saml.different":"You can't initiates transfer for project because you and acceptor uses different authorization schemes.","error.project.transfer.accept":"To accept project transfers, you need to upgrade to any of the paid plans.","error.project.archive.demo":"Demo project cannot be archived","error.project.archive.limit":"You can't archive project due to your plan limitations. Please upgrade your plan.","error.project.activate.limit":"You can't unarchive project due to your plan limitations. Please upgrade your plan.","error.project.color.notfound":"Color not found","error.project.color.readonly":"Brandbook color cannot be altered","error.project.brandbook.required":"Required param `brandbook`","error.project.settings.denied":"You don’t have required permissions to change settings","error.project.invitees.denied":"You don’t have required permissions to retrieve invitees list","error.project.update.color.denied":"You don’t have required permissions to update project colors","error.project.update.font.denied":"You don’t have required permissions to update project fonts","error.project.create.brandbook.denied":"You don’t have required permissions to create project brandbook","error.project.read.denied":"You don't have access to this project","error.project.edit.denied":"You don't have permissions to edit this project","error.project.leave.denied":"You don't have permissions to leave this project","error.project.delete.denied":"You don't have permissions to delete this project","error.project.archive.denied":"You don't have permissions to archive this project","error.project.activate.denied":"You don't have permissions to activate this project","error.project.transfer.demo":"Demo project cannot be transferred","error.project.transfer.initiate.denied":"You don't have permissions to transfer the ownership of this project","error.project.transfer.reject.denied":"You don't have permissions to reject the ownership transfer of this project","error.project.transfer.read.denied":"You don't have access to the ownership transfer of this project","error.project.settings.email.denied":"You don't have access to change email notification settings for this project","error.project.settings.slack.denied":"You don't have access to Slack integration settings for this project","error.project.settings.webhook.notfound":"Webhook not found","error.project.settings.webhook.exist":"A webhook with same url already exists in this project","error.project.settings.webhook.limit":"Project webhook limit exceeded","error.project.settings.webhook.denied":"You don't have access to webhook integration settings for this project","error.project.manage.users.denied":"You don't have permissions to manage users of this project","error.project.owner.revoke.denied":"You can't revoke project owner access.","error.project.settings.jira.denied":"You don't have permissions or Jira integration disabled","error.project.issue.type.invalid":"Issue type invalid","error.project.issue.notfound":"Issue not found","error.brandbook.color.exist":"A color with same name already exists in this brandbook","error.bundle.denied":"You don’t have access to this design","error.bundle.user.required":"Required param `user`","error.bundle.fileHashOrArtboardId.required":"Insufficient param (fileHash or artboardId)","error.bundle.uninvite":"You can not delete a design in a project you don't own","error.bundle.notfound":"Design is not found","error.bundle.upload.invitee.free":"Project owner is on a free plan. Uploading designs by team members are not supported on a free plan, please ask project owner to upgrade to paid plan.","error.bundle.upload.demo":"You cannot upload a design into demo project.","error.bundle.delete.denied":"You don’t have required permissions to delete this design","error.bundle.read.denied":"You don't have access to this design","error.bundle.create.denied":"You don't have permissions to create design","error.bundle.update.denied":"You don't have permissions to update this design","error.bundle.upload.denied":"You don't have permissions to upload updates to this design","error.bundle.batchdelete.idsRequired":"Required param `bundleIds`","error.bundle.batchdelete.wrongIds":"You can not delete designs from different projects","error.spot.create.denied":"You don't have permissions to create an annotation","error.spot.edit.denied":"You don't have permissions to edit this annotation","error.spot.delete.denied":"You don't have permissions to delete this annotation","error.message.create.denied":"You don't have permissions to create a message","error.message.delete.denied":"You don't have permissions to delete this message","error.activity.read.denied":"You don't have access to the activities of this project","error.user.notfound":"User does not exists","error.user.exist":"This mail address is already taken","error.user.identity":"Invalid user identity","error.user.activated":"Invalid user identity","error.user.manage.denied":"You don't have permissions to edit this user","error.user.nickname.exist":"Nickname is already taken","error.company.notfound":"Company does not exists.","error.company.notactive":"Company is not active.","error.company.owner.notfound":"Company doesn't have owner.","error.company.owner.grant.denied":"You can't alter company owner access.","error.company.owner.revoke.denied":"You can't revoke company owner access.","error.company.manage.users.denied":"You don't have permissions to manage users of this company","error.company.read.denied":"You don't have access to this company","error.company.edit.denied":"You don't have permissions to manage this company","error.action.notfound":"Invalid token","error.action.wrong.type":"Action type not found","error.action.wrong.user":"The project ownership transfer has been initiated for other user, please check your email. If you have recently changed your email, please ask project owner to initiate project ownership transfer once again","error.invite.create.limit":"Hey! You hit the free plan limit on email invites. Please use the link above to share the project, or contact us at support@sympli.io to increase email invites or upgrade to a paid plan.","error.invite.emails.long":"On Trial or Free plan you can send 10 email invites a time. If you need more people on the project please send them a link above.","error.invite.wrong.email":"Invite has been sent for other user, please check your email. If you have recently changed your email, please ask project owner to send you invite once again","error.invite.project.link.deactivated":"Project owner has deactivated share link","error.invite.saml.company.denied":"This invite can be used only by SAML authenticated users.","error.invite.saml.user.denied":"This invite can not be used by SAML authenticated users.","error.invite.saml.denied":"This company is using another SAML provider. You can not use this invitation.","error.customer.card.invalid_number":"The card number is not a valid credit card number.","error.customer.card.invalid_expiry_month":"The card's expiration month is invalid.","error.customer.card.invalid_expiry_year":"The card's expiration year is invalid.","error.customer.card.invalid_cvc":"The card's security code is invalid.","error.customer.card.incorrect_number":"The card number is incorrect.","error.customer.card.expired_card":"The card has expired.","error.customer.card.incorrect_cvc":"The card's security code is incorrect.","error.customer.card.incorrect_zip":"The card's zip code failed validation.","error.customer.card.card_declined":"The card was declined.","error.customer.card.missing":"There is no card on a customer that is being charged.","error.customer.card.processing_error":"An error occurred while processing the card.","error.customer.invoice.denied":"You don’t have access to this invoice.","error.customer.invoice.notfound":"Invoice not found","error.customer.invoice.invalid":"Invalid request","error.customer.plan.nottrial":"Provided plan is not trial.","error.customer.subscription.upgrade.nottrial":"Cannot upgrade not trial subscription or token is invalid.","error.customer.overflow":"At the moment, you cannot change your plan as a number of active projects and a number of collaborators on your team exceeds the selected plan’s limits. Please archive some of the active projects and reduce the number of collaborators on your team to switch to the plan.","error.customer.overflow.projects":"At the moment, you cannot change your plan as a number of active projects on your team exceed the selected plan’s limits. Please archive some of the active projects to switch to the plan.","error.customer.overflow.users":"At the moment, you cannot change your plan as the number of collaborators on your team exceed the selected plan’s limits. Please reduce the number of collaborators on your team to switch to the plan","error.customer.activate.overflow":"At the moment, you cannot activate the project as a number of active projects and a number of collaborators on your team exceed the current plan’s limits. Please archive or delete some of the active projects and reduce the number of collaborators on your team to activate the project","error.customer.activate.overflow.projects":"At the moment, you cannot activate the project as a number of active projects on your team exceed the current plan’s limits. Please archive or delete some of the active projects to activate the project.","error.customer.activate.overflow.users":"At the moment, you cannot activate the project as a number of collaborators on your team exceed the current plan’s limits. Please reduce the number of collaborators on your team to activate the project.","error.customer.coupon.invalid":"The coupon is not valid.","error.project.member.limit":"At the moment, you cannot join the project as a number of collaborators on this team exceed project owner’s plan limits. Please contact the project owner.","error.company.member.limit":"At the moment, you cannot join the company as a number of collaborators in the company exceed company owner’s plan limits. Please contact the company owner.","error.project.invite.limit":"At the moment, you cannot invite people to the project as a number of collaborators on the project owner’s team exceed the plan limits. Please contact the project owner.","error.company.invite.limit":"At the moment, you cannot invite people to the company as a number of collaborators on the company exceed company owner’s plan limits. Please contact the company owner.","error.gateway.invalid_request":"Invalid request.","error.gateway.api_error":"An error occurred while processing your request. Please try again later.","error.gateway.connection_error":"An error occurred while processing your request. Please try again later.","error.gateway.connection_error2":"An error occurred while processing your request. Please try again later.","error.gateway.connection_error3":"An error occurred while processing your request. Please try again later.","error.coupon.invalid":"The coupon is valid","error.coupon.notfound":"Coupon not found","error.plan.notfound":"Plan not found","error.plan.deactivated":"Invalid plan or plan is not active","error.diff.invalid_version":"Version must be a Number","error.saml.sso.disabled":"Single Sign On disabled","error.saml.company.domain.notfound":"SAML URL is invalid. Please contact your company’s administrator.","error.saml.metadata.download":"An error occurred while downloading IDP metadata.","error.saml.metadata.parse.entityID":"An error occurred while processing IDP metadata. EntityID attribute not found.","error.saml.metadata.descriptor":"An error occurred while processing IDP metadata. SSODescriptor element not found.","error.saml.metadata.parse.SingleSignOnService":"An error occurred while processing IDP metadata. SingleSignOnService element not found.","error.saml.metadata.parse.SingleLogoutService":"An error occurred while processing IDP metadata. SingleLogoutService element not found.","error.saml.metadata.parse.NameIDFormat":"An error occurred while processing IDP metadata. NameIDFormat element not found.","error.saml.settings.invalid":"Invalid SAML setting.","error.saml.user.delete":"You can not delete SAML user.","error.saml.user.create.email.invalid":"The user with the given email already exists. Please contact your company's administrator.","error.authRequest.notfound":"Authentication request not found. Please try again.","error.authRequest.user.unauthorized":"Unauthorized","error.authRequest.client.unknown":"Unknown client.","error.client.notfound":"Client not found.","error.jira.addon.notfound":"Jira addon settings not found","error.jira.addon.invalid_arguments":"Invalid arguments","error.idp.users.ensure.exists":"There is already an account using this email address."};t.exports=i},{}],13:[function(e,t,n){var i={objective_c:"objective-c",swift:"swift"};t.exports=i},{}],14:[function(e,t,n){"use strict";var i={comment:"comment",source:"source",assetSection:"assetSection",assetSource:"assetSource",asset:"asset",assetPadding:"assetPadding"};t.exports=i},{}],15:[function(e,t,n){var i={page:"page",artboard:"artboard",layer:"layer",shape:"shapeLayer",text:"textLayer",layerSection:"layerSection",group:"layerSection",asset:"asset",symbol:"symbol",isGroupLayer:function(e){return[i.group,i.artboard,i.page].indexOf(e.type)!==-1},isSelectableGroupLayer:function(e){return[i.group,i.page].indexOf(e.type)!==-1}};t.exports=i},{}],16:[function(e,t,n){"use strict";var i={bundleSpot:"bundleSpot",bundle:"bundle",project:"project","private":"private"};t.exports=i},{}],17:[function(e,t,n){var i={rgba:"rgba",hex:"hex"};t.exports=i},{}],18:[function(e,t,n){"use strict";var i={ios:["@1x","@2x","@3x"],android:["ldpi","mdpi","tvdpi","hdpi","xhdpi","xxhdpi","xxxhdpi"],web:["1x","2x","3x"]};t.exports=i},{}],19:[function(e,t,n){"use strict";var i={"android-ldpi":{imagePattern:"android/drawable-ldpi/$.png",units:"dp",divider:.75,dpi:120},"android-mdpi":{imagePattern:"android/drawable-mdpi/$.png",units:"dp",divider:1,dpi:160},"android-tvdpi":{imagePattern:"android/drawable-tvdpi/$.png",units:"dp",divider:1.33,dpi:213},"android-hdpi":{imagePattern:"android/drawable-hdpi/$.png",units:"dp",divider:1.5,dpi:240},"android-xhdpi":{imagePattern:"android/drawable-xhdpi/$.png",units:"dp",divider:2,dpi:320},"android-xxhdpi":{imagePattern:"android/drawable-xxhdpi/$.png",units:"dp",divider:3,dpi:480},"android-xxxhdpi":{imagePattern:"android/drawable-xxxhdpi/$.png",units:"dp",divider:4,dpi:640},"ios-@1x":{imagePattern:"ios/$.png",units:"pt",divider:1,dpi:160},"ios-@2x":{imagePattern:"ios/$@2x.png",units:"pt",divider:2,dpi:320},"ios-@3x":{imagePattern:"ios/$@3x.png",units:"pt",divider:3,dpi:480},"web-1x":{imagePattern:"web/$.png",units:"px",divider:1,dpi:160},"web-2x":{imagePattern:"web/$-2x.png",units:"px",divider:2,dpi:320},"web-3x":{imagePattern:"web/$-3x.png",units:"px",divider:3,dpi:480},"win-scale-100":{imagePattern:"ios/$@3x.png",units:"px",divider:1,dpi:100},"win-scale-140":{imagePattern:"ios/$@3x.png",units:"px",divider:1.4,dpi:140},"win-scale-180":{imagePattern:"ios/$@3x.png",units:"px",divider:1.8,dpi:180},"win-scale-240":{imagePattern:"ios/$@3x.png",units:"px",divider:2.4,dpi:240}};t.exports={info:function(e,t){var n=i[e+"-"+t];if(!n)throw new Error("Invalid platform ["+e+"] or baseline ["+t+"]");return n},baseDpi:function(e){switch(e){case"android":return this.info("android","mdpi").dpi;case"ios":return this.info("ios","@1x").dpi;case"web":return this.info("web","1x").dpi;case"win":return this.info("win","scale-100").dpi;default:throw"Platform "+e+" not defined"}}}},{}],20:[function(e,t,n){var i=e("virgen-acl").Acl,s=new i((!0)),o=e("../../enums/CompanyUserRolesEnum"),r=e("../../enums/AccessActionsEnum");s.addRole(o.companyGuest,null),s.addRole(o.companyUser,o.companyGuest),s.addRole(o.companyAdmin,o.companyUser),s.addRole(o.companyOwner,o.companyAdmin);var a="company";s.allow(o.companyGuest,a,[r.company.read]),s.allow(o.companyUser,a,[r.project.create]),s.allow(o.companyAdmin,a,[r.company.edit,r.company.manage.users,r.company.manage.community]),s.allow(o.companyOwner,a,["manage.customer",r.company.manage.community]),t.exports=s},{"../../enums/AccessActionsEnum":1,"../../enums/CompanyUserRolesEnum":4,"virgen-acl":684}],21:[function(e,t,n){"use strict";var i=e("underscore"),s=e("virgen-acl").Acl,o=e("../../enums/ProjectUserRolesEnum"),r=e("../../enums/CompanyUserRolesEnum"),a=e("../../enums/AccessActionsEnum"),l=new s((!0));l.addRole(o.projectUser),l.addRole(o.projectAdmin,o.projectUser),l.addRole(o.projectOwner,o.projectAdmin),l.addRole(r.companyAdmin,o.projectAdmin),l.addRole(r.companyOwner,r.companyAdmin);var c="project";l.allow(o.projectUser,c,[a.read,a.project.read,a.project.leave,a.project.settings.jira]),l.allow(o.projectUser,c,i.values(a.bundle)),l.allow(o.projectUser,c,i.values(a.spot)),l.allow(o.projectUser,c,i.values(a.message)),l.allow(o.projectUser,c,i.values(a.activity)),l.allow(o.projectAdmin,c,[a.project.edit,a.project["delete"],a.project.settings.email,a.project.settings.slack,a.project.settings.webhook,a.project.settings.jira]),l.allow(o.projectAdmin,c,["invite.create","invite.edit","invite.delete",a.project.manage.users]),l.allow(o.projectOwner,c,null),l.allow(r.companyAdmin,c,null),t.exports=l},{"../../enums/AccessActionsEnum":1,"../../enums/CompanyUserRolesEnum":4,"../../enums/ProjectUserRolesEnum":7,underscore:682,"virgen-acl":684}],22:[function(e,t,n){function i(e,t,n,i){if(i){if(n.roles&&n.roles.length>0){var s=n.roles.indexOf(e.role),o=n.roles.indexOf(t);o>s&&(e.role=t)}}else e.role=t}var s=e("underscore"),o=e("../client/identityIdString");t.exports=function(e){var t={};return e=e||{},e.accessesField||(e.accessesField="accesses"),e.accessIdentityField||(e.accessIdentityField="user"),e.ownerField||(e.ownerField=null),t.grantAccess=function(t,n,r,a){var l=o(n),c=s.find(t[e.accessesField],function(t){return o(t[e.accessIdentityField])===l});return c?c.role!==r&&(i(c,r,e,a),t.markModified(e.accessesField)):(c={role:r},c[e.accessIdentityField]=l,t[e.accessesField].addToSet(c),t.markModified(e.accessesField)),c},t.revokeAccess=function(t,n){var i=o(n);t[e.accessesField]=s.reject(t[e.accessesField],function(t){return o(t[e.accessIdentityField])===i}),t.markModified(e.accessesField)},t.fetchAccess=function(t,n){var i=o(n);return s.find(t[e.accessesField],function(t){return o(t[e.accessIdentityField])===i})},t.hasAccess=function(e,t,n){var i=this.fetchAccess(e,t);return!!i&&(!n||n===i.role)},t.isOwn=function(t,n){var i=o(n),s=o(t[e.ownerField]);return n&&i===s},t}},{"../client/identityIdString":30,underscore:682}],23:[function(e,t,n){"use strict";function i(e,t){var n=!1;return a.query(e.role,"project",t,function(e,t){if(e)throw e;n=t}),n}var s=e("underscore"),o=e("../../enums/UserRoleEnum"),r=e("./CompanyAcl"),a=e("./ProjectAcl"),l=e("../../enums/ProjectUserRolesEnum"),c=e("../../enums/CompanyUserRolesEnum"),u=e("../errors"),d=e("./SecurityAccessor"),h=d({accessIdentityField:"company",roles:s.values(c)}),p=d({ownerField:"user",roles:s.values(l)}),f=d({ownerField:"_id",roles:s.values(c)}),m=e("../../enums/AccessActionsEnum"),v={Permissions:m,userAccessor:h,projectAccessor:p,companyAccessor:f,assertPredicate:function(e,t){if(!t())throw new u.AccessDeniedError("error."+e+".denied")},checkProjectAccess:function(e,t,n,s){if(t.role===o.admin)return!0;var r,a=!1;return r=p.isOwn(e,t)?{user:t,role:l.projectOwner}:p.fetchAccess(e,t),r&&(a=i(r,n)),!a&&s&&e.company&&(r=h.fetchAccess(t,e.company),r&&(a=i(r,n))),a},assertProjectAccess:function(e,t,n,i){if(!this.checkProjectAccess(e,t,n,i))throw new u.AccessDeniedError("error."+n+".denied")},checkCompanyAccess:function(e,t,n){if(t.role===o.admin)return!0;if(!e.isActive)throw new u.AccessDeniedError("error.company.notactive");var i,s=!1;return(i=f.isOwn(e,t)?{user:t,role:c.companyOwner}:f.fetchAccess(e,t))?(r.query(i.role,"company",n,function(e,t){if(e)throw e;s=t}),s):s},assertCompanyAccess:function(e,t,n){if(!this.checkCompanyAccess(e,t,n))throw new u.AccessDeniedError("error."+n+".denied")}};t.exports=v},{"../../enums/AccessActionsEnum":1,"../../enums/CompanyUserRolesEnum":4,"../../enums/ProjectUserRolesEnum":7,"../../enums/UserRoleEnum":9,"../errors":39,"./CompanyAcl":20,"./ProjectAcl":21,"./SecurityAccessor":22,underscore:682}],24:[function(e,t,n){var i={oval:"oval",rectangle:"rectangle",other:"other"};t.exports=i},{}],25:[function(e,t,n){t.exports={chunk:function(e,t){t=Math.max(parseInt(t),0);var n=null==e?0:e.length;if(!n||t<1)return[];for(var i=0,s=0,o=Array(Math.ceil(n/t));i<n;)o[s++]=this.baseSlice(e,i,i+=t);return o},baseSlice:function(e,t,n){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+t];return o}}},{}],26:[function(e,t,n){"use strict";t.exports={getPreviewUrl:function(e){return e&&e.hasHiResPreview?this.getDocumentPng2x(e):this.getDocumentPng(e)},getDocumentPng:function(e){return(e.blobUrlPrefix?e.blobUrlPrefix:"/bundles/"+e.token)+"/bundle/document.png"},getDocumentPng2x:function(e){return(e.blobUrlPrefix?e.blobUrlPrefix:"/bundles/"+e.token)+"/bundle/document@2x.png"}}},{}],27:[function(e,t,n){"use strict";function i(e){return e?[e.blue,e.green,e.red].join("_"):"!color"}var s=e("underscore");t.exports.ShadowsUIDGenerator=function(e){var t=[e.mode,e.blurRadius,e.spreadRadius,e.distance];return e.color&&(t.push(e.color.blue),t.push(e.color.green),t.push(e.color.red)),e.opacity&&(t.push(e.opacity.value),t.push(e.opacity.units)),e.offset&&(t.push(e.offset.x),t.push(e.offset.y)),t.join("_")},t.exports.BordersUIDGenerator=function(e){return[e.thickness,e.position].join("_")},t.exports.FillsUIDGenerator=function(e){if(!e["class"])return"_";if("gradient"==e["class"]&&"radial"==e.type){var t=s.map(e.gradient.colors,function(e){return i(e.color)});return e.angle?[e["class"],e.type,t,e.angle.value,e.angle.units].join("_"):[e["class"],e.type,t].join("_")}return[e["class"],i(e.color)].join("_")},t.exports.TextUIDGenerator=function(e){return[e.from,e.to].join("_")}},{underscore:682}],28:[function(e,t,n){t.exports={"new":"N",edited:"E",deleted:"D",notCompared:"?"}},{}],29:[function(e,t,n){"use strict";var i=e("./BundleChangeKindEnum");t.exports={getCompareClass:function(e){if(!e)return"";switch(e){case i["new"]:return"bg-success";case i.edited:return"bg-warning";case i.deleted:return"bg-danger";default:return""}}}},{"./BundleChangeKindEnum":28}],30:[function(e,t,n){t.exports=function(e){return e&&e._id?e._id.toLocaleString():e&&"ObjectID"==e._bsontype?e.toLocaleString():e&&e.id?e.id.toLocaleString():String(e).toLocaleString()}},{}],31:[function(e,t,n){function i(e){return s.isUndefined(e)?1:r(e)}var s=e("underscore"),o=e("./obj2color"),r=e("../decimel-round-utility"),a=e("../IosProjectDialect");t.exports={convert:function(e,t){switch(t){case"argb":return e?"Color.argb("+(Math.round(255*e.alpha)||255)+", "+Math.round(e.red||0)+", "+Math.round(e.green||0)+", "+Math.round(e.blue||0)+");":"";case a.objective_c:return e?"[UIColor colorWithRed:"+Math.round(e.red||0)+"/255.0 green:"+Math.round(e.green||0)+"/255.0 blue:"+Math.round(e.blue||0)+"/255.0  alpha:"+i(e.alpha)+"];":"";case a.swift:return e?"UIColor(red:"+Math.round(e.red||0)+"/255.0, green:"+Math.round(e.green||0)+"/255.0, blue:"+Math.round(e.blue||0)+"/255.0,  alpha:"+i(e.alpha)+")":"";case"rgba":return e?"rgba("+Math.round(e.red||0)+", "+Math.round(e.green||0)+", "+Math.round(e.blue||0)+", "+i(e.alpha)+")":"";case"hex":return o(e);case"ahex":default:return o(e,e.alpha)}},convertByPlatform:function(e,t,n){switch(e=e||{},t){case"ios":return this.convert(e,n||"rgba");case"web":return this.convert(e,n||"hex")+(s.isUndefined(e.alpha)||n&&"hex"!=n?"":", "+r(e.alpha));case"android":default:return this.convert(e,"hex")+(s.isUndefined(e.alpha)?"":", "+r(e.alpha))}}}},{"../IosProjectDialect":13,"../decimel-round-utility":38,"./obj2color":36,underscore:682}],32:[function(e,t,n){t.exports=["android:colorPrimary","android:colorPrimaryDark","android:colorAccent","android:colorBackground","android:colorForeground","android:navigationBarColor","android:statusBarColor","android:textColorPrimary","android:textColorPrimaryInverse","android:textColorSecondary","android:textColorSecondaryInverse","android:windowBackground"]},{}],33:[function(e,t,n){t.exports={"#5d8aa8":{name:"Rackley",r:"93",g:"138",b:"168"},"#f0f8ff":{name:"Alice blue",r:"240",g:"248",b:"255"},"#e32636":{name:"Rose madder",r:"227",g:"38",b:"54"},"#efdecd":{name:"Almond",r:"239",g:"222",b:"205"},"#e52b50":{name:"Amaranth",r:"229",g:"43",b:"80"},"#ffbf00":{name:"Fluorescent orange",r:"255",g:"191",b:"0"},"#ff033e":{name:"American rose",r:"255",g:"3",b:"62"},"#9966cc":{name:"Amethyst",r:"153",g:"102",b:"204"},"#a4c639":{name:"Android Green",r:"164",g:"198",b:"57"},"#f2f3f4":{name:"Munsell",r:"242",g:"243",b:"244"},"#cd9575":{name:"Antique brass",r:"205",g:"149",b:"117"},"#915c83":{name:"Antique fuchsia",r:"145",g:"92",b:"131"},"#faebd7":{name:"Moccasin",r:"250",g:"235",b:"215"},"#008000":{name:"Office green",r:"0",g:"128",b:"0"},"#8db600":{name:"Apple green",r:"141",g:"182",b:"0"},"#fbceb1":{name:"Apricot",r:"251",g:"206",b:"177"},"#00ffff":{name:"Waterspout",r:"0",g:"255",b:"255"},"#7fffd4":{name:"Aquamarine",r:"127",g:"255",b:"212"},"#4b5320":{name:"Army green",r:"75",g:"83",b:"32"},"#e9d66b":{name:"Hansa yellow",r:"233",g:"214",b:"107"},"#b2beb5":{name:"Ash grey",r:"178",g:"190",b:"181"},"#87a96b":{name:"Asparagus",r:"135",g:"169",b:"107"},"#ff9966":{name:"Atomic tangerine",r:"255",g:"153",b:"102"},"#a52a2a":{name:"Red brown",r:"165",g:"42",b:"42"},"#fdee00":{name:"Aureolin",r:"253",g:"238",b:"0"},"#6e7f80":{name:"AuroMetalSaurus",r:"110",g:"127",b:"128"},"#ff2052":{name:"Awesome Pink",r:"255",g:"32",b:"82"},"#007fff":{name:"Azure",r:"0",g:"127",b:"255"},"#f0ffff":{name:"Azure mist/web",r:"240",g:"255",b:"255"},"#89cff0":{name:"Baby blue",r:"137",g:"207",b:"240"},"#a1caf1":{name:"Baby blue eyes",r:"161",g:"202",b:"241"},"#f4c2c2":{name:"Tea rose",r:"244",g:"194",b:"194"},"#21abcd":{name:"Stong Blue",r:"33",g:"171",
b:"205"},"#fae7b5":{name:"Banana Mania",r:"250",g:"231",b:"181"},"#ffe135":{name:"Banana yellow",r:"255",g:"225",b:"53"},"#848482":{name:"Battleship grey",r:"132",g:"132",b:"130"},"#98777b":{name:"Bazaar",r:"152",g:"119",b:"123"},"#bcd4e6":{name:"Pale aqua",r:"188",g:"212",b:"230"},"#9f8170":{name:"Beaver",r:"159",g:"129",b:"112"},"#f5f5dc":{name:"Beige",r:"245",g:"245",b:"220"},"#ffe4c4":{name:"Bisque",r:"255",g:"228",b:"196"},"#3d2b1f":{name:"Bistre",r:"61",g:"43",b:"31"},"#fe6f5e":{name:"Bittersweet",r:"254",g:"111",b:"94"},"#000000":{name:"Black",r:"0",g:"0",b:"0"},"#ffebcd":{name:"Blanched Almond",r:"255",g:"235",b:"205"},"#318ce7":{name:"Bleu de France",r:"49",g:"140",b:"231"},"#ace5ee":{name:"Blizzard Blue",r:"172",g:"229",b:"238"},"#faf0be":{name:"Blond",r:"250",g:"240",b:"190"},"#0000ff":{name:"Blue",r:"0",g:"0",b:"255"},"#a2a2d0":{name:"Blue Bell",r:"162",g:"162",b:"208"},"#6699cc":{name:"Blue Gray",r:"102",g:"153",b:"204"},"#0d98ba":{name:"Blue green",r:"13",g:"152",b:"186"},"#8a2be2":{name:"Blue violet",r:"138",g:"43",b:"226"},"#de5d83":{name:"Blush",r:"222",g:"93",b:"131"},"#79443b":{name:"Bole",r:"121",g:"68",b:"59"},"#0095b6":{name:"Bondi blue",r:"0",g:"149",b:"182"},"#e3dac9":{name:"Bone",r:"227",g:"218",b:"201"},"#cc0000":{name:"Boston University Red",r:"204",g:"0",b:"0"},"#006a4e":{name:"Bottle green",r:"0",g:"106",b:"78"},"#873260":{name:"Boysenberry",r:"135",g:"50",b:"96"},"#0070ff":{name:"Brandeis blue",r:"0",g:"112",b:"255"},"#b5a642":{name:"Brass",r:"181",g:"166",b:"66"},"#cb4154":{name:"Brick red",r:"203",g:"65",b:"84"},"#1dacd6":{name:"Bright cerulean",r:"29",g:"172",b:"214"},"#66ff00":{name:"Bright green",r:"102",g:"255",b:"0"},"#bf94e4":{name:"Bright lavender",r:"191",g:"148",b:"228"},"#c32148":{name:"Bright maroon",r:"195",g:"33",b:"72"},"#ff007f":{name:"Rose",r:"255",g:"0",b:"127"},"#08e8de":{name:"Bright turquoise",r:"8",g:"232",b:"222"},"#d19fe8":{name:"Bright ube",r:"209",g:"159",b:"232"},"#f4bbff":{name:"Electric lavender",r:"244",g:"187",b:"255"},"#ff55a3":{name:"Brilliant rose",r:"255",g:"85",b:"163"},"#fb607f":{name:"Brink pink",r:"251",g:"96",b:"127"},"#004225":{name:"British racing green",r:"0",g:"66",b:"37"},"#cd7f32":{name:"Bronze",r:"205",g:"127",b:"50"},"#ffc1cc":{name:"Bubble gum",r:"255",g:"193",b:"204"},"#e7feff":{name:"Bubbles",r:"231",g:"254",b:"255"},"#f0dc82":{name:"Buff",r:"240",g:"220",b:"130"},"#480607":{name:"Bulgarian rose",r:"72",g:"6",b:"7"},"#800020":{name:"Burgundy",r:"128",g:"0",b:"32"},"#deb887":{name:"Burlywood",r:"222",g:"184",b:"135"},"#cc5500":{name:"Burnt orange",r:"204",g:"85",b:"0"},"#e97451":{name:"Burnt sienna",r:"233",g:"116",b:"81"},"#8a3324":{name:"Burnt umber",r:"138",g:"51",b:"36"},"#bd33a4":{name:"Byzantine",r:"189",g:"51",b:"164"},"#702963":{name:"Byzantium",r:"112",g:"41",b:"99"},"#007aa5":{name:"CG Blue",r:"0",g:"122",b:"165"},"#e03c31":{name:"CG Red",r:"224",g:"60",b:"49"},"#536872":{name:"Cadet",r:"83",g:"104",b:"114"},"#5f9ea0":{name:"Cadet blue",r:"95",g:"158",b:"160"},"#91a3b0":{name:"Cadet grey",r:"145",g:"163",b:"176"},"#006b3c":{name:"Cadmium green",r:"0",g:"107",b:"60"},"#ed872d":{name:"Cadmium orange",r:"237",g:"135",b:"45"},"#e30022":{name:"Cadmium red",r:"227",g:"0",b:"34"},"#fff600":{name:"Cadmium yellow",r:"255",g:"246",b:"0"},"#a67b5b":{name:"French beige",r:"166",g:"123",b:"91"},"#4b3621":{name:"Cafe noir",r:"75",g:"54",b:"33"},"#1e4d2b":{name:"Cal Poly Pomona green",r:"30",g:"77",b:"43"},"#a3c1ad":{name:"Cambridge Blue",r:"163",g:"193",b:"173"},"#c19a6b":{name:"Lion",r:"193",g:"154",b:"107"},"#78866b":{name:"Camouflage green",r:"120",g:"134",b:"107"},"#ffff99":{name:"Canary",r:"255",g:"255",b:"153"},"#ffef00":{name:"Canary yellow",r:"255",g:"239",b:"0"},"#ff0800":{name:"Candy apple red",r:"255",g:"8",b:"0"},"#e4717a":{name:"Candy pink",r:"228",g:"113",b:"122"},"#00bfff":{name:"Deep sky blue",r:"0",g:"191",b:"255"},"#592720":{name:"Caput mortuum",r:"89",g:"39",b:"32"},"#c41e3a":{name:"Cardinal",r:"196",g:"30",b:"58"},"#00cc99":{name:"Caribbean green",r:"0",g:"204",b:"153"},"#ff0040":{name:"Carmine",r:"255",g:"0",b:"64"},"#eb4c42":{name:"Carmine pink",r:"235",g:"76",b:"66"},"#ff0038":{name:"Carmine red",r:"255",g:"0",b:"56"},"#ffa6c9":{name:"Carnation pink",r:"255",g:"166",b:"201"},"#b31b1b":{name:"Cornell Red",r:"179",g:"27",b:"27"},"#99badd":{name:"Carolina blue",r:"153",g:"186",b:"221"},"#ed9121":{name:"Carrot orange",r:"237",g:"145",b:"33"},"#ace1af":{name:"Celadon",r:"172",g:"225",b:"175"},"#b2ffff":{name:"Celeste",r:"178",g:"255",b:"255"},"#4997d0":{name:"Celestial blue",r:"73",g:"151",b:"208"},"#de3163":{name:"Cherry",r:"222",g:"49",b:"99"},"#ec3b83":{name:"Cerise pink",r:"236",g:"59",b:"131"},"#007ba7":{name:"Cerulean",r:"0",g:"123",b:"167"},"#2a52be":{name:"Cerulean blue",r:"42",g:"82",b:"190"},"#a0785a":{name:"Chamoisee",r:"160",g:"120",b:"90"},"#fad6a5":{name:"Sunset",r:"250",g:"214",b:"165"},"#36454f":{name:"Charcoal",r:"54",g:"69",b:"79"},"#7fff00":{name:"Chartreuse",r:"127",g:"255",b:"0"},"#ffb7c5":{name:"Cherry blossom pink",r:"255",g:"183",b:"197"},"#cd5c5c":{name:"India red",r:"205",g:"92",b:"92"},"#d2691e":{name:"Cocoa brown",r:"210",g:"105",b:"30"},"#ffa700":{name:"Chrome yellow",r:"255",g:"167",b:"0"},"#98817b":{name:"Cinereous",r:"152",g:"129",b:"123"},"#e34234":{name:"Vermilion",r:"227",g:"66",b:"52"},"#e4d00a":{name:"Citrine",r:"228",g:"208",b:"10"},"#fbcce7":{name:"Classic rose",r:"251",g:"204",b:"231"},"#0047ab":{name:"Cobalt",r:"0",g:"71",b:"171"},"#6f4e37":{name:"Coffee",r:"111",g:"78",b:"55"},"#9bddff":{name:"Columbia blue",r:"155",g:"221",b:"255"},"#002e63":{name:"Cool black",r:"0",g:"46",b:"99"},"#8c92ac":{name:"Cool grey",r:"140",g:"146",b:"172"},"#b87333":{name:"Copper",r:"184",g:"115",b:"51"},"#996666":{name:"Copper rose",r:"153",g:"102",b:"102"},"#ff3800":{name:"Coquelicot",r:"255",g:"56",b:"0"},"#ff7f50":{name:"Coral",r:"255",g:"127",b:"80"},"#f88379":{name:"Coral pink",r:"248",g:"131",b:"121"},"#ff4040":{name:"Coral red",r:"255",g:"64",b:"64"},"#893f45":{name:"Cordovan",r:"137",g:"63",b:"69"},"#fbec5d":{name:"Maize",r:"251",g:"236",b:"93"},"#9aceeb":{name:"Cornflower",r:"154",g:"206",b:"235"},"#6495ed":{name:"Cornflower blue",r:"100",g:"149",b:"237"},"#fff8dc":{name:"Cornsilk",r:"255",g:"248",b:"220"},"#fff8e7":{name:"Cosmic latte",r:"255",g:"248",b:"231"},"#ffbcd9":{name:"Cotton candy",r:"255",g:"188",b:"217"},"#fffdd0":{name:"Cream",r:"255",g:"253",b:"208"},"#dc143c":{name:"Crimson",r:"220",g:"20",b:"60"},"#990000":{name:"USC Cardinal",r:"153",g:"0",b:"0"},"#be0032":{name:"Crimson glory",r:"190",g:"0",b:"50"},"#ffff31":{name:"Daffodil",r:"255",g:"255",b:"49"},"#f0e130":{name:"Dandelion",r:"240",g:"225",b:"48"},"#00008b":{name:"Dark blue",r:"0",g:"0",b:"139"},"#654321":{name:"Otter brown",r:"101",g:"67",b:"33"},"#5d3954":{name:"Dark byzantium",r:"93",g:"57",b:"84"},"#a40000":{name:"Dark candy apple red",r:"164",g:"0",b:"0"},"#08457e":{name:"Dark cerulean",r:"8",g:"69",b:"126"},"#986960":{name:"Dark chestnut",r:"152",g:"105",b:"96"},"#cd5b45":{name:"Dark coral",r:"205",g:"91",b:"69"},"#008b8b":{name:"Dark cyan",r:"0",g:"139",b:"139"},"#536878":{name:"Payne grey",r:"83",g:"104",b:"120"},"#b8860b":{name:"Dark goldenrod",r:"184",g:"134",b:"11"},"#a9a9a9":{name:"Dark gray",r:"169",g:"169",b:"169"},"#013220":{name:"Dark green",r:"1",g:"50",b:"32"},"#1a2421":{name:"Dark jungle green",r:"26",g:"36",b:"33"},"#bdb76b":{name:"Dark khaki",r:"189",g:"183",b:"107"},"#483c32":{name:"Taupe",r:"72",g:"60",b:"50"},"#734f96":{name:"Dark lavender",r:"115",g:"79",b:"150"},"#8b008b":{name:"Dark magenta",r:"139",g:"0",b:"139"},"#003366":{name:"Dark midnight blue",r:"0",g:"51",b:"102"},"#556b2f":{name:"Dark olive green",r:"85",g:"107",b:"47"},"#ff8c00":{name:"Dark orange",r:"255",g:"140",b:"0"},"#9932cc":{name:"Dark orchid",r:"153",g:"50",b:"204"},"#779ecb":{name:"Dark pastel blue",r:"119",g:"158",b:"203"},"#03c03c":{name:"Dark pastel green",r:"3",g:"192",b:"60"},"#966fd6":{name:"Dark pastel purple",r:"150",g:"111",b:"214"},"#c23b22":{name:"Dark pastel red",r:"194",g:"59",b:"34"},"#e75480":{name:"Dark pink",r:"231",g:"84",b:"128"},"#003399":{name:"Smalt",r:"0",g:"51",b:"153"},"#872657":{name:"Dark raspberry",r:"135",g:"38",b:"87"},"#8b0000":{name:"Dark red",r:"139",g:"0",b:"0"},"#e9967a":{name:"Dark salmon",r:"233",g:"150",b:"122"},"#560319":{name:"Dark scarlet",r:"86",g:"3",b:"25"},"#8fbc8f":{name:"Dark sea green",r:"143",g:"188",b:"143"},"#3c1414":{name:"Dark sienna",r:"60",g:"20",b:"20"},"#483d8b":{name:"Dark slate blue",r:"72",g:"61",b:"139"},"#2f4f4f":{name:"Dark slate gray",r:"47",g:"79",b:"79"},"#177245":{name:"Dark spring green",r:"23",g:"114",b:"69"},"#918151":{name:"Dark tan",r:"145",g:"129",b:"81"},"#ffa812":{name:"Dark tangerine",r:"255",g:"168",b:"18"},"#cc4e5c":{name:"Dark terra cotta",r:"204",g:"78",b:"92"},"#00ced1":{name:"Dark turquoise",r:"0",g:"206",b:"209"},"#9400d3":{name:"Dark violet",r:"148",g:"0",b:"211"},"#00693e":{name:"Dartmouth green",r:"0",g:"105",b:"62"},"#555555":{name:"Davy grey",r:"85",g:"85",b:"85"},"#d70a53":{name:"Debian red",r:"215",g:"10",b:"83"},"#a9203e":{name:"Deep carmine",r:"169",g:"32",b:"62"},"#ef3038":{name:"Deep carmine pink",r:"239",g:"48",b:"56"},"#e9692c":{name:"Deep carrot orange",r:"233",g:"105",b:"44"},"#da3287":{name:"Deep cerise",r:"218",g:"50",b:"135"},"#b94e48":{name:"Deep chestnut",r:"185",g:"78",b:"72"},"#704241":{name:"Deep coffee",r:"112",g:"66",b:"65"},"#c154c1":{name:"Deep fuchsia",r:"193",g:"84",b:"193"},"#004b49":{name:"Deep jungle green",r:"0",g:"75",b:"73"},"#9955bb":{name:"Deep lilac",r:"153",g:"85",b:"187"},"#cc00cc":{name:"Deep magenta",r:"204",g:"0",b:"204"},"#ffcba4":{name:"Deep peach",r:"255",g:"203",b:"164"},"#ff1493":{name:"Fluorescent pink",r:"255",g:"20",b:"147"},"#ff9933":{name:"Deep saffron",r:"255",g:"153",b:"51"},"#1560bd":{name:"Denim",r:"21",g:"96",b:"189"},"#edc9af":{name:"Desert sand",r:"237",g:"201",b:"175"},"#696969":{name:"Dim gray",r:"105",g:"105",b:"105"},"#1e90ff":{name:"Dodger blue",r:"30",g:"144",b:"255"},"#d71868":{name:"Dogwood rose",r:"215",g:"24",b:"104"},"#85bb65":{name:"Dollar bill",r:"133",g:"187",b:"101"},"#967117":{name:"Sandy taupe",r:"150",g:"113",b:"23"},"#00009c":{name:"Duke blue",r:"0",g:"0",b:"156"},"#e1a95f":{name:"Earth yellow",r:"225",g:"169",b:"95"},"#c2b280":{name:"Sand",r:"194",g:"178",b:"128"},"#614051":{name:"Eggplant",r:"97",g:"64",b:"81"},"#f0ead6":{name:"Eggshell",r:"240",g:"234",b:"214"},"#1034a6":{name:"Egyptian blue",r:"16",g:"52",b:"166"},"#7df9ff":{name:"Electric blue",r:"125",g:"249",b:"255"},"#ff003f":{name:"Electric crimson",r:"255",g:"0",b:"63"},"#00ff00":{name:"Green",r:"0",g:"255",b:"0"},"#6f00ff":{name:"Electric indigo",r:"111",g:"0",b:"255"},"#ccff00":{name:"Fluorescent yellow",r:"204",g:"255",b:"0"},"#bf00ff":{name:"Electric purple",r:"191",g:"0",b:"255"},"#3f00ff":{name:"Electric ultramarine",r:"63",g:"0",b:"255"},"#8f00ff":{name:"Electric violet",r:"143",g:"0",b:"255"},"#ffff00":{name:"Yellow",r:"255",g:"255",b:"0"},"#50c878":{name:"Paris Green",r:"80",g:"200",b:"120"},"#96c8a2":{name:"Eton blue",r:"150",g:"200",b:"162"},"#801818":{name:"Falu red",r:"128",g:"24",b:"24"},"#ff00ff":{name:"Magenta",r:"255",g:"0",b:"255"},"#b53389":{name:"Fandango",r:"181",g:"51",b:"137"},"#f400a1":{name:"Hollywood cerise",r:"244",g:"0",b:"161"},"#e5aa70":{name:"Fawn",r:"229",g:"170",b:"112"},"#4d5d53":{name:"Feldgrau",r:"77",g:"93",b:"83"},"#71bc78":{name:"Fern",r:"113",g:"188",b:"120"},"#4f7942":{name:"Fern green",r:"79",g:"121",b:"66"},"#ff2800":{name:"Ferrari Red",r:"255",g:"40",b:"0"},"#6c541e":{name:"Field drab",r:"108",g:"84",b:"30"},"#ce2029":{name:"Fire engine red",r:"206",g:"32",b:"41"},"#b22222":{name:"Firebrick",r:"178",g:"34",b:"34"},"#e25822":{name:"Flame",r:"226",g:"88",b:"34"},"#fc8eac":{name:"Flamingo pink",r:"252",g:"142",b:"172"},"#f7e98e":{name:"Flavescent",r:"247",g:"233",b:"142"},"#eedc82":{name:"Flax",r:"238",g:"220",b:"130"},"#fffaf0":{name:"Floral white",r:"255",g:"250",b:"240"},"#ff004f":{name:"Folly",r:"255",g:"0",b:"79"},"#228b22":{name:"Forest green",r:"34",g:"139",b:"34"},"#0072bb":{name:"French blue",r:"0",g:"114",b:"187"},"#86608e":{name:"French lilac",r:"134",g:"96",b:"142"},"#f64a8a":{name:"French rose",r:"246",g:"74",b:"138"},"#ff77ff":{name:"Fuchsia pink",r:"255",g:"119",b:"255"},"#e48400":{name:"Fulvous",r:"228",g:"132",b:"0"},"#cc6666":{name:"Fuzzy Wuzzy",r:"204",g:"102",b:"102"},"#dcdcdc":{name:"Gainsboro",r:"220",g:"220",b:"220"},"#e49b0f":{name:"Gamboge",r:"228",g:"155",b:"15"},"#f8f8ff":{name:"Ghost white",r:"248",g:"248",b:"255"},"#b06500":{name:"Ginger",r:"176",g:"101",b:"0"},"#6082b6":{name:"Glaucous",r:"96",g:"130",b:"182"},"#e6e8fa":{name:"Glitter",r:"230",g:"232",b:"250"},"#ffd700":{name:"Gold",r:"255",g:"215",b:"0"},"#996515":{name:"Golden brown",r:"153",g:"101",b:"21"},"#fcc200":{name:"Golden poppy",r:"252",g:"194",b:"0"},"#ffdf00":{name:"Golden yellow",r:"255",g:"223",b:"0"},"#daa520":{name:"Goldenrod",r:"218",g:"165",b:"32"},"#a8e4a0":{name:"Granny Smith Apple",r:"168",g:"228",b:"160"},"#808080":{name:"Trolley Grey",r:"128",g:"128",b:"128"},"#465945":{name:"Gray asparagus",r:"70",g:"89",b:"69"},"#1164b4":{name:"Green Blue",r:"17",g:"100",b:"180"},"#adff2f":{name:"Green yellow",r:"173",g:"255",b:"47"},"#a99a86":{name:"Grullo",r:"169",g:"154",b:"134"},"#00ff7f":{name:"Spring green",r:"0",g:"255",b:"127"},"#663854":{name:"Halaya Abe",r:"102",g:"56",b:"84"},"#446ccf":{name:"Han blue",r:"68",g:"108",b:"207"},"#5218fa":{name:"Han purple",r:"82",g:"24",b:"250"},"#3fff00":{name:"Harlequin",r:"63",g:"255",b:"0"},"#c90016":{name:"Harvard crimson",r:"201",g:"0",b:"22"},"#da9100":{name:"Harvest Gold",r:"218",g:"145",b:"0"},"#808000":{name:"Olive",r:"128",g:"128",b:"0"},"#df73ff":{name:"Heliotrope",r:"223",g:"115",b:"255"},"#f0fff0":{name:"Honeydew",r:"240",g:"255",b:"240"},"#49796b":{name:"Deep green",r:"73",g:"121",b:"107"},"#ff1dce":{name:"Hot magenta",r:"255",g:"29",b:"206"},"#ff69b4":{name:"Hot pink",r:"255",g:"105",b:"180"},"#355e3b":{name:"Hunter green",r:"53",g:"94",b:"59"},"#fcf75e":{name:"Icterine",r:"252",g:"247",b:"94"},"#b2ec5d":{name:"Inchworm",r:"178",g:"236",b:"93"},"#138808":{name:"India green",r:"19",g:"136",b:"8"},"#e3a857":{name:"India yellow",r:"227",g:"168",b:"87"},"#4b0082":{name:"Indigo",r:"75",g:"0",b:"130"},"#002fa7":{name:"International Klein Blue",r:"0",g:"47",b:"167"},"#ff4f00":{name:"International orange",r:"255",g:"79",b:"0"},"#5a4fcf":{name:"Iris",r:"90",g:"79",b:"207"},"#f4f0ec":{name:"Isabelline",r:"244",g:"240",b:"236"},"#009000":{name:"Dar green",r:"0",g:"144",b:"0"},"#fffff0":{name:"Ivory",r:"255",g:"255",b:"240"},"#00a86b":{name:"Jade",r:"0",g:"168",b:"107"},"#f8de7e":{name:"Jasmine",r:"248",g:"222",b:"126"},"#d73b3e":{name:"Jasper",r:"215",g:"59",b:"62"},"#a50b5e":{name:"Jazzberry jam",r:"165",g:"11",b:"94"},"#fada5e":{name:"Stil de grain yellow",r:"250",g:"218",b:"94"},"#bdda57":{name:"June bud",r:"189",g:"218",b:"87"},"#29ab87":{name:"Jungle green",r:"41",g:"171",b:"135"},"#e8000d":{name:"KU Crimson",r:"232",g:"0",b:"13"},"#4cbb17":{name:"Kelly green",r:"76",g:"187",b:"23"},"#c3b091":{name:"Khaki",r:"195",g:"176",b:"145"},"#087830":{name:"La Salle Green",r:"8",g:"120",b:"48"},"#d6cadd":{name:"Languid lavender",r:"214",g:"202",b:"221"},"#26619c":{name:"Lapis lazuli",r:"38",g:"97",b:"156"},"#fefe22":{name:"Laser Lemon",r:"254",g:"254",b:"34"},"#a9ba9d":{name:"Laurel green",r:"169",g:"186",b:"157"},"#cf1020":{name:"Lava",r:"207",g:"16",b:"32"},"#e6e6fa":{name:"Lavender mist",r:"230",g:"230",b:"250"},"#ccccff":{name:"Periwinkle",r:"204",g:"204",b:"255"},"#fff0f5":{name:"Lavender blush",r:"255",g:"240",b:"245"},"#c4c3d0":{name:"Lavender gray",r:"196",g:"195",b:"208"},"#9457eb":{name:"Lavender indigo",r:"148",g:"87",b:"235"},"#ee82ee":{name:"Violet",r:"238",g:"130",b:"238"},"#fbaed2":{name:"Lavender pink",r:"251",g:"174",b:"210"},"#967bb6":{name:"Lavender purple",r:"150",g:"123",b:"182"},"#fba0e3":{name:"Lavender rose",r:"251",g:"160",b:"227"},"#7cfc00":{name:"Lawn green",r:"124",g:"252",b:"0"},"#fff700":{name:"Lemon",r:"255",g:"247",b:"0"},"#fff44f":{name:"Lemon Yellow",r:"255",g:"244",b:"79"},"#fffacd":{name:"Lemon chiffon",r:"255",g:"250",b:"205"},"#bfff00":{name:"Lime",r:"191",g:"255",b:"0"},"#f56991":{name:"Light Crimson",r:"245",g:"105",b:"145"},"#e68fac":{name:"Light Thulian pink",r:"230",g:"143",b:"172"},"#fdd5b1":{name:"Light apricot",r:"253",g:"213",b:"177"},"#add8e6":{name:"Light blue",r:"173",g:"216",b:"230"},"#b5651d":{name:"Light brown",r:"181",g:"101",b:"29"},"#e66771":{name:"Light carmine pink",r:"230",g:"103",b:"113"},"#f08080":{name:"Light coral",r:"240",g:"128",b:"128"},"#93ccea":{name:"Light cornflower blue",r:"147",g:"204",b:"234"},"#e0ffff":{name:"Light cyan",r:"224",g:"255",b:"255"},"#f984ef":{name:"Light fuchsia pink",r:"249",g:"132",b:"239"},"#fafad2":{name:"Light goldenrod yellow",r:"250",g:"250",b:"210"},"#d3d3d3":{name:"Light gray",r:"211",g:"211",b:"211"},"#90ee90":{name:"Light green",r:"144",g:"238",b:"144"},"#f0e68c":{name:"Light khaki",r:"240",g:"230",b:"140"},"#b19cd9":{name:"Light pastel purple",r:"177",g:"156",b:"217"},"#ffb6c1":{name:"Light pink",r:"255",g:"182",b:"193"},"#ffa07a":{name:"Light salmon",r:"255",g:"160",b:"122"},"#ff9999":{name:"Light salmon pink",r:"255",g:"153",b:"153"},"#20b2aa":{name:"Light sea green",r:"32",g:"178",b:"170"},"#87cefa":{name:"Light sky blue",r:"135",g:"206",b:"250"},"#778899":{name:"Light slate gray",r:"119",g:"136",b:"153"},"#b38b6d":{name:"Light taupe",r:"179",g:"139",b:"109"},"#ffffed":{name:"Light yellow",r:"255",g:"255",b:"237"},"#c8a2c8":{name:"Lilac",r:"200",g:"162",b:"200"},"#32cd32":{name:"Lime green",r:"50",g:"205",b:"50"},"#195905":{name:"Lincoln green",r:"25",g:"89",b:"5"},"#faf0e6":{name:"Linen",r:"250",g:"240",b:"230"},"#534b4f":{name:"Liver",r:"83",g:"75",b:"79"},"#e62020":{name:"Lust",r:"230",g:"32",b:"32"},"#18453b":{name:"MSU Green",r:"24",g:"69",b:"59"},"#ffbd88":{name:"Macaroni and Cheese",r:"255",g:"189",b:"136"},"#aaf0d1":{name:"Magic mint",r:"170",g:"240",b:"209"},"#f8f4ff":{name:"Magnolia",r:"248",g:"244",b:"255"},"#c04000":{name:"Mahogany",r:"192",g:"64",b:"0"},"#6050dc":{name:"Majorelle Blue",r:"96",g:"80",b:"220"},"#0bda51":{name:"Malachite",r:"11",g:"218",b:"81"},"#979aaa":{name:"Manatee",r:"151",g:"154",b:"170"},"#ff8243":{name:"Mango Tango",r:"255",g:"130",b:"67"},"#74c365":{name:"Mantis",r:"116",g:"195",b:"101"},"#800000":{name:"Maroon",r:"128",g:"0",b:"0"},"#e0b0ff":{name:"Mauve",r:"224",g:"176",b:"255"},"#915f6d":{name:"Raspberry glace",r:"145",g:"95",b:"109"},"#ef98aa":{name:"Mauvelous",r:"239",g:"152",b:"170"},"#73c2fb":{name:"Maya blue",r:"115",g:"194",b:"251"},"#e5b73b":{name:"Meat brown",r:"229",g:"183",b:"59"},"#0067a5":{name:"Medium Persian blue",r:"0",g:"103",b:"165"},"#66ddaa":{name:"Medium aquamarine",r:"102",g:"221",b:"170"},"#0000cd":{name:"Medium blue",r:"0",g:"0",b:"205"},"#e2062c":{name:"Medium candy apple red",r:"226",g:"6",b:"44"},"#af4035":{name:"Pale carmine",r:"175",g:"64",b:"53"},"#f3e5ab":{name:"Vanilla",r:"243",g:"229",b:"171"},"#035096":{name:"Medium electric blue",r:"3",g:"80",b:"150"},"#1c352d":{name:"Medium jungle green",r:"28",g:"53",b:"45"},"#dda0dd":{name:"Plum",r:"221",g:"160",b:"221"},"#ba55d3":{name:"Medium orchid",r:"186",g:"85",b:"211"},"#9370db":{name:"Medium purple",r:"147",g:"112",b:"219"},"#bb3385":{name:"Medium red violet",r:"187",g:"51",b:"133"},"#3cb371":{name:"Medium sea green",r:"60",g:"179",b:"113"},"#7b68ee":{name:"Medium slate blue",r:"123",g:"104",b:"238"},"#c9dc87":{name:"Medium spring bud",r:"201",g:"220",b:"135"},"#00fa9a":{name:"Medium spring green",r:"0",g:"250",b:"154"},"#674c47":{name:"Medium taupe",r:"103",g:"76",b:"71"},"#0054b4":{name:"Medium teal blue",r:"0",g:"84",b:"180"},"#48d1cc":{name:"Medium turquoise",r:"72",g:"209",b:"204"},"#c71585":{name:"Red violet",r:"199",g:"21",b:"133"},"#fdbcb4":{name:"Melon",r:"253",g:"188",b:"180"},"#191970":{name:"Midnight blue",r:"25",g:"25",b:"112"},"#004953":{name:"Midnight green",r:"0",g:"73",b:"83"},"#ffc40c":{name:"Mikado yellow",r:"255",g:"196",b:"12"},"#3eb489":{name:"Mint",r:"62",g:"180",b:"137"},"#f5fffa":{name:"Mint cream",r:"245",g:"255",b:"250"},"#98ff98":{name:"Mint green",r:"152",g:"255",b:"152"},"#ffe4e1":{name:"Misty rose",r:"255",g:"228",b:"225"},"#73a9c2":{name:"Moonstone blue",r:"115",g:"169",b:"194"},"#ae0c00":{name:"Mordant red 19",r:"174",g:"12",b:"0"},"#addfad":{name:"Moss green",r:"173",g:"223",b:"173"},"#30ba8f":{name:"Mountain Meadow",r:"48",g:"186",b:"143"},"#997a8d":{name:"Mountbatten pink",r:"153",g:"122",b:"141"},"#c54b8c":{name:"Mulberry",r:"197",g:"75",b:"140"},"#ffdb58":{name:"Mustard",r:"255",g:"219",b:"88"},"#21421e":{name:"Myrtle",r:"33",g:"66",b:"30"},"#f6adc6":{name:"Nadeshiko pink",r:"246",g:"173",b:"198"},"#2a8000":{name:"Napier green",r:"42",g:"128",b:"0"},"#ffdead":{name:"Navajo white",r:"255",g:"222",b:"173"},"#000080":{name:"Navy blue",r:"0",g:"0",b:"128"},"#ffa343":{name:"Neon Carrot",r:"255",g:"163",b:"67"},"#fe59c2":{name:"Neon fuchsia",r:"254",g:"89",b:"194"},"#39ff14":{name:"Neon green",r:"57",g:"255",b:"20"},"#a4dded":{name:"Non-photo blue",r:"164",g:"221",b:"237"},"#059033":{name:"North Texas Green",r:"5",g:"144",b:"51"},"#0077be":{name:"Ocean Boat Blue",r:"0",g:"119",b:"190"},"#cc7722":{name:"Ochre",r:"204",g:"119",b:"34"},"#cfb53b":{name:"Old gold",r:"207",g:"181",b:"59"},"#fdf5e6":{name:"Old lace",r:"253",g:"245",b:"230"},"#796878":{name:"Old lavender",r:"121",g:"104",b:"120"},"#673147":{name:"Old mauve",r:"103",g:"49",b:"71"},"#c08081":{name:"Old rose",r:"192",g:"128",b:"129"},"#6b8e23":{name:"Olive Drab",r:"107",g:"142",b:"35"},"#bab86c":{name:"Olive Green",r:"186",g:"184",b:"108"},"#9ab973":{name:"Olivine",r:"154",g:"185",b:"115"},"#0f0f0f":{name:"Onyx",r:"15",g:"15",b:"15"},"#b784a7":{name:"Opera mauve",r:"183",g:"132",b:"167"},"#ffa500":{name:"Orange",r:"255",g:"165",b:"0"},"#f8d568":{name:"Orange Yellow",r:"248",g:"213",b:"104"},"#ff9f00":{name:"Orange peel",r:"255",g:"159",b:"0"},"#ff4500":{name:"Orange red",r:"255",g:"69",b:"0"},"#da70d6":{name:"Orchid",r:"218",g:"112",b:"214"},"#414a4c":{name:"Outer Space",r:"65",g:"74",b:"76"},"#ff6e4a":{name:"Outrageous Orange",r:"255",g:"110",b:"74"},"#002147":{name:"Oxford Blue",r:"0",g:"33",b:"71"},"#1ca9c9":{name:"Pacific Blue",r:"28",g:"169",b:"201"},"#006600":{name:"Pakistan green",r:"0",g:"102",b:"0"},"#273be2":{name:"Palatinate blue",r:"39",g:"59",b:"226"},"#682860":{name:"Palatinate purple",r:"104",g:"40",b:"96"},"#afeeee":{name:"Pale blue",r:"175",g:"238",b:"238"},"#987654":{name:"Pale brown",r:"152",g:"118",b:"84"},"#9bc4e2":{name:"Pale cerulean",r:"155",g:"196",b:"226"},"#ddadaf":{name:"Pale chestnut",r:"221",g:"173",b:"175"},"#da8a67":{name:"Pale copper",r:"218",g:"138",b:"103"},"#abcdef":{name:"Pale cornflower blue",r:"171",g:"205",b:"239"},"#e6be8a":{name:"Pale gold",r:"230",g:"190",b:"138"},"#eee8aa":{name:"Pale goldenrod",r:"238",g:"232",b:"170"},"#98fb98":{name:"Pale green",r:"152",g:"251",b:"152"},"#dcd0ff":{name:"Pale lavender",r:"220",g:"208",b:"255"},"#f984e5":{name:"Pale magenta",r:"249",g:"132",b:"229"},"#fadadd":{name:"Pale pink",r:"250",g:"218",b:"221"},"#db7093":{name:"Pale violet red",r:"219",g:"112",b:"147"},"#96ded1":{name:"Pale robin egg blue",r:"150",g:"222",b:"209"},"#c9c0bb":{name:"Pale silver",r:"201",g:"192",b:"187"},"#ecebbd":{name:"Pale spring bud",r:"236",g:"235",b:"189"},"#bc987e":{name:"Pale taupe",r:"188",g:"152",b:"126"},"#78184a":{name:"Pansy purple",r:"120",g:"24",b:"74"},"#ffefd5":{name:"Papaya whip",r:"255",g:"239",b:"213"},"#aec6cf":{name:"Pastel blue",r:"174",g:"198",b:"207"},"#836953":{name:"Pastel brown",r:"131",g:"105",b:"83"},"#cfcfc4":{name:"Pastel gray",r:"207",g:"207",b:"196"},"#77dd77":{name:"Pastel green",r:"119",g:"221",b:"119"},"#f49ac2":{name:"Pastel magenta",r:"244",g:"154",b:"194"},"#ffb347":{name:"Pastel orange",r:"255",g:"179",b:"71"},"#ffd1dc":{name:"Pastel pink",r:"255",g:"209",b:"220"},"#b39eb5":{name:"Pastel purple",r:"179",g:"158",b:"181"},"#ff6961":{name:"Pastel red",r:"255",g:"105",b:"97"},"#cb99c9":{name:"Pastel violet",r:"203",g:"153",b:"201"},"#fdfd96":{name:"Pastel yellow",r:"253",g:"253",b:"150"},"#800080":{name:"Purple",r:"128",g:"0",b:"128"},"#ffe5b4":{name:"Peach",r:"255",g:"229",b:"180"},"#ffdab9":{name:"Peach puff",r:"255",g:"218",b:"185"},"#fadfad":{name:"Peach yellow",r:"250",g:"223",b:"173"},"#d1e231":{name:"Pear",r:"209",g:"226",b:"49"},"#eae0c8":{name:"Pearl",r:"234",g:"224",b:"200"},"#88d8c0":{name:"Pearl Aqua",r:"136",g:"216",b:"192"},"#e6e200":{name:"Peridot",r:"230",g:"226",b:"0"},"#1c39bb":{name:"Persian blue",r:"28",g:"57",b:"187"},"#32127a":{name:"Persian indigo",r:"50",g:"18",b:"122"},"#d99058":{name:"Persian orange",r:"217",g:"144",b:"88"},"#f77fbe":{name:"Persian pink",r:"247",g:"127",b:"190"},"#701c1c":{name:"Persian plum",r:"112",g:"28",b:"28"},"#cc3333":{name:"Persian red",r:"204",g:"51",b:"51"},"#fe28a2":{name:"Persian rose",r:"254",g:"40",b:"162"},"#df00ff":{name:"Psychedelic purple",r:"223",g:"0",b:"255"},"#000f89":{name:"Phthalo blue",r:"0",g:"15",b:"137"},"#123524":{name:"Phthalo green",r:"18",g:"53",b:"36"},"#fddde6":{name:"Piggy pink",r:"253",g:"221",b:"230"},"#01796f":{name:"Pine green",r:"1",g:"121",b:"111"},"#ffc0cb":{name:"Pink",r:"255",g:"192",b:"203"},"#fc74fd":{name:"Pink Flamingo",r:"252",g:"116",b:"253"},"#f78fa7":{name:"Pink Sherbet",r:"247",g:"143",b:"167"},"#e7accf":{name:"Pink pearl",r:"231",g:"172",b:"207"},"#93c572":{name:"Pistachio",r:"147",g:"197",b:"114"},"#e5e4e2":{name:"Platinum",r:"229",g:"228",b:"226"},"#ff5a36":{name:"Portland Orange",r:"255",g:"90",b:"54"},"#b0e0e6":{name:"Powder blue",r:"176",g:"224",b:"230"},"#ff8f00":{name:"Princeton orange",r:"255",g:"143",b:"0"},"#003153":{name:"Prussian blue",r:"0",g:"49",b:"83"},"#cc8899":{name:"Puce",r:"204",g:"136",b:"153"},"#ff7518":{name:"Pumpkin",r:"255",g:"117",b:"24"},"#69359c":{name:"Purple Heart",r:"105",g:"53",b:"156"},"#9d81ba":{name:"Purple Mountain's Majesty",r:"157",g:"129",b:"186"},"#9678b6":{name:"Light Purple mountain majesty",r:"150",g:"120",b:"182"},"#fe4eda":{name:"Purple pizzazz",r:"254",g:"78",b:"218"},"#50404d":{name:"Purple taupe",r:"80",g:"64",b:"77"},"#ff355e":{name:"Radical Red",r:"255",g:"53",b:"94"},"#e30b5d":{name:"Raspberry",r:"227",g:"11",b:"93"},"#e25098":{name:"Raspberry pink",r:"226",g:"80",b:"152"},"#b3446c":{name:"Raspberry rose",r:"179",g:"68",b:"108"},"#d68a59":{name:"Raw Sienna",r:"214",g:"138",b:"89"},"#ff33cc":{name:"Razzle dazzle rose",r:"255",g:"51",b:"204"},"#e3256b":{name:"Razzmatazz",r:"227",g:"37",b:"107"},"#ff0000":{name:"Red",r:"255",g:"0",b:"0"},"#ff5349":{name:"Red Orange",r:"255",g:"83",b:"73"},"#004040":{name:"Rich black",r:"0",g:"64",b:"64"},"#d70040":{name:"Rich carmine",r:"215",g:"0",b:"64"},"#0892d0":{name:"Rich electric blue",r:"8",g:"146",b:"208"},"#b666d2":{name:"Rich lilac",r:"182",g:"102",b:"210"},"#b03060":{name:"Rich maroon",r:"176",g:"48",b:"96"},"#414833":{name:"Rifle green",r:"65",g:"72",b:"51"},"#1fcecb":{name:"Robin's Egg Blue",r:"31",g:"206",b:"203"},"#f9429e":{name:"Rose bonbon",r:"249",g:"66",b:"158"},"#674846":{name:"Rose ebony",r:"103",g:"72",b:"70"},"#b76e79":{name:"Rose gold",r:"183",g:"110",b:"121"},"#ff66cc":{name:"Rose pink",r:"255",g:"102",b:"204"},"#aa98a9":{name:"Rose quartz",r:"170",g:"152",b:"169"},"#905d5d":{name:"Rose taupe",r:"144",g:"93",b:"93"},"#ab4e52":{name:"Rose vale",r:"171",g:"78",b:"82"},"#65000b":{name:"Rosewood",r:"101",g:"0",b:"11"},"#d40000":{name:"Rosso corsa",r:"212",g:"0",b:"0"},"#bc8f8f":{name:"Rosy brown",r:"188",g:"143",b:"143"},"#0038a8":{name:"Royal azure",r:"0",g:"56",b:"168"},"#4169e1":{name:"Royal blue",r:"65",g:"105",b:"225"},"#ca2c92":{name:"Royal fuchsia",r:"202",g:"44",b:"146"},"#7851a9":{name:"Royal purple",r:"120",g:"81",b:"169"},"#e0115f":{name:"Ruby",r:"224",g:"17",b:"95"},"#ff0028":{name:"Ruddy",r:"255",g:"0",b:"40"},"#bb6528":{name:"Ruddy brown",r:"187",g:"101",b:"40"},"#e18e96":{name:"Ruddy pink",r:"225",g:"142",b:"150"},"#a81c07":{name:"Rufous",r:"168",g:"28",b:"7"},"#80461b":{name:"Russet",r:"128",g:"70",b:"27"},"#b7410e":{name:"Rust",r:"183",g:"65",b:"14"},"#00563f":{name:"Sacramento State green",r:"0",g:"86",b:"63"},"#8b4513":{name:"Saddle brown",r:"139",g:"69",b:"19"},"#ff6700":{name:"Safety orange",r:"255",g:"103",b:"0"},"#f4c430":{name:"Saffron",r:"244",g:"196",b:"48"},"#23297a":{name:"Saint Patrick Blue",r:"35",g:"41",b:"122"},"#ff8c69":{name:"Salmon",r:"255",g:"140",b:"105"},"#ff91a4":{name:"Salmon pink",r:"255",g:"145",b:"164"},"#ecd540":{name:"Sandstorm",r:"236",g:"213",b:"64"},"#f4a460":{name:"Sandy brown",r:"244",g:"164",b:"96"},"#507d2a":{name:"Sap green",r:"80",g:"125",b:"42"},"#0f52ba":{name:"Sapphire",r:"15",g:"82",b:"186"},"#cba135":{name:"Satin sheen gold",r:"203",g:"161",b:"53"},"#ff2400":{name:"Scarlet",r:"255",g:"36",b:"0"},"#ffd800":{name:"School bus yellow",r:"255",g:"216",b:"0"},"#76ff7a":{name:"Screamin Green",r:"118",g:"255",b:"122"},"#006994":{name:"Sea blue",r:"0",g:"105",b:"148"},"#2e8b57":{name:"Sea green",r:"46",g:"139",b:"87"},"#321414":{name:"Seal brown",r:"50",g:"20",b:"20"},"#fff5ee":{name:"Seashell",r:"255",g:"245",b:"238"},"#ffba00":{name:"Selective yellow",r:"255",g:"186",b:"0"},"#704214":{name:"Sepia",r:"112",g:"66",b:"20"},"#8a795d":{name:"Shadow",r:"138",g:"121",b:"93"},"#45cea2":{name:"Shamrock",r:"69",g:"206",b:"162"},"#009e60":{name:"Shamrock green",r:"0",g:"158",b:"96"},"#fc0fc0":{name:"Shocking pink",r:"252",g:"15",b:"192"},"#882d17":{name:"Sienna",r:"136",g:"45",b:"23"},"#c0c0c0":{name:"Silver",r:"192",g:"192",b:"192"},"#cb410b":{name:"Sinopia",r:"203",g:"65",b:"11"},"#007474":{name:"Skobeloff",r:"0",g:"116",b:"116"},"#87ceeb":{name:"Sky blue",r:"135",g:"206",b:"235"},"#cf71af":{name:"Sky magenta",r:"207",g:"113",b:"175"},"#6a5acd":{name:"Slate blue",r:"106",g:"90",b:"205"},"#708090":{name:"Slate gray",r:"112",g:"128",b:"144"},"#933d41":{name:"Smokey topaz",r:"147",g:"61",b:"65"},"#100c08":{name:"Smoky black",r:"16",g:"12",b:"8"},"#fffafa":{name:"Snow",r:"255",g:"250",b:"250"},"#0fc0fc":{name:"Spiro Disco Ball",r:"15",g:"192",b:"252"},"#a7fc00":{name:"Spring bud",r:"167",g:"252",b:"0"},"#4682b4":{name:"Steel blue",r:"70",g:"130",b:"180"},"#008080":{name:"Teal",r:"0",g:"128",b:"128"},"#e4d96f":{name:"Straw",r:"228",g:"217",b:"111"},"#ffcc33":{name:"Sunglow",r:"255",g:"204",b:"51"},"#fd5e53":{name:"Sunset Orange",r:"253",g:"94",b:"83"},"#d2b48c":{name:"Tan",r:"210",g:"180",b:"140"},"#f94d00":{name:"Tangelo",r:"249",g:"77",b:"0"},"#f28500":{name:"Tangerine",r:"242",g:"133",b:"0"},"#ffcc00":{name:"USC Gold",r:"255",g:"204",b:"0"},"#8b8589":{name:"Taupe gray",r:"139",g:"133",b:"137"},"#cd5700":{name:"Tawny",r:"205",g:"87",b:"0"},"#d0f0c0":{name:"Tea green",r:"208",g:"240",b:"192"},"#367588":{name:"Teal blue",r:"54",g:"117",b:"136"},"#006d5b":{name:"Teal green",r:"0",g:"109",b:"91"},"#e2725b":{name:"Terra cotta",r:"226",g:"114",b:"91"},"#d8bfd8":{name:"Thistle",r:"216",g:"191",b:"216"},"#de6fa1":{name:"Thulian pink",r:"222",g:"111",b:"161"},"#fc89ac":{name:"Tickle Me Pink",r:"252",g:"137",b:"172"},"#0abab5":{name:"Tiffany Blue",r:"10",g:"186",b:"181"},"#e08d3c":{name:"Tiger eye",r:"224",g:"141",b:"60"},"#dbd7d2":{name:"Timberwolf",r:"219",g:"215",b:"210"},"#eee600":{name:"Titanium yellow",r:"238",g:"230",b:"0"},"#ff6347":{name:"Tomato",r:"255",g:"99",b:"71"},"#746cc0":{name:"Toolbox",r:"116",g:"108",b:"192"},"#ffc87c":{name:"Topaz",r:"255",g:"200",b:"124"},"#fd0e35":{name:"Tractor red",r:"253",g:"14",b:"53"},"#00755e":{name:"Tropical rain forest",r:"0",g:"117",b:"94"},"#0073cf":{name:"True Blue",r:"0",g:"115",b:"207"},"#417dc1":{name:"Tufts Blue",r:"65",g:"125",b:"193"},"#deaa88":{name:"Tumbleweed",r:"222",g:"170",b:"136"},"#b57281":{name:"Turkish rose",r:"181",g:"114",b:"129"},"#30d5c8":{name:"Turquoise",r:"48",g:"213",b:"200"},"#00ffef":{name:"Turquoise blue",r:"0",g:"255",b:"239"},"#a0d6b4":{name:"Turquoise green",r:"160",g:"214",b:"180"},"#66424d":{name:"Tuscan red",r:"102",g:"66",b:"77"},"#8a496b":{name:"Twilight lavender",r:"138",g:"73",b:"107"},"#66023c":{name:"Tyrian purple",
r:"102",g:"2",b:"60"},"#0033aa":{name:"UA blue",r:"0",g:"51",b:"170"},"#d9004c":{name:"UA red",r:"217",g:"0",b:"76"},"#536895":{name:"UCLA Blue",r:"83",g:"104",b:"149"},"#ffb300":{name:"UCLA Gold",r:"255",g:"179",b:"0"},"#3cd070":{name:"UFO Green",r:"60",g:"208",b:"112"},"#014421":{name:"UP Forest green",r:"1",g:"68",b:"33"},"#7b1113":{name:"UP Maroon",r:"123",g:"17",b:"19"},"#8878c3":{name:"Ube",r:"136",g:"120",b:"195"},"#ff6fff":{name:"Ultra pink",r:"255",g:"111",b:"255"},"#120a8f":{name:"Ultramarine",r:"18",g:"10",b:"143"},"#4166f5":{name:"Ultramarine blue",r:"65",g:"102",b:"245"},"#635147":{name:"Umber",r:"99",g:"81",b:"71"},"#5b92e5":{name:"United Nations blue",r:"91",g:"146",b:"229"},"#b78727":{name:"University of California Gold",r:"183",g:"135",b:"39"},"#ffff66":{name:"Unmellow Yellow",r:"255",g:"255",b:"102"},"#ae2029":{name:"Upsdell red",r:"174",g:"32",b:"41"},"#e1ad21":{name:"Urobilin",r:"225",g:"173",b:"33"},"#d3003f":{name:"Utah Crimson",r:"211",g:"0",b:"63"},"#c5b358":{name:"Vegas gold",r:"197",g:"179",b:"88"},"#c80815":{name:"Venetian red",r:"200",g:"8",b:"21"},"#43b3ae":{name:"Verdigris",r:"67",g:"179",b:"174"},"#a020f0":{name:"Veronica",r:"160",g:"32",b:"240"},"#324ab2":{name:"Violet Blue",r:"50",g:"74",b:"178"},"#f75394":{name:"Violet Red",r:"247",g:"83",b:"148"},"#40826d":{name:"Viridian",r:"64",g:"130",b:"109"},"#922724":{name:"Vivid auburn",r:"146",g:"39",b:"36"},"#9f1d35":{name:"Vivid burgundy",r:"159",g:"29",b:"53"},"#da1d81":{name:"Vivid cerise",r:"218",g:"29",b:"129"},"#ffa089":{name:"Vivid tangerine",r:"255",g:"160",b:"137"},"#9f00ff":{name:"Vivid violet",r:"159",g:"0",b:"255"},"#004242":{name:"Warm black",r:"0",g:"66",b:"66"},"#645452":{name:"Wenge",r:"100",g:"84",b:"82"},"#f5deb3":{name:"Wheat",r:"245",g:"222",b:"179"},"#ffffff":{name:"White",r:"255",g:"255",b:"255"},"#f5f5f5":{name:"White smoke",r:"245",g:"245",b:"245"},"#ff43a4":{name:"Wild Strawberry",r:"255",g:"67",b:"164"},"#fc6c85":{name:"Wild Watermelon",r:"252",g:"108",b:"133"},"#a2add0":{name:"Wild blue yonder",r:"162",g:"173",b:"208"},"#722f37":{name:"Wine",r:"114",g:"47",b:"55"},"#c9a0dc":{name:"Wisteria",r:"201",g:"160",b:"220"},"#738678":{name:"Xanadu",r:"115",g:"134",b:"120"},"#0f4d92":{name:"Yale Blue",r:"15",g:"77",b:"146"},"#ffae42":{name:"Yellow Orange",r:"255",g:"174",b:"66"},"#9acd32":{name:"Yellow green",r:"154",g:"205",b:"50"},"#0014a8":{name:"Zaffre",r:"0",g:"20",b:"168"},"#2c1608":{name:"Zinnwaldite brown",r:"44",g:"22",b:"8"}}},{}],34:[function(e,t,n){"use strict";t.exports=function(e){return e=parseInt(e,16),[e>>16&255,e>>8&255,255&e]}},{}],35:[function(e,t,n){"use strict";var i=e("./colors"),s=e("./hex2rgb"),o=e("underscore");t.exports={resolve:function(e){var t=i["#"+e];if(t)return{name:t.name,hex:"#"+e,color:"#"+e,deviation:0};var n=[],r=s(e),a=r[0],l=r[1],c=r[2];return o.each(i,function(e,t){var i=a-e.r,s=l-e.g,o=c-e.b;i<40&&i>-40&&s<40&&s>-40&&o<40&&o>-40&&n.push({deviation:i*i+s*s+o*o,hex:t})}),n.sort(function(e,t){return e.deviation<t.deviation?-1:e.deviation>t.deviation?1:0}),n.length?{name:i[n[0].hex].name,hex:n[0].hex,color:n[0].hex,deviation:n[0].deviation}:{name:"",hex:void 0,color:void 0,deviation:void 0}}}},{"./colors":33,"./hex2rgb":34,underscore:682}],36:[function(e,t,n){"use strict";var i=e("string");t.exports=function(e,t){return"#"+(t?i(Math.round(255*(e.alpha||1)).toString(16),2).padLeft(2,"0").toString():"")+i(Math.round(e.red||0).toString(16),2).padLeft(2,"0").toString()+i(Math.round(e.green||0).toString(16),2).padLeft(2,"0").toString()+i(Math.round(e.blue||0).toString(16),2).padLeft(2,"0").toString()}},{string:670}],37:[function(e,t,n){"use strict";function i(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function s(e,t,n){n=n||{};var i=n.expires;if("number"==typeof i&&i){var s=new Date;s.setTime(s.getTime()+1e3*i),i=n.expires=s}i&&i.toUTCString&&(n.expires=i.toUTCString()),t=encodeURIComponent(t);var o=e+"="+t;r.each(n,function(e,t){o+="; "+t,e!==!0&&(o+="="+e)}),document.cookie=o}function o(e,t){t=t||{},t.expires=-1,s(e,"",t)}var r=e("underscore");t.exports={get:i,set:s,del:o,"delete":o}},{underscore:682}],38:[function(e,t,n){"use strict";t.exports=function(e,t){var n=""+e;return n.indexOf(".")==-1?e:parseFloat(parseFloat(n).toFixed(t||2))}},{}],39:[function(e,t,n){function i(e,t){this.status=e,this.message=t||d.STATUS_CODES[500],Error.captureStackTrace(this,arguments.callee)}function s(e){this.status=404,c(this,e),Error.captureStackTrace(this,arguments.callee)}function o(e){this.status=400,c(this,e),Error.captureStackTrace(this,arguments.callee)}function r(e){this.status=401,c(this,e),Error.captureStackTrace(this,arguments.callee)}function a(e){this.status=403,c(this,e),Error.captureStackTrace(this,arguments.callee)}function l(e,t){this.status=t||500,c(this,e),Error.captureStackTrace(this,arguments.callee)}function c(e,t){var n,i=h[t];return i?n=t:(i=t||d.STATUS_CODES[e.status]||"Unknown Error",n="error"),e.code=n,e.message=i,e}var u=e("util"),d=e("http"),h=e("./HttpMessageCodeEnum");u.inherits(i,Error),i.prototype.name="HttpError",u.inherits(s,i),s.prototype.name="NotFoundError",u.inherits(o,i),o.prototype.name="InvalidArgumentError",u.inherits(r,i),r.prototype.name="UnathorizedError",u.inherits(a,i),a.prototype.name="AccessDeniedError",u.inherits(l,i),l.prototype.name="ServerError",t.exports={HttpError:i,ServerError:l,NotFoundError:s,AccessDeniedError:a,InvalidArgumentError:o,UnathorizedError:r}},{"./HttpMessageCodeEnum":12,http:570,util:580}],40:[function(e,t,n){t.exports=function(e){switch(e){case"ios":return"pt";case"android":return"sp";default:return"pt"}}},{}],41:[function(e,t,n){"use strict";t.exports.allowedWeightMap={thin:"Thin",extralight:"Extra Light",ultralight:"Ultra Light",light:"Light",normal:"Normal",regular:"Regular",medium:"Medium",semibold:"Semi Bold",demibold:"Demi Bold",extrabold:"Extra Bold",ultrabold:"Ultra Bold",black:"Black",heavy:"Heavy",bold:"Bold"},t.exports.weightToCssValueMap={Thin:100,"Extra Light":200,"Ultra Light":200,Light:300,Normal:"normal",Regular:"normal",Medium:500,"Semi Bold":600,"Demi Bold":600,Bold:"bold","Extra Bold":800,"Ultra Bold":800,Black:900,Heavy:900},t.exports.allowedStyleMap={italic:"Italic",oblique:"Oblique",normal:"Normal",regular:"Regular"},t.exports.styleToCssValueMap={Italic:"italic",Oblique:"oblique",Normal:"normal",Regular:"normal"}},{}],42:[function(e,t,n){var i=e("../BundleSourceEnum");t.exports.getFontIdByTextRange=function(e,t){if(e==i.photoshop||e==i.photoshop_flat)return t.fontUID?t.fontUID:t.fontName+"_"+t.fontStyleName;if(e==i.sketch)return t.fontUID?t.fontUID:t.fontName+"_";throw Error("Wrong source type")},t.exports.getFontIdByFont=function(e,t){if(e==i.photoshop||e==i.photoshop_flat)return t.name+"_"+t.style;if(e==i.sketch)return t.info.postScriptName?t.info.postScriptName+"_":t.info.name+"_";throw Error("Wrong source type")}},{"../BundleSourceEnum":10}],43:[function(e,t,n){t.exports={ios:["Academy Engraved LET","Al Nile","American Typewriter","Apple Color Emoji","Apple SD Gothic Neo","Arial","Arial Hebrew","Arial Rounded MT Bold","Avenir","Avenir Next","Avenir Next Condensed","Bangla Sangam MN","Baskerville","Bodoni Ornaments","Bodoni 72","Bodoni 72 Oldstyle","Bradley Hand","Chalkboard SE","Chalkduster","Cochin","Copperplate","Courier","Courier New","DB LCD Temp","DIN Alternate","DIN Condensed","Damascus","Devanagari Sangam MN","Didot","Diwan Mishafi","Euphemia UCAS","Farah","Futura","Geeza Pro","Georgia","Gill Sans","Gujarati Sangam MN","Gurmukhi MN","Heiti SC","Heiti TC","Helvetica","Helvetica Neue","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Iowan Old Style","Kailasa","Kannada Sangam MN","KhmerSangamMN","KohinoorDevanagari","LaoSangamMN","Malayalam Sangam MN","Marion","Menlo","Marker Felt","Noteworthy","Optima","Oriya Sangam MN","Papyrus","Party LET","San Francisco","Savoye Let Plain","Sinhala Sangam MN","Snell Roundhand","Superclarendon","Symbol","Tamil Sangam MN","Telugu Sangam MN","Thonburi","Times New Roman","Trebuchet MS","Verdana","Zapf Dingbats","Zapfino"],android:["Droid Sans","Droid Serif","Droid Sans Mono","Roboto","Roboto RobotoCondensed","Noto Sans","Noto Serif","Noto Kufi Arabic","Noto Naskh Arabic","Noto Nastaliq Urdu Draft","Noto Sans Armenian","Noto Sans Avestan","Noto Sans Balinese","Noto Sans Bamum","Noto Sans Batak","Noto Sans Bengali","Noto Sans Brahmi","Noto Sans Buginese","Noto Sans Buhid","Noto Sans CJK JP","Noto Sans CJK KR","Noto Sans CJK SC","Noto Sans CJK TC","Noto Sans Canadian Aboriginal","Noto Sans Carian","Noto Sans Cham","Noto Sans Cherokee","Noto Sans Coptic","Noto Sans Cuneiform","Noto Sans Cypriot","Noto Sans Deseret","Noto Sans Devanagari","Noto Sans Egyptian Hieroglyphs","Noto Sans Ethiopic","Noto Sans Georgian","Noto Sans Glagolitic","Noto Sans Gothic","Noto Sans Gujarati","Noto Sans Gurmukhi","Noto Sans Hanunoo","Noto Sans Hebrew","Noto Sans Imperial Aramaic","Noto Sans Inscriptional Pahlavi","Noto Sans Inscriptional Parthian","Noto Sans Javanese","Noto Sans Kaithi","Noto Sans Kannada","Noto Sans Kayah Li","Noto Sans Kharoshthi","Noto Sans Khmer","Noto Sans Lao","Noto Sans Lepcha","Noto Sans Limbu","Noto Sans Linear B","Noto Sans Lisu","Noto Sans Lycian","Noto Sans Lydian","Noto Sans Malayalam","Noto Sans Mandaic","Noto Sans Meetei Mayek","Noto Sans Mongolian","Noto Sans Myanmar","Noto Sans NKo","Noto Sans New Tai Lue","Noto Sans Ogham","Noto Sans Ol Chiki","Noto Sans Old Italic","Noto Sans Old Persian","Noto Sans Old South Arabian","Noto Sans Old Turkic","Noto Sans Oriya","Noto Sans Osmanya","Noto Sans Phags Pa","Noto Sans Phoenician","Noto Sans Rejang","Noto Sans Runic","Noto Sans Samaritan","Noto Sans Saurashtra","Noto Sans Shavian","Noto Sans Sinhala","Noto Sans Sundanese","Noto Sans Syloti Nagri","Noto Sans Symbols","Noto Sans Syriac Eastern","Noto Sans Syriac Estrangela","Noto Sans Syriac Western","Noto Sans Tagalog","Noto Sans Tagbanwa","Noto Sans Tai Le","Noto Sans Tai Tham","Noto Sans Tai Viet","Noto Sans Tamil","Noto Sans Telugu","Noto Sans Thaana","Noto Sans Thai","Noto Sans Tibetan","Noto Sans Tifinagh","Noto Sans Ugaritic","Noto Sans Vai","Noto Sans Yi","Noto Serif Armenian","Noto Serif Georgian","Noto Serif Khmer","Noto Serif Lao","Noto Serif Thai"]}},{}],44:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../../enums/IssueTypeEnum");t.exports={getColorByName:function(e){var t=e;return"medium-gray"===e?t="#ccc":"blue-gray"===e?t="#476784":"yellow"===e?t="#ffd35f":"green"===e&&(t="#008a38"),t},getTextColorClass:function(e){return"#ffd35f"===e||"yellow"===e?"dark":"ligth"},getMergedIssues:function(e,t,n){var o=this,r=[];return i.each(e,function(e){var a=i.find(t,function(t){return e.key===t.key&&e.type===s.jira&&t.type===s.jira});a&&(a.data.fields.status&&(a.data.fields.status.statusCategory.colorName=o.getColorByName(a.data.fields.status.statusCategory.colorName)),i.each(Object.keys(a.data.fields),function(t){e.data.fields[t]=a.data.fields[t]})),n?r.push(i.extend({},e,n)):r.push(i.extend({},e))}),r},extendIssues:function(e,t){if(!t)return e;var n=[];return i.each(e,function(e){n.push(i.extend(e,t))}),n}}},{"../../enums/IssueTypeEnum":5,underscore:682}],45:[function(e,t,n){"use strict";t.exports.reverse=function(e){for(var t=e.length-1,n="";t>=0;n+=e[t--]);return n}},{}],46:[function(e,t,n){"use strict";var i={css:"css",less:"less",sass:"sass",scss:"scss",stylus:"stylus"};t.exports=i},{}],47:[function(e,t,n){"use strict";var i={px:"px",em:"em"};t.exports=i},{}],48:[function(e,t,n){"use strict";var i=e("../WebStyleResultTypeEnum"),s=e("./templates/transform"),o=e("./templates/position"),r=e("./templates/box-size"),a=e("./templates/background"),l=e("./templates/border"),c=e("./templates/border-radius"),u=e("./templates/shadows"),d=e("./templates/gradients"),h=e("./templates/text"),p=":",f=";",m=i.css;t.exports=function(e){return e.twig({id:i.css,data:o.getTemplate(m,p,f)+r.getTemplate(m,p,f)+a.getTemplate(m,p,f)+l.getTemplate(m,p,f)+c.getTemplate(m,p,f)+u.getTemplate(m,p,f)+d.getTemplate(m,p,f)+h.getTemplate(m,p,f)+s.getTemplate(m,p,f)})}},{"../WebStyleResultTypeEnum":46,"./templates/background":53,"./templates/border":55,"./templates/border-radius":54,"./templates/box-size":56,"./templates/gradients":57,"./templates/position":58,"./templates/shadows":59,"./templates/text":60,"./templates/transform":61}],49:[function(e,t,n){"use strict";var i=e("../WebStyleResultTypeEnum"),s=e("./templates/transform"),o=e("./templates/position"),r=e("./templates/box-size"),a=e("./templates/background"),l=e("./templates/border"),c=e("./templates/border-radius"),u=e("./templates/shadows"),d=e("./templates/gradients"),h=e("./templates/text"),p=":",f=";",m=i.less;t.exports=function(e){return e.twig({id:i.less,data:o.getTemplate(m,p,f)+r.getTemplate(m,p,f)+a.getTemplate(m,p,f)+l.getTemplate(m,p,f)+c.getTemplate(m,p,f)+u.getTemplate(m,p,f)+d.getTemplate(m,p,f)+h.getTemplate(m,p,f)+s.getTemplate(m,p,f)})}},{"../WebStyleResultTypeEnum":46,"./templates/background":53,"./templates/border":55,"./templates/border-radius":54,"./templates/box-size":56,"./templates/gradients":57,"./templates/position":58,"./templates/shadows":59,"./templates/text":60,"./templates/transform":61}],50:[function(e,t,n){"use strict";var i=e("../WebStyleResultTypeEnum"),s=e("./templates/transform"),o=e("./templates/position"),r=e("./templates/box-size"),a=e("./templates/background"),l=e("./templates/border"),c=e("./templates/border-radius"),u=e("./templates/shadows"),d=e("./templates/gradients"),h=e("./templates/text"),p=":",f="",m=i.sass;t.exports=function(e){return e.twig({id:i.sass,data:o.getTemplate(m,p,f)+r.getTemplate(m,p,f)+a.getTemplate(m,p,f)+l.getTemplate(m,p,f)+c.getTemplate(m,p,"\n")+u.getTemplate(m,p,f)+d.getTemplate(m,p,f)+h.getTemplate(m,p,f)+s.getTemplate(m,p,"\n")})}},{"../WebStyleResultTypeEnum":46,"./templates/background":53,"./templates/border":55,"./templates/border-radius":54,"./templates/box-size":56,"./templates/gradients":57,"./templates/position":58,"./templates/shadows":59,"./templates/text":60,"./templates/transform":61}],51:[function(e,t,n){"use strict";var i=e("../WebStyleResultTypeEnum"),s=e("./templates/transform"),o=e("./templates/position"),r=e("./templates/box-size"),a=e("./templates/background"),l=e("./templates/border"),c=e("./templates/border-radius"),u=e("./templates/shadows"),d=e("./templates/gradients"),h=e("./templates/text"),p=":",f=";",m=i.scss;t.exports=function(e){return e.twig({id:i.scss,data:o.getTemplate(m,p,f)+r.getTemplate(m,p,f)+a.getTemplate(m,p,f)+l.getTemplate(m,p,f)+c.getTemplate(m,p,f)+u.getTemplate(m,p,f)+d.getTemplate(m,p,f)+h.getTemplate(m,p,f)+s.getTemplate(m,p,f)})}},{"../WebStyleResultTypeEnum":46,"./templates/background":53,"./templates/border":55,"./templates/border-radius":54,"./templates/box-size":56,"./templates/gradients":57,"./templates/position":58,"./templates/shadows":59,"./templates/text":60,"./templates/transform":61}],52:[function(e,t,n){"use strict";var i=e("../WebStyleResultTypeEnum"),s=e("./templates/transform"),o=e("./templates/position"),r=e("./templates/box-size"),a=e("./templates/background"),l=e("./templates/border"),c=e("./templates/border-radius"),u=e("./templates/shadows"),d=e("./templates/gradients"),h=e("./templates/text"),p="",f="",m=i.stylus;t.exports=function(e){return e.twig({id:i.stylus,data:o.getTemplate(m,p,f)+r.getTemplate(m,p,f)+a.getTemplate(m,p,f)+l.getTemplate(m,p,f)+c.getTemplate(m,p,"\n")+u.getTemplate(m,p,f)+d.getTemplate(m,p,f)+h.getTemplate(m,p,f)+s.getTemplate(m,p,"\n")})}},{"../WebStyleResultTypeEnum":46,"./templates/background":53,"./templates/border":55,"./templates/border-radius":54,"./templates/box-size":56,"./templates/gradients":57,"./templates/position":58,"./templates/shadows":59,"./templates/text":60,"./templates/transform":61}],53:[function(e,t,n){"use strict";t.exports.getTemplate=function(e,t,n){return"{% for item in solidBackgrounds %}background-color"+t+" {{item.color}}"+n+"\n{% endfor %}"}},{}],54:[function(e,t,n){"use strict";t.exports.getTemplate=function(e,t,n){return"{% if (borderRounds.length == 1) or (borderRounds.length == 4) %}border-radius"+t+"{% for item in borderRounds %} {{item}}{{units}}{% endfor %}"+n+"\n{% endif %}{% if borderRounds.length == 2 %}border-radius: {{borderRounds[0]}}{{units}}/{{borderRounds[1]}}{{units}}"+n+"\n{% endif %}"}},{}],55:[function(e,t,n){"use strict";t.exports.getTemplate=function(e,t,n){return"{% for item in borders %}border"+t+" {{item.thickness}}{{units}} {{item.style}} {{item.color}}"+n+"\n{% endfor %}"}},{}],56:[function(e,t,n){"use strict";t.exports.getTemplate=function(e,t,n){return"height"+t+" {{height}}{{units}}"+n+"\nwidth"+t+" {{width}}{{units}}"+n+"\n"}},{}],57:[function(e,t,n){"use strict";t.exports.getTemplate=function(e,t,n){return"{% for item in gradients %}{% if item.style=='linear' %}{% if item.angle %}background-image"+t+" -webkit-linear-gradient({{(item.angle)}}deg, {{item.colorsAndLocations.join(', ')}})"+n+"\nbackground-image"+t+" -moz-linear-gradient({{(item.angle)}}deg, {{item.colorsAndLocations.join(', ')}})"+n+"\nbackground-image"+t+" -o-linear-gradient({{(item.angle)}}deg, {{item.colorsAndLocations.join(', ')}})"+n+"\nbackground-image"+t+" linear-gradient({{(item.angle)}}deg, {{item.colorsAndLocations.join(', ')}})"+n+"\n{% else %}background-image"+t+" -webkit-linear-gradient({{item.colorsAndLocations.join(', ')}})"+n+"\nbackground-image"+t+" -moz-linear-gradient({{item.colorsAndLocations.join(', ')}})"+n+"\nbackground-image"+t+" -o-linear-gradient({{item.colorsAndLocations.join(', ')}})"+n+"\nbackground-image"+t+" linear-gradient({{item.colorsAndLocations.join(', ')}})"+n+"\n{% endif %}{% endif %}{% if item.style=='radial' %}background-image"+t+" -webkit-radial-gradient(circle, {{item.colorsAndLocations.join(', ')}})"+n+"\nbackground-image"+t+" -moz-radial-gradient(circle, {{item.colorsAndLocations.join(', ')}})"+n+"\nbackground-image"+t+" -o-radial-gradient(circle, {{item.colorsAndLocations.join(', ')}})"+n+"\nbackground-image"+t+" radial-gradient(circle, {{item.colorsAndLocations.join(', ')}})"+n+"\n{% endif %}{% endfor %}"}},{}],58:[function(e,t,n){"use strict";t.exports.getTemplate=function(e,t,n){return"{% if position %}position"+t+" {{position}}"+n+"\ntop"+t+" {{top}}{{units}}"+n+"\nleft"+t+" {{left}}{{units}}"+n+"\n{% endif %}"}},{}],59:[function(e,t,n){"use strict";t.exports.getTemplate=function(e,t,n){return"{% if shadows.length > 0 %}{% if texts.length > 0 %}text-shadow"+t+"{% else %}box-shadow"+t+"{% endif %}{% for item in shadows %}{% if item.style=='inner' %} inset{% endif %} {{item.x}}{{units}} {{item.y}}{{units}} {{item.blur}}{{units}} {% if texts.length == 0 %}{{item.spread}}{{units}}{% endif %} {{item.color}}{% if not loop.last %},{% endif %}{% endfor %}"+n+"\n{% endif %}"}},{}],60:[function(e,t,n){"use strict";t.exports.getTemplate=function(e,t,n){return"{% for item in texts %}{% if texts.length > 1 %}/*Text styles for {{item.textValue}} */\n{% endif %}font-family"+t+" '{{item.fontName}}'"+n+"\nfont-size"+t+" {{item.size}}{{units}}"+n+"\n{% if item.fontWeight %}font-weight"+t+" {{item.fontWeight}}"+n+"\n{% endif %}{% if item.fontStyle %}font-style"+t+" {{item.fontStyle}}"+n+"\n{% endif %}color"+t+" {{item.color}}"+n+"\n{% if item.align %}text-align"+t+" {{item.align}}"+n+"\n{% endif %}{% if item.letterSpacing %}letter-spacing"+t+" {{item.letterSpacing}}em"+n+"\n{% endif %}{% if item.lineSpacing %}line-height"+t+" {{item.lineSpacing}}{{units}}"+n+"\n{% endif %}{% if item.textTransform %}text-transform"+t+" {{ item.textTransform }}"+n+"\n{% endif %}{% if item.fontVariant %}font-variant"+t+" {{ item.fontVariant }}"+n+"\n{% endif %}{% endfor %}"}},{}],61:[function(e,t,n){"use strict";function i(){return"{% if transform.scaleAll %} scale({{transform.scaleAll}}){% endif %}{% if transform.scale %} scale({{transform.scale.x}}, {{transform.scale.y}}){% endif %}{% if transform.scaleX %} scaleX({{transform.scaleX}}){% endif %}{% if transform.scaleY %} scaleY({{transform.scaleY}}){% endif %}{% if transform.skewAll %} skew({{transform.skewAll}}deg){% endif %}{% if transform.skew %} skew({{transform.skew.x}}deg, {{transform.skew.y}}deg){% endif %}{% if transform.skewX %} skewX({{transform.skewX}}deg){% endif %}{% if transform.skewY %} skewY({{transform.skewY}}deg){% endif %}{% if transform.translateAll %} translate({{transform.translateAll}}{{units}}){% endif %}{% if transform.translate %} translate({{transform.translate.x}}{{units}}, {{transform.translate.y}}{{units}}){% endif %}{% if transform.translateX %} translateX({{transform.translateX}}{{units}}){% endif %}{% if transform.translateY %} translateY({{transform.translateY}}{{units}}){% endif %}{% if transform.rotation %} rotate({{transform.rotation}}deg){% endif %}"}var s=e("underscore");t.exports.getTemplate=function(e,t,n){var o=["-webkit-","-ms-",""],r="",a=i();return s.each(o,function(e){r+=e+"transform"+t+" "+a+n+"\n"}),"{% if transform %}"+r+"{% endif %}"}},{underscore:682}],62:[function(e,t,n){"use strict";var i=e("./WebStyleUnitsEnum"),s=e("./WebStyleResultTypeEnum"),o=e("../ShapeTypeEnum"),r=e("../color-utils/ColorConverter"),a=e("underscore"),l=e("./layer-styles-generator"),c=e("../decimel-round-utility"),u=e("../fonts/fontNameMapping").allowedWeightMap,d=e("../fonts/fontNameMapping").allowedStyleMap,h=e("../fonts/fontNameMapping").weightToCssValueMap,p=e("../fonts/fontNameMapping").styleToCssValueMap,f={absoluteCoordinates:!0,units:i.px,type:s.css,emAmount:16},m=function(e,t){return Math.round(100*e/t)},v=function(e,t,n){switch(t.units){case i.px:return n?Math.round(e):Math.round(e*t.measureRatio);case i.em:return Math.round(1e3*e/t.emAmount)/1e3}},g=function(){return f},b=function(e,t){var n=a.find(e.paragraphStyleRange,function(e){return t.from>=e.from&&t.to<=e.to});return n&&n.paragraphStyle?n.paragraphStyle.align:void 0},y=function(e,t){t=a.extend(f,t||{});var n=e.selectionBounds||e.bounds,i={};i.borders=[],i.borderRounds=[],i.solidBackgrounds=[],i.gradients=[],i.shadows=[],i.texts=[];var s={};if(i.units=t.units,t.absoluteCoordinates&&(i.position="absolute",i.top=v(n.top,t),i.left=v(n.left,t)),i.height=v(n.bottom-n.top,t),i.width=v(n.right-n.left,t),e.fills&&e.fills.items&&a.forEach(e.fills.items,function(e){if("solidColor"==e["class"]&&i.solidBackgrounds.push({color:r.convert(e.color,t.colorFormat)}),"gradient"==e["class"]){var n=e.gradient.interfaceIconFrameDimmed||4096,s=[];e.gradient.colors.forEach(function(e){s.push(r.convert(e.color,t.colorFormat)+" "+m(e.location,n)+"%")}),s=e.gradient.reverse?s.reverse():s;var o=-e.angle.value+90;i.gradients.push({style:e.type,colorsAndLocations:s,angle:o})}}),e.shape&&(e.shape.rotation&&(s.rotation=e.shape.rotation),e.shape.type==o.rectangle&&e.shape.rounds&&(e.shape.rounds[0]==e.shape.rounds[1]&&e.shape.rounds[0]==e.shape.rounds[2]&&e.shape.rounds[0]==e.shape.rounds[3]?i.borderRounds.push(v(e.shape.rounds[0],t)):(i.borderRounds.push(v(e.shape.rounds[0],t)),i.borderRounds.push(v(e.shape.rounds[1],t)),i.borderRounds.push(v(e.shape.rounds[2],t)),i.borderRounds.push(v(e.shape.rounds[3],t)))),e.shape.type==o.oval&&e.shape.rounds&&(e.shape.rounds[0]==e.shape.rounds[1]?i.borderRounds.push(v(e.shape.rounds[0],t)):(i.borderRounds.push(v(e.shape.rounds[0],t)),i.borderRounds.push(v(e.shape.rounds[1],t))))),e.layerEffects&&(e.layerEffects.borders&&e.layerEffects.borders.items&&a.forEach(e.layerEffects.borders.items,function(e){"solidColor"==e.fill["class"]&&(e.fill.color.alpha=e.fill.color.alpha?c(e.fill.color.alpha):e.fill.blendOptions?c(e.fill.blendOptions.opacity.value/100):1,i.borders.push({thickness:v(e.thickness||1,t),style:"solid",color:r.convert(e.fill.color,t.colorFormat)}))}),!e.text&&e.layerEffects.innerShadows&&e.layerEffects.innerShadows.items&&a.forEach(e.layerEffects.innerShadows.items,function(e){e.color.alpha=e.color.alpha?c(e.color.alpha):e.opacity?c(e.opacity.value/100):1,i.shadows.push({blur:v(e.blurRadius||0,t),spread:v(e.spreadRadius||0,t),style:"inner",color:r.convert(e.color,t.colorFormat),x:v(e.offset.x||0,t),y:v(e.offset.y||0,t)})}),e.layerEffects.dropShadows&&e.layerEffects.dropShadows.items&&a.forEach(e.layerEffects.dropShadows.items,function(e){e.color.alpha=e.color.alpha?c(e.color.alpha):e.opacity?c(e.opacity.value/100):1,i.shadows.push({blur:v(e.blurRadius||0,t),spread:v(e.spreadRadius||0,t),style:"drop",color:r.convert(e.color,t.colorFormat),x:v(e.offset.x||0,t),y:v(e.offset.y||0,t)})})),e.text&&e.text.textStyleRange&&a.forEach(e.text.textStyleRange,function(n){var s=n?e.text.textKey.substring(n.from,n.to).trim():[];if(s.length>0){var o={color:r.convert(n.textStyle.color,t.colorFormat),textValue:s.substring(0,10),fontName:n.textStyle.fontFamily?n.textStyle.fontFamily:n.textStyle.fontName,size:v(n.textStyle.size.innerValue,t,!0),align:b(e.text,n)};n.textStyle.letterSpacing&&0!=n.textStyle.letterSpacing&&(o.letterSpacing=c(n.textStyle.letterSpacing/100)),n.textStyle.lineSpacing&&(o.lineSpacing=v(n.textStyle.lineSpacing.innerValue,t,!0)),"allCaps"===n.textStyle.fontCaps?o.textTransform="uppercase":"smallCaps"===n.textStyle.fontCaps&&(o.fontVariant="small-caps"),n.textStyle.fontWeight&&n.textStyle.fontWeight!=u.normal&&n.textStyle.fontWeight!=u.regular&&(o.fontWeight=h[n.textStyle.fontWeight]),n.textStyle.fontStyle&&n.textStyle.fontStyle!=d.normal&&n.textStyle.fontStyle!=d.regular&&(o.fontStyle=p[n.textStyle.fontStyle]),i.texts.push(o)}}),e.text&&e.text.transform){var l=e.text.transform;l.scaleX&&l.scaleY?l.scaleX==l.scaleY?s.scaleAll=l.scaleX:s.scale={x:l.scaleX,y:l.scaleY}:l.scaleX?s.scaleX=l.scaleX:l.scaleY&&(s.scaleY=l.scaleY),l.skewX&&l.skewY?l.skewX==l.skewY?s.skewAll=l.skewX:s.skew={x:l.skewX,y:l.skewY}:l.skewX?s.skewX=l.skewX:l.skewY&&(s.skewY=l.skewY),l.translateX&&l.translateY?l.translateX==l.translateY?s.translateAll=l.translateX:s.translate={x:l.translateX,y:l.translateY}:l.translateX?s.translateX=l.translateX:l.translateY&&(s.translateY=l.translateY)}return a.isEmpty(s)||(i.transform=s),i},w=function(e,t,n){var i=y(t,n);return l.generate(e,n,i)};t.exports={build:w,getDefaults:g}},{"../ShapeTypeEnum":24,"../color-utils/ColorConverter":31,"../decimel-round-utility":38,"../fonts/fontNameMapping":41,"./WebStyleResultTypeEnum":46,"./WebStyleUnitsEnum":47,"./layer-styles-generator":63,underscore:682}],63:[function(e,t,n){"use strict";var i=e("./WebStyleResultTypeEnum"),s=e("twig");e("./generator-templates/css-template")(s),e("./generator-templates/less-template")(s),e("./generator-templates/sass-template")(s),e("./generator-templates/scss-template")(s),e("./generator-templates/stylus-template")(s),t.exports={generate:function(e,t,n){if(i.hasOwnProperty(e))return s.twig({ref:e}).render(n)}}},{"./WebStyleResultTypeEnum":46,"./generator-templates/css-template":48,"./generator-templates/less-template":49,"./generator-templates/sass-template":50,"./generator-templates/scss-template":51,"./generator-templates/stylus-template":52,twig:681}],64:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h1 v-if="!id">Create certificate</h1>\n    <h1 v-if="id">Update certificate</h1>\n  </div>\n  <form class="form-horizontal" v-on="submit: saveCertificate">\n    <div class="form-group">\n      <label class="col-xs-3 control-label" for="cert-title">\n        Title\n      </label>\n\n      <div class="col-xs-6">\n        <input id="cert-title" class="form-control" v-model="title" type="text" placeholder="ex. for Google SAML Auth" v-validate="required">\n        <div class="tooltip top" v-if="validation.title.required || validation.title.pattern"\n             role="tooltip">\n          <div class="tooltip-arrow"></div>\n          <div class="tooltip-inner">\n            Please fill out a valid certificate title\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-if="id">\n\n      <div class="form-group">\n        <label class="col-xs-3 control-label">\n          Certificate\n        </label>\n        <div class="col-xs-4" >\n          <input type="file" class="form-control" v-el="certificate"/>\n        </div>\n        <div class="col-xs-5" v-if="model.certificate">\n          <a class="btn btn-info btn-xs" v-attr="\'href\':\'/download/cert/\'+id+\'/certificate\'"><i class="fa fa-download"></i></a>\n          <div class="btn btn-danger btn-xs" v-on="click: onDeleteCertFile($event, \'Certificate\', \'certificate\')"><i class="fa fa-trash"></i></div>\n          <span>{{model.certificate.originalFilename}}</span>\n        </div>\n      </div>\n\n      <div class="form-group">\n        <label class="col-xs-3 control-label">\n          Public Key\n        </label>\n        <div class="col-xs-4" >\n          <input type="file" class="form-control" v-el="publicKey"/>\n        </div>\n        <div class="col-xs-5" v-if="model.publicKey">\n          <a class="btn btn-info btn-xs" v-attr="\'href\':\'/download/cert/\'+id+\'/publicKey\'"><i class="fa fa-download"></i></a>\n          <div class="btn btn-danger btn-xs" v-on="click: onDeleteCertFile($event, \'Public key\', \'publicKey\')"><i class="fa fa-trash"></i></div>\n          <span>{{model.publicKey.originalFilename}}</span>\n        </div>\n      </div>\n\n      <div class="form-group">\n        <label class="col-xs-3 control-label">\n          Private Key\n        </label>\n        <div class="col-xs-4" >\n          <input type="file" class="form-control" v-el="privateKey"/>\n        </div>\n        <div class="col-xs-5" v-if="model.privateKey">\n          <a class="btn btn-info btn-xs" v-attr="\'href\':\'/download/cert/\'+id+\'/privateKey\'"><i class="fa fa-download"></i></a>\n          <div class="btn btn-danger btn-xs" v-on="click: onDeleteCertFile($event, \'Private key\', \'privateKey\')"><i class="fa fa-trash"></i></div>\n          <span>{{model.privateKey.originalFilename}}</span>\n        </div>\n      </div>\n\n    </div>\n    <div class="form-group">\n      <div class="col-xs-offset-3 col-xs-4">\n        <button class="btn btn-primary" v-if="!id">Create</button>\n        <button class="btn btn-primary" v-if="id">Update</button>\n      </div>\n      <div class="col-xs-offset-1 col-xs-4">\n        <a class="btn btn-warning" href="#!/certificates">Back</a>\n      </div>\n    </div>\n  </form>\n</section>\n'},{}],65:[function(e,t,n){"use strict";e("underscore");t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.id=this.$root.route.params[0],this.id&&this.loadCertificate()},data:function(){return{id:null,model:{},title:""}},methods:{loadCertificate:function(){var e=this,t=this.$api.get("/certificates/"+this.id).then(function(t){e.model=t.data,e.title=t.data.title});this.$api(t)},saveCertificate:function(e){e.preventDefault();var t=this;if(this.valid){var n=this.id?"put":"post",i=this.id?"/certificates/"+this.id:"/certificates",s=void 0;if(this.id){var o=new FormData;o.append("certificate",this.$$.certificate.files[0]),o.append("publicKey",this.$$.publicKey.files[0]),o.append("privateKey",this.$$.privateKey.files[0]),s={data:o}}else{var r={title:this.title};s={body:r}}var a=this.$api[n](i,s).then(function(e){t.$dispatch("notify","success","Certificate saved"),t.id?t.model=e.data:t.$dispatch("lanes:path","certificates/"+e.data.id+"/edit")});this.$api(a)}},onDeleteCertFile:function(e,t,n){e.preventDefault(),bootbox.confirm("Are you sure you want to delete "+t+" file?",function(e){e&&this.deleteCertificateFile(n)}.bind(this))},deleteCertificateFile:function(e){var t=this,n="/certificates/"+this.id+"/file",i={type:e},s=this.$api.put(n,{body:i}).then(function(n){t.$dispatch("notify","success",e+" file deleted"),t.model=n.data});this.$api(s)}}}},{"./index.html":64,underscore:682}],66:[function(e,t,n){t.exports='<section class="container">\n\n  <div class="page-header">\n    <h3>Certificates</h3>\n  </div>\n  <table class="table table-hover">\n    <thead>\n    <tr>\n      <td>Title</td>\n      <td>Cert</td>\n      <td>PublicKey</td>\n      <td>PrivateKey</td>\n      <td></td>\n    </tr>\n    </thead>\n    <tbody>\n    <tr v-repeat="cert: certificates">\n      <td>{{cert.title}}</td>\n      <td>{{cert.certificate ? \'Y\' : \'N\'}}</td>\n      <td>{{cert.publicKey ? \'Y\' : \'N\'}}</td>\n      <td>{{cert.privateKey ? \'Y\' : \'N\'}}</td>\n      <td class="text-right">\n        <a class="btn btn-primary btn-sm" href="#!/certificates/{{cert.id}}/edit"><i class="fa fa-pencil"></i> Edit</a>\n        <a class="btn btn-primary btn-sm" v-on="click: onDeleteCertificateClick($event, cert.id)"><i class="fa fa-remove"></i> Delete</a>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <p v-if="!certificates.length">\n    no certificates to be displayed...\n  </p>\n\n  <hr/>\n  <a class="btn btn-default" href="#!/certificates/create">Create certificate</a>\n\n  <hr>\n  <div class="text-left pull-left"\n       v-component="pagination"\n       current-page="{{currentPage}}"\n       per-page="{{perPage}}"\n       total-pages="{{totalPages}}"></div>\n</section>\n';
},{}],67:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),components:{pagination:e("../../common/simple-pagination")},data:function(){return{certificates:[],currentPage:0,totalPages:1,perPage:10}},created:function(){this._loadCertificates(),this.$on("change:page",function(e){this.currentPage=e,this._loadCertificates()})},methods:{_loadCertificates:function(){var e=this,t={skip:this.currentPage*this.perPage,limit:this.perPage};this.$api(this.$api.get("/certificates",{qs:t}).then(function(t){e.certificates=t.data||[],e.totalPages=Math.ceil(t.count/e.perPage)}))},onDeleteCertificateClick:function(e,t){e.preventDefault(),bootbox.confirm("Are you sure you want to delete Certificate ?",function(e){e&&this._deleteCertificate(t)}.bind(this))},_deleteCertificate:function(e){var t=this;this.$api(this.$api["delete"]("/certificates/"+e,{}).then(function(e){t.$dispatch("notify","success","Certificate deleted"),t.currentPage=0,t._loadCertificates()}))}}}},{"../../common/simple-pagination":191,"./index.html":66}],68:[function(e,t,n){t.exports='<section class="container">\n\n  <div class="page-header">\n    <h3>Companies</h3>\n  </div>\n  <table class="table table-hover">\n    <thead>\n    <tr>\n      <td>Name</td>\n      <td>Is active</td>\n      <td>SAML SSO</td>\n      <td>SAML SLO</td>\n      <td></td>\n    </tr>\n    </thead>\n    <tbody>\n    <tr v-repeat="company: companies">\n      <td>{{company.name}}</td>\n      <td>{{company.isActive ? \'Y\': \'N\'}}</td>\n      <td>{{company.settings.saml.ssoEnabled ? \'Y\' : \'N\'}}</td>\n      <td>{{company.settings.saml.sloEnabled ? \'Y\' : \'N\'}}</td>\n      <td class="text-right">\n        <a class="btn btn-primary btn-sm" href="#!/companies-settings/{{company.id}}/saml" v-if="company.isActive"><i class="fa fa-pencil"></i> SAML</a>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <p v-if="!companies.length">\n    no companies to be displayed...\n  </p>\n\n  <hr>\n  <div class="text-left pull-left"\n       v-component="pagination"\n       current-page="{{currentPage}}"\n       per-page="{{perPage}}"\n       total-pages="{{totalPages}}"></div>\n</section>\n'},{}],69:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),components:{pagination:e("../../common/simple-pagination")},data:function(){return{companies:[],currentPage:0,totalPages:1,perPage:10}},created:function(){this._loadCompanies(),this.$on("change:page",function(e){this.currentPage=e,this._loadCompanies()})},methods:{_loadCompanies:function(){var e=this,t={skip:this.currentPage*this.perPage,limit:this.perPage};this.$api(this.$api.get("/companies",{qs:t}).then(function(t){e.companies=t.data||[],e.totalPages=Math.ceil(t.count/e.perPage)}))}}}},{"../../common/simple-pagination":191,"./index.html":68}],70:[function(e,t,n){t.exports='<section class="container" v-if="company && saml">\n  <div class="page-header">\n    <h1>SAML settings</h1>\n  </div>\n  <form class="form-horizontal" v-on="submit: saveSaml">\n\n    <div class="form-group">\n      <div class="col-xs-3 control-label" for="sso-enabled"></div>\n\n      <div class="col-xs-6">\n        <label for="sso-enabled">\n          <input id="sso-enabled" v-model="ssoEnabled" type="checkbox">\n          Enable Single Sign On\n        </label>\n      </div>\n    </div>\n\n    <div class="form-group" v-if="ssoEnabled">\n      <div class="col-xs-3 control-label" for="slo-enabled"></div>\n\n      <div class="col-xs-6">\n        <label for="slo-enabled">\n          <input id="slo-enabled" v-model="sloEnabled" type="checkbox">\n          Enable Single Log Out\n        </label>\n      </div>\n    </div>\n\n    <div class="form-group" v-if="ssoEnabled">\n      <div class="col-xs-3 control-label" for="sandbox-enabled"></div>\n\n      <div class="col-xs-6">\n        <label for="sandbox-enabled">\n          <input id="sandbox-enabled" v-model="sandboxEnabled" type="checkbox">\n          Enable Sandbox\n        </label>\n      </div>\n    </div>\n\n    <div class="form-group" v-if="ssoEnabled" v-class="\'has-error\': (validation && validation.domain && validation.domain.invalid && (validation.domain.dirty || isSubmitted)) || domainInvalid">\n      <label class="col-xs-3 control-label" for="domain">Company ID/Domain</label>\n\n      <div class="col-xs-6">\n        <input id="domain" class="form-control" type="text" placeholder="sympli"\n               v-on="blur: domainValidate"\n               v-model="domain"\n               v-validate="required, domain">\n        <div class="tooltip top" v-if="(validation && validation.domain && validation.domain.invalid) && (validation.domain.dirty || isSubmitted)" role="tooltip">\n          <div class="tooltip-arrow"></div>\n          <div class="tooltip-inner">\n            <span v-if="validation.domain.required">Company ID is required</span>\n            <span v-if="!validation.domain.required && validation.domain.domain">Company ID is not valid</span>\n            <span v-if="domainInvalid">Company with that Company ID already taken</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group" v-if="ssoEnabled">\n      <label class="col-xs-3 control-label">Single Sign On URL</label>\n\n      <div class="col-xs-6">\n        <div class="ellipsis" style="padding-top: 9px;">\n          <a v-clipboard data-clipboard-target="#text-sympli-sso-url" id="text-sympli-sso-url">{{sympliSsoUrl}}</a>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group" v-if="ssoEnabled && sloEnabled">\n      <label class="col-xs-3 control-label">Single Logout URL</label>\n\n      <div class="col-xs-6">\n        <div class="ellipsis" style="padding-top: 9px;">\n          <a v-clipboard data-clipboard-target="#text-sympli-slo-url" id="text-sympli-slo-url">{{sympliSloUrl}}</a>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group" v-if="ssoEnabled">\n      <label class="col-xs-3 control-label">Issuer</label>\n\n      <div class="col-xs-6">\n        <div class="ellipsis" style="padding-top: 9px;">\n          <a v-clipboard data-clipboard-target="#text-sympli-issuer" id="text-sympli-issuer">{{sympliIssuer}}</a>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group" v-if="ssoEnabled">\n      <label class="col-xs-3 control-label">Sympli Metadata URL</label>\n\n      <div class="col-xs-6">\n        <div class="ellipsis" style="padding-top: 9px;">\n          <a v-clipboard data-clipboard-target="#text-metadata-url" id="text-metadata-url">{{sympliMetadataUrl}}</a>\n        </div>\n      </div>\n    </div>\n\n    <hr v-if="ssoEnabled"/>\n\n    <div class="form-group" v-if="ssoEnabled" v-class="\'has-error\': !isMetadataValid">\n      <label class="col-xs-3 control-label" for="metadata-url">IDP Metadata URL</label>\n\n      <div class="col-xs-6">\n        <input type="url" id="metadata-url" class="form-control" v-model="metadataUrl">\n      </div>\n    </div>\n\n    <div class="form-group" v-if="ssoEnabled">\n      <div class="col-xs-3"></div>\n      <div class="col-xs-6">Or</div>\n    </div>\n\n    <div class="form-group" v-if="ssoEnabled" v-class="\'has-error\': !isMetadataValid">\n      <label class="col-xs-3 control-label" for="metadata-xml">IDP Metadata XML</label>\n\n      <div class="col-xs-6">\n        <textarea id="metadata-xml" class="form-control" rows="10" v-model="metadataXml"></textarea>\n      </div>\n    </div>\n\n    <hr v-if="ssoEnabled"/>\n\n    <div class="form-group" v-if="ssoEnabled">\n      <label class="col-xs-3 control-label" for="private-cert">privateCert</label>\n\n      <div class="col-xs-3">\n          <select id="private-cert" v-model="privateCert">\n            <option v-attr="selected: !privateCert"></option>\n            <option v-repeat="cert: certificates" value="{{cert.id}}" v-attr="selected: privateCert === cert.id">{{cert.title}}</option>\n          </select>\n      </div>\n\n      <div class="col-xs-6">\n        <p>Authentication requests sent by Passport-SAML can be signed using RSA-SHA1. To sign them you need to provide a private key in the PEM format via the privateCert configuration key</p>\n      </div>\n    </div>\n\n    <div class="form-group" v-if="ssoEnabled">\n      <label class="col-xs-3 control-label" for="decryption-pvk">decryptionPvk</label>\n\n      <div class="col-xs-3">\n        <select id="decryption-pvk" v-model="decryptionPvk">\n          <option v-attr="selected: !decryptionPvk"></option>\n          <option v-repeat="cert: certificates" value="{{cert.id}}" v-attr="selected: decryptionPvk === cert.id">{{cert.title}}</option>\n        </select>\n      </div>\n\n      <div class="col-xs-6">\n        <p>Optional private key that will be used to attempt to decrypt any encrypted assertions that are received</p>\n      </div>\n    </div>\n\n    <hr v-if="ssoEnabled"/>\n\n    <div class="form-group" v-if="ssoEnabled">\n      <div class="col-xs-3 control-label" for="override"></div>\n\n      <div class="col-xs-6">\n        <label for="override">\n          <input id="override" v-model="isOverridden" type="checkbox">\n          Override settings\n        </label>\n      </div>\n    </div>\n\n    <div class="form-group" v-if="ssoEnabled && isOverridden">\n      <label class="col-xs-3 control-label" for="sso-service-url">SSO IDP URL</label>\n\n      <div class="col-xs-6">\n        <input type="url" id="sso-service-url" class="form-control" v-model="ssoServiceUrl">\n      </div>\n    </div>\n\n    <div class="form-group" v-if="sloEnabled && isOverridden">\n      <label class="col-xs-3 control-label" for="slo-service-url">SLO IDP URL</label>\n\n      <div class="col-xs-6">\n        <input type="url" id="slo-service-url" class="form-control" v-model="sloServiceUrl">\n      </div>\n    </div>\n\n    <div class="form-group" v-if="ssoEnabled && isOverridden">\n      <label class="col-xs-3 control-label" for="entity-id">Entity ID</label>\n\n      <div class="col-xs-6">\n        <input type="text" id="entity-id" class="form-control" v-model="entityId">\n      </div>\n    </div>\n\n    <div class="form-group" v-if="ssoEnabled && isOverridden">\n      <label class="col-xs-3 control-label" for="name-id-format">Name ID Format</label>\n\n      <div class="col-xs-6">\n        <input type="text" id="name-id-format" class="form-control" v-model="nameIdFormat">\n      </div>\n    </div>\n\n    <div class="form-group" v-if="ssoEnabled && isOverridden">\n      <label class="col-xs-3 control-label" for="issuer">Issuer</label>\n\n      <div class="col-xs-6">\n        <input type="text" id="issuer" class="form-control" v-model="oIssuer">\n      </div>\n    </div>\n\n    <div class="form-group" v-if="ssoEnabled && isOverridden">\n      <label class="col-xs-3 control-label" for="cert">IDP Certificate</label>\n\n      <div class="col-xs-6">\n        <textarea id="cert" class="form-control" rows="10" v-model="cert"></textarea>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <div class="col-xs-offset-3 col-xs-4">\n        <button type="submit" class="btn btn-primary" v-attr="disabled:inProgressSettings">Save settings</button>\n      </div>\n    </div>\n  </form>\n</section>\n'},{}],71:[function(e,t,n){"use strict";function i(e,t){return t?window.config.saml.domainTemplate.replace("{{domain}}",e)+t:window.config.saml.domainTemplate.replace("{{domain}}",e)}function s(e,t){return window.config.baseUrl+t+"/"+e}var o=e("underscore");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{inProgressSettings:!1,isSubmitted:!1,id:null,company:null,saml:null,certificates:[],sandboxEnabled:!1,ssoEnabled:!1,domain:"",metadataUrl:"",metadataXml:"",sloEnabled:!1,privateCert:void 0,decryptionPvk:void 0,isOverridden:!1,ssoServiceUrl:"",sloServiceUrl:"",entityId:"",nameIdFormat:"",oIssuer:"",cert:""}},ready:function(){this.id=this.$root.route.params[0],this.id&&(this._loadCertificates(),this._loadCompany())},methods:{_loadCertificates:function(){var e=this;this.$api(this.$api.get("/certificates").then(function(e){this.certificates=e.data}.bind(e)))},_loadCompany:function(){var e=this;this.$api(this.$api.get("/companies/"+this.id).then(function(e){this.company=e.data,this.saml=this.company&&this.company.settings?this.company.settings.saml:null,this.saml&&(this.sandboxEnabled=this.saml.sandboxEnabled,this.ssoEnabled=this.saml.ssoEnabled,this.domain=this.saml.domain,this.metadataUrl=this.saml.metadataUrl,this.metadataXml=this.saml.metadataXml,this.sloEnabled=this.saml.sloEnabled,this.privateCert=this.saml.privateCert,this.decryptionPvk=this.saml.decryptionPvk,this.isOverridden=this.saml.isOverridden,this.ssoServiceUrl=this.saml.ssoServiceUrl,this.sloServiceUrl=this.saml.sloServiceUrl,this.entityId=this.saml.entityId,this.nameIdFormat=this.saml.nameIdFormat,this.oIssuer=this.saml.oIssuer||this.sympliIssuer,this.cert=this.saml.cert)}.bind(e)))},saveSaml:function(e){e.preventDefault(),e.stopPropagation();var t=this;if(!this.ssoEnabled||!this.domainInvalid&&this.isMetadataValid){this.inProgressSettings=!0,this.isSubmitted=!0;var n={sandboxEnabled:this.sandboxEnabled,ssoEnabled:this.ssoEnabled,domain:this.domain,metadataUrl:this.metadataUrl,metadataXml:this.metadataXml,sloEnabled:this.sloEnabled,privateCert:this.privateCert,decryptionPvk:this.decryptionPvk};if(this.isOverridden){var i={isOverridden:this.isOverridden,ssoServiceUrl:this.ssoServiceUrl,sloServiceUrl:this.sloServiceUrl,entityId:this.entityId,nameIdFormat:this.nameIdFormat,oIssuer:this.oIssuer,cert:this.cert};o.extend(n,i)}var s=this.$api.put("/companies/"+this.id+"/settings/saml",{body:n}).then(function(e){t.$dispatch("notify","success","SAML settings updated"),t.$dispatch("lanes:path","companies-settings/"+t.id+"/saml"),window.location.reload(),t.inProgressSettings=!1})["catch"](t.$api.safeCatch(function(){t.inProgressSettings=!1}));this.$api(s)}},domainValidate:function(){if(!this.validation.domain.required&&!this.validation.domain.domain&&this.saml.domain!==this.domain){var e={body:{domain:this.domain}},t=this,n=this.$api.post("/companies/validate/domain",e).then(function(e){t.domainInvalid=!e.data,t.domainInvalid&&t.$dispatch("notify","warning","Domain already exists")})["catch"](t.$api.safeCatch(function(){t.domainInvalid=!0}));this.$api(n)}},_buildSamlUrl:function(e,t){return this.domain?this.sandboxEnabled?i(this.domain,e):s(this.domain,t):""}},computed:{sympliSsoUrl:function(){return this._buildSamlUrl(window.config.saml.ssoPath,window.config.saml.ssoUrl)},sympliSloUrl:function(){return this._buildSamlUrl(window.config.saml.sloPath,window.config.saml.sloUrl)},sympliIssuer:function(){return this._buildSamlUrl(null,window.config.saml.ssoUrl)},sympliMetadataUrl:function(){return this._buildSamlUrl(window.config.saml.metadataPath,window.config.saml.metadataPath)},isMetadataValid:function(){return this.metadataUrl||this.metadataXml}},validator:{validates:{domain:function(e){return/^[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?$/.test(e)}}}}},{"./index.html":70,underscore:682}],72:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h1 v-if="!id">Create announcement</h1>\n\n    <h1 v-if="id">Update announcement</h1>\n  </div>\n  <form class="form-horizontal" v-on="submit: saveAnnouncement">\n    <div class="form-group" v-class="\'has-error\': validation && validation.announcementName && validation.announcementName.invalid && (validation.announcementName.dirty || isSubmitted)">\n      <label class="col-xs-3 control-label" for="announcement-name">Name</label>\n\n      <div class="col-xs-6">\n        <input id="announcement-name" class="form-control" v-model="announcementName" type="text" placeholder="Name" v-validate="required">\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="col-xs-3 control-label" for="announcement-body">Description</label>\n\n      <div class="col-xs-6">\n        <textarea class="form-control" v-model="announcementBody" id="announcement-body" name="announcement-body" cols="30" rows="5"></textarea>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <div class="col-xs-offset-3 col-xs-4">\n        <button class="btn btn-primary" v-if="!id">Create</button>\n        <button class="btn btn-primary" v-if="id">Update</button>\n      </div>\n    </div>\n  </form>\n</section>\n'},{}],73:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./form.html"),ready:function(){this.id=this.$root.route.params[0],this.id&&this.loadAnnouncement()},data:function(){return{id:null,model:{},announcementName:"",announcementBody:""}},methods:{loadAnnouncement:function(){var e=this,t=this.$api.get("/announcements/"+this.$root.route.params[0]).then(function(t){e.model=t.data,e.announcementName=e.model.name,e.announcementBody=e.model.body});this.$dispatch("request",t)},saveAnnouncement:function(e){e.preventDefault();var t=this;if(this.valid){var n=this.id?"put":"post",i=this.id?"/announcements/"+this.id:"/announcements",s={name:t.announcementName,body:t.announcementBody};this.$api(this.$api[n](i,{body:s}).then(function(e){t._reset(),t.$dispatch("notify","success","Announcement saved"),t.id?t.$dispatch("lanes:path","announcements"):t.$dispatch("lanes:path","announcements/"+e.data.id+"/edit")}))}},_reset:function(){}}}},{"./form.html":72}],74:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h3>Announcements</h3>\n  </div>\n\n  <div class="filter clearfix">\n    <form class="form-inline pull-right" v-on="submit: onFilter">\n      <input id="filter-invite-email" class="form-control input-sm" v-model="filter.name" type="text" placeholder="name">\n      <button type="submit" class="btn btn-sm btn-default">Filter</button>\n    </form>\n  </div>\n\n  <hr>\n\n  <div class="invites">\n    <table class="table table-hover">\n      <thead>\n      <tr>\n        <td>Name</td>\n        <td>Body</td>\n        <td>Published</td>\n        <td>Created</td>\n        <td></td>\n        <td></td>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-repeat="announcement: announcements">\n        <td>{{announcement.name}}</td>\n        <td>{{announcement.body}}</td>\n        <td>\n          <span v-if="announcement.publishedAt">{{announcement.publishedAt | moment short}}</span>\n          <span v-if="!announcement.publishedAt">\n            not published.\n            <a class="btn btn-info btn-sm" href="#" v-on="click: onPublishAnnouncement($event, announcement.id)"><i class="fa fa-globe"></i> Publish</a>\n          </span>\n        </td>\n        <td>{{announcement.createdAt | moment short}}</td>\n        <td class="text-right">\n          <a class="btn btn-primary btn-sm" href="#!/announcements/{{announcement.id}}/edit"><i class="fa fa-pencil "></i> Edit</a>\n        </td>\n        <td class="text-right">\n          <a class="btn btn-danger btn-sm" href="#" v-on="click: onDeleteAnnouncement($event, announcement.id)"><i class="fa fa-remove"></i> Delete</a>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n\n    <p v-if="!announcements.length">\n      no announcements to be displayed...\n    </p>\n  </div>\n\n  <hr/>\n  <a class="btn btn-default" href="#!/announcements/create">Create announcement</a>\n</section>\n'},{}],75:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,template:e("./index.html"),created:function(){this._loadAnnouncements(),this.$on("change:page",function(e){this.currentPage=e,this._loadVersions()}),this.$watch("typeFilter",function(){this.filter()}),this.$watch("statusFilter",function(){this.filter()})},data:function(){return{announcements:[],filter:{name:""},currentPage:0,totalPages:1,perPage:10}},methods:{onFilter:function(e){e.preventDefault(),this.resetPaginationParams(),this._loadAnnouncements()},resetPaginationParams:function(){this.currentPage=0,this.totalPages=1},_loadAnnouncements:function(){var e=this,t={skip:this.currentPage*this.perPage,limit:this.perPage};i.each(this.$data.filter,function(e,n){this.$data.filter[n]&&(t[n]=e)},this),t.sort="alias",this.$api(this.$api.get("/announcements",{qs:t}).then(function(t){e.announcements=t.data||[]}))},onDeleteAnnouncement:function(e,t){e.preventDefault(),confirm("Are you sure you want to DELETE announcement?\nIt will delete all related notifications")&&this.$api(this.$api["delete"]("/announcements/"+t).then(function(e){this.$dispatch("notify","success","Announcement was deleted"),this._loadAnnouncements()}.bind(this)))},onPublishAnnouncement:function(e,t){e.preventDefault(),confirm("Are you sure you want to PUBLISH announcement?\nIt will create notifications for all active users.\nOnce announcement published it cannot be unpublished (but can be deleted)")&&this.$api(this.$api.post("/announcements/"+t+"/publish").then(function(e){this.$dispatch("notify","success","Announcement was published"),this._loadAnnouncements()}.bind(this)))}},components:{pagination:e("../common/simple-pagination")}}},{"../common/simple-pagination":191,"./index.html":74,underscore:682}],76:[function(e,t,n){t.exports='<div class="brandbook-box">\n  <a class="btn-edit" href="#!/brandbooks/{{brandbook.id}}">\n    <span class="brandbook-name ellipsis">{{brandbook.name}}</span>\n    <span class="brandbook-moment ellipsis">{{brandbook.updatedAt | moment short}}</span>\n  </a>\n  <div class="sympli-dialog-block">\n    <a class="icon-remove" href="#" v-on="click: onShowDeleteBrandbook">\n      <span class="sympli-icon icon-menu_delete_icon"></span>\n    </a>\n  </div>\n</div>\n<div v-component="popup-prompt-dialog" v-with="title: \'Delete brandbook\', onSuccess: onDeleteBrandbook, isActive: showDelete"></div>\n'},{}],77:[function(e,t,n){"use strict";e("underscore");t.exports={inherit:!0,template:e("./index.html"),created:function(){},data:function(){return{brandbook:{},showDelete:!1}},methods:{onShowDeleteBrandbook:function(e){e.preventDefault(),this.showDelete=!this.showDelete},onDeleteBrandbook:function(e){e.preventDefault(),e.stopPropagation();var t=this;this.$api(this.$api["delete"]("/brandbooks/"+this.brandbook.id).then(function(e){t.$dispatch("notify","success","Brandbook was deleted"),t._loadBrandbooks()}))}},components:{"popup-prompt-dialog":e("../../modals/popup-prompt-dialog")}}},{"../../modals/popup-prompt-dialog":283,"./index.html":76,underscore:682}],78:[function(e,t,n){t.exports='<section class="container" v-class="container__blog-link: brandbook.fonts.length == 0 && brandbook.colors.length == 0, container__blog-picture: isEditing && isNew">\n  <div class="page-header page-header__edit" v-class="\'page-header__noline\': isNew">\n    <form class="form-horizontal" v-on="submit: onSaveBrandbookName" v-if="brandbook">\n      <h2 v-show="!isEditing" class="ellipsis" v-text="brandbook.name" v-on="click: onToggleNameEditing" title="Click to edit Name" v-doc-subtitle="brandbook.name"></h2>\n\n      <div v-show="isEditing" class="input-group input-group__edit-form">\n        <input class="form-control"\n               v-model="brandbookName"\n               v-validate="required, maxLength: 255"\n               v-on="blur: onBlurNameInput, focus: onFocusNameInput"\n               placeholder="Brandbook name"\n               v-focus="isEditing" >\n\n        <div class="tooltip top" v-if="validation && ((validation.brandbookName.invalid && brandbookNameDirty) || (validation.brandbook && validation.brandbook.name && validation.brandbook.name.invalid && (validation.brandbook.name.dirty || isNameSubmitted || !brandbook.name)))">\n          <div class="tooltip-arrow"></div>\n          <div class="tooltip-inner">\n            Please fill out a valid brandbook name\n          </div>\n        </div>\n\n        <div class="input-group-btn" v-if="isNew">\n          <button class="btn btn-default" v-on="click: onCancelCreationClick" type="button">Cancel</button>\n          <button class="btn btn-primary" type="submit">Create Brandbook</button>\n        </div>\n        <div class="input-group-btn" v-if="!isNew">\n          <button class="btn btn-default" type="submit">Done</button>\n        </div>\n      </div>\n    </form>\n  </div>\n\n  <div class="brandbook_container row" v-if="brandbook && brandbook.id">\n    <div class="col-xs-9">\n      <h4>Brand Colors</h4>\n      <div class="sympli-box color_block">\n        <div class="brandbook-item-block" v-repeat="color: brandbook.colors" v-component="brandbook-color" v-with="brandbook: brandbook"></div>\n        <div class="brandbook-item-block">\n          <a class="brandbook-add-link" href="#" v-on="click: onAddColor">\n            <span class="brandbook-add-link__name">Add color</span>\n            <span class="brandbook-add-link__icon sympli-icon icon-plus_dark"></span>\n          </a>\n        </div>\n      </div>\n    </div>\n\n    <div class="col-xs-3">\n      <h4>Fonts</h4>\n      <div class="sympli-box fonts_block">\n        <div class="fonts_block-section" v-repeat="font: brandbook.fonts" v-component="brandbook-font" v-with="brandbook: brandbook"></div>\n        <div class="fonts_block-section">\n          <a class="brandbook-add-link" href="#" v-on="click: onAddFont">\n            <span class="brandbook-add-link__name">Add font</span>\n            <span class="brandbook-add-link__icon sympli-icon icon-plus_dark"></span>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="brandbook_container__post" v-if="brandbook.fonts.length == 0 && brandbook.colors.length == 0 && isReady">\n    <div class="container">\n      <span class="sympli-icon icon-new_brandbook" v-if="isEditing && isNew"></span>\n      <div>\n        Read our blog post<br/>\n        <a href="https://sympli.io/blog/2016/09/29/how-to-simplify-the-design-handoff-by-creating-style-guides/" target="_blank">How to Simplify Design Handoff By Creating Style Guides</a>\n      </div>\n    </div>\n  </div>\n</section>\n'},{}],79:[function(e,t,n){"use strict";var i=e("sympli-enums").Scopes;t.exports={inherit:!0,template:e("./brandbook.html"),ready:function(){this.id=this.$root.route.params[0],this.id?this._loadBrandbook():this.isEditing=!0},data:function(){return{isNameSubmitted:!1,isEditing:!1,id:null,brandbookName:null,brandbook:{name:"",colors:[],fonts:[]},isSaving:!1,containerHeight:null,blockHeight:null,creationTimeout:null,brandbookNameDirty:!1,isReady:!1}},computed:{isNew:function(){return!this.id},isOwner:function(){return this.brandbook&&this.brandbook.user==this.user.id}},components:{"brandbook-color":e("./color"),"brandbook-font":e("./font")},methods:{onToggleNameEditing:function(e){e.preventDefault(),this.isEditing=!this.isEditing,this.isEditing&&(this.brandbookName=this.brandbook.name)},onBlurNameInput:function(){this.brandbookNameDirty=!0,(!this.isNew||this.brandbookName&&0!=this.brandbookName.trim().length)&&(this.brandbook.name.trim()==this.brandbookName.trim()?this.isEditing=!1:this.isNew?this.creationTimeout=setTimeout(function(){this.onSaveBrandbookName()}.bind(this),200):this.onSaveBrandbookName())},onFocusNameInput:function(){this.brandbookNameDirty=!1},onCancelCreationClick:function(){this.creationTimeout&&(clearTimeout(this.creationTimeout),this.creationTimeout=null),this.$dispatch(i.lanes.path,"brandbooks")},onAddColor:function(e){e.preventDefault();var t={name:"",hex:""};setTimeout(function(){this.brandbook.colors.push(t)}.bind(this),100)},onAddFont:function(e){e.preventDefault();var t={name:"",url:""};setTimeout(function(){this.brandbook.fonts.push(t)}.bind(this),100)},_loadBrandbook:function(){var e=this;this.$api(this.$api.get("/brandbooks/"+this.$root.route.params[0],{},!0,!0).then(function(t){e.setBrandbook(t.data),e.loaded=!0,e.$dispatch(i.loaded.brandbook.data,t.data),e.isReady=!0}))},setBrandbook:function(e){this.brandbookSnapshot=JSON.stringify(e),this.brandbook=e,this.brandbookName=e.name},onSaveBrandbookName:function(e){e&&e.preventDefault(),this.isNameSubmitted=!0,this.invalid||this.isSaving||this.saveBrandbook({name:this.brandbookName})},saveBrandbook:function(e){var t=this.isNew,n=t?"post":"put",s="/brandbooks"+(t?"":"/"+this.id),o=this;o.isSaving=!0,this.$api[n](s,{body:e}).then(function(e){o.$dispatch("notify","success","Brandbook saved"),o.brandbook=e.data,t?o.$dispatch(i.lanes.path,"brandbooks/"+e.data.id):(o.$dispatch(i.loaded.brandbook.data,e.data),o.isEditing=!1,o.isSaving=!1)})},_reset:function(){this.brandbookName=""}}}},{"./brandbook.html":78,"./color":81,"./font":83,"sympli-enums":524}],80:[function(e,t,n){t.exports='<div class="s-color" v-class="editing: isEditing">\n  <div class="s_color-box">\n    <div class="s_color-box-vertical s_color-box-vertical__color">\n      <span v-style="background: colorHex"></span>\n    </div>\n\n    <div class="s_color-box-info" v-show="!isEditing">\n      <span class="s_color-box-hex ellipsis">{{color.hex}}</span>\n      <span class="s_color-box-name ellipsis">\n        <span class="s_color-box-name-title ellipsis">{{color.name}}</span>\n      </span>\n    </div>\n\n    <form class="s_color-box-info" v-show="isEditing" v-on="submit: onColorSave">\n      <input class="brandbook__item-input"\n             v-model="colorHex"\n             v-validate="required, pattern: \'/^#?[a-f0-9]{6}$/i\'"\n             v-focus="isEditing"\n             v-on="keyup: onChangeHex"\n             type="text" placeholder="#rrggbb"/>\n      <div class="tooltip top" v-if="validation && validation.colorHex && validation.colorHex.invalid && (validation.colorHex.dirty || isSubmitted)" role="tooltip">\n        <div class="tooltip-arrow"></div>\n        <div class="tooltip-inner">\n          Please fill out a color hex code\n        </div>\n      </div>\n\n      <input class="brandbook__item-input"\n             v-model="colorName"\n             v-validate="required"\n             type="text" placeholder="Name"/>\n      <div class="tooltip bottom" v-if="validation && validation.colorName && validation.colorName.invalid && (validation.colorName.dirty || isSubmitted)" role="tooltip">\n        <div class="tooltip-arrow"></div>\n        <div class="tooltip-inner">\n          Please fill out a color name\n        </div>\n      </div>\n\n      <div class="sympli-dialog-block sympli-dialog-block__visible">\n        <button class="icon-save btn-link" type="submit" title="Save">\n          <span class="sympli-icon icon-tick_dark"></span>\n        </button>\n      </div>\n    </form>\n\n    <div class="sympli-dialog-block" v-show="!isEditing">\n      <a class="icon-remove" v-if="color.id" v-on="click: onColorShowDelete" href="#" title="Remove">\n        <span class="sympli-icon icon-group-delete" aria-hidden="true"></span>\n      </a>\n      <span class="btn btn-xs btn-edit" v-on="click: onToggleEdit" title="Edit">\n        <i class="sympli-icon icon-edit_dark"></i>\n      </span>\n      <div v-component="popup-prompt-dialog" v-with="title: \'Delete color\', onSuccess: onColorDelete, isActive: showDelete"></div>\n    </div>\n\n  </div>\n</div>\n\n'},{}],81:[function(e,t,n){"use strict";var i=e("underscore");t.exports={template:e("./index.html"),data:function(){return{showDelete:!1,isSubmitted:!1,isEditing:!0,colorName:"",colorHex:""}},ready:function(){this.color.id&&(this.colorName=this.color.name,this.colorHex=this.color.hex,this.isEditing=!1),this.$watch("isEditing",function(e){e||this.onCancelEdit()}),this.$on("document:esc",function(){this.isEditing&&(this.isEditing=!1)}),this.$on("html:click",function(e){var t=$(e.target).closest(".s-color");t=t&&t.length>0,t||!this.isEditing&&void 0!=this.color.id||this.onColorSave()})},methods:{onToggleEdit:function(e){e.preventDefault(),this.isEditing=!this.isEditing},onChangeHex:function(e){var t=this.colorHex||"";6==t.length&&"#"!=t[0]&&(t="#"+t,this.colorHex=t)},onCancelEdit:function(){if(this.color.id){var e=i.find(this.brandbook.colors,this.color);this.colorName=e.name,this.colorHex=e.hex,this.isSubmitted=!1}else{var t=i.find(this.brandbook.colors,this.color);this.brandbook.colors.$remove(t)}},onColorShowDelete:function(e){e.preventDefault(),
this.showDelete=!this.showDelete},onColorDelete:function(e){if(e.preventDefault(),e.stopPropagation(),this.color.id){var t=this;this.$api(this.$api["delete"]("/brandbooks/"+t.brandbook.id+"/colors/"+t.color.id).then(function(e){t.$dispatch("notify","success","Brandbook color was deleted"),i.find(t.brandbook.colors,function(e,n){if(e.id==t.color.id)return t.brandbook.colors.$remove(n),!0})}))}},onColorSave:function(e){if(this.isSubmitted=!0,e&&e.preventDefault(),!this.invalid){var t=this,n=this.color.id,i="post",s="/brandbooks/"+this.brandbook.id+"/colors/";n&&(i="put",s+=n);var o={hex:t.colorHex,name:t.colorName};this.$api(this.$api[i](s,{body:o}).then(function(e){t.color.$set("id",e.data.id),t.color.$set("name",e.data.name),t.color.$set("hex",e.data.hex),t.$dispatch("notify","success","Color saved"),t.isEditing=!1}))}}},components:{"popup-prompt-dialog":e("../../modals/popup-prompt-dialog")}}},{"../../modals/popup-prompt-dialog":283,"./index.html":80,underscore:682}],82:[function(e,t,n){t.exports='<div class="m-font" v-class="editing: isEditing">\n\n  <div v-show="!isEditing">\n    <span class="m-font-name">\n      <span class="ellipsis">{{font.name}}</span>\n    </span>\n\n    <a class="button-download" href="{{font.url}}" title="{{font.fullName}}" v-show="!isEditing">\n      <span class="sympli-icon icon-arrow"></span>\n    </a>\n\n    <div class="sympli-dialog-block" v-show="!isEditing">\n      <a class="icon-remove" v-if="font.id" v-on="click: onFontShowRemove" href="#" title="Remove" v-show="!isEditing">\n        <span class="sympli-icon icon-group-delete"></span>\n      </a>\n      <span class="btn btn-xs btn-edit" v-on="click: onToggleEdit" title="Edit">\n        <i class="sympli-icon icon-edit_dark"></i>\n      </span>\n      <div v-component="popup-prompt-dialog" v-with="title: \'Delete font\', onSuccess: onFontRemove, isActive: showDelete"></div>\n    </div>\n  </div>\n\n  <form class="m-font__form" v-show="isEditing" v-on="submit: onFontSave">\n    <input class="brandbook__item-input ellipsis"\n           v-model="fontName"\n           v-validate="required"\n           v-focus="isEditing"\n           type="text" placeholder="Name"/>\n    <div class="ellipsis brandbook__font-font">\n      <input v-model="fileName" type="text" class="hidden" v-validate="required, pattern: \'/^(.*(.otf|.ttf))?$/i\'"/>\n\n      <span class="fileinput-button" title="{{fileName}}">\n        <span class="glyphicon glyphicon-paperclip"></span> {{ fileName ? \'New file\' : \'Add file\'}}\n        <input type="file" name="file" v-on="change: onFontFileChange, click:stopPropagation">\n      </span>\n    </div>\n\n    <div class="tooltip bottom" v-if="validation && validation.fileName && validation.fileName.invalid && (validation.fileName.dirty || isSubmitted)" role="tooltip">\n      <div class="tooltip-arrow"></div>\n      <div class="tooltip-inner">\n        Please select valid font file (TTF or OTF)\n      </div>\n    </div>\n    <div class="tooltip top" v-if="validation && validation.fontName && validation.fontName.invalid && (validation.fontName.dirty || isSubmitted)" role="tooltip">\n      <div class="tooltip-arrow"></div>\n      <div class="tooltip-inner">\n        Please fill out a font name\n      </div>\n    </div>\n\n    <div class="sympli-dialog-block">\n      <button class="icon-save btn-link" type="submit" title="Save">\n        <span class="sympli-icon icon-tick_dark"></span>\n      </button>\n    </div>\n  </form>\n</div>\n'},{}],83:[function(e,t,n){"use strict";var i=e("underscore");t.exports={template:e("./index.html"),data:function(){return{showDelete:!1,isSubmitted:!1,isEditing:!0,fileName:"",fontName:"",file:null,failed:!1}},ready:function(){this.font.id&&(this.fontName=this.font.name,this.fileName=this.font.fileName,this.isEditing=!1),this.$watch("isEditing",function(e){e||this.onCancelEdit()}),this.$watch("fileName",function(){this.failed=!1}),this.$watch("fontName",function(){this.failed=!1}),this.$on("document:esc",function(){this.isEditing&&(this.isEditing=!1)}),this.$on("html:click",function(e){var t=$(e.target).closest(".m-font");t=t&&t.length>0,t||!this.isEditing&&void 0!=this.font.id||this.onFontSave()})},methods:{onToggleEdit:function(e){e.preventDefault(),this.isEditing=!this.isEditing},onCancelEdit:function(){if(this.font.id){var e=i.find(this.brandbook.fonts,this.font);this.fileName=e.fileName,this.fontName=e.name,this.isSubmitted=!1}else{var t=i.find(this.brandbook.fonts,this.font);this.brandbook.fonts.$remove(t)}},onFontFileChange:function(e){var t=e.target.files||e.dataTransfer.files,n=t[0];n&&(this.file=n,this.fileName=n.name,this.fontName=this.fontName?this.fontName:n.name.slice(0,i.lastIndexOf(n.name,".")),$(this.$el).find("input.brandbook__item-input").focus(),this.failed=!1)},stopPropagation:function(e){e.stopPropagation()},onFontShowRemove:function(e){e.preventDefault(),this.showDelete=!this.showDelete},onFontRemove:function(e){if(e.preventDefault(),e.stopPropagation(),this.font.id){var t=this,n="/brandbooks/"+this.brandbook.id+"/fonts/"+this.font.id;this.$api(this.$api["delete"](n).then(function(e){t.$dispatch("notify","success","Brandbook font was deleted");var n=i.find(t.brandbook.fonts,{id:t.font.id});t.brandbook.fonts.$remove(n)}))}},onFontSave:function(e){if(e&&e.preventDefault(),this.isSubmitted=!0,!this.failed&&!this.invalid){var t=this,n=this.font.id,i="post",s="/brandbooks/"+this.brandbook.id+"/fonts/";n&&(i="put",s+=n);var o=new FormData;o.append("name",this.fontName),this.file&&o.append("file",this.file);var r=function(){t.isSubmitted&&(t.failed=!0)};this.$api(this.$api[i](s,{data:o},{maxTimeOut:12e4}).then(function(e){t.font.$set("id",e.data.id),t.font.$set("name",e.data.name),t.font.$set("fileName",e.data.fileName),t.font.$set("family",e.data.family),t.font.$set("subfamily",e.data.subfamily),t.font.$set("fullName",e.data.fullName),t.font.$set("postScriptName",e.data.postScriptName),t.font.$set("url",e.data.url),t.$dispatch("notify","success","Font saved"),t.isEditing=!1,r()})["catch"](t.$api.safeCatch(r)))}}},components:{"popup-prompt-dialog":e("../../modals/popup-prompt-dialog")}}},{"../../modals/popup-prompt-dialog":283,"./index.html":82,underscore:682}],84:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header clearfix">\n    <h2 class="pull-left">Brandbooks</h2>\n    <div class="sympli-dialog-layer add-link pull-right">\n      <a class="btn btn-primary" href="#!/brandbooks/create">New Brandbook</a>\n    </div>\n  </div>\n\n  <div class="row search-container brandbook_search" v-if="isBrandbookSearch">\n    <div class="col-xs-4 common-search-container">\n      <div v-component="search-input"></div>\n    </div>\n  </div>\n\n  <div\n    v-component="pagination"\n    current-page="{{currentPage}}"\n    per-page="{{perPage}}"\n    total-pages="{{totalPages}}"></div>\n\n  <div class="row">\n    <div class="col-xs-3 brandbook-list-item" v-repeat="brandbook: brandbooks">\n      <div v-component="brandbook-list-item" v-with="brandbook: brandbook"></div>\n    </div>\n  </div>\n\n  <div class="brandbook-list__empty" v-if="!brandbookLoading && !brandbooks.length">\n    <div class="empty-list" v-if="(name == \'\' || name == null)">\n      <span class="sympli-icon empty-sympli-icon icon-no_brandbook"></span>\n      <h4>You don’t have any brandbooks yet.</h4>\n      <p>Use Brandbooks to create organized collections of color names and fonts files and maintain brand identity across all project designs.</p>\n    </div>\n\n    <div class="empty-list" v-if="!(name == \'\' || name == null)">\n      <span class="sympli-icon empty-sympli-icon icon-results_folder"></span>\n      <h4>Seems like you don\'t have any brandbooks where name contains "{{name}}".</h4>\n      <p>Use Brandbooks to create organized collections of color names and fonts files and maintain brand identity across all project designs.</p>\n    </div>\n  </div>\n\n  <div\n    v-component="pagination"\n    current-page="{{currentPage}}"\n    per-page="{{perPage}}"\n    total-pages="{{totalPages}}"></div>\n</section>\n'},{}],85:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,template:e("./index.html"),created:function(){this._loadBrandbooks(),this.$on("change:page",function(e){this.currentPage=e,this._loadBrandbooks()}),this.$on("search:text",function(e,t){this.name=e,this.isActiveSearch=t,this.isActiveSearch&&(this.brandbookLoading=!0),this.filterBrandbooks()})},data:function(){return{brandbooks:[],name:"",brandbookLoading:!1,currentPage:0,totalPages:1,perPage:20,isActiveSearch:!1}},methods:{resetPaginationParams:function(){this.currentPage=0,this.totalPages=1},_loadBrandbooks:function(){var e=this,t={skip:this.currentPage*this.perPage,limit:this.perPage};this.name&&(t.name=this.name),this.brandbookLoading=!0,this.$api(this.$api.get("/brandbooks",{qs:t}).then(function(t){e.brandbooks=t.data||[],e.totalPages=Math.ceil(t.count/e.perPage),e.brandbookLoading=!1})["catch"](e.$api.safeCatch(function(){e.brandbookLoading=!1}))["finally"](function(){window.scrollTo(0,0)}))},filterBrandbooks:i.debounce(function(){this.resetPaginationParams(),this._loadBrandbooks()},500)},computed:{isBrandbookSearch:function(){return this.brandbooks&&!this.brandbookLoading&&this.brandbooks.length||""!=this.name&&null!=this.name||this.isActiveSearch}},components:{pagination:e("../common/simple-pagination"),"search-input":e("../common/search-input"),"brandbook-list-item":e("./brandbook-list-item")}}},{"../common/search-input":189,"../common/simple-pagination":191,"./brandbook-list-item":77,"./index.html":84,underscore:682}],86:[function(e,t,n){t.exports='<div class="bundle-inner"\n     v-class="\'bundle-inner__current\': currentBundle && currentBundle.id === bundle.id, \'selected\' : isSelected"\n     v-select-on-click="isSelected"\n     v-el="bundle">\n  <div v-show="bundle.status != \'ready\'" class="status status-top-left"\n       v-class="\'label-danger\': bundle.status === \'error\', \'label-warning\': bundle.status === \'processing\' || bundle.status === \'queue\'">\n    {{bundle.status}}\n  </div>\n\n  <div class="status status-top-right label-info" v-if="currentBundle && currentBundle.id === bundle.id">\n    current\n  </div>\n\n  <div class="multiple-select radio-box" v-on="click: onClickRadioBox">\n    <span class="sympli-icon" v-class="\'icon-tick_sub\': !isSelected, \'icon-tick-set\': isSelected"></span>\n  </div>\n\n  <a v-if="bundle.blobUrlPrefix" class="img-wrapper" href="#" v-attr="href: bundleLink">\n    <img v-attr="src: bundle.blobUrlPrefix + \'/bundle/preview.png\'" class="img-wrapper__img" alt="">\n  </a>\n  <span v-if="!bundle.blobUrlPrefix" v-on="click:openBundle($event)" v-attr="href: bundleLink, title: bundle.name" class="img-wrapper"></span>\n\n  <div class="title-block" if="bundle">\n    <a class="title-block__link" v-attr="href: bundleLink">\n      <span class="title-block__name" title="{{bundle.name}}">\n        <span v-fit-text="bundle.name"></span>\n      </span>\n      <span class="title-block__bundle-header">\n        <span class="title-block__bundle-header__date ellipsis">\n          {{bundle.updatedAt | moment updateDateFormat}}\n        </span>\n        <span class="title-block__bundle-header__info">\n          <span class="label-assets" v-if="bundle.countAssets > 0"><span class="sympli-icon icon-assets_small"></span> {{bundle.countAssets}}</span>\n          <span class="label-comments" v-if="bundle.countSpots > 0"><span class="sympli-icon icon-spots_small"></span> {{bundle.countSpots}}</span>\n          <span class="label-ver">ver.{{bundle.version}}</span>\n        </span>\n      </span>\n    </a>\n\n    <a class="icon-menu" v-attr=\'href: downloadPreviewLink\' title="Download preview">\n      <span class="sympli-icon icon-arrow"></span>\n    </a>\n  </div>\n</div>\n'},{}],87:[function(e,t,n){"use strict";function i(e,t){var n=e.offset().top,i=e.offset().left,s=t.offset().top,o=t.offset().left;return!(n+e.height()<s||n>s+t.height()||i+e.width()<o||i>o+t.width())}var s=e("sympli-enums").Scopes,o=864e5;t.exports={inherit:!0,template:e("./index.html"),paramAttributes:["show-delete"],ready:function(){this.$watch("isSelected",function(e){e?this.$dispatch("bundle:selected",this.bundle):this.$dispatch("bundle:unselected",this.bundle)}),this.$on("html:click",function(e){var t=$(e.target).closest(this.$$.bundle);t=t&&t.length>0,t||(this.isSelected=!1,this.showTags=!1)}),this.$on("selected-bundles:updated",function(e){this.isMultipleBundlesSelected=this.isSelected&&e&&e.length>1}),this.$on("bundles:startSortable",function(){this.showDeleteDialog&&(this.showDeleteDialog=!1),this.showTags&&(this.showTags=!1)}),this.$on(s.multiSelect.mouse.end,function(e,t){this.isSelected=i(t,$(this.$$.bundle))})},data:function(){return{showDelete:!0,isMultipleBundlesSelected:!1,showTags:!1,bundle:null,currentBundle:null,isLongBundleName:!1,isSelected:!1,showDeleteDialog:!1}},methods:{showDeleteDesignDialog:function(e){e.preventDefault(),this.showDeleteDialog=!this.showDeleteDialog,this.isSelected=!0},deleteBundle:function(e){e.preventDefault(),e.stopPropagation(),this.$api["delete"]("/bundles/"+this.bundle.id).then(function(e){this.$dispatch("delete:bundle",{id:this.bundle.id}),this.$dispatch("notify","success","Design was deleted")}.bind(this))},openBundle:function(e){var t=this.bundle.version-1,n=t?"/app#!/designs/"+this.bundle.id+"/versions/"+(this.bundle.version-1):void 0;switch(this.bundle.status){case"queue":case"processing":var i=n?"We’re processing a new version of this design. You either can wait for a few until it’s ready or click <a href='"+n+"'>here</a> to open previous version":"We’re processing a new version of this design. Please wait for a few until it’s ready.",s=n?"Open previous version":"Design is in progress";return bootbox.dialog({message:i,title:s,show:!0,onEscape:!0,callback:function(e){}}),$(".bootbox").click(function(){$($(this).closest(".modal")).modal("hide")}),e.preventDefault(),!1;case"error":return t&&(bootbox.dialog({message:"Current version is in error state. Do you want to see <a href=' "+n+"'>previous version</a>",title:"Open previous version",show:!0,onEscape:!0,callback:function(e){}}),$(".bootbox").click(function(){$($(this).closest(".modal")).modal("hide")})),e.preventDefault(),!1;case"ready":this.$dispatch("lanes:path","designs/"+this.bundle.id)}},onBundleTagsDialog:function(e){e.preventDefault(),this.showTags=!this.showTags,this.isSelected=!0},isNew:function(){return Date.now()-new Date(this.bundle.updatedAt).getTime()<1*o},onClickedAway:function(){},onClickRadioBox:function(e){e.preventDefault(),e.stopPropagation(),this.isSelected=!this.isSelected}},computed:{isShowDelete:function(){return void 0!=this.showDelete&&("true"===this.showDelete||1==this.showDelete)},bundleLink:function(){if("ready"==this.bundle.status)return"/app#!/designs/"+this.bundle.id;var e=this.bundle.version-1;return e?"/app#!/designs/"+this.bundle.id+"/versions/"+(this.bundle.version-1):void 0},downloadPreviewLink:function(){return"/download/preview/"+this.bundle.id+"?"+(new Date).getTime()},isShadowShow:function(){return this.bundle.countSpots>0||this.bundle.countAssets>0}},components:{"bundle-tags-panel":e("../../tags/bundle-tags-panel")}}},{"../../tags/bundle-tags-panel":459,"./index.html":86,"sympli-enums":524}],88:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../../../../lib/LayerTypeEnum"),o=e("../../canvas/layer-utility");t.exports={prepareBundle:function(e){return this._removePaddingLayersRecur(e.data.layers),this._prepareLayers(e),this._markSmartObjectLayersRecur(e.data.layers,!1),o.setArtboardVisible(e.data.layers),e=JSON.parse(JSON.stringify(e)),this._setParentsForLayersRecur(e.data.layers,null),e},_prepareLayers:function(e){var t=e.data&&e.data.layers||[];o.forEachLayers(t,function(t){t.selected=!1,t.found=!1,t.scrollTo=!1,t.visible=!!t.visible,t.rendered=!1,"asset"===t.role&&(t.bounds.top=Math.ceil(t.bounds.top),t.bounds.bottom=Math.ceil(t.bounds.bottom),t.bounds.left=Math.ceil(t.bounds.left),t.bounds.right=Math.ceil(t.bounds.right),t.visible=!!t.visible||"sketch"===e.source),s.isGroupLayer(t)&&(t.open=!1)})},_removePaddingLayersRecur:function(e){var t=this;i.each(e,function(e){e.layers=i.filter(e.layers,function(e){return"assetPadding"!==e.role}),e.layers&&0!==e.layers.length&&t._removePaddingLayersRecur(e.layers)})},_markSmartObjectLayersRecur:function(e,t){var n=this;i.each(e,function(e){e.fromSmartObject=t,e.layers&&0!==e.layers.length&&n._markSmartObjectLayersRecur(e.layers,t||!!e.smartObject)})},_setParentsForLayersRecur:function(e,t){var n=this;i.each(e,function(e){e.parent=t,e.layers&&n._setParentsForLayersRecur(e.layers,e)})}}},{"../../../../lib/LayerTypeEnum":15,"../../canvas/layer-utility":169,underscore:682}],89:[function(e,t,n){t.exports='<div class="bundle-info name">\n  <span v-if="bundle&&bundle.data">\n    {{bundle.type | bundleType}}{{bundle.baseline | bundleBaseline}}\n    <br/>\n    {{ bundle.bounds.right / resolutionInfo.divider | dru }}{{resolutionInfo.units}}\n    <strong>x</strong>\n    {{ bundle.bounds.bottom / resolutionInfo.divider | dru }}{{resolutionInfo.units}}\n  </span>\n</div>\n'},{}],90:[function(e,t,n){"use strict";var i=e("../../../canvas/canvas_helper");t.exports={inherit:!0,template:e("./index.html"),ready:function(){},data:function(){return{bundleBounds:null}},methods:{},computed:{resolutionInfo:function(){return this.bundle?i.getResolutionInfo(this.bundle.type,this.bundle.baseline):null}}}},{"../../../canvas/canvas_helper":162,"./index.html":89}],91:[function(e,t,n){t.exports='<div class="layout-switcher" v-if="bundle.data && bundle.data.layout">\n  <span class="sympli-checkbox">\n    <input type="checkbox" class="checkbox-label checkbox" id="grid" v-attr="checked: showGridLayout" v-on="click: onGridLayoutToggle">\n    <label for="grid" class="name">\n      <i class="sympli-icon icon-tick-white"></i>\n      Show <br>Grid Layout\n    </label>\n  </span>\n</div>\n'},{}],92:[function(e,t,n){"use strict";var i=e("LocalStorageBag");t.exports={inherits:!0,template:e("./index.html"),ready:function(){var e=!!(this.bundle&&this.bundle.data&&this.bundle.data&&this.bundle.data.layout)&&this.bundle.data.layout.isEnabled,t=new i("gridLayoutBagKey_"+this.bundle.id,e);this.showGridLayout=t.get(),this.$watch("showGridLayout",function(e){t.set(e)})},data:function(){return{showGridLayout:!1}},methods:{onGridLayoutToggle:function(e){this.showGridLayout=!this.showGridLayout,this.$root.$broadcast("bundle-layout-toggle",this.showGridLayout)}}}},{"./index.html":91,LocalStorageBag:521}],93:[function(e,t,n){t.exports='<div class="layout-grid" v-if="layout && layout.isEnabled">\n  <div class="layout-grid__inner" v-style="layoutStyles">\n    <div class="layout-grid__columns" v-style="columns"></div>\n    <div class="layout-grid__rows" v-style="rows"></div>\n    <div class="layout-grid__rows" v-if="allHorizontalLines" v-style="allHorizontalLines"></div>\n  </div>\n</div>\n'},{}],94:[function(e,t,n){"use strict";var i=e("../../../../../lib/decimel-round-utility"),s=e("LocalStorageBag"),o=e("util");t.exports={inherit:!0,template:e("./index.html"),ready:function(){if(this.layout){var e=new s("gridLayoutBagKey_"+this.bundleId,this.layout.isEnabled);this.layout.isEnabled=e.get()}},data:function(){return{layout:void 0,bundleId:void 0,height:0,color:"rgba(54,187,208, 0.25)",linesColor:"rgba(54,187,208, 0.7)"}},computed:{columns:function(){if(this.layout.drawVertical){var e=this.zoomRatio,t=this.layout.totalWidth*e,n=this.layout.guttersOutside,s=this.layout.gutterWidth*e,r=this.layout.columnWidth*e,a=i(n*s/2),l=i(r+a),c=o.format("background-image: linear-gradient(to right, transparent 0px, transparent %spx, %s %spx, %s %spx, transparent %spx, transparent %spx);",a,this.color,a,this.color,l,l,i(r+2*a)),u=o.format("background-size: %spx;",Math.round(r+s)),d=o.format("width: %spx;",t);return d+u+c}return""},rows:function(){if(this.layout.drawHorizontal){var e=this.zoomRatio,t=this.layout.totalWidth*e,n=this.layout.gutterHeight*e,s=this.layout.rowHeightMultiplication&e,r=i(n*s),a=i(r+n),l=o.format("background-image: linear-gradient(to bottom, %s 0px, %s %spx, transparent %spx, transparent %spx);",this.color,this.color,r,r,a),c=o.format("background-size: 1px %spx;",a),u=o.format("width: %spx;",t);return u+c+l}return""},allHorizontalLines:function(){if(this.layout.drawHorizontalLines){var e=this.layout.totalWidth*this.zoomRatio,t=this.layout.gutterHeight*this.zoomRatio,n=o.format("background-image: linear-gradient(to bottom, %s 0px, %s 1px, transparent 1px, transparent %spx);",this.linesColor,this.linesColor,i(t-1)),s=o.format("background-size: 1px %spx;",i(t)),r=o.format("width: %spx;",e);return r+s+n}return""},layoutStyles:function(){var e=this.layout.totalWidth*this.zoomRatio,t=Math.max(this.layout.verticalRulerData&&this.layout.verticalRulerData.base,0)*this.zoomRatio,n=this.height*this.zoomRatio,i=(this.layout.horizontalRulerData&&this.layout.horizontalRulerData.base||0)*this.zoomRatio,s=this.layout.horizontalOffset*this.zoomRatio,r="width:"+e+"px; height:"+n+"px;",a="top: "+t+"px",l=s+i>0?o.format("margin: 0px %spx;",s+i):"left: "+(s+i)+"px;";return r+l+a}}}},{"../../../../../lib/decimel-round-utility":38,"./index.html":93,LocalStorageBag:521,util:580}],95:[function(e,t,n){t.exports='<div class="bundle-menu">\n  <button type="button" class="btn bundle-btn" v-on="click: toggleLayers" title="Layers">\n    <span class="sympli-icon"\n          v-class="icon-main_layers_active: layersEnabledForMenu, icon-main_layers_non_active: !layersEnabledForMenu"\n          title="Layers"></span>\n  </button>\n  <button type="button" class="btn bundle-btn" v-on="click: toggleRuler" title="Rulers">\n    <span class="sympli-icon"\n          v-class="icon-main_ruler_active_icon: rulerEnabledForMenu, icon-main_ruler_icon: !rulerEnabledForMenu"\n          title="Rulers"></span>\n  </button>\n\n  <spot-switcher v-with="isSpotsEnabled: isSpotsEnabled, isSpotAdding: isSpotAdding"></spot-switcher>\n\n  <div class="bundle-dropdown dropdown" v-if="DEBUG">\n    <button type="button" class="btn bundle-btn dropdown-toggle" style="border: medium none; width: 100%;" data-toggle="dropdown" title="Only debug">\n      <i class="fa fa-download fa-fw"></i>\n    </button>\n    <ul class="dropdown-menu">\n      <li>\n        <a href="{{bundle.blobUrlPrefix}}/bundle.zip" v-if="bundle">\n          Bitmap assets\n        </a>\n      </li>\n      <li>\n        <a href="{{bundle.blobUrlPrefix}}/bundle_vector.zip" v-if="bundle">\n          Vector assets\n        </a>\n      </li>\n      <li>\n        <a href="{{bundle.blobUrlPrefix}}/bundle.tar.gz" v-if="bundle">\n          Dev bundle\n        </a>\n      </li>\n      <li>\n        <a href="{{bundle.blobUrlPrefix}}/ps-bundle.tar.gz" v-if="bundle">\n          Original bundle\n        </a>\n      </li>\n    </ul>\n  </div>\n\n  <zoom-picker v-with="namespace: \'bundle\', viewportId: \'viewport\', bounds: bundle && bundle.data ? bundle.data.bounds : {}, defaultFit: \'Auto\', persisted: bundle && \'zoompicker.\'+bundle.project.id, padding: 40"></zoom-picker>\n</div>\n\n<div class="bundle-bottom bundle-bottom__switcher" v-if="bundle">\n  <layout-switcher v-with="bundle: bundle"></layout-switcher>\n</div>\n'},{}],96:[function(e,t,n){"use strict";new(e("LocalStorageBag"))("spotsEnabledBag",(!0));t.exports={inherit:!0,paramAttributes:["bundle"],template:e("./index.html"),ready:function(){this.$on("isRuleEnabled",function(e){this.rulerEnabledForMenu=e}),this.$on("isRuleSet",function(e){this.rulerSeted=e}),this.$on("isLayersTreeEnabled",function(e){this.layersEnabledForMenu=e}),this.$on("cancel:spot",function(e,t){var n=this;n.cancelSpot={left:e,top:t-80},setTimeout(function(){n.cancelSpot.top=120,n.cancelSpot.left=75,setTimeout(function(){n.cancelSpot=null},500)},50)}),this.$on("document:esc",function(){this.isSpotAdding=!1})},data:function(){return{layersEnabledForMenu:!1,rulerEnabledForMenu:!1,rulerSeted:!1,cancelSpot:null}},methods:{toggleLayers:function(){this.disableRulerIfNotSet(),this.layersEnabledForMenu=!this.layersEnabledForMenu,this.$dispatch("toggle:menu","layersTree")},toggleRuler:function(){this.rulerEnabledForMenu=!this.rulerEnabledForMenu,this.$dispatch("toggle:menu","ruler")},disableRulerIfNotSet:function(){this.rulerEnabledForMenu&&!this.rulerSeted&&this.toggleRuler()}},components:{"zoom-picker":e("../../../common/zoom-picker"),"background-picker":e("../../../common/background-picker")}}},{"../../../common/background-picker":177,"../../../common/zoom-picker":193,"./index.html":95,LocalStorageBag:521}],97:[function(e,t,n){t.exports='<div class="m-spots-switcher" style="position: relative;">\n  <button type="button" class="btn bundle-btn" v-on="click: onToggleSpots" title="Annotations">\n    <span v-if="new-message" class="new-message"></span>\n    <span class="sympli-icon"\n          v-class="icon-main_spots_active_icon: isSpotsEnabled, icon-main_spots_icon: !isSpotsEnabled"\n          title="Annotations"></span>\n  </button>\n\n  <button v-if="isSpotsEnabled" type="button" class="btn btn-add-spot" v-class="\'layout-spot-adding\': isSpotAdding"\n          v-on="click: onToggleSpotAdd" title="Add annotation">\n    <i class="sympli-icon icon-main_comment_red_plus"></i>\n  </button>\n</div>\n'},{}],98:[function(e,t,n){"use strict";e("LocalStorageBag");t.exports={replace:!0,inherits:!0,template:e("./index.html"),ready:function(){},data:function(){return{}},methods:{onToggleSpots:function(e){e.isSpot=!0,this.$root.$broadcast("toggle:menu:spots")},onToggleSpotAdd:function(e){e.isSpot=!0,this.$root.$broadcast("toggle:menu:spotsAdd")}}}},{"./index.html":97,LocalStorageBag:521}],99:[function(e,t,n){t.exports='<div class="bundle-inner" v-class="\'bundle-inner__current\': currentBundle && currentBundle.id === bundle.id, \'selected\' : isSelected" v-select-on-click="isSelected">\n  <a v-if="bundle.blobUrlPrefix" class="img-wrapper" href="#" v-attr="href: bundleLink, title: bundle.name">\n    <img v-attr="src: bundle.blobUrlPrefix + \'/bundle/preview.png\'" class="img-wrapper__img" alt="">\n  </a>\n\n  <a v-if="!bundle.blobUrlPrefix" v-attr="href: bundleLink, title: bundle.name" class="img-wrapper"></a>\n\n  <h3 class="ellipsis">{{repeatBundle.name}}</h3>\n</div>\n'},{}],100:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),ready:function(){},data:function(){return{bundle:null,currentBundle:null,isSelected:!1}},methods:{},computed:{bundleLink:function(){if("ready"==this.bundle.status)return"/app#!/designs/"+this.bundle.id;var e=this.bundle.version-1;return e?"/app#!/designs/"+this.bundle.id+"/versions/"+(this.bundle.version-1):void 0}}}},{"./index.html":99}],101:[function(e,t,n){t.exports='<div id="bundles-dropdown" v-show="isShown" v-close="isShown">\n  <div class="row search-container search-container__dropdown">\n    <div class="sort-container col-xs-6">\n      <div v-component="order-picker"></div>\n    </div>\n    <div class="common-search-container col-xs-4">\n      <div v-component="search-input" v-with="searchText: bundleName"></div>\n    </div>\n    <div class="bundle-tags col-xs-12" v-if="!isLoading" v-component="bundle-tags-selector" v-with="project: bundle.project, bundle: bundle"></div>\n  </div>\n  <div class="bundle-carousel">\n    <div class="bundles-menu-block" v-scrollpane="{}">\n      <div class="bundles-menu" v-el="bundles">\n        <div class="bundle" v-repeat="repeatBundle: filteredBundles" v-class="active: repeatBundle.id == bundle.id" role="bundle">\n          <div v-component="bundle-item" v-with="bundle: repeatBundle, currentBundle: bundle" show-delete="false"></div>\n        </div>\n\n        <div class="bundles-list__no-results empty-tags-list" v-if="!filteredBundles.length">\n          <h4 class="cut-the-length">\n            <span>Seems like you don\'t have any designs <span v-show="bundleName">where name contains <span class="text-nowrap">"<span class="ellipsis">{{bundleName}}</span>"</span></span>\n              <span v-show="bundleName && (selectedTags && selectedTags.length > 0)"> and </span>\n              <span v-if="selectedTags && selectedTags.length > 0">\n                <span> tagged with</span>\n                <span v-repeat="selectedTag: selectedTags">\n                  <span v-show="$index < 3" class="text-nowrap"><span v-show="$index != 0">&nbsp;</span>"<span class="ellipsis">{{selectedTag}}</span>"</span>\n                  <span v-if="($index < selectedTags.length - 1) && ($index < 2)">and</span>\n                  <span v-if="$index == 3">&nbsp;(and {{selectedTags.length - 3}} more)</span>\n                </span>\n              </span>\n            </span>\n          </h4>\n          <p>You can try to deselect the tags<span v-show="bundleName"> or clear name filter</span>.</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],102:[function(e,t,n){"use strict";var i=e("underscore"),s=e("vue"),o=e("../../../../../enums/SocketEventsEnum"),r=e("LocalStorageBag"),a=e("sympli-enums").Scopes,l=e("../../../../../lib/array-helper");t.exports={inherit:!0,template:e("./index.html"),paramAttributes:["bundle"],ready:function(){var e,t;this.$on(o.bundle.ready,this._loadProjectBundles),this.$on("toggle:menu:bundlesList",function(){this.isShown=!this.isShown,this.isShown?this.scrollToActive():this.$emit("scrollPane:reInit",{scrollTo:{x:0}})}),this.$on("document:left",function(){this.isShown&&this.$emit("scrollPane:scrollByX",{shift:-50})}),this.$on("document:right",function(){this.isShown&&this.$emit("scrollPane:scrollByX",{shift:50})}),this.$on(a.loaded.bundle.data,function(n){this.bundle=n,this.projectId=this.bundle.project.id,this._loadProjectBundles(this.bundle),e=new r("bundlesSortOptionsBag_"+this.projectId||"default",{sortBy:"manual",isReverse:!1}),t=new r("bundlesSearchTextBag_"+this.projectId||"default",""),this.sortOptions=e.get(),this.bundleName=t.get()}),this.$on("select:order",function(t,n){e&&e.set({sortBy:t,isReverse:n}),this.filterBundles()}),this.$on("search:text",function(e,n){this.bundleName=e||"",t&&t.set(this.bundleName),this.filterBundles(),this.scrollToActive()}),this.$on("bundles:navigation:next",this.handleNextBundle),this.$on("bundles:navigation:prev",this.handlePrevBundle),this.$on("updated:active-tags-filter",function(e){this.bundleFilterByTags=e,this.scrollToActive()}),this.$watch("bundleFilterByTags",this.filterBundles),this.$on("save:active-tags",function(e){this.selectedTags=e.tags,this.scrollToActive()}),this.$on("lanes:route",function(e){this.clearInterval()})},data:function(){return{projectId:null,bundles:[],bundleName:"",isLoading:!0,isShown:!1,owlApi:null,sortFields:[{value:"manual",text:"Manual"},{value:"updatedAt",text:"Date"},{value:"normalizedName",text:"Name"}],sortOptions:{sortBy:"updatedAt",isReverse:!0},filteredBundles:[],bundleFilterByTags:[],selectedTags:[],interval:null,chunkSize:20}},methods:{_loadProjectBundles:function(e){if(e&&(e.project.id==this.projectId||e.project==this.projectId)){var t=this;t.isLoading=!0,this.$api(this.$store.getBundlesRequest(this.projectId).then(function(e){t.bundles=i.filter(e.data||[],{status:"ready"}),t.filterBundles(),t.isLoading=!1})["catch"](t.$api.safeCatch(function(){t.isLoading=!1})))}},filterBundles:function(){var e="";this.bundleName&&(e=this.bundleName.trim());var t=i.filter(this.bundles,function(t){return t.normalizedName.indexOf(e)>=0});if(this.bundleFilterByTags&&i.isArray(this.bundleFilterByTags)&&(t=i.filter(t,function(e){return this.bundleFilterByTags.indexOf(e.id)>=0}.bind(this))),"manual"===this.sortOptions.sortBy){var n=this.bundle&&this.bundle.project?this.bundle.project.data:void 0;t=n&&n.order&&n.order.length?i.sortBy(t,function(e){return i.indexOf(n.order,e.id)}.bind(this)):t.reverse()}else t="updatedAt"==this.sortOptions.sortBy?i.sortBy(t,this.sortOptions.sortBy):i(t).chain().sortBy("updatedAt").sortBy(this.sortOptions.sortBy).value();this.sortOptions.isReverse&&(t=t.reverse());
var s=i.findIndex(t,{id:this.bundle.id}),o=t.length;if(this.$sympliTrigger("bundles:navigation:state",s>0,s<o-1,o),this.clearInterval(),!t||!t.length)return void(this.filteredBundles=[]);if(t.length<=this.chunkSize)return void(this.filteredBundles=t);var r=l.chunk(t,this.chunkSize),s=0,a=r.length-1;this.filteredBundles=r[s],a>s&&(this.interval=setInterval(function(){this.filteredBundles=(this.filteredBundles||[]).concat(r[++s]),s==a&&this.clearInterval(),this.$emit("scrollPane:reInit")}.bind(this),10)),this.$emit("scrollPane:reInit")},clearInterval:function(){this.interval&&clearInterval(this.interval)},scrollToActive:function(){s.nextTick(function(){var e=$(this.$$.bundles).find(".active").get(0);e?this.$emit("scrollPane:reInit",{scrollTo:{x:$(e).offset().left}}):this.$emit("scrollPane:reInit",{scrollTo:{x:0}})}.bind(this))},handleNextBundle:function(){if(this.bundle){var e=this.bundle.id,t=null,n=i.findIndex(this.filteredBundles,{id:e});n===-1?t=0:(t=n+1,t>=this.filteredBundles.length&&(t=0)),window.location.hash="#!/designs/"+this.filteredBundles[t].id}},handlePrevBundle:function(){if(this.bundle){var e=this.bundle.id,t=null,n=this.filteredBundles.length,s=i.findIndex(this.filteredBundles,{id:e});s===-1?t=n-1:(t=s-1,t<0&&(t=n-1)),window.location.hash="#!/designs/"+this.filteredBundles[t].id}}},components:{"bundle-item":e("./bundle-item/index"),"order-picker":e("../../../common/order-picker"),"search-input":e("../../../common/search-input"),"bundle-tags-selector":e("../../../tags/bundle-tags-selector")}}},{"../../../../../enums/SocketEventsEnum":8,"../../../../../lib/array-helper":25,"../../../common/order-picker":185,"../../../common/search-input":189,"../../../tags/bundle-tags-selector":461,"./bundle-item/index":100,"./index.html":101,LocalStorageBag:521,"sympli-enums":524,underscore:682,vue:821}],103:[function(e,t,n){t.exports='<div class="bundles-navigation bundles-navigation__left" v-on="click:prevBundle" v-class="disable: !isPrevLinkAvailable, hidden: isHidden">\n  <span class="sympli-icon icon-left_arrow"></span>\n</div>\n<div class="bundles-navigation bundles-navigation__right" v-on="click:nextBundle" v-class="disable: !isNextLinkAvailable, hidden: isHidden">\n  <span class="sympli-icon icon-right_arrow" ></span>\n</div>\n'},{}],104:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),mixins:[e("../mixins/bundles-navigation")]}},{"../mixins/bundles-navigation":126,"./index.html":103}],105:[function(e,t,n){t.exports='<div class="bundle-bottom bundle-navigation" v-show="!isHidden">\n  <span class="name">\n    Use keyboard<br/>\n    Shift + &#8594; or &#8592;\n  </span>\n  <div class="bundle-navigation-block">\n    <div class="bundle-navigation__left"  v-on="click:prevBundle" v-class="disable: !isPrevLinkAvailable">\n      <span class="sympli-icon icon-arrow_left_scr"></span>\n    </div>\n    <div class="bundle-navigation__right" v-on="click:nextBundle" v-class="disable: !isNextLinkAvailable">\n      <span class="sympli-icon icon-arrow_right_scr" ></span>\n    </div>\n  </div>\n</div>\n'},{}],106:[function(e,t,n){arguments[4][104][0].apply(n,arguments)},{"../mixins/bundles-navigation":126,"./index.html":105,dup:104}],107:[function(e,t,n){"use strict";t.exports={Differences:"Differences",Visual:"Visual"}},{}],108:[function(e,t,n){"use strict";var i=e("../../../../../../enums/BundleViewMenuEnum");t.exports={created:function(){var e=this.$root.route.params,t=["designs",e[0],i.Changes.toLowerCase()];if(e[1]){var n=e[1].slice(1).split("/");t.push(n[0]),t.push(n[1])}this.$dispatch("lanes:path",t.join("/"))}}},{"../../../../../../enums/BundleViewMenuEnum":2}],109:[function(e,t,n){t.exports='<div class="design_changes" v-doc-subtitle="subTitle">\n  <versions-differences v-if="isDifferencesActive"></versions-differences>\n  <versions-visual v-show="isVisualActive"></versions-visual>\n\n  <versions-list></versions-list>\n</div>\n'},{}],110:[function(e,t,n){"use strict";var i=e("vue"),s=e("LocalStorageBag"),o=e("sympli-enums").Scopes,r=e("./ChangesViewEnum"),a=e("../../../../../enums/SocketEventsEnum");t.exports={inherit:!0,template:e("./index.html"),components:{"versions-differences":e("./versions-differences"),"versions-visual":e("./versions-visual"),"versions-list":e("./versions-list")},data:function(){var e=this;return{changesView:null,changesViewBag:new s("changesView_"+e.$root.route.params[0],r.Differences),hasNewVersion:!1,differencesSubtitle:""}},created:function(){this.changesView=this.changesViewBag.get()},ready:function(){this.$on(o.loaded.bundle.versions,function(){this.$broadcast("scrollPane:reInit")}),this.$sympliTrigger("bundle:changes:ready"),this.$on(a.bundle.ready,function(e){if(this.$root.route.params[0]===e.id&&!this.bundleReadyDialogOpened){var t=this;t.hasNewVersion=!0,t.handleResetBundleCache(),bootbox.dialog({message:"New version of the design has arrived. Do you want to browse changes?",buttons:{noBtn:{label:"No, thanks",className:"btn-default"},yesBtn:{label:"Of course I do!",className:"btn-primary",callback:function(){window.location.hash="#!/designs/"+t.$root.route.params[0]+"/changes",window.location.reload()}}}}),this.bundleReadyDialogOpened=!0}})},methods:{setChangesView:function(e){this.changesView=e,this.changesViewBag.set(this.changesView),this.changesView===r.Visual&&i.nextTick(function(){this.$broadcast("visual-bundle:zoom:preset","Auto")}.bind(this)),this.$broadcast("scrollPane:reInit")},setDifferencesSubtitle:function(e){this.differencesSubtitle=e}},computed:{isDifferencesActive:function(){return this.changesView===r.Differences},isVisualActive:function(){return this.changesView===r.Visual},subTitle:function(){return this.isDifferencesActive?this.differencesSubtitle:this.isVisualActive&&this.bundle&&this.bundle.project?this.bundle.name+" - "+this.bundle.project.name:""}}}},{"../../../../../enums/SocketEventsEnum":8,"./ChangesViewEnum":107,"./index.html":109,"./versions-differences":118,"./versions-list":120,"./versions-visual":122,LocalStorageBag:521,"sympli-enums":524,vue:821}],111:[function(e,t,n){t.exports='<div class="m-details__snippet" v-if="resolutionInfo">\n  <h4>DIMENSIONS</h4>\n  <div class="dimensions-block">\n    <div v-class="getCompareClass(boundsChanges && boundsChanges.left)">\n      <span class="text-field-name">x:</span>\n      <span>{{ left*measureRatio | dru }}{{resolutionInfo.units}}</span>\n    </div>\n    <div v-class="getCompareClass(boundsChanges && boundsChanges.top)">\n      <span class="text-field-name">y:</span>\n      <span>{{ top*measureRatio | dru }}{{resolutionInfo.units}}</span>\n    </div>\n  </div>\n  <div class="dimensions-block">\n    <div v-class="getCompareClass(boundsChanges && boundsChanges.width)">\n      <span class="text-field-name"><span class="small">w:</span><span class="full">Width:</span></span>\n      <span>{{ width*measureRatio | dru }}{{resolutionInfo.units}}</span>\n    </div>\n    <div v-class="getCompareClass(boundsChanges && boundsChanges.height)">\n      <span class="text-field-name"><span class="small">h:</span><span class="full">Height:</span></span>\n      <span>{{ height*measureRatio | dru }}{{resolutionInfo.units}}</span>\n    </div>\n  </div>\n  <div class="more_info" v-class="getCompareClass(boundsChanges && boundsChanges.rounds)">\n    <div v-repeat="rounds">\n      <span class="text-field-name">Radius{{type}}: </span>\n      <span>{{ value*measureRatio | dru }}{{resolutionInfo.units}}</span>\n    </div>\n  </div>\n</div>\n'},{}],112:[function(e,t,n){var i=e("../../../../../../../../lib/ShapeTypeEnum");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{bounds:null,shape:null}},computed:{left:function(){return this.bounds?this.bounds.left:null},top:function(){return this.bounds?this.bounds.top:null},width:function(){return this.bounds?this.bounds.right-this.bounds.left:null},height:function(){return this.bounds?this.bounds.bottom-this.bounds.top:null},rounds:function(){if(!this.shape)return null;var e=null;return this.shape.type==i.rectangle&&this.shape.rounds&&(e=[],this.shape.rounds[0]==this.shape.rounds[1]&&this.shape.rounds[0]==this.shape.rounds[2]&&this.shape.rounds[0]==this.shape.rounds[3]?e.push({type:"",value:this.shape.rounds[0]}):(e.push({type:" top-left",value:this.shape.rounds[0]}),e.push({type:" top-right",value:this.shape.rounds[1]}),e.push({type:" bottom-right",value:this.shape.rounds[2]}),e.push({type:" bottom-left",value:this.shape.rounds[3]}))),this.shape.type==i.oval&&this.shape.rounds&&(e=[],this.shape.rounds[0]==this.shape.rounds[1]?e.push({type:"",value:this.shape.rounds[0]}):(e.push({type:" horizontal",value:this.shape.rounds[0]}),e.push({type:" vertical",value:this.shape.rounds[1]}))),e}}}},{"../../../../../../../../lib/ShapeTypeEnum":24,"./index.html":111}],113:[function(e,t,n){t.exports='<div class="m-panel__section">\n  <div class="versions-diff-row" v-if="showAlways">\n    <div class="m-details versions-diff-column">\n      <div v-class="leftPanel.blockClassName" v-component="layer" v-show="leftPanel.selectedLayer"\n           v-with="selectedLeftBase"></div>\n    </div>\n    <div class="m-details versions-diff-column">\n      <div v-class="rightPanel.blockClassName" v-component="layer" v-show="rightPanel.selectedLayer"\n           v-with="selectedRightBase"></div>\n    </div>\n  </div>\n\n  <div class="versions-diff-row" v-if="showAll || boundsChanges">\n    <div class="m-details versions-diff-column">\n      <div v-class="leftPanel.blockClassName" v-component="bounds" v-show="leftPanel.selectedLayer"\n           v-with="selectedLeftBounds"></div>\n    </div>\n    <div class="m-details versions-diff-column">\n      <div v-class="rightPanel.blockClassName" v-component="bounds" v-show="rightPanel.selectedLayer"\n           v-with="selectedRightBounds"></div>\n    </div>\n  </div>\n\n  <div class="versions-diff-row" v-if="showAll || blendsChanges">\n    <div class="m-details versions-diff-column">\n      <div v-class="leftPanel.blockClassName" v-component="blend-mode" v-show="leftPanel.selectedLayer"\n           v-with="selectedLeftBlendOptions"></div>\n    </div>\n    <div class="m-details versions-diff-column">\n      <div v-class="rightPanel.blockClassName" v-component="blend-mode" v-show="rightPanel.selectedLayer"\n           v-with="selectedRightBlendOptions"></div>\n    </div>\n  </div>\n\n  <div class="versions-diff-row" v-if="showAll || fillsChanges">\n    <div class="m-details versions-diff-column">\n      <div v-class="leftPanel.blockClassName" v-component="fills" v-show="leftPanel.selectedLayer"\n           v-with="selectedLeftFill"></div>\n    </div>\n    <div class="m-details versions-diff-column">\n      <div v-class="rightPanel.blockClassName" v-component="fills" v-show="rightPanel.selectedLayer"\n           v-with="selectedRightFill"></div>\n    </div>\n  </div>\n\n  <div class="versions-diff-row" v-if="showAll || textChanges">\n    <div class="m-details versions-diff-column">\n      <div v-class="leftPanel.blockClassName" v-component="text-layer" v-if="leftPanel.selectedLayer && leftPanel.selectedLayer.text"\n           v-with="selectedLeftLayerText"></div>\n    </div>\n    <div class="m-details versions-diff-column">\n      <div v-class="rightPanel.blockClassName" v-component="text-layer" v-if="rightPanel.selectedLayer && rightPanel.selectedLayer.text"\n           v-with="selectedRightLayerText"></div>\n    </div>\n  </div>\n\n  <div class="versions-diff-row" v-if="showAll || effectsChanges">\n    <div class="m-details versions-diff-column">\n      <div v-class="leftPanel.blockClassName" v-component="layer-effects" v-show="leftPanel.selectedLayer"\n           v-with="selectedLeftLayerEffects"></div>\n    </div>\n    <div class="m-details versions-diff-column">\n      <div v-class="rightPanel.blockClassName" v-component="layer-effects" v-show="rightPanel.selectedLayer"\n           v-with="selectedRightLayerEffects"></div>\n    </div>\n  </div>\n</div>\n'},{}],114:[function(e,t,n){"use strict";function i(e){e.selectedLayer=null,e.blockClassName=null}function s(e,t,n){e.selectedLayer=u.find(e.allLayers,function(e){return t.id==e.id}),e.blockClassName=d.getCompareClass(n),setTimeout(r,0)}function o(e,t){e.layerChanges=t,t?(e.baseChanges=t.baseChanges,e.boundsChanges=t.boundsChanges,e.blendsChanges=t.blendsChanges,e.textChanges=t.textChanges,e.fillsChanges=t.fillsChanges,e.effectsChanges=t.effectsChanges):(e.baseChanges=null,e.boundsChanges=null,e.blendChanges=null,e.textChanges=null,e.fillsChanges=null,e.effectsChanges=null),setTimeout(a,0)}function r(){var e=$(".m-panel__section > .versions-diff-row");e&&u.each(e,function(e){var t=$(e).children(".versions-diff-column");if(t&&t.length){var n=u.map(t,function(e){return $(e).height()});$(t).height(u.max(n))}})}function a(){var e=$(".m-panel__section > .versions-diff-row");e&&u.each(e,function(e){$(e).children(".versions-diff-column").css("height","auto")})}function l(e,t){return e?"left"==t?e.removed.concat(e.changed):"right"==t?e.added.concat(e.changed):null:null}function c(e,t){return e===!1?null:u.isObject(e)&&e?l(e,t):"left"==t&&e==p.deleted?e:"right"==t&&e==p["new"]?e:void 0}var u=e("underscore"),d=e("../../../../../../../lib/bundle-version-difference/DifferenceHelper"),h=e("../../../../../canvas/canvas_helper"),p=e("../../../../../../../lib/bundle-version-difference/BundleChangeKindEnum");t.exports={template:e("./index.html"),components:{bounds:e("./bounds"),layer:e("./layer"),"text-layer":e("../../../../../panel-details/text-layer"),fills:e("../../../../../panel-details/fills"),"layer-effects":e("../../../../../panel-details/layer-effects"),"blend-mode":e("../../../../../panel-details/blend-mode")},data:function(){return{leftPanel:{bundle:null,layersMap:null,platform:null,baseline:null,resolutionInfo:null,measureRatio:null,selectedLayer:null,blockClassName:null},rightPanel:{bundle:null,layersMap:null,platform:null,baseline:null,resolutionInfo:null,measureRatio:null,selectedLayer:null,blockClassName:null},layerChanges:null,baseChanges:null,boundsChanges:null,blendsChanges:null,fillsChanges:null,textChanges:null,effectsChanges:null,showAll:!1,showAlways:!1}},ready:function(){this.$on("version:sources",this.onVersionSource),this.$on("version:layer:edit",this.onSelectEditedLayer),this.$on("version:layer:clear",this.onClearSelection),this.$on("version:layer:new",this.onSelectNewLayer),this.$on("version:layer:remove",this.onSelectRemovedLayer)},methods:{onVersionSource:function(e,t){this._panelInit(this.leftPanel,e),this._panelInit(this.rightPanel,t)},onClearSelection:function(){this.showAll=!1,this.showAlways=!1,o(this,null),i(this.leftPanel),i(this.rightPanel)},onSelectEditedLayer:function(e,t){o(this,t),this.showAll=!1,this.showAlways=!0,s(this.leftPanel,e),s(this.rightPanel,e)},onSelectNewLayer:function(e){o(this,null),this.showAll=!0,this.showAlways=!0,i(this.leftPanel),s(this.rightPanel,e,p["new"])},onSelectRemovedLayer:function(e){o(this,null),this.showAll=!0,this.showAlways=!0,s(this.leftPanel,e,p.deleted),i(this.rightPanel)},getCompareClass:function(e){return d.getCompareClass(e)},getBaseComponentOptions:function(e){return{platform:e.platform,baseline:e.baseline,resolutionInfo:e.resolutionInfo,bundle:e.bundle,measureRatio:e.measureRatio,selectedLayer:e.selectedLayer}},_panelInit:function(e,t){e.bundle=t,e.platform=t.type,e.baseline=t.baseline,e.resolutionInfo=h.getResolutionInfo(t.type,t.baseline),e.measureRatio=1/e.resolutionInfo.divider,e.allLayers=t.allLayers},_onSelectTextLayer:function(e,t){return e.selectedLayer?u.extend(this.getBaseComponentOptions(e),{fonts:u.filter(e.bundle.data.fonts||[],function(t){return t.usages.indexOf(e.selectedLayer.id)>-1},this),textChanges:l(this.textChanges,t)}):[]},_onSelectBounds:function(e){var t=this;return e.selectedLayer?u.extend(this.getBaseComponentOptions(e),{bounds:e.selectedLayer.bounds,shape:e.selectedLayer.shape,boundsChanges:t.boundsChanges}):null},_onSelectBlendOptions:function(e){var t=this;return e.selectedLayer?u.extend(this.getBaseComponentOptions(e),{blendOptions:e.selectedLayer.blendOptions,blendChanges:t.blendsChanges}):null},_onSelectFill:function(e,t){return e.selectedLayer?u.extend(this.getBaseComponentOptions(e),{fills:e.selectedLayer.fills,fillsChanges:l(this.fillsChanges,t)}):null},_onSelectLayerEffects:function(e,t){if(!e.selectedLayer)return null;var n={borders:null,shadows:{inner:null,drop:null}};return this.effectsChanges&&(n.borders=c(this.effectsChanges.borders,t),this.effectsChanges.shadows&&(n.shadows.inner=c(this.effectsChanges.shadows.inner,t),n.shadows.drop=c(this.effectsChanges.shadows.drop,t))),u.extend(this.getBaseComponentOptions(e),{layerEffects:e.selectedLayer.layerEffects,effectsChanges:n})},_onSelectLayerBase:function(e){var t=this;return e.selectedLayer?u.extend(this.getBaseComponentOptions(e),{layer:e.selectedLayer,baseChanges:t.baseChanges}):null}},computed:{selectedLeftBounds:function(){return this._onSelectBounds(this.leftPanel)},selectedRightBounds:function(){return this._onSelectBounds(this.rightPanel)},selectedLeftBlendOptions:function(){return this._onSelectBlendOptions(this.leftPanel)},selectedRightBlendOptions:function(){return this._onSelectBlendOptions(this.rightPanel)},selectedLeftFill:function(){return this._onSelectFill(this.leftPanel,"left")},selectedRightFill:function(){return this._onSelectFill(this.rightPanel,"right")},selectedLeftLayerText:function(){return this._onSelectTextLayer(this.leftPanel,"left")},selectedRightLayerText:function(){return this._onSelectTextLayer(this.rightPanel,"right")},selectedLeftLayerEffects:function(){return this._onSelectLayerEffects(this.leftPanel,"left")},selectedRightLayerEffects:function(){return this._onSelectLayerEffects(this.rightPanel,"right")},selectedLeftBase:function(){return this._onSelectLayerBase(this.leftPanel)},selectedRightBase:function(){return this._onSelectLayerBase(this.rightPanel)}}}},{"../../../../../../../lib/bundle-version-difference/BundleChangeKindEnum":28,"../../../../../../../lib/bundle-version-difference/DifferenceHelper":29,"../../../../../canvas/canvas_helper":162,"../../../../../panel-details/blend-mode":317,"../../../../../panel-details/fills":330,"../../../../../panel-details/layer-effects":341,"../../../../../panel-details/text-layer":351,"./bounds":112,"./index.html":113,"./layer":116,underscore:682}],115:[function(e,t,n){t.exports='<div class="m-details__snippet m-details__snippet-layer_info" v-if="layer">\n    <h4>LAYER INFO</h4>\n    <!--\n    <div class="dimensions-block" v-if="layer.id">\n        <div>\n            <span class="text-field-name">id:</span>\n            <span>{{ layer.id }}</span>\n        </div>\n    </div>\n    -->\n    <div class="dimensions-block" v-if="layer.name">\n        <div v-class="getCompareClass(baseChanges && baseChanges.name)">\n            <span class="text-field-name">name:</span>\n            <span>{{ layer.name }}</span>\n        </div>\n    </div>\n    <div class="dimensions-block dimensions-block__icon" v-if="layer.type">\n        <div v-class="getCompareClass(baseChanges && baseChanges.type)">\n            <span class="text-field-name">type:</span>\n            <i class="sympli-icon sympli-icon__layer {{ currentLayerIcon }}"></i>\n        </div>\n    </div>\n    <div class="dimensions-block" v-if="layer.visible != null && layer.visible != undefined">\n        <div v-class="getCompareClass(baseChanges && baseChanges.visible)">\n            <span class="text-field-name">visible:</span>\n            <span>{{ layer.visible }}</span>\n        </div>\n    </div>\n</div>\n'},{}],116:[function(e,t,n){var i=e("../../../../../../panel-details/iconMap");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{layer:null}},computed:{currentLayerIcon:function(){var e=this.layer?this.selectedLayer.type:"";return i[e]||"fa-question"}}}},{"../../../../../../panel-details/iconMap":333,"./index.html":115}],117:[function(e,t,n){t.exports='<div class="design_changes__differences versions-diff"\n     v-class="versions-diff__line: isNoChanges"\n     v-scrollpane="{}">\n  <div>\n\n    <div id="resizable" class="versions-diff-row">\n      <div class="versions-diff-column">\n        <div class="versions-diff__title">\n          <div class="date-version" v-if="leftVersion">{{leftVersion.updatedAt | moment updateDateFormat}}</div>\n          <div class="dropdown">\n            <div class="dropdown-toggle ellipsis" data-toggle="dropdown" v-if="leftVersion">\n              {{leftVersion ? \'Version \' + leftVersion.version : \'\'}} {{leftVersion.isCurrent && !hasNewVersion ? \'(Latest)\' : \'\'}}<span\n                    class="sympli-icon sympli-icon__right icon-user_arrow_down"></span>\n            </div>\n            <span class="arrow"></span>\n            <ul class="dropdown-menu scrollable-menu">\n              <li v-repeat="leftPanelVersions | allowedLeftVersions">\n                <span class="nav-link" v-class="active: leftVersion && leftVersion.version == $data.version"\n                  title="Version {{version}}"\n                  v-on="click:selectLeftVersion($data)">\n                  Version {{version}}\n                  <i class="sympli-icon icon-tick" v-if="leftVersion && leftVersion.version == $data.version"></i>\n                </span>\n              </li>\n            </ul>\n          </div>\n          <div class="select-version" v-show="fullLeftVersion != null && !fullLeftVersion">\n            Select version\n          </div>\n          <div class="select-version" v-show="fullLeftVersion != null && fullLeftVersion">\n            <a href="#" v-on="click:openLeftVersion">Open</a>\n          </div>\n        </div>\n\n        <div class="versions-diff__canvas" v-show="leftVersion" zv-show="fullLeftVersion">\n          <div class="bundle-menu">\n            <div v-component="zoom-picker" v-with="namespace: \'left\', bounds: leftVersion ? leftVersion.bounds : {}, viewportId: \'diff-viewport-left\', defaultFit: \'Auto\'"></div>\n          </div>\n          <div v-component="differences-canvas" v-with="namespace:\'left\', allLayers: allLeftLayers, deletedLayersList: removedLayers">\n          </div>\n        </div>\n      </div>\n      <div class="versions-diff-column">\n        <div class="versions-diff__title">\n          <div class="date-version" v-if="rightVersion">{{rightVersion.updatedAt | moment updateDateFormat}}</div>\n          <div class="dropdown">\n            <div class="dropdown-toggle ellipsis" data-toggle="dropdown" v-if="rightVersion">\n              {{rightVersion ? \'Version \' + rightVersion.version : \'\'}} {{rightVersion.isCurrent && !hasNewVersion ? \'(Latest)\' : \'\'}}<span\n                    class="sympli-icon sympli-icon__right icon-user_arrow_down"></span>\n            </div>\n            <span class="arrow"></span>\n            <ul class="dropdown-menu scrollable-menu">\n              <li v-repeat="rightPanelVersions | allowedRightVersions">\n                <span class="nav-link" v-class="active: rightVersion && rightVersion.version == $data.version"\n                  title="Version {{version}}"\n                  v-on="click:selectRightVersion($data)">\n                  Version {{version}}\n                  <i class="sympli-icon icon-tick" v-if="rightVersion && rightVersion.version == $data.version"></i>\n                </span>\n              </li>\n            </ul>\n          </div>\n          <div class="select-version" v-show="fullRightVersion != null && !fullRightVersion">\n            Select version\n          </div>\n          <div class="select-version" v-show="fullRightVersion != null && fullRightVersion">\n            <a href="#" v-on="click:openRightVersion">Open</a>\n          </div>\n        </div>\n\n        <div class="versions-diff__canvas" v-show="rightVersion" zv-show="fullRightVersion">\n          <div class="bundle-menu">\n            <div v-component="zoom-picker" v-with="namespace: \'right\', bounds: rightVersion ? rightVersion.bounds : {},  viewportId: \'diff-viewport-right\', defaultFit: \'Auto\'"></div>\n          </div>\n          <div v-component="differences-canvas" v-with="namespace:\'right\', allLayers: allRightLayers, newLayersList: newLayers, editedLayersList: editedLayers"></div>\n        </div>\n      </div>\n    </div>\n\n    <div class="versions-diff-row versions-diff__details" v-component="differences-details" v-show="fullLeftVersion && fullRightVersion && !isNoChanges"></div>\n\n    <div class="versions-diff-row no-changes" v-if="fullLeftVersion && fullRightVersion && isNoChanges">\n      <div class="m-details versions-diff-column" v-style="heightForBlockNoChanges">\n        <div class="m-details__no-changes-helper"></div>\n        <div class="m-details__no-changes">\n          <span class="sympli-icon icon-pos_smile"></span>\n          <span class="no-changes__text">\n            The versions are the same.<br/>\n            No changes have been made.\n          </span>\n        </div>\n      </div>\n      <div class="m-details versions-diff-column" v-style="heightForBlockNoChanges">\n        <div class="m-details__no-changes-helper"></div>\n        <div class="m-details__no-changes">\n          <span class="sympli-icon icon-pos_smile"></span>\n          <span class="no-changes__text">\n            The versions are the same.<br/>\n            No changes have been made.\n          </span>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</div>\n'},{}],118:[function(e,t,n){"use strict";var i=e("underscore"),s=e("vue"),o=e("sympli-enums").Scopes,r=e("LocalStorageBag"),a=e("../../../../canvas/layer-utility");t.exports={inherit:!0,template:e("./index.html"),components:{"differences-details":e("./differences-details"),"differences-canvas":e("../../../../canvas/differences"),"zoom-picker":e("../../../../common/zoom-picker")},data:function(){return{id:"",isNoChanges:!1,newLayers:[],removedLayers:[],editedLayers:[],changesMap:{},leftVersion:null,rightVersion:null,fullLeftVersion:null,fullRightVersion:null,rightZoomRatio:null,leftZoomRatio:null,heightForNoChanges:null,syncState:!0,syncOptionsBagStore:null,bundleReadyDialogOpened:!1,isVersionLoading:!1}},ready:function(){var e=this;$("#resizable").resizable({handles:"s",minHeight:300,alsoResize:".versions-diff__canvas",resize:i.throttle(e._scrollPanelReInit,20)}),this.$on(o.loaded.bundle.versions,function(e){this._preloadVersions()}),this.$on(o.loaded.bundle.model,function(e){this._preloadVersions()}),this.bundle&&this._preloadVersions(),this.$watch("bundle",function(){this._preloadVersions()}),this.$on("left:zoom",function(e,t){this.leftZoomRatio=e,this.isSyncEnabled&&this.syncState&&(this.onSelectRight(e),this.$broadcast("sync:zoom:ratio",e,t))}),this.$on("right:zoom",function(e,t){this.rightZoomRatio=e,this.isSyncEnabled&&this.syncState&&(this.onSelectLeft(e),this.$broadcast("sync:zoom:ratio",e,t))}),this.syncState=this.syncOptionsBag.get(),this.$on("layer:clicked",this.onLayerClicked),window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},methods:{calcDifferenceServer:function(){if(this._clearDiffLists(),this.leftVersion&&this.leftVersion.version&&this.rightVersion&&this.rightVersion.version){var e=this;e.fullLeftVersion=null,e.fullRightVersion=null;var t=this.$api.get("/bundles/"+this.id+"/versions/diff/"+this.leftVersion.version+"/"+this.rightVersion.version,{},{cache:!0}).then(function(t){e.removedLayers=t.data.removedLayers,e.newLayers=t.data.newLayers,e.editedLayers=t.data.editedLayers,e.fullLeftVersion=t.data.leftBundle,e.fullRightVersion=t.data.rightBundle,a.setArtboardVisible(e.fullLeftVersion.data.layers),a.setArtboardVisible(e.fullRightVersion.data.layers),e.fullLeftVersion.allLayers=[],a.forEachLayers(a.forEachLayers(e.fullLeftVersion.data.layers,function(t){e.fullLeftVersion.allLayers.push(t)})),e.fullRightVersion.allLayers=[],a.forEachLayers(a.forEachLayers(e.fullRightVersion.data.layers,function(t){e.fullRightVersion.allLayers.push(t)})),e._prepareLayersChangeMap(),e.$broadcast("version:sources",e.fullLeftVersion,e.fullRightVersion),e.$broadcast("version:select:left",e.fullLeftVersion),e.$broadcast("version:select:right",e.fullRightVersion),e._scroll(),e.isVersionLoading=!1})["catch"](e.$api.safeCatch(function(){e.isVersionLoading=!1}));return this.$api(t)}this._calculateHeightNoChanges()},selectLeftVersion:function(e){this.$dispatch("lanes:path","designs/"+this.bundle.id+"/changes/"+e.version+"/"+this.rightVersion.version)},selectRightVersion:function(e){this.$dispatch("lanes:path","designs/"+this.bundle.id+"/changes/"+this.leftVersion.version+"/"+e.version)},_clearDiffLists:function(){this.changesMap={},this.newLayers=[],this.removedLayers=[],this.editedLayers=[],this.fullLeftVersion=null,this.fullRightVersion=null,this.$broadcast("version:select:left",this.fullLeftVersion),this.$broadcast("version:select:right",this.fullRightVersion),this.$broadcast("version:layer:clear"),this.isNoChanges=!0},_preloadVersions:function(){var e=this.$root.route.params;if(this.id=e[0],e[1]){var t=e[1].slice(1).split("/");this._loadVersions(t[0],t[1])}else this._loadVersions()},_loadVersions:function(e,t){if(this.bundle&&!this.isVersionLoading){if(this.isVersionLoading=!0,this.versions.length>1){var n=1,s=0;if(e&&(n=i.findIndex(this.versions,function(t){return t.version==e})),t&&(s=i.findIndex(this.versions,function(e){return e.version==t})),e==t&&e==this.bundle.version)n=1,s=0;else if(n==s&&n>0)s=n-1;else if(n<=s||n<0||s<0)return void this.$dispatch("lanes:route",{name:"notFound"});this.leftVersion=this.versions[n],this.rightVersion=this.versions[s],this.$broadcast("left:version:prerender",this.leftVersion),this.$broadcast("right:version:prerender",this.rightVersion),this._setSubTitle(),this.calcDifferenceServer()}else this.isVersionLoading=!1;this.$dispatch("versions",this.versions),this._calculateHeightNoChanges()}},onLayerClicked:function(e){var t=this.changesMap[e.id];switch(t){case"new":this.$broadcast("version:layer:new",e);break;case"edit":var n=i.find(this.editedLayers,function(t){return e.id==t.id});this.layerChanges=n?n.changes:{},this.$broadcast("version:layer:edit",e,this.layerChanges);break;case"remove":this.$broadcast("version:layer:remove",e)}this._scroll()},_scroll:function(e,t){var n=this;s.nextTick(function(){n.$emit("scrollPane:reInit"),n._calculateHeightNoChanges()})},_prepareLayersChangeMap:function(){var e=this;i.each(this.removedLayers,function(t){e.changesMap[t.id]="remove"}),i.each(this.newLayers,function(t){e.changesMap[t.id]="new"}),i.each(this.editedLayers,function(t){e.changesMap[t.id]="edit"}),this.isNoChanges=i.isEmpty(e.changesMap)},_scrollPanelReInit:function(){return this.$broadcast("scrollPane:reInit"),this.$broadcast("scrollPane:scrollBottom"),this._scroll(),!1},openRightVersion:function(e){this.openVersion(e,this.rightVersion)},openLeftVersion:function(e){this.openVersion(e,this.leftVersion)},openVersion:function(e,t){if(e.preventDefault(),t.isCurrent&&!this.hasNewVersion)this.$dispatch("lanes:path","designs/"+t.id+"/specs");else{var n=t.bundle?t.bundle:t.id;this.$dispatch("lanes:path","designs/"+n+"/versions/"+t.version+"/specs")}},_calculateHeightNoChanges:function(){this.heightForNoChanges=$(window).height()-$(".navbar-fixed-top").height()-$(".layout-footer").height()-$("#resizable").height()},handleResize:function(e){this._calculateHeightNoChanges()},onSyncChange:function(e,t,n){this.syncOptionsBag.set(this.syncState),this.isSyncEnabled&&this.syncState&&(this.$broadcast("sync:jsp-scroll:start",n),this.onSelectLeft(t,n),this.onSelectRight(t,n),this.$broadcast("sync:zoom:ratio",t,n),this.$broadcast("sync:jsp-scroll:send",n),setTimeout(function(){this.$broadcast("sync:jsp-scroll:send",n),this.$broadcast("sync:jsp-scroll:stop",n)}.bind(this),0))},onSelectLeft:function(e,t){this.leftZoomRatio=e,this.$broadcast("left:zoom",e,t)},onSelectRight:function(e,t){this.rightZoomRatio=e,this.$broadcast("right:zoom",e,t);
},_setSubTitle:function(){var e=this.leftVersion&&this.rightVersion?this.leftVersion.name+" (v."+this.leftVersion.version+") vs "+this.rightVersion.name+" (v."+this.rightVersion.version+") - "+this.leftVersion.project.name:"";this.setDifferencesSubtitle(e)}},computed:{leftPanelVersions:function(){return this.rightVersion?i.reject(this.versions,{version:this.rightVersion.version}):this.versions},rightPanelVersions:function(){return this.leftVersion?i.reject(this.versions,{version:this.leftVersion.version}):this.versions},allLeftLayers:function(){return this.fullLeftVersion?this.fullLeftVersion.allLayers:[]},allRightLayers:function(){return this.fullRightVersion?this.fullRightVersion.allLayers:[]},heightForBlockNoChanges:function(){return this.heightForNoChanges>190?"height: "+this.heightForNoChanges+"px;":"height: auto;"},syncOptionsBag:function(){return this.syncOptionsBagStore||(this.syncOptionsBagStore=new r("syncBrowseChanges",(!0))),this.syncOptionsBagStore},isSyncEnabled:function(){var e=this.fullLeftVersion,t=this.fullRightVersion;if(e&&e.data&&e.data.bounds&&t&&t.data&&t.data.bounds){var n=e.data.bounds,i=t.data.bounds;return n.bottom-n.top==i.bottom-i.top&&n.right-n.left==i.right-i.left}return!1}},filters:{allowedLeftVersions:function(e){var t=this;return this.rightVersion&&this.rightVersion.version?i.reject(e,function(e){return e.version>=t.rightVersion.version}):e},allowedRightVersions:function(e){var t=this;return this.leftVersion&&this.leftVersion.version?i.reject(e,function(e){return e.version<t.leftVersion.version}):e}}}},{"../../../../canvas/differences":168,"../../../../canvas/layer-utility":169,"../../../../common/zoom-picker":193,"./differences-details":114,"./index.html":117,LocalStorageBag:521,"sympli-enums":524,underscore:682,vue:821}],119:[function(e,t,n){t.exports='<div class="m-panel m-panel__tree design_changes__versions-list">\n\n  <div class="version-list_views m-panel__header">\n    <div class="sympli-switch">\n      <span class="sympli-switch__button" v-class="badge: isDifferencesActive" v-on="click: setDifferencesView">Differences</span>\n      <span class="sympli-switch__button" v-class="badge: isVisualActive" v-on="click: setVisualView">Visual</span>\n      <span class="background"></span>\n    </div>\n  </div>\n\n  <div class="versions-list m-panel__content m-panel__content-with-header"\n       v-class="versions-list__visual: isVisualActive"\n       v-scrollpane="{}">\n    <div class="versions-list-block">\n      <div class="versions-list__item"\n           v-class="versions-list__item-selectable: isVisualActive, active: isVisualActive && version.id == selectedVersion.id"\n           v-repeat="version: versions" track-by="id"\n           v-on="click: onVisualVersionClick($event, version)">\n        <div class="versions-list__item-version">Version {{version.version}}</div>\n        <div class="versions-list__item-date">{{version.updatedAt | moment updateDateFormat}}</div>\n        <!--<div class="versions-list__item-commit-message">Commit message. Looooooong looong string.</div>-->\n        <div class="versions-list__item-link" v-on="click: openSpecs($event, version)">Show Specs</div>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],120:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../ChangesViewEnum"),o=e("../../../../../../enums/BundleViewMenuEnum"),r=e("sympli-enums").Scopes;t.exports={inherit:!0,template:e("./index.html"),data:function(){return{selectedVersion:null}},ready:function(){this.$on(r.loaded.bundle.versions,function(e){this.selectedVersion=i.last(this.versions)}),this.$on(r.bundle.changes.visual.nav.select,function(e){this.selectedVersion=e})},methods:{setDifferencesView:function(){this.setChangesView(s.Differences)},setVisualView:function(){this.setChangesView(s.Visual)},openSpecs:function(e,t){e.preventDefault();var n=["designs",this.id];n.push("versions"),n.push(t.version),n.push(o.Specs.toLowerCase()),this.$dispatch("lanes:path",n.join("/"))},onVisualVersionClick:function(e,t){this.isVisualActive&&(this.selectedVersion=t,this.$sympliTrigger(r.bundle.changes.visual.list.select,t))}}}},{"../../../../../../enums/BundleViewMenuEnum":2,"../ChangesViewEnum":107,"./index.html":119,"sympli-enums":524,underscore:682}],121:[function(e,t,n){t.exports='<div class="design_changes__visual">\n\n  <div v-if="visualBundle">\n      <div class="versions-diff__title">\n        <!--<div class="date-version">{{visualBundle.updatedAt | moment updateDateFormat}}</div>-->\n        <div class="title-version">Version {{visualBundle.version}}, <span class="date">{{visualBundle.updatedAt | moment updateDateFormat}}</span></div>\n        <div class="select-version"><a v-on="click:openVersion($event)">Open</a></div>\n      </div>\n\n      <div class="versions-diff__canvas">\n        <div class="m-panel m-panel__changes-visual">\n          <div id="viewport" class="m-panel__content" tabindex="0" v-scrollpane="{}">\n            <div id="canvas" class="m-canvas">\n              <div v-component="design-canvas" v-with="namespace: \'visual-bundle\'"></div>\n              <zoom-picker v-with="namespace: \'visual-bundle\',\n                             viewportId: \'viewport\',\n                             bounds: visualBundle && visualBundle.data ? visualBundle.data.bounds : {},\n                             defaultFit: \'Auto\',\n                             persisted: false,\n                             padding: { width: 45, height: 40 }"\n                           v-show="false"\n              ></zoom-picker>\n            </div>\n          </div>\n        </div>\n\n        <bundles-navigation-aside v-with="circular: true, size: defaultVersionSize"></bundles-navigation-aside>\n      </div>\n  </div>\n\n  <div class="bundles-list" v-if="!visualBundle && isReady">\n\n    <div class="bundles-list__no-results empty-list">\n      <span class="sympli-icon empty-sympli-icon icon-results_folder"></span>\n      <h4 class="cut-the-length">\n        <span>Seems like you don\'t have any selected versions</span>\n      </h4>\n      <p>You can try to select versions on the right panel.</p>\n    </div>\n\n  </div>\n\n</div>\n'},{}],122:[function(e,t,n){"use strict";var i=e("underscore"),s=e("vue"),o=e("../../../../../../enums/BundleViewMenuEnum"),r=e("sympli-enums").Scopes;t.exports={inherit:!0,template:e("./index.html"),components:{"design-canvas":e("../../../../canvas/design"),"bundles-navigation-aside":e("../../bundles-navigation-aside"),"zoom-picker":e("../../../../common/zoom-picker")},data:function(){return{visualVersions:[],visualBundle:null,zoomRatio:null,isReady:!1,defaultVersionSize:2}},ready:function(){this.$on("bundles:navigation:next",this.handleNextVisualVersion),this.$on("bundles:navigation:prev",this.handlePrevVisualVersion),this.$on("visual-bundle:zoom",this.handleBundleZoom),this.$on(r.loaded.bundle.versions,function(e){this._rebuildVisualChanges()}),this.$on(r.bundle.changes.visual.list.select,function(e){this._rebuildVisualChanges(e.version)}),this.$on("resize",this.handleResize),this._rebuildVisualChanges()},methods:{handleNextVisualVersion:function(){var e=this,t=null,n=i.findIndex(this.visualVersions,{id:e.visualBundle.id});n===-1?t=0:(t=n+1,t>=this.visualVersions.length&&(t=0));var s=this.visualVersions[t];this.$sympliTrigger(r.bundle.changes.visual.nav.select,s),this._triggerNavigationEvent(t),this._renderVisualBundle(s)},handlePrevVisualVersion:function(){var e=this,t=null,n=this.visualVersions.length,s=i.findIndex(this.visualVersions,{id:e.visualBundle.id});s===-1?t=n-1:(t=s-1,t<0&&(t=n-1));var o=this.visualVersions[t];this.$sympliTrigger(r.bundle.changes.visual.nav.select,o),this._triggerNavigationEvent(t),this._renderVisualBundle(o)},handleBundleZoom:function(e,t,n){this.zoomRatio=e,setTimeout(function(){this.$emit("scrollPane:reInit")}.bind(this))},_rebuildVisualChanges:function(e){if(this.visualVersions=i.sortBy(this.versions,"version"),this.visualVersions.length>0){var t=e?i.findWhere(this.versions,{version:e}):i.first(this.visualVersions);t&&(this._triggerNavigationEvent(0),this._renderVisualBundle(t))}else this.visualBundle=null,this.$broadcast("bundles:navigation:state",!1,!1,0)},_triggerNavigationEvent:function(e){var t=this.visualVersions.length,n=e>0,i=e<t-1;this.$broadcast("bundles:navigation:state",n,i,t)},_renderVisualBundle:function(e){this.visualBundle=e,s.nextTick(function(){this.$broadcast("visual-bundle:render",e,"flat",!0),this.$broadcast("visual-bundle:zoom:preset","Auto"),this.isReady=!0,this.$emit("scrollPane:reInit")}.bind(this))},openVersion:function(e){e.preventDefault();var t=["designs"];if(this.visualBundle.isCurrent&&!this.hasNewVersion)t.push(this.visualBundle.id);else{var n=this.visualBundle.bundle?this.visualBundle.bundle:this.visualBundle.id;t.push(n),t.push("versions"),t.push(this.visualBundle.version)}t.push(o.Specs.toLowerCase()),this.$dispatch(r.lanes.path,t.join("/"))},handleResize:function(){this.$broadcast("visual-bundle:zoom:preset","Auto")}}}},{"../../../../../../enums/BundleViewMenuEnum":2,"../../../../canvas/design":164,"../../../../common/zoom-picker":193,"../../bundles-navigation-aside":104,"./index.html":121,"sympli-enums":524,underscore:682,vue:821}],123:[function(e,t,n){t.exports='<div class="design_view">\n\n  <bundle-specs v-if="isSpecsActive"></bundle-specs>\n  <bundle-review v-if="isReviewActive"></bundle-review>\n  <bundle-changes v-if="isChangesActive"></bundle-changes>\n  <div v-component="modal-bundle-share"></div>\n\n  <div class="notify-block">\n    <div class="alert alert-danger" v-show="isForbidden">\n      You don\'t have access to this design.\n    </div>\n    <div class="alert alert-warning" v-show="isProcessing">\n      We\'re processing the design, please hold on for a moment.\n    </div>\n    <div class="alert alert-danger" v-show="isError" wait-for="data">\n      An error occurred during processing this design. <a href="/app#!/projects">Return</a> to projects list.\n    </div>\n    <div class="alert alert-warning" v-show="isNotFound">\n      Design not found.\n    </div>\n  </div>\n</div>\n'},{}],124:[function(e,t,n){"use strict";var i=e("underscore"),s=e("LocalStorageBag"),o=e("./bundle-data-helper"),r=e("../../canvas/layer-utility"),a=e("../../../../enums/ProjectTypeEnum"),l=(e("../../../../enums/SocketEventsEnum"),e("../../../../enums/BundleViewMenuEnum")),c=e("../../../../enums/CacheKeysEnum"),u=e("sympli-enums").Scopes,d=["bundleView","bundleVersionView"],h=["bundleSpecs","bundleVersionSpecs"],p=["bundleReview","bundleVersionReview"],f=["bundleChanges"];t.exports={inherit:!0,template:e("./index.html"),components:{"bundle-specs":e("./specs"),"bundle-review":e("./review"),"bundle-changes":e("./changes"),"modal-bundle-share":e("../../modals/project-share")},data:function(){return{isProcessing:!1,isReady:!1,isError:!1,isForbidden:!1,isNotFound:!1,bundle:null,messages:null,users:null,spots:null,versions:[],assetSources:[],assets:[],id:null,version:null,currentTab:null,bundleViewMenuBag:null,bundleView:null,stopLoading:!1}},created:function(){this.bundleViewMenuBag=new s("bundleViewMenu",l.Specs),this._initializeRouteParams(this.$root.route)},ready:function(){this.$on(u.cache.bundle.reset,this.handleResetBundleCache),this.stopLoading},methods:{_initializeRouteParams:function(e){var t=e.params,n=e.name;if(this.id=t[0],d.indexOf(n)>=0){"bundleView"===n?this.currentTab=t[2]||null:(this.version=t[1],this.currentTab=t[3]||null);var i=this.bundleViewMenuBag.get()||l.Specs;return this.currentTab||i!==l.Specs?this.currentTab||i!==l.Review||(this.currentTab="messages"):this.currentTab="assets",this._setBundleView(i),this._redirectByBundleView(i),void this._loadBundle(" by redirect")}h.indexOf(e.name)>=0?(this._setBundleView(l.Specs),"bundleSpecs"===n?this.currentTab=t[2]||"assets":(this.version=t[1],this.currentTab=t[3]||"assets")):p.indexOf(e.name)>=0?(this._setBundleView(l.Review),this.currentTab="messages","bundleVersionReview"===n&&(this.version=t[1])):f.indexOf(e.name)>=0?this._setBundleView(l.Changes):this.id=null,this._loadBundle(" by direct link")},_redirectByBundleView:function(e){var t=["designs",this.id];this.version&&(t.push("versions"),t.push(this.version)),t.push(e.toLowerCase()),this.currentTab&&e===l.Specs&&t.push(this.currentTab),window.history.replaceState(null,null,"#!/"+t.join("/"))},_setBundleView:function(e){this.bundleView=e,this.bundleView!==l.Specs&&this.bundleView!==l.Review||this.bundleViewMenuBag.set(this.bundleView),this.$sympliTrigger(u.menu.bundleView.changed,this.id,this.bundleView)},handleResetBundleCache:function(){this.$cache.reset(c.groups.bundle+this.id)},_loadBundle:function(e){if(this.id){var t=this;this.$api(this.$cache({group:c.groups.bundle+this.id}).getBundleRequest(t.id,t.version).then(function(e){var n=e.data;return n.isCurrent=!0,t._loadProject(n).then(function(){if("ready"===n.status)return"photoshop"!==n.source&&(t.bundle=n,t.$sympliTrigger(u.loaded.bundle.model,t.bundle),t.$broadcast("bundle:prerender",n)),t._loadVersions(n),t._loadUsers(n.project),t._loadSpots(n),t._loadMessages(n),t._sendDesignViewedEvent(n),t.$store.getBundleDataRequest(n).then(function(e){n.data=e,n=o.prepareBundle(n),t.bundle=n,t.$broadcast("bundle:render",n),t.$sympliTrigger(u.loaded.bundle.data,t.bundle),t.isReady=!0,t._fillAssets(n)});if("error"===n.status)t.isError=!0;else{var e=n.version-1,i=e>0?"/app#!/designs/"+(n.bundle?n.bundle:n.id)+"/versions/"+e:void 0,s="/app#!/projects/"+n.project.id,r=i?"We’re processing a new version of this design. You either can <a href='"+s+"'>browse</a> corresponding project or click <a href='"+i+"'>here</a> to open previous version":"We’re processing a new version of this design. You can <a href='"+s+"'>browse </a>corresponding project.";bootbox.dialog({message:r,title:"We're processing current design",show:!0,closeButton:!1}),$(".bootbox").click(function(){$($(this).closest(".modal")).modal("hide")})}})}))}},_fillAssets:function(e){var t=this;r.forEachLayers(e.data.layers,function(e){e.fromSmartObject||"asset"!==e.role||t.assets.push(e),e.fromSmartObject||"assetSource"!==e.role||t.assetSources.push(e)})},_loadUsers:function(e){if(null===this.users){var t=this,n=i.isObject(e)?e.id:e;return this.$api(this.$store.getProjectUsersRequest(n).then(function(e){t.users=e.data,t.$sympliTrigger(u.loaded.bundle.users,t.users)}))}},_loadSpots:function(e){if(null===this.spots){var t=this,n=e.bundle?e.bundle:e.id;return this.$store.getBundleSpotsRequest(n).then(function(e){e&&e.data||(e={data:[]}),t.spots=i.map(e.data,function(e){return e}),t.$sympliTrigger(u.loaded.bundle.spots,t.spots),t._checkSpotsAndMessagesLoaded()})}},_loadMessages:function(e){if(null===this.messages){var t=this,n=e.bundle?e.bundle:e.id;return t.$store.getBundleMessagesRequest(n).then(function(e){t.messages=e.data,t.$sympliTrigger(u.loaded.bundle.messages,t.messages),t._checkSpotsAndMessagesLoaded()})}},_loadVersions:function(e){var t=this,n=e.bundle?e.bundle:e.id;return this.$api(this.$store.getBundleVersionsRequest(n).then(function(n){var s=i.filter(n.data,{status:"ready"}),o=i.clone(e);delete o.data,s.unshift(o),s=i.sortBy(s,"version").reverse(),t.versions=s,t.$sympliTrigger(u.loaded.bundle.versions,t.versions)}))},_loadProject:function(e){var t=this,n=i.isObject(e.project)?e.project.id:e.project,s={populate:"user brandbook company"},o=!1;return t.$api.get("/projects/"+n,{qs:s},{isMainRequest:!0,cache:o}).then(function(t){return e.project=t.data,e})},_sendDesignViewedEvent:function(e){return this.$api.event("viewed-design-web",{design_id:e.id,design_name:e.name,platform:e.type,baseline:e.baseline})},_checkSpotsAndMessagesLoaded:function(){this.spots&&this.messages&&this.$sympliTrigger(u.loaded.bundle.annotations,this.spots,this.messages)}},computed:{isSpecsActive:function(){return this.bundleView===l.Specs},isReviewActive:function(){return this.bundleView===l.Review},isChangesActive:function(){return this.bundleView===l.Changes},isAndroid:function(){return this.bundle&&this.bundle.type===a.android},isIos:function(){return this.bundle&&this.bundle.type===a.ios},isWeb:function(){return this.bundle&&this.bundle.type===a.web},isOwner:function(){return this.bundle&&this.bundle.user==this.user.id}}}},{"../../../../enums/BundleViewMenuEnum":2,"../../../../enums/CacheKeysEnum":3,"../../../../enums/ProjectTypeEnum":6,"../../../../enums/SocketEventsEnum":8,"../../canvas/layer-utility":169,"../../modals/project-share":297,"./bundle-data-helper":88,"./changes":110,"./index.html":123,"./review":130,"./specs":132,LocalStorageBag:521,"sympli-enums":524,underscore:682}],125:[function(e,t,n){"use strict";t.exports={components:{"background-picker":e("../../../common/background-picker")},data:function(){return{background:"transparent",backgroundType:"transparent"}},ready:function(){this.$on("bundle:background",function(e,t){this.background=t,this.backgroundType=e})}}},{"../../../common/background-picker":177}],126:[function(e,t,n){"use strict";t.exports={inherit:!0,ready:function(){this.$on("document:left:ctrl",this.prevBundle),this.$on("document:right:ctrl",this.nextBundle),this.$on("bundles:navigation:state",function(e,t,n){this.isPrevAvailable=e,this.isNextAvailable=t,this.size=n})},data:function(){return{isNextAvailable:!1,isPrevAvailable:!1,size:1,circular:!1}},methods:{nextBundle:function(){this.isNextLinkAvailable&&this.$sympliTrigger("bundles:navigation:next")},prevBundle:function(){this.isPrevLinkAvailable&&this.$sympliTrigger("bundles:navigation:prev")}},computed:{isNextLinkAvailable:function(){return(this.isNextAvailable||this.circular)&&this.size>1},isPrevLinkAvailable:function(){return(this.isPrevAvailable||this.circular)&&this.size>1},isHidden:function(){return this.size<2}}}},{}],127:[function(e,t,n){"use strict";t.exports={components:{"layout-switcher":e("../bundle-layout-switcher")},data:function(){return{}},ready:function(){this.$on("bundle-layout-toggle",function(e){this.bundle&&this.bundle.data&&this.bundle.data.layout&&this.$set("bundle.data.layout.isEnabled",!this.bundle.data.layout.isEnabled)})}}},{"../bundle-layout-switcher":92}],128:[function(e,t,n){"use strict";var i=e("underscore"),s=e("LocalStorageBag"),o=new s("spotsEnabledBag",(!0));t.exports={components:{"spot-switcher":e("../bundle-spot-switcher")},data:function(){return{isSpotAdding:!1,isSpotsEnabled:!1,isSpotHovered:!1}},ready:function(){this.isSpotsEnabled=o.get(),this.$on("html:click",this.handleHtmlClick),this.$on("create:message",this.handleCreateMessage),this.$on("edit:message",this.handleEditMessage),this.$on("delete:message",this.handleDeleteMessage),this.$on("create:bundleSpot",this.handleCreateBundleSpot),this.$on("update:bundleSpot",this.handleUpdateBundleSpot),this.$on("delete:bundleSpot",this.handleDeleteBundleSpot),this.$on("toggle:menu:spots",this.handleToggleSpotsEnabled),this.$on("toggle:menu:spotsAdd",this.handleToggleSpotAdding),this.$on("spot:state:change",this.handleSpotStateChanged)},methods:{handleHtmlClick:function(e){!e.isSpot&&this.isSpotAdding&&(this.isSpotAdding=!1,this.$broadcast("cancel:spot",0,0))},handleCreateMessage:function(e){e.bundle!==this.bundle.id&&e.bundle!==this.bundle.bundle||this._upsertMessage(e)},handleDeleteMessage:function(e){this.messages=this.messages.filter(function(t){return t.id!=e.id})},handleEditMessage:function(e){i.each(this.messages,function(t){e.id==t.id&&(t.message=e.message)})},handleCreateBundleSpot:function(e){var t=i.isObject(e.bundle)?e.bundle.id:e.bundle;if(t==this.bundle.id||t==this.bundle.bundle){var n=i.find(this.spots,function(t){return t.id==e.id||void 0===t.id});n||this.spots.push(e)}},handleUpdateBundleSpot:function(e){var t=i.find(this.spots,function(t){return t.id==e.id});t&&(t.title=e.title,t.position.top=e.position.top,t.position.left=e.position.left,t.hex=e.hex,t.$set("isMoving",!0),setTimeout(function(){t.$set("isMoving",!1),this.$broadcast("spot:refresh",t)}.bind(this),300))},handleDeleteBundleSpot:function(e){var t=this;i.find(this.spots,function(n,i){if(n.id==e.id)return t.spots.$remove(i),!0}),this.messages=this.messages.filter(function(t){return t.bundleSpot!=e.id})},_upsertMessage:function(e){var t=i.find(this.messages,{token:e.token});t?(this.messages=i.reject(this.messages,{token:e.token}),this.messages.unshift(e)):this.messages.unshift(e)},_findMessageById:function(e){return i.find(this.messagesStorage,{id:e})},handleToggleSpotsEnabled:function(){this.isSpotsEnabled=!this.isSpotsEnabled,o.set(this.isSpotsEnabled)},handleToggleSpotAdding:function(){this.isSpotAdding=!this.isSpotAdding},handleSpotStateChanged:function(e){this.isSpotHovered=e}}}},{"../bundle-spot-switcher":98,LocalStorageBag:521,underscore:682}],129:[function(e,t,n){t.exports='<div class="bundle-view__review" v-class="\'layout-spot-adding\': isSpotAdding" v-doc-subtitle="subTitle">\n\n  <div v-if="bundle && isFullscreen" v-attr="class: \'fullscreen-header \' + backgroundType">\n    <span class="fullscreen-header__bundle-name">{{bundle && bundle.name}}</span>\n    <span class="btn bundle-btn bundle-btn-fullscreenclose" v-on="click: onToggleFullscreen" type="button" title="Fullscreen (Esc)">\n      <span class="sympli-icon icon-fullscreen-close"></span>\n    </span>\n  </div>\n\n  <div class="m-panel m-panel__review" v-el="panel" v-class="fullscreen: isFullscreen, fullscreen__dark: backgroundType === \'dark\'">\n    <div id="viewport" class="m-panel__content"\n         v-style="background: background"\n         zv-on="scroll: onResize"\n         v-pinch-zoom="viewport"\n         v-drag-to-scrollpane="dragToScrollOptions"\n         tabindex="0">\n      <div id="canvas" class="m-canvas" droppable="true"\n           v-el="canvas"\n           v-on="click: onCanvasClick, dragover: onDragover">\n        <div v-component="design-canvas" v-with="namespace: \'bundle\'"></div>\n        <div v-if="bundle && bundle.data && bundle.data.layout" v-component="bundle-layout" v-with="layout: bundle && bundle.data && bundle.data.layout, bundleId : bundle.id, height: bundle.data.bounds.bottom"></div>\n        <div v-component="bundle-spots" v-show="isSpotsEnabled && !isFullscreen"></div>\n      </div>\n    </div>\n\n    <div class="bundle-menu" v-class="bundle-menu__fullscreen: isFullscreen, bundle-menu__dark: backgroundType === \'dark\'">\n      <button class="btn bundle-btn" v-if="!isFullscreen" v-on="click: onToggleFullscreen" type="button" title="Fullscreen"><span class="sympli-icon icon-fullscreen" title="Fullscreen"></span></button>\n      <spot-switcher v-if="!isFullscreen" v-with="isSpotsEnabled: isSpotsEnabled, isSpotAdding: isSpotAdding"></spot-switcher>\n      <zoom-picker v-with="namespace: \'bundle\', viewportId: \'viewport\', bounds: bundle ? bundle.bounds : {}, defaultFit: \'Auto\', persisted: bundle && \'zoompicker.\'+bundle.project.id, padding: 40"></zoom-picker>\n    </div>\n\n    <div class="bundle-bottom" v-if="bundle">\n      <bundle-info v-with="bundle: bundle"></bundle-info>\n      <background-picker v-with="namespace: \'bundle\', default: \'light\', bagKey: \'bundleBackgroundBag_\' + bundle.project.id || bundle.project"></background-picker>\n    </div>\n\n    <div class="bundle-bottom bundle-bottom__switcher" v-if="bundle">\n      <layout-switcher v-with="bundle: bundle"></layout-switcher>\n    </div>\n\n    <bundles-navigation-aside v-with="circular: true"></bundles-navigation-aside>\n  </div>\n\n  <div class="m-panel m-panel__tree">\n    <div class="m-panel__header">\n      <div class="m-panel__header-inner">\n        <ul class="nav nav-tabs" role="tablist" v-class="\'nav-tabs__two\': tabs.length == 2">\n          <li v-repeat="tabs" v-class="active: currentTab == id" v-show="currentTab != \'\'" style="display:none;">\n            <span v-if="currentTab != id" v-on="click: onSelectBundleTab($event, id)">\n              <i class="sympli-icon icon-main_tab_{{name}}" title="{{name}}"></i>\n              {{text}}\n            </span>\n            <span v-if="currentTab == id">\n              <i class="sympli-icon icon-main_tab_{{name}}" title="{{name}}"></i>\n              {{text}}\n            </span>\n          </li>\n          <li class="line"></li>\n        </ul>\n      </div>\n    </div>\n\n    <div v-show="currentTab == \'messages\'" v-component="bundle-messages"></div>\n    <div v-show="currentTab == \'issues\'">\n      <jira-issues></jira-issues>\n    </div>\n\n  </div>\n\n  <div v-component="bundles-dropdown" v-with="bundle: bundle"></div>\n\n<!--\n  <div v-component="modal-bundle-versions"></div>\n  <div v-component="modal-bundle-share"></div>\n-->\n\n\n</div>\n'},{}],130:[function(e,t,n){"use strict";var i=(e("../../../../../lib/LayerTypeEnum"),e("../../../canvas/layer-utility")),s=e("../../../../../enums/ProjectTypeEnum"),o=(e("../../../../../enums/SocketEventsEnum"),e("../../../../../lib/MessageTypeEnum"),e("sympli-enums").Scopes),r=e("../../../canvas/canvas_helper"),a=e("underscore");t.exports={inherit:!0,template:e("./index.html"),components:{"bundle-menu":e("../bundle-menu"),"bundle-info":e("../bundle-info"),"bundle-layout":e("../bundle-layout"),"bundle-messages":e("../../../panel-tree/messages"),"bundles-dropdown":e("../bundles-dropdown"),"bundles-navigation-aside":e("../bundles-navigation-aside"),"design-canvas":e("../../../canvas/design"),"bundle-spots":e("../../../canvas/bundle/spots"),"zoom-picker":e("../../../common/zoom-picker"),"jira-issues":e("../../../panel-tree/jira-issues")},mixins:[e("../mixins/background-picker"),e("../mixins/layout-switcher"),e("../mixins/spots")],ready:function(){this.$on("document:esc",this.handleDocumentEsc),this.$on("select:bundle:tab",this.handleSelectBundleTab),this.$on("resize",this.handleResize),this.$on("scrollPane:init",this.handleScroll),this.$on("scrollPane:scroll",this.handleScroll),this.$on("bundle:zoom",this.handleBundleZoom),this.$on(o.loaded.bundle.data,this.handleLoadedBundle),this.$watch("isSpotsEnabled",function(e){this.dragToScrollOptions.dragEnabled=!this.isSpotsEnabled}),this.dragToScrollOptions.dragEnabled=!this.isSpotsEnabled,this.$watch("isFullscreen",function(){this.$emit("resize")}),this.setOffsetDelayed(),this.$watch("currentTab",function(e,t){})},data:function(){return{xOffset:0,yOffset:0,zoomRatio:1,dragToScrollOptions:{dragEnabled:!0,dragState:!1},tabs:[{id:"messages",name:"messages",text:"Comments"}]}},computed:{isAndroid:function(){return this.bundle&&this.bundle.type===s.android},isIos:function(){return this.bundle&&this.bundle.type===s.ios},isWeb:function(){return this.bundle&&this.bundle.type===s.web},isOwner:function(){return this.bundle&&this.bundle.user===this.user.id},headerCssColor:function(){},subTitle:function(){return this.bundle&&this.bundle.project?this.bundle.name+" - "+this.bundle.project.name:""}},methods:{handleBundleZoom:function(e,t,n){this.zoomRatio=e,this.translate=n,this.$emit("scrollPane:reInit"),this.setOffsetDelayed(),this.translate&&this.$emit("jsp-scroll:aimzoom",this.translate)},_initialiseJiraIssues:function(){var e=this.bundle.project.user;if(e&&e.plan.isJiraEnabled&&e.settings&&e.settings.isJiraConfigured){this.tabs.push({id:"issues",name:"issues",text:"Jira"});var t=a.find(this.tabs,function(e){return"messages"===e.id});t&&(t.text="Sympli")}},handleLoadedBundle:function(e){this._initialiseJiraIssues(),this.setPlatformBaseline(e.type,e.baseline),this.setOffsetDelayed()},setPlatformBaseline:function(e,t){this.platform=e,this.baseline=t,this.resolutionInfo=r.getResolutionInfo(e,t),this.measureRatio=1/this.resolutionInfo.divider},handleResize:function(){this.$emit("scrollPane:reInit"),this.setOffsetDelayed()},handleScroll:function(){this.setOffsetDelayed()},setOffset:function(){var e=i.getOffset(this.$$.canvas);e&&(this.yOffset=e.top,this.xOffset=e.left)},setOffsetDelayed:function(){setTimeout(function(){this.setOffset()}.bind(this))},onToggleFullscreen:function(e){this.isFullscreen=!this.isFullscreen,this.$dispatch("set:fullscreen",this.isFullscreen)},handleDocumentEsc:function(){this.isFullscreen=!1,this.$dispatch("set:fullscreen",this.isFullscreen)},onCanvasClick:function(e){this.$root.$broadcast("xx:click:canvas",e)},onDragover:function(e){return e.preventDefault(),!0},handleSelectBundleTab:function(e){this.selectBundleTab(e)},onSelectBundleTab:function(e,t){this.selectBundleTab(t)},selectBundleTab:function(e){this.currentTab=e,a.each(this.selectedLayers,function(e){e.selected=!1}),this.selectedLayers=[],this.$broadcast("select:layers",this.selectedLayers),this.$broadcast("scrollPane:reInit")}}}},{"../../../../../enums/ProjectTypeEnum":6,"../../../../../enums/SocketEventsEnum":8,"../../../../../lib/LayerTypeEnum":15,"../../../../../lib/MessageTypeEnum":16,"../../../canvas/bundle/spots":144,"../../../canvas/canvas_helper":162,"../../../canvas/design":164,"../../../canvas/layer-utility":169,"../../../common/zoom-picker":193,"../../../panel-tree/jira-issues":367,"../../../panel-tree/messages":373,"../bundle-info":90,"../bundle-layout":94,"../bundle-menu":96,"../bundles-dropdown":102,"../bundles-navigation-aside":104,"../mixins/background-picker":125,"../mixins/layout-switcher":127,"../mixins/spots":128,"./index.html":129,"sympli-enums":524,underscore:682}],131:[function(e,t,n){t.exports='<div class="bundle-view__specs" v-class="\'layout-spot-adding\': isSpotAdding" v-doc-subtitle="subTitle">\n  <!-- TODO XX: rename m-panel__canvas -> m-panel__specs -->\n  <div class="m-panel m-panel__canvas" v-component="canvas" v-pinch-zoom="viewport" v-style="background: background"></div>\n  <panel-details></panel-details>\n  <div class="m-panel m-panel__tree" v-component="panel-tree" v-on="mouseover: onHoverLayer(null, $event)"></div>\n  <layers-tree></layers-tree>\n  <div v-component="bundles-dropdown" v-with="bundle: bundle"></div>\n\n  <div v-component="bundle-menu" v-with="bundle: bundle"></div>\n\n  <div class="bundle-bottom" v-if="bundle">\n    <bundle-info></bundle-info>\n    <background-picker v-with="namespace: \'bundle\', default: \'light\', bagKey: \'bundleBackgroundBag_\' + bundle.project.id || bundle.project"></background-picker>\n  </div>\n\n  <div v-component="bundles-navigation-bottom"></div>\n  <div v-component="modal-bundle-versions"></div>\n</div>\n'},{}],132:[function(e,t,n){"use strict";var i=e("vue"),s=e("underscore"),o=e("../../../../../lib/LayerTypeEnum"),r=e("../../../canvas/layer-utility"),a=e("../../../canvas/canvas_helper"),l=(e("../../../../../enums/ProjectTypeEnum"),e("../../../../../enums/SocketEventsEnum")),c=e("sympli-enums").Events,u=e("sympli-enums").Scopes;t.exports={inherit:!0,template:e("./index.html"),mixins:[e("../mixins/background-picker"),e("../mixins/layout-switcher"),e("../mixins/spots")],components:{"panel-details":e("../../../panel-details"),"panel-tree":e("../../../panel-tree"),"layers-tree":e("../../../layers-tree"),canvas:e("../../../canvas/bundle"),"modal-bundle-versions":e("../../../modals/bundle-versions"),"bundles-dropdown":e("../bundles-dropdown"),"bundle-menu":e("../bundle-menu"),"bundle-layout":e("../bundle-layout"),"bundle-info":e("../bundle-info"),"bundles-navigation-bottom":e("../bundles-navigation-bottom"),"zoom-picker":e("../../../common/zoom-picker")},data:function(){return{platform:null,baseline:null,resolutionInfo:{},measureRatio:1,colors:null,selectedLayers:[],hoverLayers:[],selectedColorLayers:[],hoverColorLayers:[],hoverFontLayers:[],bundleReadyDialogOpened:!1,mapLayers:null,tabs:[{id:"assets",name:"assets"},{id:"colors",name:"colors"},{id:"fonts",name:"fonts"},{id:"messages",name:"messages"}]}},ready:function(){this.$on("select:bundle:tab",this.handleSelectBundleTab);var e=this;this.$on(u.loaded.bundle.data,this.handleLoadedBundle),this.$on("toggle:visibility",this.onToggleVisibility),this.$on("hover:layer",this.onHoverLayer),this.$on("click:layer",this.onClickLayer),this.$on("search:layers",this.onSearchLayers),this.$on("hover:color",this.onHoverColor),this.$on("click:color",this.onClickColor),this.$on("hover:font",this.onHoverFont),this.$on("hover:font-style",this.onHoverFontStyle),
this.$on("overlay:selection",function(e){this.$broadcast("overlay:selection",e)}),this.$on("toggle:menu:layersTree",function(){this.isLayersTreeShown=!this.isLayersTreeShown,s.each(this.selectedLayers,function(e){e.selected=!1}),this.selectedLayers=[],this.$broadcast("select:layers",this.selectedLayers),this.$broadcast("scrollPane:reInit")}),this.$on("isRuleEnabled",function(e){this.$broadcast("isRuleEnabled",e)}),this.$on("isRuleSet",function(e){this.$broadcast("isRuleSet",e)}),this.$on("isLayersTreeEnabled",function(e){this.$broadcast("isLayersTreeEnabled",e)}),this.$on(l.bundle.ready,function(t){this.bundle.id!=t.id||this.bundleReadyDialogOpened||(e.handleResetBundleCache(),bootbox.dialog({message:"New version of the design has arrived. Do you want to open it?",buttons:{noBtn:{label:"No, thanks",className:"btn-default"},yesBtn:{label:"Of course I do!",className:"btn-primary",callback:function(){window.location.hash="#!/designs/"+e.$root.route.params[0],window.location.reload()}}}}),this.bundleReadyDialogOpened=!0)}),this.$on(l.mentionees.refresh,function(){this.$store.getProjectUsersRequest(e.bundle.project.id).then(function(t){e.$set("users",t.data)})}),this.$watch("currentTab",function(e,t){e&&this.setupAssetRelatedLayers()})},methods:{setupAssetRelatedLayers:function(){var e="assets"===this.currentTab,t=!e;s.each(this.assetSources,function(e){this.$broadcast("toggle:render:canvas",e,t&&r.isLayerVisible(e))},this),s.each(this.assets,function(t){this.$broadcast("toggle:render:canvas",t,e&&r.isLayerVisible(t))},this)},onSelectBundleTab:function(e,t){this.selectBundleTab(t)},selectBundleTab:function(e){this.currentTab=e,s.each(this.selectedLayers,function(e){e.selected=!1}),this.selectedLayers=[],this.$broadcast("select:layers",this.selectedLayers),this.$broadcast("scrollPane:reInit")},handleSelectBundleTab:function(e){this.selectBundleTab(e)},handleLoadedBundle:function(e){this._initialiseJiraIssues();var t={};r.forEachLayers(this.bundle.data.layers,function(e){t[e.id]=e}),this.mapLayers=t;var n=this;this.isBundleVersion()&&!this.bundle.shareToken&&this.$store.getShortBundleRequest(this.getBundleId(),this.getProjectId()).then(function(e){var t=e.data[0];t&&(n.bundle.shareToken=t.shareToken)}),this.setPlatformBaseline(e.type,e.baseline),i.nextTick(function(){this.setupAssetRelatedLayers()}.bind(this))},_initialiseJiraIssues:function(){var e=this.bundle.project.user;e&&e.plan.isJiraEnabled&&e.settings&&e.settings.isJiraConfigured&&this.tabs.push({id:"issues",name:"issues"})},getLayerAncestors:function(e){return r.getLayerAncestors(e,this.bundle.data.layers)},onToggleVisibility:function(e,t){this.getLayerAncestors(e);if(e.visible=t,this.$broadcast("toggle:visibility:canvas",e,t),!t){var n=this,i=function(e){s.contains(n.selectedLayers,e)&&(n.selectedLayers.$remove(e),e.selected=!1),s.contains(n.hoverLayers,e)&&n.hoverLayers.$remove(e),e.layers&&e.layers.length>0&&s.each(e.layers,function(e){i(e)})};i(e),this.$broadcast("hover:layers",this.hoverLayers),this.$broadcast("select:layers",this.selectedLayers),this.$broadcast("scrollPane:reInit")}},onHoverLayer:function(e,t){t.stopPropagation(),t.preventDefault(),e?s.contains(this.hoverLayers,e)||(this.hoverLayers=[e]):this.hoverLayers=[],this.$broadcast("hover:layers",this.hoverLayers)},onClickLayer:function(e,t){this.$sympliEvent(t,c.document.layer),t.preventDefault(),s.each(this.selectedLayers,function(e){e.selected=!1,e.scrollTo=!1}),e?(this.$dispatch("html:click",s.extend(t,{isOnLayer:!0})),this.isSpotAdding&&(this.isSpotAdding=!1,this.$broadcast("cancel:spot",t.pageX,t.pageY)),s.contains(this.selectedLayers,e)?this.selectedLayers.$remove(e):(t.shiftKey&&e||(this.selectedLayers=[]),e&&(2===this.selectedLayers.length&&this.selectedLayers.pop(),this.selectedLayers.push(e),e.scrollTo=!0,s.each(this.getLayerAncestors(e),function(e){e.open=!0})))):this.selectedLayers=[],this.$broadcast("select:layers",this.selectedLayers,t),this.$broadcast("scrollPane:reInit")},onSearchLayers:function(e){function t(i){s.each(i,function(i){i.name.toLowerCase().indexOf(e)>-1&&n.push(i),i.type===o.layerSection&&i.layers&&t(i.layers)})}if(!e)return s.each(this.foundLayers,function(e){e.found=!1}),void(this.foundLayers=[]);var n=[];e=e.toLowerCase(),t(this.bundle.data.layers);var i=[];s.each(n,function(e){i.push(e);var t=this.getLayerAncestors(e);s.each(t,function(e){i.push(e)})},this),s.each(this.foundLayers,function(e){e.found=!1}),s.each(i,function(e){e.found=!0}),this.foundLayers=i},onHoverColor:function(e,t){e?this.hoverColorLayers=this.getLayersById(e.usages):this.hoverColorLayers=[],this.$broadcast("hover:color-layers",this.hoverColorLayers)},onClickColor:function(e,t){e?this.selectedColorLayers=this.getLayersById(e.usages):this.selectedColorLayers=[],this.$broadcast("select:color-layers",this.selectedColorLayers)},onHoverFont:function(e,t){e?this.hoverFontLayers=this.getLayersById(e.usages):this.hoverFontLayers=[],this.$broadcast("hover:font-layers",this.hoverFontLayers)},onHoverFontStyle:function(e,t){e?this.hoverFontLayers=this.getLayersByFontStyle(e):this.hoverFontLayers=[],this.$broadcast("hover:font-layers",this.hoverFontLayers)},setPlatformBaseline:function(e,t){this.platform=e,this.baseline=t,this.resolutionInfo=a.getResolutionInfo(e,t),this.measureRatio=1/this.resolutionInfo.divider},getLayerById:function(e,t){return this.mapLayers[e]},getLayersById:function(e){var t=[];return s.each(e,function(e){var n=this.getLayerById(e);n&&t.push(n)},this),t},getLayersByFontStyle:function(e){return this._findLayersByFontStyle(this.bundle.data.layers,e)},_findLayersByFontStyle:function(e,t){var n=[];return s.each(e,function(e){e.text&&e.text.textStyleRange&&s.each(e.text.textStyleRange,function(i){if(i.textStyle&&i.textStyle.size.innerValue==t.size.innerValue&&i.textStyle.fontName==t.fontName&&i.textStyle.fontStyleName==t.fontStyleName){var o=s.find(e.text.paragraphStyleRange,function(e){return i.from>=e.from&&i.to<=e.to}),r=i.textStyle.color,a=r===t.color||r.red==t.color.red&&r.green==t.color.green&&r.blue==t.color.blue;!a||(!o||o.paragraphStyle.align!=t.align)&&(t.align||o&&o.paragraphStyle.align)||n.push(e)}}),e.layers&&e.layers.length>0&&s.each(this._findLayersByFontStyle(e.layers,t),function(e){n.push(e)})}.bind(this)),n},isBundleOwner:function(e){return e&&e.user==this.user.id},isBundleVersion:function(){return this.bundle&&!!this.bundle.bundle},getBundleId:function(){return this.isBundleVersion()?this.bundle.bundle:this.bundle.id},getProjectId:function(){var e=this.bundle.project;return e.id?e.id:e}},computed:{subTitle:function(){return this.bundle&&this.bundle.project?this.bundle.name+" - "+this.bundle.project.name:""}}}},{"../../../../../enums/ProjectTypeEnum":6,"../../../../../enums/SocketEventsEnum":8,"../../../../../lib/LayerTypeEnum":15,"../../../canvas/bundle":140,"../../../canvas/canvas_helper":162,"../../../canvas/layer-utility":169,"../../../common/zoom-picker":193,"../../../layers-tree":230,"../../../modals/bundle-versions":271,"../../../panel-details":335,"../../../panel-tree":365,"../bundle-info":90,"../bundle-layout":94,"../bundle-menu":96,"../bundles-dropdown":102,"../bundles-navigation-bottom":106,"../mixins/background-picker":125,"../mixins/layout-switcher":127,"../mixins/spots":128,"./index.html":131,"sympli-enums":524,underscore:682,vue:821}],133:[function(e,t,n){t.exports='<section v-cloak zv-mouse-selectable="mouseSelectableOptions">\n  <div class="row search-container" v-if="isBundleSearch">\n    <div class="sort-container col-xs-4">\n      <div v-component="order-picker"></div>\n    </div>\n    <div class="common-search-container col-xs-4">\n      <div v-component="search-input" v-with="searchText: bundleName"></div>\n    </div>\n    <div v-if="!isLoading && canShowJiraIssues" class="bundle-issues col-xs-12" v-component="jira-issues-selector" v-with="project: project"></div>\n    <div v-if="!isLoading" class="bundle-tags col-xs-12" v-component="bundle-tags-selector" v-with="project: project"></div>\n  </div>\n\n  <div class="row bundles-list"\n       v-sortable="{disabled: true,\n                    forceFallback: false,\n                    ghostClass: \'sortable-placeholder\',\n                    store: {get: this.getStore, set: this.setStore},\n                    onStart: startSortable,\n                    onUpdate: updateSortable}">\n    <div v-show="filtered && filtered.length" class="col-xs-3 bundle bundle-dismissible with-ribbon fade in platform-android list-group-item"\n         role="bundle"\n         data-id="{{bundle.id}}"\n         v-repeat="bundle: filtered">\n      <div v-component="bundle-item" v-with="bundle: bundle"></div>\n    </div>\n\n    <div class="bundles-list__no-results empty-list" v-if="!isLoading && bundles.length">\n      <span class="sympli-icon empty-sympli-icon icon-results_folder"></span>\n      <h4 class="cut-the-length">\n        <span>Seems like you don\'t have any designs <span v-show="bundleName">where name contains <span class="text-nowrap">"<span class="ellipsis">{{bundleName}}</span>"</span></span>\n          <span v-show="bundleName && (selectedTags && selectedTags.length > 0)"> and </span>\n          <span v-if="selectedTags && selectedTags.length > 0">\n            <span> tagged with</span>\n            <span v-repeat="selectedTag: selectedTags">\n              <span v-show="$index < 3" class="text-nowrap"><span v-show="$index != 0">&nbsp;</span>"<span class="ellipsis">{{selectedTag}}</span>"</span>\n              <span v-if="($index < selectedTags.length - 1) && ($index < 2)">and</span>\n              <span v-if="$index == 3">&nbsp;(and {{selectedTags.length - 3}} more)</span>\n            </span>\n          </span>\n        </span>\n      </h4>\n      <p>You can try to deselect the tags<span v-show="bundleName"> or clear name filter</span>.</p>\n    </div>\n    <div class="bundles-list__empty" v-if="!isLoading && !bundles.length">\n      <div v-if="!bundleName || bundleName.length == 0">\n\n        <div class="row bundles-list__empty-steps" v-if="canManageUsers">\n          <div class="col-xs-4 bundles__column">\n            <span class="sympli-icon icon-bundle-ps"></span>\n            <p>Upload your designs using plugin for Photoshop</p>\n            <span class="link-style" v-on="click: showTutorialModal(\'photoshop\')">Watch tutorial</span>\n            <div><a href="http://help.sympli.io/getting-started/using-sympli-with-photoshop" target="_blank">View help</a></div>\n          </div>\n          <div class="col-xs-4 bundles__column">\n            <span class="sympli-icon icon-bundle-sk"></span>\n            <p>Upload your designs using plugin for Sketch</p>\n            <span class="link-style" v-on="click: showTutorialModal(\'sketch\')">Watch tutorial</span>\n            <div><a href="http://help.sympli.io/getting-started/using-sympli-with-sketch" target="_blank">View help</a></div>\n          </div>\n          <div class="col-xs-4 bundles__column">\n            <span class="sympli-icon icon-bundle-invite"></span>\n            <p>Now is the right time to<br/> invite your designer</p>\n            <span class="btn btn-primary" v-on="click: onInviteClick">Invite</span>\n          </div>\n        </div>\n\n        <div class="row bundles-list__empty-steps-short" v-if="!canManageUsers">\n          <div class="col-xs-6 bundles__column">\n            <span class="sympli-icon icon-bundle-ps"></span>\n            <p>Upload your designs using plugin for Photoshop</p>\n            <span class="link-style" v-on="click: showTutorialModal(\'photoshop\')">Watch tutorial</span>\n            <div><a href="http://help.sympli.io/getting-started/using-sympli-with-photoshop" target="_blank">View help</a></div>\n          </div>\n          <div class="col-xs-6 bundles__column">\n            <span class="sympli-icon icon-bundle-sk"></span>\n            <p>Upload your designs using plugin for Sketch</p>\n            <span class="link-style" v-on="click: showTutorialModal(\'sketch\')">Watch tutorial</span>\n            <div><a href="http://help.sympli.io/getting-started/using-sympli-with-sketch" target="_blank">View help</a></div>\n          </div>\n        </div>\n\n        <modal-watch-tutorial v-with="url: \'https://player.vimeo.com/video/126576175\', title: \'How to use Sympli Photoshop plugin\', id: \'photoshop\'"></modal-watch-tutorial>\n        <modal-watch-tutorial v-with="url: \'https://player.vimeo.com/video/155624593\', title: \'How to use Sympli Sketch plugin\', id: \'sketch\'"></modal-watch-tutorial>\n      </div>\n    </div>\n  </div>\n\n  <div class="footer-multiple" v-class="\'open\': canShowPanel, \'close\': !canShowPanel" v-on="click: onClickPanel">\n    <div class="container">\n      <div class="footer-multiple-button">\n        <div class="footer-multiple-container" v-on-click-away="onClickAwayIssues" v-if="canShowJiraIssues && isClickAwayActive">\n          <span class="btn btn-jira" v-on="click: onShowIssuesClick">\n            <span class="sympli-icon icon-jira_logo" title="Link to Jira"></span>\n            Link to Jira\n          </span>\n          <jira-issues-panel class="bundle-jira-issues-panel"\n                             v-show="showIssuesDialog"\n                             v-with="project: project, multiSelect: true, issuesShown: showIssuesDialog">\n          </jira-issues-panel>\n        </div>\n        <div class="footer-multiple-container" v-on-click-away="onClickAwayProjectTags" v-if="isClickAwayActive">\n          <span class="btn btn-primary" v-on="click: onShowBundlesTags" v-text="isEmptyTags ? \'Add tags\' : \'Manage tags\'">Manage tags</span>\n          <bundle-tags-panel class="bundle-tags-panel"\n               v-show="showBatchTagsDialog"\n               v-with="project: project, multiSelect: true, tagsShown: showBatchTagsDialog">\n          </bundle-tags-panel>\n        </div>\n        <div class="footer-multiple-container" v-on-click-away="onClickAwayDelete" v-if="isClickAwayActive">\n          <span class="btn btn-danger" v-on="click: onShowDeleteDesigns" v-if="selectedCount > 1">Delete {{selectedCount}} designs</span>\n          <span class="btn btn-danger" v-on="click: onShowDeleteDesigns" v-if="selectedCount == 1">Delete design</span>\n          <div v-if="showBatchDeleteDialog">\n            <popup-prompt-dialog class="bundle-delete-block"\n                 v-with="title: \'Delete selected designs\',\n                         message: \'Are you sure you want to delete selected designs?\',\n                         onSuccess: onBatchDeleteBundles,\n                         isActive: showBatchDeleteDialog,\n                         dialogPosition: \'top\'">\n            </popup-prompt-dialog>\n          </div>\n        </div>\n      </div>\n      <div class="footer-multiple-text">\n        <p class="footer-multiple-title" v-if="selectedCount > 1">{{selectedCount}} designs were selected</p>\n        <p class="footer-multiple-title" v-if="selectedCount == 1">Design was selected</p>\n        <p class="footer-multiple-help">To add more designs select with mouse or use Shift + Click</p>\n      </div>\n    </div>\n  </div>\n</section>\n\n'},{}],134:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../../../enums/SocketEventsEnum"),o=e("sympli-enums").Scopes,r=e("LocalStorageBag"),a=e("../../../lib/array-helper");t.exports={inherit:!0,template:e("./index.html"),paramAttributes:["project-id","jira-enabled"],components:{"bundle-item":e("./bundle-item"),"order-picker":e("../common/order-picker"),"search-input":e("../common/search-input"),"bundle-tags-selector":e("../tags/bundle-tags-selector"),"modal-watch-tutorial":e("../modals/watch-tutorial"),"bundle-tags-panel":e("../tags/bundle-tags-panel"),"jira-issues-panel":e("../jira/issues-panel"),"jira-issues-selector":e("../jira/issues-selector")},data:function(){return{projectId:null,jiraEnabled:!1,bundles:[],isLoading:!0,sortFields:[{value:"manual",text:"Manual"},{value:"updatedAt",text:"Date"},{value:"normalizedName",text:"Name"}],bundleName:"",sortOptions:{sortBy:"updatedAt",isReverse:!0},bundleFilterByTags:[],selectedBundles:[],selectedTags:[],tagsMap:null,sortable:void 0,filtered:[],interval:null,chunkSize:20,showIssuesDialog:!1,showBatchTagsDialog:!1,showBatchDeleteDialog:!1,mouseSelectableOptions:{selector:"#app",offset:{left:0,top:50}},bundleFilterByIssues:[],isClickAwayActive:!0,filterByTags:!0,filterByIssues:!1}},ready:function(){var e=new r("bundlesSortOptionsBag_"+this.projectId||"default",{sortBy:"manual",isReverse:!1}),t=new r("bundlesSearchTextBag_"+this.projectId||"default","");this.sortOptions=e.get(),this.bundleName=t.get(),this._disableSelectionIfManualSort(this.sortOptions.sortBy),this.project.data&&this.project.data.naturalSorting&&this.sortFields.push({value:"natural-list",text:"Natural"}),this.$on("select:order",function(t,n){this._disableSelectionIfManualSort(t),e.set({sortBy:t,isReverse:n}),this._sortBundles()}),this.$on("search:text",function(e,n){t.set(e),this.bundleName=e}),this.$on("updated:active-tags-filter",function(e){this.bundleFilterByTags=e,this.bundleFilterByIssues=[],this.filterByTags=!0,this.filterByIssues=!1}),this.$on("updated:active-issues-filter",function(e){this.bundleFilterByIssues=e,this.bundleFilterByTags=[],this.filterByTags=!1,this.filterByIssues=!0}),this.$on("toggle:active-tags-filter",function(){this.selectedBundles=[],this.$broadcast("selected-bundles:updated",this.selectedBundles)}),this.$on(s.bundle["delete"],this._onBundleDeleted),this.$on(s.bundle.ready,this._onReady),this.$on(s.bundle.create,this._onCreate),this.$on(s.bundle.update,this._onUpdate),this.$on("bundle:selected",function(e){this.selectedBundles.indexOf(e)<0&&this.selectedBundles.push(e),this.$broadcast("selected-bundles:updated",this.selectedBundles)}),this.$on("bundle:unselected",function(e){this.selectedBundles=i.without(this.selectedBundles,e),this.$broadcast("selected-bundles:updated",this.selectedBundles)}),this.$on("bundle:unselect:ids",function(e){this.selectedBundles=i.filter(this.selectedBundles,function(t){return!i.contains(e,t.id)}),this.$broadcast("selected-bundles:updated",this.selectedBundles)}),this.$on("save:active-tags",function(e){this.selectedTags=e}),this.$on(o.project.tags.map.builded,function(e){this.tagsMap=e}),this.$on(o.cache.bundle.reset,this._handleResetBundleCache),this.$on("lanes:route",function(e){this.clearInterval()}),this.$on("document:esc",function(){this.onClickAwayProjectTags(),this.onClickAwayDelete(),this.onClickAwayIssues()}),this.$watch("filteredBundles",function(e){if("manual"==this.sortOptions.sortBy){var t=!(e&&e.length>1);this.sortable.option("disabled",t)}if(this.clearInterval(),!e||!e.length)return void(this.filtered=[]);if(e.length<=this.chunkSize)return void(this.filtered=e);this.mainBlockOverlayManualState=!0;var n=a.chunk(e,this.chunkSize),i=0,s=n.length-1;this.filtered=n[i],s>i&&(this.interval=setInterval(function(){this.filtered=(this.filtered||[]).concat(n[++i]),i==s&&this.clearInterval()}.bind(this),10))}),this.$watch("selectedBundles",function(e){(!e||e.length<1)&&($(this.mouseSelectableOptions.selector).removeClass("noselect"),this.onClickAwayProjectTags(),this.onClickAwayDelete(),this.onClickAwayIssues())}),this._loadBundles()},beforeDestroy:function(){this.clearInterval(),this.isClickAwayActive=!1},methods:{_loadBundles:function(){this.isLoading=!0;var e=this;this.$api(this.$store.getBundlesRequest(this.projectId).then(function(t){e.bundles=(t.data||[]).map(function(e){return"ready"!=e.status&&(e.blobUrlPrefix=null),e}),e._sortBundles(),e.isLoading=!1})["catch"](function(t){if(!t)throw t;switch(t.status){case 403:e.$dispatch("lanes:route",{name:"projectsAccessDenied"});break;case 400:case 404:e.$dispatch("lanes:route",{name:"projectsNotFound"});break;default:throw t}}))},_sortBundles:function(){var e=this.sortOptions.sortBy,t=[];if("manual"===e){if(this.sortable.option("disabled",!1),!(this.project.data&&this.project.data.order&&this.project.data.order.length))return t=this.bundles.reverse(),void(this.bundles=t);t=i.sortBy(this.bundles,function(e){return i.indexOf(this.project.data.order,e.id)}.bind(this))}else if(this.sortable.option("disabled",!0),"natural-list"==e){var n=this.project.flatArtboards;t=i(this.bundles).chain().sortBy("updatedAt").sortBy(function(e){return n.indexOf(e.artboardId)}).value()}else t="updatedAt"==e?i.sortBy(this.bundles,e):i(this.bundles).chain().sortBy("updatedAt").sortBy(e).value();this.sortOptions.isReverse&&(t=t.reverse()),this.bundles=t},_onCreate:function(e){e.project==this.projectId&&(e.blobUrlPrefix=null,this._onBundleUpdate(e))},_onReady:function(e){e.project==this.projectId&&this._onBundleUpdate(e)},_onUpdate:function(e){if(e.project==this.projectId){var t=i.find(this.bundles,{id:e.id});t&&t.blobUrlPrefix?e.blobUrlPrefix=t.blobUrlPrefix:e.blobUrlPrefix=null,this._onBundleUpdate(e)}},_onBundleUpdate:function(e){var t=i.reject(this.bundles,{id:e.id});t.push(e),this.bundles=t,this.project.data&&this.project.data.order&&this.project.data.order.push(e.id),this._sortBundles()},_onBundleDeleted:function(e){this.bundles=i.reject(this.bundles,function(t){return t.id===e.id}),this.$dispatch("delete:bundle",e),this._sortBundles()},_onBundleBatchDeleted:function(e){var t=this;this.bundles=i.reject(this.bundles,function(t){return i.contains(e,t.id)}),i.each(e,function(e){t.$dispatch("delete:bundle",e)}),this._sortBundles()},_handleResetBundleCache:function(){var e=this;this.project&&this.project.bundles&&i.each(this.project.bundles,function(t){e.$cache.reset("main-bundle-"+t)})},getStore:function(e){return this.sortable=e,[]},setStore:function(e){var t=i.pluck(this.bundles,"id");this.project.data.order=t,this.sortOptions.isReverse&&(t=t.reverse()),this.$api.put("/project/"+this.project.id+"/order",{body:{order:t}})},startSortable:function(e){this.$broadcast("bundles:startSortable")},updateSortable:function(e){var t=i.find(this.filteredBundles,function(t,n){return e.oldIndex==n}),n=i.find(this.filteredBundles,function(t,n){return e.newIndex==n}),s=i.findIndex(this.bundles,function(e){return e.id==t.id}),o=i.findIndex(this.bundles,function(e){return e.id==n.id}),r=i.map(this.bundles,i.clone);r.splice(o,0,r.splice(s,1)[0]),this.bundles=r},showTutorialModal:function(e){this.$dispatch("modal:show","watch-tutorial:"+e)},onInviteClick:function(){this.$dispatch("throw","project-invite")},clearInterval:function(){this.interval&&clearInterval(this.interval),this.mainBlockOverlayManualState=!1},onShowBundlesTags:function(e){e.preventDefault(),e.stopPropagation(),this.showBatchDeleteDialog=!1,this.showIssuesDialog=!1,this.showBatchTagsDialog=!this.showBatchTagsDialog},onShowDeleteDesigns:function(e){e.preventDefault(),e.stopPropagation(),this.showBatchTagsDialog=!1,this.showIssuesDialog=!1,this.showBatchDeleteDialog=!this.showBatchDeleteDialog},onBatchDeleteBundles:function(e){var t=this,n=i.map(this.selectedBundles,function(e){return e.id});this.$api(this.$api["delete"]("/bundles",{body:{ids:n}}).then(function(e){t._onBundleBatchDeleted(n),t.$dispatch("notify","success","Designs were deleted")})),this.showBatchDeleteDialog=!1,this.selectedBundles=[]},_disableSelectionIfManualSort:function(e){"manual"==e?this.$emit(o.multiSelect.mouse.disable):this.$emit(o.multiSelect.mouse.enable)},onClickAwayProjectTags:function(){this.showBatchTagsDialog=!1},onClickAwayDelete:function(){this.showBatchDeleteDialog=!1},onClickPanel:function(e){e.stopPropagation(),e.preventDefault()},onClickAwayIssues:function(){this.showIssuesDialog=!1},onShowIssuesClick:function(e){e.stopPropagation(),e.preventDefault(),this.showBatchTagsDialog=!1,this.showBatchDeleteDialog=!1,this.showIssuesDialog=!this.showIssuesDialog}},computed:{isBundleSearch:function(){return this.bundles&&!this.isLoading&&this.bundles.length||""!=this.bundleName&&null!=this.bundleName},filteredBundles:function(){var e="";this.bundleName&&(e=this.bundleName.trim()),e=e.toLocaleLowerCase();var t=i.filter(this.bundles,function(t){return t.normalizedName.indexOf(e)>=0});return this.filterByTags&&this.bundleFilterByTags&&i.isArray(this.bundleFilterByTags)&&(t=i.filter(t,function(e){return this.bundleFilterByTags.indexOf(e.id)>=0}.bind(this))),this.filterByIssues&&this.bundleFilterByIssues&&i.isArray(this.bundleFilterByIssues)&&this.bundleFilterByIssues.length&&(t=i.filter(t,function(e){return this.bundleFilterByIssues.indexOf(e.id)>=0}.bind(this))),t},canShowPanel:function(){return this.selectedBundles&&this.selectedBundles.length>=1},isEmptyTags:function(){return!(this.tagsMap&&i.keys(this.tagsMap).length>0||this.selectedTags&&this.selectedTags.length>0)},selectedCount:function(){return this.selectedBundles?this.selectedBundles.length:0},canShowJiraIssues:function(){return this.jiraEnabled}},filters:{bySelectedTags:function(e){return this.bundleFilterByTags&&this.bundleFilterByTags.length>0?i.filter(e,function(e){return this.bundleFilterByTags.indexOf(e.id)>=0}.bind(this)):e}}}},{"../../../enums/SocketEventsEnum":8,"../../../lib/array-helper":25,"../common/order-picker":185,"../common/search-input":189,"../jira/issues-panel":226,"../jira/issues-selector":228,"../modals/watch-tutorial":305,"../tags/bundle-tags-panel":459,"../tags/bundle-tags-selector":461,"./bundle-item":87,"./index.html":133,LocalStorageBag:521,"sympli-enums":524,underscore:682}],135:[function(e,t,n){t.exports='<div class="m-coords" v-show="isRuleEnabled">\n\n  <div class="m-coords__axis-x"\n       v-style="\n\t\t\t   top: coords.top * zoomRatio + \'px\'"\n\n       v-on="\n         mousedown: onCoordsMousedown($event, true, false),\n         mouseup  : onCoordsMouseup\n         "\n      ></div>\n\n\n  <div class="m-coords__axis-y"\n       v-style="\n\t\t\t   left: coords.left * zoomRatio + \'px\'"\n\n       v-on="\n         mousedown: onCoordsMousedown($event, false, true),\n         mouseup  : onCoordsMouseup\n         "\n      ></div>\n\n\n  <div class="m-coords__origin"\n       v-style="\n       top:  coords.top  * zoomRatio + \'px\',\n       left: coords.left * zoomRatio + \'px\'"\n\n       v-on="\n         mousedown: onCoordsMousedown($event, true, true),\n         mouseup  : onCoordsMouseup\n       "\n      ></div>\n\n  <div class="m-coords__info-x"\n       v-show="coords.down && coords.isX"\n       v-style="\n        top:  (coords.top  * zoomRatio) + \'px\',\n        left:  (coords.left  * zoomRatio) + 20 + \'px\'\n       ">\n    {{ coords.top * measureRatio | dru}}{{resolutionInfo.units}}\n  </div>\n\n  <div class="m-coords__info-y"\n       v-show="coords.down && coords.isY"\n       v-style="\n        top:  (coords.top  * zoomRatio) - 30 + \'px\',\n        left:  (coords.left  * zoomRatio) + \'px\'\n      ">\n    {{ coords.left * measureRatio | dru}}{{resolutionInfo.units}}\n  </div>\n\n</div>\n'},{}],136:[function(e,t,n){"use strict";e("underscore");t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$on("isRuleEnabled",this.onRuleEnabled),this.$watch("isSet",function(e){this.$dispatch("isRuleSet",e)})},data:function(){return{position:{top:10,left:10},isSet:!1}},components:{},methods:{onCoordsMousedown:function(e,t,n){e.stopPropagation(),this.coords.down=!0,this.coords.offsetX=e.offsetX,this.coords.offsetY=e.offsetY,this.coords.isX=!!t,this.coords.isY=!!n,this.isSet=!0,this.$root.$broadcast("coords:mousedown")},onCoordsMouseup:function(e){this.$root.$broadcast("coords:mouseup")},onRuleEnabled:function(e){this.coords.down=this.coords.isX=this.coords.isY=this.isRuleEnabled,this.coords.top=0,this.coords.left=0,this.coords.offsetX=16,this.coords.offsetY=16,this.isSet=!1}}}},{"./index.html":135,underscore:682}],137:[function(e,t,n){t.exports='<div class="canvas-item-selected-guides">\n  <div class="canvas-item-selected-guides-y" v-show="selectedSelections && selectedSelections[0] && !coords.down"\n       v-style="\n\t\t\t   left: selectedSelections[0] && selectedSelections[0].left*zoomRatio + \'px\',\n\t\t\t   width: selectedSelections[0] && selectedSelections[0].width*zoomRatio + \'px\'"></div>\n  <div class="canvas-item-selected-guides-x" v-show="selectedSelections && selectedSelections[0] && !coords.down"\n       v-style="\n\t\t\t   top: selectedSelections[0] && selectedSelections[0].top*zoomRatio + \'px\',\n\t\t\t   height: selectedSelections[0] && selectedSelections[0].height*zoomRatio + \'px\'"></div>\n</div>\n\n\n\n'},{}],138:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),data:function(){return{}},computed:{}}},{"./index.html":137}],139:[function(e,t,n){t.exports='<div tabindex="0" id="viewport" class="m-panel__content"\n     v-on="click:resetSelection, keyup:resetSelection, mousemove: onMouseMove"\n     v-drag-to-scrollpane="dragToScroll">\n\n  <div id="canvas" class="m-canvas" droppable="true"\n       v-on="\n        mouseover: onMouseHover,\n        click: onMouseClick,\n        dragover: onDragover">\n\n    <div v-component="design-canvas" v-with="namespace: \'bundle\'"></div>\n\n    <div v-if="bundle && bundle.data && bundle.data.layout" v-component="bundle-layout" v-with="layout: bundle && bundle.data && bundle.data.layout, bundleId : bundle.id, height: bundle.data.bounds.bottom"></div>\n\n    <bundle-selections></bundle-selections>\n\n    <bundle-guides></bundle-guides>\n\n    <div v-component="bundle-spots" v-show="isSpotsEnabled && coords && !coords.down" zv-with="spots: spots"></div>\n\n    <div v-component="bundle-coords"></div>\n\n    <bundle-springs v-if="!isSpotHovered"\n                    v-with="\n                      coords: coords,\n                      isRuleEnabled: isRuleEnabled,\n                      bounds: bounds,\n                      zoomRatio: zoomRatio,\n                      measureRatio: measureRatio,\n                      hoverSelections: hoverSelections,\n                      selectedSelections: selectedSelections,\n                      overlaySelections: overlaySelections\n                    "\n    ></bundle-springs>\n\n  </div>\n</div>\n'},{}],140:[function(e,t,n){"use strict";function i(e,t){return a.each(e,function(n,i){i.indexOf("Rendered")==-1&&(e[i+"Rendered"]=n*t)}),e}function s(e,t){var n=[];return a.each(e,function(e){var s=c.getLayerSelectionRecur(e);s&&(i(s,t),s.layer=e,n.push(s))}),n}function o(e,t){return e.top==t.top&&e.bottom==t.bottom&&e.left==t.left&&e.right==t.right}function r(e,t,n){var i={top:e,left:t,bottom:e+d.height,right:t+d.width},s={top:n.bottomRendered,left:(n.rightRendered+n.leftRendered-h.width)/2,bottom:n.bottomRendered+h.height,right:(n.rightRendered+n.leftRendered+h.width)/2},o=!(i.right<=s.left||s.right<=i.left),r=!(i.bottom<=s.top||s.bottom<=i.top);return o&&r}var a=e("underscore"),l=e("../measurement_overlay_helper"),c=e("../canvas_helper.js"),u=e("../../canvas/layer-utility"),d=(e("../../../../lib/LayerTypeEnum"),e("../../../../lib/LayerRoleEnum"),{height:36,width:125}),h={height:50,width:125};t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$on("bundle:render",this.handleBundleRender),this.$on("toggle:visibility:canvas",this.toggleVisibilityCanvas),this.$on("toggle:render:canvas",this.toggleRenderCanvas),this.$on("toggle:menu:ruler",this.toggleRule),this.$on("select:layers",this.onSelectLayers),this.$on("hover:layers",this.onHoverLayers),this.$on("select:color-layers",this.onSelectColorLayers),this.$on("hover:color-layers",this.onHoverColorLayers),this.$on("hover:font-layers",this.onHoverFontLayers),this.$on("resize",this.handleResize),this.$on("scrollPane:init",this.handleScroll),this.$on("scrollPane:scroll",this.handleScroll),this.$on("bundle:zoom",this.handleBundleZoom),this.$watch("currentTab",function(){"assets"==this.currentTab?this.observationMode=u.LayerObservationMode.assets:this.observationMode=u.LayerObservationMode.layers}),this.$watch("isSpotsEnabled",function(e){this.dragToScroll.dragEnabled=!this.isSpotsEnabled}),this.dragToScroll.dragEnabled=!this.isSpotsEnabled,this.$canvas=this.$el.getElementsByClassName("m-canvas")[0]},components:{
"bundle-coords":e("./coords"),"bundle-spots":e("./spots"),"bundle-guides":e("./guides"),"bundle-selections":e("./selections"),"bundle-springs":e("./springs"),"design-canvas":e("../design")},data:function(){return{hoverLayer:!1,prevClickLayerId:!1,selectedSelections:[],hoverSelection:!1,overlaySelections:[],selectedColorSelections:[],hoveredColorSelections:[],hoveredFontSelections:[],allLayers:[],hiddenLayers:[],visibleLayers:[],zoomRatio:1,translate:null,bounds:null,layerCounter:0,isRuleEnabled:!1,observationMode:u.LayerObservationMode.assets,coords:{offsetX:0,offsetY:0,down:!1,isX:!1,isY:!1,top:0,left:0},layout:void 0,bundleId:void 0,dragToScroll:{dragEnabled:!0,dragState:!1}}},methods:{setOffset:function(){var e=u.getOffset(this.$canvas);this.yOffset=e.top,this.xOffset=e.left},setOffsetDelayed:function(){setTimeout(function(){this.setOffset()}.bind(this))},onCoordsMouseup:function(e){},onCoordsDragend:function(e){return!1},resetSelection:function(e){"keyup"===e.type&&27!=e.keyCode||(e.stopPropagation(),e.preventDefault(),this.hoverSelection=null,this.hoverLayer=!1,this.isRuleEnabled&&this.toggleRule(),this.$dispatch("click:layer",this.hoverLayer,e))},onMouseMove:a.throttle(function(e){if(e&&this&&!this.isSpotAdding&&2!=this.selectedSelections.length&&(this.setHoverLayer(e),this.$dispatch("hover:layer",this.hoverLayer,e),this.coords.down)){var t=15,n=5,i=0,s=0;this.coords.isX&&this.coords.isY&&(s=this.coords.offsetY-t,i=this.coords.offsetX-t),this.coords.isX&&(this.coords.top=(e.pageY-this.yOffset-s)/this.zoomRatio,!e.altKey&&this.hoverLayer&&(Math.abs(this.hoverLayer.bounds.top-this.coords.top)<=n?this.coords.top=this.hoverLayer.bounds.top:Math.abs(this.hoverLayer.bounds.bottom-this.coords.top)<=n&&(this.coords.top=this.hoverLayer.bounds.bottom))),this.coords.isY&&(this.coords.left=(e.pageX-this.xOffset-i)/this.zoomRatio,!e.altKey&&this.hoverLayer&&(Math.abs(this.hoverLayer.bounds.left-this.coords.left)<=n?this.coords.left=this.hoverLayer.bounds.left:Math.abs(this.hoverLayer.bounds.right-this.coords.left)<=n&&(this.coords.left=this.hoverLayer.bounds.right)))}},40),onMouseHover:function(e){e.stopPropagation(),e.preventDefault()},onMouseClick:function(e){return e.stopPropagation(),e.preventDefault(),this.$root.$broadcast("xx:click:canvas",e),this.dragToScroll.dragState?void(this.dragToScroll.dragState=!1):void(this.coords.down?this.coords.down=!1:(this.setHoverLayer(e),this.$dispatch("click:layer",this.hoverLayer,e)))},handleBundleRender:function(e){this.bounds=e.data.bounds,this.render(e.data)},handleResize:function(){this.$emit("scrollPane:reInit"),this.setOffsetDelayed()},handleScroll:function(){this.setOffsetDelayed()},onHoverLayers:function(e){if(e&&0!==e.length){if(this.selectedSelections.length<2){var t=i(c.getLayerSelectionRecur(e[0]),this.zoomRatio);this.hoverSelection&&o(this.hoverSelection,t)?(this.hoverSelection=t,this.hoverLayer=e[0]):(this.hoverSelection=t,this.hoverLayer=e[0],this.selectOnHover())}}else this.hoverSelection=null,this.hoverLayer=!1,this.overlaySelections=[]},selectOnHover:function(){var e=this;if(e.selectedSelections&&1==e.selectedSelections.length&&this.hoverSelection&&!o(this.hoverSelection,e.selectedSelections[0])){var t=l.calculateOverlays(e.selectedSelections[0],e.hoverSelection);this.overlaySelections=a.each(t,function(t){i(t,e.zoomRatio)},e)}else this.overlaySelections=[]},onSelectLayers:function(e,t){var n=[];if(a.each(e,function(e){var t=c.getLayerSelectionRecur(e);t&&(i(t,this.zoomRatio),t.layer=e),n.push(t)},this),this.selectedSelections=a.filter(n,function(e){return void 0!==e}),2===n.length&&n[0]&&n[1]){var s=l.calculateOverlays(n[0],n[1]);this.overlaySelections=a.each(s,function(e){i(e,this.zoomRatio)},this)}else if(this.isRuleEnabled&&this.coords.down){var o={top:this.coords.top,left:this.coords.left,bottom:9999,right:this.coords.left},s=n[0]&&o?l.calculateOverlays(n[0],o):null;s&&(this.overlaySelections=a.each(s,function(e){i(e,this.zoomRatio)},this)),this.$dispatch("overlay:selection",this.overlaySelections)}else this.overlaySelections=[];this.isRuleEnabled&&this.onMouseMove(t)},recalcOverlays:function(){var e={top:this.coords.top,left:this.coords.left,bottom:99999,right:this.coords.left},t=l.calculateOverlays(this.selectedSelections[0],e),n=a.each(t,function(e){i(e,this.zoomRatio)},this);this.overlaySelections.length>0?(this.overlaySelections[0].heightRendered=n[0].heightRendered,this.overlaySelections[0].widthRendered=n[0].widthRendered,this.overlaySelections[0].topRendered=n[0].topRendered,this.overlaySelections[0].leftRendered=n[0].leftRendered,this.overlaySelections[0].width=n[0].width,this.overlaySelections[0].height=n[0].height):this.overlaySelections=n,this.$dispatch("overlay:selection",n)},onSelectColorLayers:function(e){this.selectedColorSelections=s(e,this.zoomRatio)},onHoverColorLayers:function(e){this.hoveredColorSelections=s(e,this.zoomRatio)},onHoverFontLayers:function(e){this.hoveredFontSelections=s(e,this.zoomRatio)},handleBundleZoom:function(e,t,n){this.zoomRatio=e,this.translate=n,this.$emit("scrollPane:reInit"),this.setOffsetDelayed(),this.translate&&this.$emit("jsp-scroll:aimzoom",this.translate),a.each(this.selectedSelections,function(t){i(t,e)}),a.each(this.overlaySelections,function(t){i(t,e)}),i(this.hoverSelection,e)},render:function(){var e=u.getOffset(this.$canvas);this.yOffset=e.top,this.xOffset=e.left,this.bundle&&(this.preProcessLayers(),this.layout=this.bundle.data.layout,this.bundleId=this.bundle.id,this.$emit("scrollPane:reInit"))},toggleVisibilityCanvas:function(e,t){var n=e.layers;t?(this.hiddenLayers.$remove(this.hiddenLayers.indexOf(e)),this.visibleLayers.push(e)):(this.visibleLayers.$remove(this.visibleLayers.indexOf(e)),this.hiddenLayers.push(e)),this.$broadcast("bundle:toggle:layer",e,t),a.each(n,function(e){this.toggleVisibilityCanvas(e,t&&e.visible)},this)},toggleRenderCanvas:function(e,t){var n=e.layers;t?(this.hiddenLayers=this.hiddenLayers.filter(function(t){return t!==e}),this.visibleLayers.push(e)):(this.visibleLayers=this.visibleLayers.filter(function(t){return t!==e}),this.hiddenLayers.push(e)),e.rendered=t,this.$broadcast("bundle:toggle:layer",e,t),a.each(n,function(e){this.toggleRenderCanvas(e,t&&e.visible)},this)},preProcessLayers:function(){if(this.bundle&&this.bundle.data){var e=[],t=[],n=[];u.forEachLayers(this.bundle.data.layers,function(i){e.push(i),u.isLayerVisible(i)?t.push(i):n.push(i)}),this.allLayers=e,this.visibleLayers=t,this.hiddenLayers=n}},toggleRule:function(){this.overlaySelections=[],this.isRuleEnabled=!this.isRuleEnabled,this.$dispatch("isRuleEnabled",this.isRuleEnabled),this.isRuleEnabled&&this.$api.event("used-ruler-web",{design_id:this.bundle.id,design_name:this.bundle.name,platform:this.bundle.type,baseline:this.bundle.baseline})},onDragover:function(e){e.preventDefault();var t=e.pageX,n=e.pageY;return this.dragoverX=t,this.dragoverY=n,!0},setHoverLayer:function(e){var t=e.pageX-this.xOffset,n=e.pageY-this.yOffset;this.hoverLayer=u.getLayerByXY(t/this.zoomRatio,n/this.zoomRatio,this.visibleLayers,this.observationMode),this.isRuleEnabled&&this.selectedSelections.length>0&&this.recalcOverlays()},getOverlayTooltipPositionClass:function(e){if(1==this.selectedSelections.length){if(e.heightRendered>h.height&&e.widthRendered>h.width&&!r((e.bottomRendered+e.topRendered)/2-d.height,(e.rightRendered+e.leftRendered-d.width)/2,this.selectedSelections[0]))return"m-canvas__tooltip-internal";if(e.leftRendered<h.width/2&&e.widthRendered<h.width&&!r((e.bottomRendered+e.topRendered)/2,e.rightRendered,this.selectedSelections[0]))return"m-canvas__tooltip-right";if(e.rightRendered>this.bounds.right*this.zoomRatio-h.width/2&&e.widthRendered<h.width&&!r((e.bottomRendered+e.topRendered)/2,e.leftRendered+d.width,this.selectedSelections[0]))return"m-canvas__tooltip-left";if(r(e.bottomRendered,(e.rightRendered+e.leftRendered-d.width)/2,this.selectedSelections[0]))return"m-canvas__tooltip-fliped"}return""}}}},{"../../../../lib/LayerRoleEnum":14,"../../../../lib/LayerTypeEnum":15,"../../canvas/layer-utility":169,"../canvas_helper.js":162,"../design":164,"../measurement_overlay_helper":172,"./coords":136,"./guides":138,"./index.html":139,"./selections":142,"./spots":144,"./springs":161,underscore:682}],141:[function(e,t,n){t.exports="<div class=\"canvas-item-selected-selections\">\n  <div class=\"m-canvas-active-line canvas-selected-color-item-selected\"\n       v-repeat=\"selectedColorSelections\"\n       v-show=\"selectedColorSelections\"\n       v-style=\"\n           top: top*zoomRatio + 'px',\n           left: left*zoomRatio + 'px',\n           width: width*zoomRatio + 'px',\n           height: height*zoomRatio + 'px'\"\n  ></div>\n\n  <div class=\"m-canvas-active-line canvas-hover-color-item-selected\"\n       v-repeat=\"hoveredColorSelections\"\n       v-show=\"hoveredColorSelections && !coords.down\"\n       v-style=\"\n           top: top*zoomRatio + 'px',\n           left: left*zoomRatio + 'px',\n           width: width*zoomRatio + 'px',\n           height: height*zoomRatio + 'px'\"\n  ></div>\n\n  <div class=\"m-canvas-active-line canvas-font-item-selected\"\n       v-repeat=\"hoveredFontSelections\"\n       v-show=\"hoveredFontSelections && !coords.down\"\n       v-style=\"\n           top: top*zoomRatio + 'px',\n           left: left*zoomRatio + 'px',\n           width: width*zoomRatio + 'px',\n           height: height*zoomRatio + 'px'\"\n  ></div>\n\n\n  <div class=\"m-canvas-active-line canvas-selected-section-item-selected\"\n       v-repeat=\"selectedSelections\"\n       v-show=\"selectedSelections\"\n       v-style=\"\n           top: topRendered  + 'px',\n           left: leftRendered  + 'px',\n           width: widthRendered  + 'px',\n           height: heightRendered  + 'px'\"\n  ></div>\n\n  <div class=\"m-canvas-line\"\n       v-if=\"hoverLayer && hoverSelection && !hoverLayer.selected\"\n       v-class=\"'canvas-selected-section-item-selected': selectedSelections && selectedSelections.length == 1,\n                  'canvas-hover-section-item-selected': !(selectedSelections && selectedSelections.length == 1)\"\n       v-style=\"\n        top: hoverSelection.topRendered + 'px',\n        left: hoverSelection.leftRendered + 'px',\n        width: hoverSelection.widthRendered + 'px',\n        height: hoverSelection.heightRendered + 'px'\"\n  ></div>\n</div>\n\n\n\n"},{}],142:[function(e,t,n){arguments[4][138][0].apply(n,arguments)},{"./index.html":141,dup:138}],143:[function(e,t,n){t.exports='<div v-on="dragover: onSpotsDragover" style="position: absolute; top: 0; bottom: 0; left: 0; right: 0;">\n  <div v-repeat="spot: spots" v-component="spot"></div>\n</div>\n'},{}],144:[function(e,t,n){"use strict";var i=e("vue"),s=e("underscore"),o=(e("sympli-enums").Scopes,{red:"#ec4333",orange:"#ec8a33",yellow:"#ecac33",mantis:"#68bd4f",green:"#328f54",blue:"#3171c9",grey:"#989898"});t.exports={inherit:!0,template:e("./index.html"),components:{spot:e("./spot")},data:function(){return{colorsMap:o,dragoverX:0,dragoverY:0}},ready:function(){this.$on("xx:click:canvas",this.handleClickCanvas),this.$on("html:click",this.onDeselectSpots),this.$on("document:esc",this.onDeselectSpots),this.$on("coords:mousedown",this.onDeselectSpots),this.$on("deselect:spots",this.deselectSpotsAndRemoveEmpty)},methods:{onSpotsDragover:function(e){this.dragoverX=e.pageX,this.dragoverY=e.pageY},handleClickCanvas:function(e){if(e.isSpot=!0,this.deselectSpotsAndRemoveEmpty(!0),this.isSpotAdding){var t=(e.pageX+11-this.xOffset)/this.zoomRatio,n=(e.pageY+11-this.yOffset)/this.zoomRatio;this.addSpot(t,n),this.isSpotAdding=!1}},addSpot:function(e,t){var n=this.bundle&&this.bundle.bundle||this.bundle.id,s={isNew:!0,position:{left:e,top:t},hex:o.red,bundle:n,number:"?"};this.spots.push(s),i.nextTick(function(){this.$broadcast("spot:added",s)}.bind(this))},onDeselectSpots:function(e){e&&e.isSpot||this.deselectSpotsAndRemoveEmpty(!1)},deselectSpotsAndRemoveEmpty:function(e){var t=[];if(s.each(this.spots,function(e,n){e.isNew&&t.push(n),e.$set("isSelected",!1)}),e&&t.length){var n=this;s.each(t,function(e){n.spots.$remove(e)})}}}}},{"./index.html":143,"./spot":147,"sympli-enums":524,underscore:682,vue:821}],145:[function(e,t,n){"use strict";var i=e("underscore");t.exports={stopEvent:function(e){e.preventDefault(),e.stopPropagation()},isChangeHeightKey:function(e){return!!e&&(13==e.keyCode&&(e.altKey||e.shiftKey)||i.contains([8,46],e.keyCode))},isPureEnterKey:function(e){return e&&13==e.keyCode&&!e.altKey&&!e.shiftKey},isEscKey:function(e){return e&&27==e.keyCode}}},{underscore:682}],146:[function(e,t,n){t.exports='<div class="m-canvas__spot"\n     v-el="spot"\n     v-class="\'m-canvas__spot-moving\': spot.isMoving, m-canvas__spot-selected: spot.isSelected"\n     v-style="\n\t\t\t   top: spot.position.top*zoomRatio + \'px\',\n\t\t\t   left: spot.position.left*zoomRatio + \'px\'">\n\n  <div class="m-canvas__spot-spot"\n       v-class="selected: spot.isSelected"\n       v-style="background: spot.hex, color:fontColor"\n       v-el="spotItem"\n       v-on="\n         dragstart: onDragstartSpot($event),\n         dragend: onDragendSpot($event),\n         click: onClickSpot($event, spot)"\n       draggable="true">{{spot.number}}</div>\n\n  <spot-panel></spot-panel>\n</div>\n'},{}],147:[function(e,t,n){"use strict";var i=e("../../../../../../lib/color-utils/hex2rgb");t.exports={inherit:!0,replace:!0,template:e("./index.html"),components:{"spot-panel":e("./spot-panel")},ready:function(){this.$on("select:spot",this.handleSelectSpot),this.$on("spot:added",this.onAdded),this.$on("bundle:zoom",this._calculatePosition),this.$on("spot:refresh",function(e){e.id===this.spot.id&&this._calculatePosition()}),this.$on("create:message",function(e){e.bundleSpot===this.spot.id&&this._calculatePosition()}),this.$on("edit:message",function(e){e.bundleSpot===this.spot.id&&this._calculatePosition()}),this.$on("delete:message",function(e){e.bundleSpot===this.spot.id&&this._calculatePosition()}),$(this.$$.spotItem).hover(this.onHoverSpot.bind(this),this.onBlurSpot.bind(this))},data:function(){return{panelPosition:{top:!1,left:!1}}},methods:{handleSelectSpot:function(e){e==this.spot.id&&this.toggleSpot(!0)},onAdded:function(e){e.id===this.spot.id&&this.onClickSpot()},onClickSpot:function(e){e&&(e.stopPropagation(),e.preventDefault()),this.toggleSpot(!this.spot.isSelected)},toggleSpot:function(e){this.isSpotsEnabled&&(e&&(this.$broadcast("edit-stop:message"),this._deselectSpots(),this._calculatePosition()),this.spot.$set("isSelected",e),this.$broadcast("spot:scroll:update",this.spot))},onDragstartSpot:function(e){return e.dataTransfer.setData("text/plain",""),e.dataTransfer.effectAllowed="move",this._deselectSpots(),!0},onDragendSpot:function(e){if(this.spot.position.left=(this.dragoverX-this.xOffset)/this.zoomRatio,this.spot.position.top=(this.dragoverY-this.yOffset)/this.zoomRatio,!this.spot.isNew){var t=this;this.$store.putSpotRequest({id:this.spot.id,position:this.spot.position}).then(function(e){t._calculatePosition(),t.$api.event("moved-spot-web",{spot:t.spot.id,design_id:t.bundle.id,design_name:t.bundle.name,platform:t.bundle.type,baseline:t.bundle.baseline})})}},onHoverSpot:function(){this.$dispatch("spot:state:change",!0)},onBlurSpot:function(){this.$dispatch("spot:state:change",!1)},_calculatePosition:function(){var e=280,t=290,n=$(window).width(),i=$(window).height(),s=$(this.$$.spot).offset();this.panelPosition.top=s.top>=i/2,this.panelPosition.left=s.left+e+t>n&&s.left>e,this.$broadcast("spot:calculate-height",this.panelPosition,s)},_deselectSpots:function(){this.deselectSpotsAndRemoveEmpty(!this.spot.isNew)}},computed:{fontColor:function(){var e=0,t=i(this.spot.hex.substr(1)),n=1-(.299*t[0]+.587*t[1]+.114*t[2])/255;return e=n<.3?0:255,"rgb("+e+","+e+","+e+")"}}}},{"../../../../../../lib/color-utils/hex2rgb":34,"./index.html":146,"./spot-panel":149}],148:[function(e,t,n){t.exports='<div class="m-panel__collaboration"\n     v-on="click: stopEvent"\n\n     v-class="active: spot.isSelected, top:panelPosition.top, bottom:!panelPosition.top, left:panelPosition.left, right:!panelPosition.left">\n  <div class="arrow"></div>\n  <div class="collaboration-block">\n    <div class="collaboration-block__header" v-el="header">\n      <div v-component="spot-settings"></div>\n    </div>\n\n    <div class="collaboration-block__content" v-scrollpane="{}" v-isolated-scroll="{}" v-el="content">\n      <div v-component="messages" v-el="messages"></div>\n    </div>\n\n    <div class="collaboration-block__footer" v-if="!isGuest" v-el="footer">\n      <a class="f-link" name="footer"></a>\n      <div v-component="message-form"></div>\n    </div>\n\n    <div class="collaboration-block__footer" v-if="isGuest" v-el="footer">\n      <div>Please <a href="/login/invite/{{user.id}}">sign in</a> or <a href="/signup/invite/{{user.id}}">sign up</a> to send messages.</div>\n    </div>\n  </div>\n</div>\n'},{}],149:[function(e,t,n){"use strict";var i=e("vue"),s=e("underscore"),o=(e("../../../../../../../enums/SocketEventsEnum"),e("../../../../../../../lib/MessageTypeEnum"),e("sympli-enums").Scopes);t.exports={inherit:!0,template:e("./index.html"),replace:!0,components:{"spot-settings":e("./spot-settings"),"message-form":e("./message-form"),messages:e("./messages"),message:e("./message"),"message-service-area":e("./message-service-area")},data:function(){return{messagesStorage:[],isLoading:!1}},ready:function(){this.isLoading=!0,this.$on("create:message",this.handleNewMessage),this.$on("sent:message",this.handleNewMessage),this.$on("edit:message",this.handleEditMessage),this.$on("delete:message",this.handleDeleteMessage),this.$on(o.loaded.bundle.data,this.handleLoadedBundle),this.$on("spot:scroll:update",function(e){e&&e.id!=this.spot.id||this._reInitSexyScroll()}),this.$on("spot:calculate-height",function(e,t){this._calculateMaxHeight(e,t)}),this.$watch("messages",this.watchMessages),this.calcMessages()},methods:{watchMessages:function(){this.calcMessages(),this._scroll()},calcMessages:function(){var e=this.spot.id;this.isLoading=!1,this.messagesStorage=s.filter(this.messages,function(t){return t.bundleSpot===e}).reverse()},stopEvent:function(e){var t=$(e.target);t.hasClass("js-edit-icon")||t.hasClass("js-message-textarea")||this.$broadcast("edit-stop:message"),e.preventDefault(),e.stopPropagation()},handleLoadedBundle:function(e){this.projectId=e.project.id,this.bundle&&this.bundle.bundle?this.bundleId=e.bundle:this.bundleId=e.id},handleNewMessage:function(e){e.bundleSpot===this.spot.id&&(this.isLoading=!1,this._upsertMessage(e),this._scroll(),setTimeout(function(){this.$emit("scrollPane:scrollBottom")}.bind(this),1e3))},_upsertMessage:function(e){var t=s.find(this.messagesStorage,{token:e.token});t?(this.messagesStorage=s.reject(this.messagesStorage,{token:e.token}),this.messagesStorage.push(e)):this.messagesStorage.push(e)},handleDeleteMessage:function(e){e.bundleSpot===this.spot.id&&(this.messagesStorage=s.filter(this.messagesStorage,function(t){return t.id!=e.id}),this._reInitSexyScroll())},handleEditMessage:function(e){e.bundleSpot===this.spot.id&&this._reInitSexyScroll()},_scroll:function(e,t){var n=this;i.nextTick(function(){n.$emit("scrollPane:reInit"),setTimeout(function(){n.$emit("scrollPane:scrollBottom")},200)})},_reInitSexyScroll:function(){i.nextTick(function(){this.$emit("scrollPane:reInit")}.bind(this))},_calculateMaxHeight:function(e,t){var n=$(this.$$.header).height(),i=$(this.$$.footer).height(),o=30,r=52,a=n+i+o+r,l=380,c=$(window).height(),u=$(this.$$.content);u.removeAttr("style");var d=t.top-a>l,h=null;e.top&&!d&&(h=t.top-a);var p=c-t.top-a>l;e.top||p||(h=c-t.top-a),s.delay(function(){var e=$(this.$$.messages).outerHeight(!0),t=200,n={},i={};null!=h?e<h&&0!=e?(n={"max-height":h,height:e},i={height:e}):(n={"max-height":h},i={height:h}):(e>300&&(e=300),n={"max-height":e,height:e},i={height:e}),u.animate(n,t),u.find(".jspContainer").animate(i,t),this._delayScroll(t)}.bind(this),300)},_delayScroll:function(e){var t=this;s.delay(function(){i.nextTick(function(){t._reInitSexyScroll()})}.bind(this),e||0)}}}},{"../../../../../../../enums/SocketEventsEnum":8,"../../../../../../../lib/MessageTypeEnum":16,"./index.html":148,"./message":155,"./message-form":151,"./message-service-area":153,"./messages":157,"./spot-settings":159,"sympli-enums":524,underscore:682,vue:821}],150:[function(e,t,n){t.exports='<form class="message-form" v-on="submit: onSubmitMessage">\n  <textarea class="form-control mention"\n            v-atwho="users"\n            v-el="message"\n            v-focus="focus"\n            v-on="keydown: onMessageKeydown, keyup: onMessageKeyup"\n            v-model="message"\n\n            v-autoresize="200"\n            data-autoresize-min-rows="2"\n            data-autoresize-max-rows="8"\n\n            placeholder="Type here..."\n            autocomplete="off"></textarea>\n  <span class="submit-info">Press <b>Enter</b> for sending; <b>Shift+Enter</b> for a new line</span>\n  <input class="hidden" type="submit">\n</form>\n'},{}],151:[function(e,t,n){"use strict";var i=e("moment"),s=e("vue"),o=(e("underscore"),e("../../../../../../../../enums/SocketEventsEnum")),r=e("../../../../../../../../lib/MessageTypeEnum"),a=e("../../event-helper");t.exports={inherit:!0,replace:!0,template:e("./index.html"),ready:function(){var e=this;this.$on("shown.atwho",function(){e.isMentionShown=!0}),this.$on("hidden.atwho",function(){e.isMentionShown=!1}),this.$watch("spot.isSelected",function(t){s.nextTick(function(){e.focus=e.spot.isSelected})})},data:function(){return{message:"",focus:!1,isMentionShown:!1}},components:{},methods:{isValidMessage:function(){return!!this.message.trim()},onMessageKeyup:function(e){e.stopPropagation()},onMessageKeydown:function(e){if(this.isMentionShown)return e.stopPropagation(),!0;if(a.isEscKey(e))return void this.$sympliTrigger("deselect:spots",this.spot.isNew);if(a.isPureEnterKey(e)){if(!this.isValidMessage())return;this._trimMessage(),this.spot.isNew?this.saveSpot():this.saveMessage(),a.stopEvent(e)}else a.isChangeHeightKey(e)&&this.$dispatch("spot:scroll:update",this.spot)},saveMessage:function(){var e=this._getComposedMessage();this.$dispatch("sent:message",e),this.$dispatch(o.message.create,e),this.message="",this.$dispatch("spot:refresh",this.spot)},saveSpot:function(){var e=this,t={hex:this.spot.hex,position:this.spot.position,bundle:this.spot.bundle,message:this.message};this.$store.postSpotRequest(t).then(function(t){var n=t.data;e.spot.id=n.id,e.spot.hex=n.hex,e.spot.number=n.number,e.spot.position=n.position,e.spot.bundle=n.bundle,e.spot.user=n.user,e.spot.createdAt=n.createdAt,e.spot.updatedAt=n.updatedAt,e.spot.isNew=!1;var i=e._getComposedMessage();e.$dispatch("sent:message",i),e.message="",e.$dispatch("spot:refresh",e.spot),e.$dispatch(o.bundleSpot.create,e.spot)})},onSubmitMessage:function(e){this.stopEvent(e),this.$dispatch(o.typing.stop),this.isValidMessage()&&(this._trimMessage(),this.spot.isNew?this.saveSpot():this.saveMessage(),this.$api.event("created-message-web",{type:r.bundleSpot,design_id:this.bundle.id,design_name:this.bundle.name,platform:this.bundle.type,baseline:this.bundle.baseline}))},_getComposedMessage:function(){return{bundleSpot:this.spot.id,type:r.bundleSpot,message:this.message,sender:this.user,token:this._getMesageTransactionToken()}},_getMesageTransactionToken:function(){return this.user.id+"-"+this.projectId+"-"+i()+"-"+i().milliseconds()},_trimMessage:function(){this.message=this.message.trim()}}}},{"../../../../../../../../enums/SocketEventsEnum":8,"../../../../../../../../lib/MessageTypeEnum":16,"../../event-helper":145,"./index.html":150,moment:603,underscore:682,vue:821}],152:[function(e,t,n){t.exports='<div class="m-message typing" v-show="typing">\n  <div class="m-message__body">{{userTyping}} is typing...</div>\n</div>'},{}],153:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$on("typing",this.typingStarted),this.$on("stop:typing",this.typingStopped),this.$on("user:joined",this.userJoined)},data:function(){return{typing:!1,userTyping:""}},components:{},methods:{typingStarted:function(e){this._isBelong(e)&&(this.typing=!0,this.userTyping=e.username||"",this.typeStopped())},typingStopped:function(e){this.typing=!1,this.userTyping=""},userJoined:function(e){},typeStopped:i.debounce(function(){this.typingStopped()},500),_isBelong:function(e){return e.bundleSpot===this.spot.id}}}},{"./index.html":152,underscore:682}],154:[function(e,t,n){t.exports='<div class="m-message" id="message-{{message.id}}" v-class="m-message-my: isMyMessage">\n  <div class="m-message-my__icons" v-if="isMyMessage">\n    <a class="icon-edit js-edit-icon" v-on="click: onSelectMessageEdit($event, message)" href="#">\n      <span class="sympli-icon icon-edit_icon js-edit-icon"></span>\n    </a>\n    <a class="icon-remove" v-on="click: onRemoveMessage" href="#">\n      <span class="sympli-icon icon-menu_delete_icon"></span>\n    </a>\n  </div>\n\n  <div class="m-message__title">\n    <span class="m-message__title-date ellipsis">\n      <small v-show="message.createdAt">{{message.createdAt | moment spots}}</small>\n      <small v-show="!message.createdAt">pending...</small>\n    </span>\n    <span class="m-message__title-user ellipsis">\n        <img alt="" class="gravatar-image" v-if="hasPicture" v-attr="src: message.sender.picture"/>\n        <img alt="" class="gravatar-image empty" v-if="!hasPicture" src="../../../img/transparent-tile.png"/>\n        <span class="name ellipsis">{{message.sender.profile.name || message.sender.email}}</span>\n      </span>\n  </div>\n\n  <div class="m-message__body js-message-textarea" v-if="!isMessageEditing" v-html="preparedMessage" v-on="click: onClickMessage"></div>\n\n  <form class="m-message__textarea" v-if="isMessageEditing" v-on="submit: onSubmitMessageForm">\n    <textarea class="form-control js-message-textarea" v-attr="id: message.id"\n              v-atwho="users"\n              v-el="message"\n              v-focus="isMessageEditing"\n              v-on="keydown: onMessageKeydown, keyup: onMessageKeyup"\n              v-model="message.message"\n              v-autoresize="200"\n              data-autoresize-min-rows="2"\n              data-autoresize-max-rows="300"\n              autocomplete="off"></textarea>\n    <span class="submit-info">Press <b>Enter</b> for sending; <b>Shift+Enter</b> for a new line</span>\n  </form>\n</div>\n'},{}],155:[function(e,t,n){"use strict";var i=e("../../../../../../../../enums/SocketEventsEnum"),s=e("underscore"),o=e("../../event-helper"),r=e("linkifyjs/string");t.exports={inherit:!0,replace:!0,template:e("./index.html"),ready:function(){var e=this;this.$on("shown.atwho",function(){e.isMentionShown=!0}),this.$on("hidden.atwho",function(){e.isMentionShown=!1})},data:function(){return{editing:null,isMentionShown:!1,message:null}},components:{},computed:{isMessageEditing:function(){return this.selectedMessage&&this.message&&this.selectedMessage.id==this.message.id},isMyMessage:function(){return this.message&&this.message.sender.id===this.user.id},preparedMessage:function(){var e=r(this.message.message,{nl2br:!0}).replace(/[\u2028\u2029]/g,"<br/>");if(!s.isArray(this.message.mentionees))return e;var t=e;if(this.message.mentionees.length){var n=s.chain(this.message.mentionees).pluck("nickname").sortBy(function(e){return-e.length}).value();s.each(n,function(e){var n=new RegExp("(?:^|[^a-zA-Z0-9_＠!@#$%&*])(?:(?:@|＠)(?!/))("+e+")(?:\\b(?!@|＠)|$)","gi");t=t.replace(n,"<i>$&</i>").replace("<i>>","><i>")})}return t},hasPicture:function(){return this.message&&this.message.sender.picture}},methods:{isValidMessage:function(){return!!this.message.message.trim()},onSubmitMessageForm:function(e){this.isValidMessage()&&this.saveMessage()},onRemoveMessage:function(e){this.$sympliTrigger("delete:message",this.message),this.$dispatch(i.message["delete"],this.message),this.$dispatch("spot:refresh",this.spot)},onEditMessage:function(e){this.saveMessage()},onMessageKeyup:function(e){e.stopPropagation(),o.isEscKey(e)&&this.stopEditMode()},onMessageKeydown:function(e){if(this.isMentionShown)return!0;if(o.isPureEnterKey(e)){if(!this.isValidMessage())return;this.saveMessage(),e.stopPropagation(),e.preventDefault(),this.$dispatch("spot:scroll:update",this.spot)}else o.isChangeHeightKey(e)&&this.$dispatch("spot:scroll:update",this.spot)},saveMessage:function(){this._trimMessage(),this.isMyMessage&&(this.$dispatch(i.message.update,this.message),this.$dispatch("spot:refresh",this.spot),this.toggleMessageEdit(null))},_trimMessage:function(){this.message.message=this.message.message.trim()},stopEditMode:function(){this.$dispatch("message:edit:stop")},onClickMessage:function(e){$(e.target).hasClass("linkified")&&e.stopPropagation()}}}},{"../../../../../../../../enums/SocketEventsEnum":8,"../../event-helper":145,"./index.html":154,"linkifyjs/string":600,underscore:682}],156:[function(e,t,n){t.exports='<div>\n  <div class="m-panel__section" v-if="!isLoading">\n    <div class="m-messages">\n      <div v-component="message" v-repeat="message: messagesStorage" track-by="id"></div>\n      <!--<div v-component="message-service-area"></div>-->\n    </div>\n\n    <div v-if="!spot.isNew && (!messagesStorage || messagesStorage.length == 0)">\n      <div class="m-message">\n        <div class="m-message__body">No messages yet</div>\n      </div>\n    </div>\n  </div>\n\n  <div class="m-panel__section" v-if="isLoading || spot.isNew">\n    <div class="m-message">\n      <div class="m-message__body loading" v-if="spot.isNew">Please type a message</div>\n      <div class="m-message__body loading" v-if="isLoading && !spot.isNew">Loading...</div>\n    </div>\n  </div>\n\n</div>\n'},{}],157:[function(e,t,n){"use strict";var i=(e("../../../../../../../../enums/SocketEventsEnum"),e("underscore"));t.exports={inherit:!0,template:e("./index.html"),data:function(){return{editing:null,originalMessage:null,selectedMessage:null}},ready:function(){this.$on("edit-stop:message",this.stopMessageEdit),this.$on("html:click",this.stopMessageEdit),this.$on("document:esc",this.stopMessageEdit),this.$on("message:edit:stop",this.stopMessageEdit)},methods:{onSelectMessageEdit:function(e,t){t&&t.sender.id===this.user.id&&this.toggleMessageEdit(t)},toggleMessageEdit:function(e){this.selectedMessage&&e&&this.selectedMessage.id==e.id?(this.selectedMessage=null,this.originalMessage=null):(this.selectedMessage=e,this.originalMessage=e?e.message:e),this.$dispatch("spot:scroll:update")},stopMessageEdit:function(){var e=this;null!=this.originalMessage&&i.each(this.messagesStorage,function(t){t.id==e.selectedMessage.id&&(t.message=e.originalMessage)}),this.selectedMessage=null,this.originalMessage=null,this.editing=null,this.$dispatch("spot:scroll:update")}}}},{"../../../../../../../../enums/SocketEventsEnum":8,"./index.html":156,underscore:682}],158:[function(e,t,n){t.exports='<div class="m-details__spot">\n  <div class="m-details__spot-color">\n    <i v-repeat="colorsMap" class="spot-label" v-style="background:$value" v-class="active: spot.hex == $value" v-on="click: saveSpot($event, $value)"></i>\n  </div>\n  <div v-if="!isGuest" class="sympli-dialog-block">\n    <a href="#" v-on="click: onInitDeleteSpot" class="icon-remove">\n      <i class="sympli-icon icon-menu_delete_icon"></i>\n    </a>\n    <div v-component="popup-prompt-dialog"\n         v-with="title: \'Delete annotation\',\n         onSuccess: deleteSpot,\n         message: \'You are about to delete the annotation. All messages within this annotation also will be deleted. Do you want to proceed?\',\n         isActive: showDeleteSpotDialog">\n    </div>\n  </div>\n</div>\n'},{}],159:[function(e,t,n){"use strict";t.exports={inherit:!0,replace:!0,template:e("./index.html"),ready:function(){},data:function(){return{showDeleteSpotDialog:!1}},methods:{saveSpot:function(e,t){e.preventDefault(),e.stopPropagation();
var n=this;if(this.spot.isNew)this.spot.hex=t;else{var i="/spots/"+this.spot.id,s={hex:t};this.$api(this.$api.put(i,{body:s}).then(function(e){n.spot.hex=t}))}},onInitDeleteSpot:function(e){return e.preventDefault(),e.stopPropagation(),this.spot.isNew?void this.removeFromSpots():void(this.showDeleteSpotDialog=!this.showDeleteSpotDialog)},deleteSpot:function(e){e.preventDefault(),e.stopPropagation(),this.spot.isNew?this.removeFromSpots():this.$api(this.$api["delete"]("/spots/"+this.spot.id).then(function(e){this.removeFromSpots(),this._sendIntercomEvent("deleted-spot-web")}.bind(this)))},_sendIntercomEvent:function(e){var t=this;this.$api.event(e,{spot:t.spot.id,design_id:t.bundle.id,design_name:t.bundle.name,platform:t.bundle.type,baseline:t.bundle.baseline})},removeFromSpots:function(){var e=this.spots.indexOf(this.spot);e>-1&&this.spots.$remove(e)}}}},{"./index.html":158}],160:[function(e,t,n){t.exports='<div v-repeat="spring: springs">\n  <div class="m-spring"\n       v-class="\n            \'m-spring-top\': spring.isTop,\n            \'m-spring-left\': spring.isLeft,\n            \'m-spring-bottom\': spring.isBottom,\n            \'m-spring-right\': spring.isRight,\n          "\n       v-style="\n            top: spring.top,\n            left: spring.left,\n            right: spring.right,\n            bottom: spring.bottom\n          "\n  >\n    <div class="m-spring-info">\n      {{ spring.value | dru }}{{resolutionInfo.units}}\n    </div>\n  </div>\n</div>\n\n\n\n'},{}],161:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{coords:null,isRuleEnabled:null,bounds:null,zoomRatio:null,measureRatio:null,hoverSelections:null,selectedSelections:[],overlaySelections:null}},computed:{springs:function(){var e,t,n=[],s=this.zoomRatio,o=this.measureRatio,r={top:this.coords.top,left:this.coords.left,right:this.coords.left,bottom:this.coords.top},a=this.selectedSelections,l=this.bounds;return 2==a.length?(t=a[0],e=a[1]):1==a.length?(t=a[0],e=this.hoverSelection,this.isRuleEnabled?this.coords&&this.coords.down?(e=a[0],t=r):e?e.top==t.top&&e.bottom==t.bottom&&e.left==t.left&&t.right==e.right&&(e=a[0],t=r):(e=a[0],t=r):e?e.top==t.top&&e.bottom==t.bottom&&e.left==t.left&&t.right==e.right&&(e=t,t=l):(e=t,t=l)):(e=this.hoverSelection,t=this.bounds,this.isRuleEnabled&&(t=r)),t&&e&&(e.top>t.bottom&&n.push({isTop:!0,top:t.bottom*s,left:(e.left+e.right)/2*s,bottom:(l.bottom-e.top)*s,value:(e.top-t.bottom)*o}),t.top>e.bottom&&n.push({isBottom:!0,top:e.bottom*s,left:(e.left+e.right)/2*s,bottom:(l.bottom-t.top)*s,value:(t.top-e.bottom)*o}),e.left>t.right&&n.push({isLeft:!0,top:(e.top+e.bottom)/2*s,left:t.right*s,right:(l.right-e.left)*s,value:(e.left-t.right)*o}),t.left>e.right&&n.push({isRight:!0,top:(e.top+e.bottom)/2*s,left:e.right*s,right:(l.right-t.left)*s,value:(t.left-e.right)*o}),e.top>t.top&&e.top<=t.bottom&&n.push({isTop:!0,top:t.top*s,left:(e.left+e.right)/2*s,bottom:(l.bottom-e.top)*s,value:(e.top-t.top)*o}),t.bottom>e.bottom&&t.top<=e.bottom&&n.push({isBottom:!0,top:e.bottom*s,left:(e.left+e.right)/2*s,bottom:(l.bottom-t.bottom)*s,value:(t.bottom-e.bottom)*o}),e.left>t.left&&e.left<=t.right&&n.push({isLeft:!0,top:(e.top+e.bottom)/2*s,left:t.left*s,right:(l.right-e.left)*s,value:(e.left-t.left)*o}),t.right>e.right&&t.left<=e.right&&n.push({isRight:!0,top:(e.top+e.bottom)/2*s,left:e.right*s,right:(l.right-t.right)*s,value:(t.right-e.right)*o}),e.bottom>t.bottom&&e.top<=t.bottom&&n.push({isBottom:!0,left:(e.left+e.right)/2*s,top:t.bottom*s,bottom:(l.bottom-e.bottom)*s,value:(e.bottom-t.bottom)*o}),t.top>e.top&&t.top<=e.bottom&&n.push({isTop:!0,left:(e.left+e.right)/2*s,top:e.top*s,bottom:(l.bottom-t.top)*s,value:(t.top-e.top)*o}),e.right>t.right&&e.left<=t.right&&n.push({isRight:!0,top:(e.top+e.bottom)/2*s,left:t.right*s,right:(l.right-e.right)*s,value:(e.right-t.right)*o}),t.left>e.left&&t.left<=e.right&&n.push({isLeft:!0,top:(e.top+e.bottom)/2*s,left:e.left*s,right:(l.right-t.left)*s,value:(t.left-e.left)*o})),i.each(n,function(e){i.each(["top","left","right","bottom"],function(t){void 0!==e[t]&&(e[t]+="px")})}),n}}}},{"./index.html":160,underscore:682}],162:[function(e,t,n){var i=e("../../../lib/ResolutionInfo"),s=e("../../../lib/LayerTypeEnum"),o=e("../../../lib/bundle-preview-helper");t.exports={getLayerSelectionRecur:function(e){var t=this;if(e.type==s.layerSection||e.symbolId||e.smartObject)return this.getLayerSelection(e);if(e.layers&&e.layers.length>0){var n=e.layers.map(function(e){return t.getLayerSelectionRecur(e)}).filter(function(e){return void 0!==e}).reduce(function(e,t){return e.top=Math.min(e.top,t.top),e.left=Math.min(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right),e});return{top:n.top,left:n.left,bottom:n.bottom,right:n.right,height:n.bottom-n.top,width:n.right-n.left}}return this.getLayerSelection(e)},getLayerSelection:function(e){var t,n,i,s,o,r;return e.selectionBounds?(t=e.selectionBounds.top,n=e.selectionBounds.left,r=e.selectionBounds.right,o=e.selectionBounds.bottom):e.boundsActual?(t=e.boundsActual.top,n=e.boundsActual.left,r=e.boundsActual.right,o=e.boundsActual.bottom):(t=e.bounds.top,n=e.bounds.left,r=e.bounds.right,o=e.bounds.bottom),i=r-n,s=o-t,{top:t,left:n,right:r,bottom:o,width:i,height:s}},getLayerImageUrl:function(e,t){if("layerSection"===e.type&&!e.smartObject)throw new Error("Invalid layer type, layerSection cannot have image representation ");var n;if("asset"==e.type){var s=i.info(t.type,t.baseline).imagePattern;s||(s=i.info("android","mdpi").imagePattern),n=s.replace("$",e.name)}else n=e.id+".png";return t.blobUrlPrefix?t.blobUrlPrefix+"/bundle/"+encodeURIComponent(n):"/bundles/"+t.token+"/bundle/"+encodeURIComponent(n)},getPreviewUrl:o.getPreviewUrl,getDocumentPng:o.getDocumentPng,getDocumentPng2x:o.getDocumentPng2x,getResolutionInfo:function(e,t){var n=i.info(e,t);if(!n)throw new Error("Invalid platform or baseline");return n}}},{"../../../lib/LayerTypeEnum":15,"../../../lib/ResolutionInfo":19,"../../../lib/bundle-preview-helper":26}],163:[function(e,t,n){t.exports="<div class=\"preview-canvas-wrapper-padding\">\n  <div class=\"general-canvas preview-canvas-wrapper\">\n    <div v-style=\"width: outerSize.width+'px', height: outerSize.height+'px'\">\n      <div class=\"preview-canvas zdisable-anti-aliasing\"\n           v-style=\"\n             width: innerSize.width + 'px',\n             height: innerSize.height+ 'px',\n             transform: 'scale(' + zoomRatio + ')',\n             -webkit-transform: 'scale(' + zoomRatio + ')',\n             -ms-transform: 'scale(' + zoomRatio + ')'\n         \">\n\n        <div v-repeat=\"sprite: sprites | orderBy 'layerIndex'\" v-component=\"sprite\"></div>\n      </div>\n    </div>\n  </div>\n</div>\n"},{}],164:[function(e,t,n){"use strict";var i=e("../../../../lib/BundleSourceEnum"),s=e("../../canvas/canvas_helper");t.exports={props:["namespace","mode"],inherit:!0,template:e("./index.html"),mixins:[e("../mixin")],ready:function(){var e=this.ns=this.namespace?this.namespace+":":"";this.$on(e+"prerender",this.handlePrerender),this.$on(e+"render",this.handleRender),this.$on(e+"zoom",this.handleZoom),this.$on(e+"toggle:layer",this.handleToggleLayer),this.$on(e+"sprite:size",this.handleSpriteSize)},data:function(){return{mode:"",namespace:"",ns:"",isRendered:!1}},methods:{handlePrerender:function(e){this.isRendered||e.source!==i.sketch&&e.source!==i.photoshop_flat||(this._clean(),this._render(e,"flat"))},handleRender:function(e,t,n){this.isRendered&&n!==!0||(this._clean(),this._render(e,t))},_render:function(e,t){this.isRendered=!0;var n=e?e.bounds:null;n&&(this.innerSize.width=n.right,this.innerSize.height=n.bottom),"flat"!==t&&this.isDeep(e)?this._renderDeep(e):this._renderFlat(e)},_renderFlat:function(e){var t=s.getPreviewUrl(e);this._addSprite(e.id,e.bounds,{top:0,left:0},t,!0)},_renderDeep:function(e){this._renderLayers(e.data.layers,{top:0,left:0},e,!0)},isDeep:function(e){return e.source===i.photoshop},handleZoom:function(e){this._zoom(e)},handleToggleLayer:function(e,t){this._toggleLayer(e,t)},handleSpriteSize:function(e){this.$root.$broadcast(this.ns+"change:bounds",{top:0,left:0,right:e.width,bottom:e.height})}}}},{"../../../../lib/BundleSourceEnum":10,"../../canvas/canvas_helper":162,"../mixin":173,"./index.html":163}],165:[function(e,t,n){t.exports='<div v-repeat="layer: newLayersList">\n  <div class="difference-layer difference-layer__new" v-style="buildStyles(layer)">\n  </div>\n</div>\n\n<div v-repeat="layer: editedLayersList">\n  <div class="difference-layer difference-layer__edited" v-style="buildStyles(layer)">\n  </div>\n</div>\n\n<div v-repeat="layer: deletedLayersList">\n  <div class="difference-layer difference-layer__deleted" v-style="buildStyles(layer)">\n  </div>\n</div>\n'},{}],166:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,template:e("./index.html"),props:["namespace","allLayers","newLayersList","editedLayersList","deletedLayersList"],data:function(){return{zoomRatio:1,allLayers:[],newLayersList:[],editedLayersList:[],deletedLayersList:[]}},ready:function(){this.$on(this.namespace+":zoom",this.handleZoomRatio)},methods:{handleZoomRatio:function(e){this.zoomRatio=e},buildStyles:function(e){var t=this.zoomRatio,n={top:e.bounds.top,left:e.bounds.left,width:e.bounds.right-e.bounds.left,height:e.bounds.bottom-e.bounds.top,"outline-width":7};return i.each(i.keys(n),function(e){n[e]=n[e]*t+"px"}),n}}}},{"./index.html":165,underscore:682}],167:[function(e,t,n){t.exports='<div tabindex="0" id="diff-viewport-{{namespace}}" class="m-panel__content"\n     v-style="background: background" v-on="scroll: onResize"\n     v-sync-scrollpane="syncScrollOptions">\n  <div id="m-canvas-{{namespace}}" class="m-canvas">\n    <div v-component="design-canvas" v-with="namespace: namespace"></div>\n    <div v-component="differences-layers"\n         v-with="namespace: namespace,\n                 allLayers: allLayers,\n                 newLayersList: newLayersList,\n                 editedLayersList: editedLayersList,\n                 deletedLayersList: deletedLayersList"\n    ></div>\n  </div>\n</div>\n'},{}],168:[function(e,t,n){var i=e("underscore"),s=(e("../../../../lib/LayerTypeEnum"),e("../../../../lib/LayerRoleEnum"),e("../layer-utility"));t.exports={inherit:!0,template:e("./index.html"),props:["namespace","allLayers","newLayersList","editedLayersList","deletedLayersList"],components:{"design-canvas":e("../design"),"differences-layers":e("./differences-layers")},data:function(){return{allLayers:[],newLayersList:[],editedLayersList:[],deletedLayersList:[],zoomRatio:void 0,yOffset:void 0,xOffset:void 0,hoverLayer:void 0,syncScrollOptions:{context:"diff-viewport-"+this.namespace,syncState:this.syncState,isSyncEnabled:this.isSyncEnabled}}},ready:function(){var e=this.namespace?this.namespace+":":"";this.$canvas=document.getElementById("m-canvas-"+this.namespace),this.$canvas.addEventListener("click",this.onMouseClick),this.$on(e+"change:bounds",this._scroll),this.$on(e+"sprite:ready",this._scroll),this.$on(e+"version:prerender",this.onVersionSelect),this.$on(e+"zoom",this.onSelectZoomRatio),this.$on("scrollPane:init",this.onResize),this.$on("scrollPane:scroll",i.throttle(this.onResize,40)),this.$on("resize",this.onResize),this.$watch("syncState",function(){this.syncScrollOptions.syncState=this.syncState}),this.$watch("isSyncEnabled",function(){this.syncScrollOptions.isSyncEnabled=this.isSyncEnabled}),this.syncScrollOptions={context:"diff-viewport-"+this.namespace,syncState:this.syncState,isSyncEnabled:this.isSyncEnabled}},methods:{onMouseMove:i.throttle(function(e){e&&(e.stopPropagation(),this.setHoverLayer(e))},40),onMouseClick:function(e){e&&(e.stopPropagation(),this.setHoverLayer(e),this.hoverLayer&&this.$dispatch("layer:clicked",this.hoverLayer))},setHoverLayer:function(e){var t=e.pageX-this.xOffset,n=e.pageY-this.yOffset;this.hoverLayer=s.getLayerByXY(t/this.zoomRatio,n/this.zoomRatio,this.allLayers,"layers",!0,this.getAllowedLayers())},onSelectZoomRatio:function(e,t){this.zoomRatio=e,this.$broadcast("scrollPane:reInit"),this.$emit("scrollPane:reInit"),this.onResize()},onResize:function(){var e=s.getOffset(this.$canvas);e&&(this.yOffset=e.top,this.xOffset=e.left)},_scroll:function(){"diff-viewport-"+this.namespace;this.$broadcast("scrollPane:reInit"),this.$emit("scrollPane:reInit")},onVersionSelect:function(e){e&&(this.$broadcast(this.namespace+":render",e,"flat"),this.onResize())},getAllowedLayers:function(){return[].concat(this.newLayersList||[]).concat(this.editedLayersList||[]).concat(this.deletedLayersList||[])}}}},{"../../../../lib/LayerRoleEnum":14,"../../../../lib/LayerTypeEnum":15,"../design":164,"../layer-utility":169,"./differences-layers":166,"./index.html":167,underscore:682}],169:[function(e,t,n){var i=e("underscore"),s=e("../../../lib/LayerTypeEnum"),o=e("../../../lib/LayerRoleEnum"),r={assets:"assets",layers:"layers"};t.exports.LayerObservationMode=r,t.exports.getLayerAncestors=function(e){for(var t=[],n=e.parent;n;)t.push(n),n=n.parent;return t},t.exports.hasInvisibleAncestors=function(e){var t=this.getLayerAncestors(e),n=!1;return t.length>0&&i.each(t,function(e){n||e.visible||(n=!0)}),n},t.exports.isLayerVisible=function(e){return!(!e||!e.visible)&&!this.hasInvisibleAncestors(e)},t.exports.getLayerByXY=function(e,t,n,o,a,l){var c=i.filter(n,function(n){var o=!1;if(l&&l.length&&(o=i.find(l,function(e){return e.id===n.id}),!o))return!1;var r=n.boundsActual?n.boundsActual:n.bounds;return(!s.isSelectableGroupLayer(n)||!!n.symbolId||o)&&e<=r.right&&e>=r.left&&t<=r.bottom&&t>=r.top&&(n.visible||a)});return c=i.filter(c,function(e){return o!==r.assets||!this.isAssetSourceRelated(e)},this),this.getMinimalSquareLayer(c,o)},t.exports.getMinimalSquareLayer=function(e,t){return e&&e.length?i.min(e,function(e){if(e.type==s.layerSection)return Number.MAX_SAFE_INTEGER;var n=e.boundsActual?e.boundsActual:e.bounds,i=n.bottom-n.top,a=n.right-n.left,l=i*a;if(t==r.assets){if(e.role==o.assetSource)return Number.MAX_SAFE_INTEGER;if(e.type==s.asset)return l-1}return l},this):null},t.exports.getOffset=function(e){return e?e.getBoundingClientRect?this.getOffsetRect(e):this.getOffsetSum(e):null},t.exports.getOffsetSum=function(e){for(var t=0,n=0;e;)t+=parseInt(e.offsetTop),n+=parseInt(e.offsetLeft),e=e.offsetParent;return{top:t,left:n}},t.exports.getOffsetRect=function(e){var t=e.getBoundingClientRect(),n=document.body,i=document.documentElement,s=window.pageYOffset||i.scrollTop||n.scrollTop,o=window.pageXOffset||i.scrollLeft||n.scrollLeft,r=i.clientTop||n.clientTop||0,a=i.clientLeft||n.clientLeft||0,l=t.top+s-r,c=t.left+o-a;return{top:Math.round(l),left:Math.round(c)}},t.exports.forEachLayers=function(e,t){i.each(e,function(e){t(e),e.layers&&0!==e.layers.length&&this.forEachLayers(e.layers,t)},this)},t.exports.setArtboardVisible=function(e){if(e&&i.isArray(e)&&1==e.length){var t=e[0];t&&(t.visible=!0,t.isVisible=!0)}},t.exports.isAssetSourceRelated=function(e){if(e.role===o.asset)return!1;for(;e;){if(e.role===o.assetSource)return!0;e=e.parent}return!1}},{"../../../lib/LayerRoleEnum":14,"../../../lib/LayerTypeEnum":15,underscore:682}],170:[function(e,t,n){t.exports="<div class=\"preview-canvas-wrapper-padding\">\n  <div class=\"general-canvas preview-canvas-wrapper\">\n    <div v-style=\"width: outerSize.width+'px', height: outerSize.height+'px'\">\n      <div class=\"preview-canvas\"\n           v-class=\"'disable-anti-aliasing': !mainCanvas\"\n           v-style=\"\n             width: innerSize.width + 'px',\n             height: innerSize.height+ 'px',\n             transform: 'scale(' + zoomRatio + ')',\n             -webkit-transform: 'scale(' + zoomRatio + ')',\n             -ms-transform: 'scale(' + zoomRatio + ')'\n         \">\n\n        <div v-repeat=\"sprite: sprites | orderBy 'layerIndex'\" v-component=\"sprite\"></div>\n      </div>\n    </div>\n  </div>\n</div>\n"},{}],171:[function(e,t,n){"use strict";var i=e("../../../../lib/BundleSourceEnum");t.exports={props:["namespace"],inherit:!0,template:e("./index.html"),mixins:[e("../mixin")],ready:function(){var e=this.namespace?this.namespace+":":"";this.$on(e+"render",this.handleRender),this.$on(e+"zoom",this.handleZoom)},data:function(){return{}},methods:{handleRender:function(e){var t=this.bundle;this._clean(),e&&(e instanceof Array?this._renderLayersPreview(e,t):t.source===i.sketch||t.source===i.photoshop_flat?"asset"===e.type&&(this.sendRealSize=!0,this._renderLayersPreview([e],t)):this._renderLayersPreview([e],t))},handleZoom:function(e){this._zoom(e)}}}},{"../../../../lib/BundleSourceEnum":10,"../mixin":173,"./index.html":170}],172:[function(e,t,n){n=t.exports,n.calculateOverlays=function(e,t){var n=r(e,t);return n?i(n,n==e?t:e):o(e,t)?[s(e,t)]:[s(e,t)]};var i=function(e,t){var n=[];return n.push({left:e.left,top:e.top,right:t.left,bottom:t.top,width:t.left-e.left,height:t.top-e.top}),n.push({left:t.right,top:t.bottom,right:e.right,bottom:e.bottom,width:e.right-t.right,height:e.bottom-t.bottom}),n},s=function(e,t){var n=e.left<=t.left?e:t,i=n==e?t:e,s=n.right<=i.left,o=s?n.right:n.left,r=Math.abs(o-i.left),a=o+r,l=e.top<=t.top?e:t,c=l==e?t:e,u=l.bottom<=c.top,d=u?l.bottom:l.top,h=Math.abs(d-c.top),p=d+h;return{left:o,top:d,right:a,bottom:p,width:r,height:h}},o=function(e,t){var n=e.left<=t.left&&t.left<=e.right||e.left<=t.right&&t.right<=e.right,i=e.top<=t.top&&t.top<=e.bottom||e.top<=t.bottom&&t.bottom<=e.bottom;return n&&i},r=function(e,t){var n,i,s=e.width*e.height,o=t.width*t.height;s<=o?(n=t,i=e):(n=e,i=t);for(var r=[{x:i.left,y:i.top},{x:i.right,y:i.top},{x:i.right,y:i.bottom},{x:i.left,y:i.bottom}],l=!0,c=0;c<r.length&&(l=l&&a(n,r[c]),l);c++);return l?n:null},a=function(e,t){var n=e.left<=t.x&&t.x<=e.right,i=e.top<=t.y&&t.y<=e.bottom;return n&&i}},{}],173:[function(e,t,n){"use strict";var i=e("underscore"),s=e("./canvas_helper.js");e("../../../lib/BundleSourceEnum");t.exports={components:{sprite:e("./sprite")},ready:function(){},data:function(){return{zoomRatio:1,innerSize:{width:0,height:0},sprites:[],sendRealSize:!1}},methods:{handleRender:function(){},handleZoom:function(){},_renderLayersPreview:function(e,t){var n=s.getLayerSelectionRecur(e[e.length-1]);if(n){var i={left:n.left,top:n.top};this.innerSize.width=n.right-n.left,this.innerSize.height=n.bottom-n.top,this._renderLayers(e,i,t,!0)}},_renderLayers:function(e,t,n,i){if(e)for(var s=e.length-1;s>=0;s--){var o=e[s];o.rendered=!0,"layerSection"===o.type&&o.smartObject?this._addLayer(o,t,n,i):("layerSection"!==o.type&&this._addLayer(o,t,n,i),o.layers&&o.layers.length&&this._renderLayers(o.layers,t,n,o.rendered&&o.visible&&i))}},_addLayer:function(e,t,n,i){var o=e.boundsActual||e.bounds||{};o.right-o.left!==0&&this._addSprite(e.id,o,t,s.getLayerImageUrl(e,n),this.showAll||e.rendered&&e.visible&&i)},_addSprite:function(e,t,n,i,s){var o=!1;t||(t={top:0,left:0,right:0,bottom:0},o=!0);var r={id:e,url:i,visible:s,left:t.left-n.left,top:t.top-n.top,width:t.right-t.left,height:t.bottom-t.top,layerIndex:this.layerIndex++,naturalSize:o};this.sprites.push(r)},_toggleLayer:function(e,t){var n=i.find(this.sprites,function(t){return t.id===e.id});n&&(n.visible=t)},_zoom:function(e){this.zoomRatio=e},_clean:function(){for(var e=0;e<this.sprites.length;e++)delete this.sprites[e];this.sprites=[],this.zoomRatio=1,this.innerSize.width=0,this.innerSize.height=0,this.sendRealSize=!1,this.layerIndex=0}},computed:{outerSize:function(){return{width:this.innerSize.width*this.zoomRatio,height:this.innerSize.height*this.zoomRatio}}}}},{"../../../lib/BundleSourceEnum":10,"./canvas_helper.js":162,"./sprite":175,underscore:682}],174:[function(e,t,n){t.exports='<img class="sprite"\n     v-show="sprite.visible && sprite.width && sprite.height"\n     v-el="img"\n     v-attr="src:sprite.url" v-style="left: sprite.left + \'px\', top: sprite.top + \'px\', height: sprite.height + \'px\', width: sprite.width + \'px\'"\n     v-on="dragstart: onDragStart"\n     draggable="false" />\n'},{}],175:[function(e,t,n){"use strict";function i(e,t){var n=setInterval(function(){var i=e.naturalWidth,s=e.naturalHeight;i&&s&&(clearInterval(n),t.apply(this,[i,s]))},20);return n}t.exports={inherit:!0,replace:!0,template:e("./index.html"),props:["namespace","sendChangeBounds"],data:function(){return{sizeInterval:null}},ready:function(){var e=this.namespace?this.namespace+":":"";this.sprite.naturalSize?this.sizeInterval=i(this.$$.img,function(t,n){this.sprite.width=t,this.sprite.height=n,this.$dispatch(e+"sprite:size",this.sprite),this.$sympliTrigger(e+"sprite:ready",this.sprite)}.bind(this)):this.$sympliTrigger(e+"sprite:ready",this.sprite)},beforeDestroy:function(){this.sizeInterval&&clearInterval(this.sizeInterval)},methods:{onDragStart:function(e){return e.preventDefault(),!1}}}},{"./index.html":174}],176:[function(e,t,n){t.exports='<div class="bundle-picker">\n  <div class="m-background-picker noselect">\n    <span class="m-background-picker__selector m-background-picker__selector" v-style="background: background" v-on="click: onToggleBackgroundsClick"></span>\n    <div class="m-background-picker__popup" v-show="showBackgrounds" v-close="showBackgrounds">\n      <span class="m-background-picker__selector" v-repeat="backgrounds" v-on="click: onSelectBackgroundClick" v-style="background: $value"></span>\n    </div>\n  </div>\n</div>\n'},{}],177:[function(e,t,n){var i=e("vue"),s=e("LocalStorageBag"),o={dark:"#474747",light:"#fafafa",white:"#ffffff",transparent:"url(/img/transparent-tile-small.png)"};t.exports={template:e("./index.html"),ready:function(){var e=this["default"]||"transparent";if(this.bagKey){var t=new s(this.bagKey,e);e=t.get(),this.$watch("backgroundType",function(e){t.set(e)})}i.nextTick(function(){this.background=o[e],this.backgroundType=e,this.$dispatch(this.getEventName(),this.backgroundType,this.background)}.bind(this))},data:function(){var e="transparent";return{background:o[e],backgrounds:o,backgroundType:e,"default":e,showBackgrounds:!1,bagKey:null}},methods:{getEventName:function(){var e=this.namespace?this.namespace+":":"";return e+"background"},onSelectBackgroundClick:function(e){e.preventDefault(),this.background=e.targetVM.$value,this.backgroundType=e.targetVM.$key,this.showBackgrounds=!1,this.$sympliTrigger(this.getEventName(),this.backgroundType,this.background)},onToggleBackgroundsClick:function(e){e.preventDefault(),this.showBackgrounds=!this.showBackgrounds}}}},{"./index.html":176,LocalStorageBag:521,vue:821}],178:[function(e,t,n){t.exports='<div class="s-color" v-class="s-color__brand: computedColor && computedColor.isBrandbookColor, editing: isEditing" v-on-click-away="onClickAway">\n  <!-- if color -->\n  <div class="s_color-box-vertical s_color-box-vertical__color" v-if="!isTextColorStyle">\n    <span v-style="style"></span>\n  </div>\n\n  <!-- if font -->\n  <div class="s_color-box-vertical s_color-box-vertical__font" v-if="isTextColorStyle">\n    <div class="svg-path" v-style="colorAsText"></div>\n  </div>\n\n  <div class="s_color-box-info">\n    <div class="s_color-box-hex">{{computedColor.value}}</div>\n\n    <div class="s_color-box-name">\n      <form v-on="submit: onToggleColorEdit" v-if="computedColor.isEditable && isEditing && computedColor.isInlineEditable">\n        <input class="s_color-box-name-input" type="text" placeholder="" v-model="colorNameEdited" v-focus="isEditing" />\n      </form>\n      <div class="s_color-box-name-title ellipsis" v-if="computedColor.isEditable && isEditing && !computedColor.isInlineEditable">\n        <i v-on="click: onToggleColorEdit" >Edit in </i>\n        <a v-attr="href: \'/app#!/brandbooks/\' + brandbook.id" target="_blank" v-if="brandbook.role != \'virtual\'">brandbook</a>\n        <a v-attr="href: \'/app#!/projects/\' + bundle.project.id + \'/summary\'" target="_blank" v-if="brandbook.role == \'virtual\'">project</a>\n      </div>\n      <div class="s_color-box-name-title ellipsis" v-if="!(computedColor.isEditable && isEditing)" v-on="click: onToggleColorEdit">\n        {{computedColor.name}}\n        <span class="sympli-icon icon-edit_small"></span>\n      </div>\n    </div>\n\n    <!--<span class="s_color-box-style-name ellipsis" v-if="textStyleName">{{textStyleName}}</span>-->\n  </div>\n\n  <span class="btn-brand s_color-box-brand"\n        v-if="canEditColor && computedColor.isBrandbookColor"\n        v-class="\n          \'btn-brand-primary\': computedColor.isBrandbookColor,\n          \'hidden\': !computedColor.isBrandbookColor,\n          \'s_color-box-brand-hoverable\': computedColor.isEditable && canEditColor && !computedColor.isBrandbookColor"\n        v-on="click: onToggleBrand" title="Brand">brand</span>\n\n  <span class="color-box-copy" v-if="isShowCopyButton" v-on="click: onMouseClickCopy($event)" v-clipboard data-clipboard-text="{{colorValueForClipboard}}">Copy</span>\n</div>\n'},{}],179:[function(e,t,n){"use strict";var i=e("../../../../lib/color-utils/obj2color"),s=(e("../../../../lib/decimel-round-utility"),e("../../../../lib/color-utils/ColorConverter")),o=e("../../../../lib/IosProjectDialect"),r=e("underscore"),a=e("../../../../lib/color-utils/inner-color-resolver"),l=function(e){return s.convertByPlatform(e,"ios")};t.exports={inherit:!0,template:e("./index.html"),paramAttributes:["is-text","zis-editable","show-copy","color","platform"],data:function(){return{isEditable:!1,colorValueForClipboard:null,lightColorThresholdValue:15.42,colorFormat:void 0,isEditing:!1,colorNameEdited:""}},created:function(){this.colorFormat=this.projectColorFormat,this.$on("project-color-format:changed",function(e){this.colorFormat=e}),this.$on("document:esc",function(){this.isEditing=!1})},computed:{cache:!1,computedColor:function(){var e,t=s.convertByPlatform(this.color,this.platform||this.bundle.type,this.colorFormat),n=i(this.color),o=n.slice(1),l=this.bundle&&this.bundle.project||null,c=l&&l.brandbook||null,u=l&&l.data&&l.data.colors||[],d=c&&c.colors||[],h=r.findWhere(u,{hex:n}),p=r.findWhere(d,{hex:n});if(p?e=p.name:h&&(e=h.name),!e){var f=a.resolve(o);f&&(e=f.name)}return{name:e,value:t,hex:n,bundleColor:p||h,isEditable:h&&this.isEditable,isBrandbookColor:!!p,isInlineEditable:!p||"virtual"==c.role}},brandbook:function(){return this.bundle&&this.bundle.project&&this.bundle.project.brandbook},style:function(){return"background-color: "+l(this.color)},fontstyle:function(){return l(this.color)},fontStyleHex:function(){return s.convert(this.color,"hex").substring(1)},colorAsText:function(){return this.isLightColor()?"background-image: url('data:image/svg+xml;charset=US-ASCII,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20width%3D%2227%22%20height%3D%2216%22%20viewBox%3D%220%200%2027%2016%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%0A%09%3Cdefs%3E%0A%09%09%3Cfilter%20id%3D%22dropshadow%22%20height%3D%22115%25%22%3E%0A%09%09%09%3CfeGaussianBlur%20in%3D%22SourceAlpha%22%20stdDeviation%3D%221%22%3E%3C/feGaussianBlur%3E%0A%09%09%09%3CfeOffset%20dx%3D%220%22%20dy%3D%221%22%20result%3D%22offsetblur%22%3E%3C/feOffset%3E%0A%09%09%09%3CfeComponentTransfer%3E%0A%09%09%09%09%3CfeFuncA%20type%3D%22linear%22%20slope%3D%220.5%22%3E%3C/feFuncA%3E%0A%09%09%09%3C/feComponentTransfer%3E%0A%09%09%09%3CfeMerge%3E%0A%09%09%09%09%3CfeMergeNode%3E%3C/feMergeNode%3E%0A%09%09%09%09%3CfeMergeNode%20in%3D%22SourceGraphic%22%3E%3C/feMergeNode%3E%0A%09%09%09%3C/feMerge%3E%0A%09%09%3C/filter%3E%0A%09%3C/defs%3E%0A%09%3Cpath%20d%3D%22M11.433%2015h2.44L8.532.204H6.06L.718%2015h2.358l1.364-3.927h5.64L11.433%2015zM7.178%202.89h.174l2.143%206.255h-4.47L7.177%202.89zM19.84%2013.33c-1.198%200-2.07-.586-2.07-1.59%200-.985.697-1.508%202.235-1.61l2.728-.175v.933c0%201.384-1.23%202.44-2.892%202.44zm-.563%201.855c1.467%200%202.687-.636%203.353-1.754h.175V15h2.122V7.37c0-2.357-1.58-3.752-4.378-3.752-2.534%200-4.34%201.23-4.564%203.148h2.133c.245-.79%201.096-1.24%202.326-1.24%201.508%200%202.287.666%202.287%201.845v.965l-3.025.174c-2.656.163-4.153%201.322-4.153%203.332%200%202.04%201.57%203.343%203.722%203.343z%22%0A%09%09%09%09fill%3D%22%23"+this.fontStyleHex+"%22%20fill-rule%3D%22evenodd%22%20filter%3D%22url%28%23dropshadow%29%22/%3E%0A%3C/svg%3E');":"background-image: url('data:image/svg+xml;charset=US-ASCII,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20width%3D%2227%22%20height%3D%2216%22%20viewBox%3D%220%200%2027%2016%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%0A%09%3Cpath%20d%3D%22M11.433%2015h2.44L8.532.204H6.06L.718%2015h2.358l1.364-3.927h5.64L11.433%2015zM7.178%202.89h.174l2.143%206.255h-4.47L7.177%202.89zM19.84%2013.33c-1.198%200-2.07-.586-2.07-1.59%200-.985.697-1.508%202.235-1.61l2.728-.175v.933c0%201.384-1.23%202.44-2.892%202.44zm-.563%201.855c1.467%200%202.687-.636%203.353-1.754h.175V15h2.122V7.37c0-2.357-1.58-3.752-4.378-3.752-2.534%200-4.34%201.23-4.564%203.148h2.133c.245-.79%201.096-1.24%202.326-1.24%201.508%200%202.287.666%202.287%201.845v.965l-3.025.174c-2.656.163-4.153%201.322-4.153%203.332%200%202.04%201.57%203.343%203.722%203.343z%22%0A%09%09%09%09fill%3D%22%23"+this.fontStyleHex+"%22%20fill-rule%3D%22evenodd%22/%3E%0A%3C/svg%3E');"},opacityBackgroundStyle:function(){var e=this.color||{};return e.alpha?"background-image: url(/img/transparent-tile-small.png)":null},isShowCopyButton:function(){return void 0==this.showCopy||"true"===this.showCopy},isTextColorStyle:function(){return void 0!=this.isText&&"true"===this.isText},hue:function(){return this.calcHue(this.color)},canEditColor:function(){var e=this.bundle?this.bundle.project:this.project;return this.$security.checkProjectAccess(e,this.$security.permissions.project.edit,!0)}},methods:{onMouseClickCopy:function(t){switch(t.stopPropagation(),t.preventDefault(),this.bundle.type){case"ios":var n=new(e("LocalStorageBag"))("iosProjectDialectBag"+this.bundle.project.id,o.objective_c).get();this.colorValueForClipboard=s.convert(this.color,"hex"==this.colorFormat?"hex":n);break;case"web":this.colorValueForClipboard=s.convert(this.color,this.colorFormat);break;case"android":default:this.colorValueForClipboard=s.convert(this.color,"ahex")}},calcHue:function(e){return e?Math.sqrt(.241*e.red+.691*e.green+.068*e.blue):0},isLightColor:function(){var e=this.hue,t=this.lightColorThresholdValue;return t<=e},getProjectId:function(){return this.bundle&&this.bundle.project?this.bundle.project.id?this.bundle.project.id:this.bundle.project:this.project.id},saveColor:function(e){var t=this.getProjectId(),n=i(this.color),s=n.slice(1),o=this;if(e==o.computedColor.bundleColor.name)return void(o.isEditing=!1);var r="/projects/"+t+"/colors/"+s,a={name:e};this.$api(this.$api.put(r,{body:a}).then(function(t){o.$dispatch("notify","success","Color saved"),o.computedColor.bundleColor&&(o.computedColor.bundleColor.name=e),o.isEditing=!1})["catch"](o.$api.safeCatch(function(){o.isEditing=!1})))},onToggleColorEdit:function(e){e.preventDefault(),e.stopPropagation(),this.computedColor.isEditable&&(this.isEditing?this.saveColor(this.colorNameEdited):(this.colorNameEdited=this.computedColor.name,this.isEditing=!this.isEditing))},onToggleBrand:function(e){e.preventDefault(),e.stopPropagation(),this.isEditable&&!this.computedColor.isBrandbookColor&&this.saveColor(this.computedColor.name,!this.computedColor.isBrandbookColor)},onClickAway:function(e){if(this.isEditing){var t=$(event.target).closest(".s-color");t=t&&t.length>0,t||this.saveColor(this.colorNameEdited)}}},filters:{dasherize:e("../../../filters/dasherize")}}},{"../../../../lib/IosProjectDialect":13,"../../../../lib/color-utils/ColorConverter":31,"../../../../lib/color-utils/inner-color-resolver":35,"../../../../lib/color-utils/obj2color":36,"../../../../lib/decimel-round-utility":38,"../../../filters/dasherize":505,"./index.html":178,LocalStorageBag:521,underscore:682}],180:[function(e,t,n){t.exports='<div class="sympli-switch">\n  <span class="sympli-switch__button" v-class="badge: iosProjectDialect==\'objective-c\'" v-on="click: selectProjectDialect(\'objective-c\')">Obj-C</span>\n  <span class="sympli-switch__button" v-class="badge: iosProjectDialect==\'swift\'" v-on="click: selectProjectDialect(\'swift\')">Swift</span>\n  <span class="background"></span>\n</div>';
},{}],181:[function(e,t,n){var i=null,s=e("../../../../lib/IosProjectDialect");t.exports={template:e("./index.html"),data:function(){return{iosProjectDialect:null,projectId:null}},ready:function(){i=new(e("LocalStorageBag"))("iosProjectDialectBag"+this.projectId,s.objective_c),this.iosProjectDialect=i.get()},methods:{selectProjectDialect:function(e){this.iosProjectDialect=e,i.set(e)}}}},{"../../../../lib/IosProjectDialect":13,"./index.html":180,LocalStorageBag:521}],182:[function(e,t,n){t.exports='<div class="tree-search-panel">\n  <input type="text" class="tree-search-panel__input" v-model="searchParams.searchString" v-on="keyup:resetSearchString | key esc,keyup:scrollTo | key enter" v-el="treeSearch">\n  <span class="sympli-icon icon-main_small_search" v-on="click: getInputFocus"></span>\n</div>'},{}],183:[function(e,t,n){t.exports={inherit:!0,template:e("./index.html"),ready:function(){},methods:{resetSearchString:function(){this.searchParams.searchString=""},scrollTo:function(){this.$dispatch("searchParams:scrollTo")},getInputFocus:function(e){e.preventDefault(),$(this.$$.treeSearch).focus()}}}},{"./index.html":182}],184:[function(e,t,n){t.exports='<div class="m-order-picker">\n  Sort by:\n\n  <div class="btn-group" role="group" >\n    <button v-repeat="field: sortFields" type="button" class="btn btn-sm btn-default" v-class="active: sortOptions.sortBy == field.value" v-on="click: changeSort(field.value)">\n      <i class="sympli-icon"\n         v-class="\n          \'icon-sort_up\': (!this.sortOptions.isReverse && this.sortOptions.sortBy == field.value) || (this.sortOptions.sortBy != field.value),\n          \'icon-sort_down\': (this.sortOptions.isReverse && this.sortOptions.sortBy == field.value)\n          "></i>\n        {{field.text}}\n    </button>\n  </div>\n</div>'},{}],185:[function(e,t,n){t.exports={inherit:!0,template:e("./index.html"),data:function(){return{}},methods:{changeSort:function(e){this.sortOptions.sortBy!=e?(this.sortOptions.isReverse=!1,this.sortOptions.sortBy=e):this.sortOptions.isReverse=!this.sortOptions.isReverse,this.selectOrder()},selectOrder:function(){this.$dispatch("select:order",this.sortOptions.sortBy,this.sortOptions.isReverse)}}}},{"./index.html":184}],186:[function(e,t,n){t.exports='<div class="sympli-switch">\n  <span class="sympli-switch__button" v-class="badge: colorFormat==\'rgba\'" v-on="click: selectProjectColorFormat(\'rgba\')">RGBA</span>\n  <span class="sympli-switch__button" v-class="badge: colorFormat==\'hex\'" v-on="click: selectProjectColorFormat(\'hex\')">Hex</span>\n  <span class="background"></span>\n</div>\n'},{}],187:[function(e,t,n){var i=null,s=e("../../../../lib/ProjectColorFormat");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{projectId:null,colorFormat:void 0}},ready:function(){i=new(e("LocalStorageBag"))("projectColorFormatBag"+this.projectId,s.rgba),this.selectProjectColorFormat(i.get()),this.$on("project-color-format:changed",function(e){this.colorFormat=e})},methods:{selectProjectColorFormat:function(e){this.colorFormat=e,i.set(this.colorFormat),this.$dispatch("project-color-format:changed",this.colorFormat)}}}},{"../../../../lib/ProjectColorFormat":17,"./index.html":186,LocalStorageBag:521}],188:[function(e,t,n){t.exports='<div class="search-block" v-class="\'search-active\': isActiveSearch">\n  <div class="search-block__group">\n    <span  class="search-block__button" v-on="click: onClickSearch"><span class="sympli-icon icon-search_icon_big"></span></span>\n    <input type="text" class="search-block__control" v-focus="isActiveSearch" v-model="searchText" v-on="keyup: onKeyupSearch, blur: onBlurSearch" v-el="searchInput" autocomplete="off">\n    <span class="sympli-icon icon-search_icon_close" v-on="click: onClearSearch">Clear</span>\n  </div>\n</div>\n'},{}],189:[function(e,t,n){"use strict";t.exports={template:e("./index.html"),data:function(){return{searchText:"",isActiveSearch:!1,isDirty:!1}},ready:function(){this.searchText&&(this.isActiveSearch=!0),this.$watch("searchText",function(e){this.searchText&&(this.isActiveSearch=!0)})},methods:{onBlurSearch:function(){""==this.searchText&&(this.isActiveSearch=!1,this.search())},onClickSearch:function(e){this.isActiveSearch?(""==this.searchText&&(this.isActiveSearch=!1,this.$$.searchInput.blur()),this.search()):this.isActiveSearch=!0},onClearSearch:function(e){this.searchText&&(this.searchText="",this.isDirty=!0),this.isActiveSearch=!1,this.$$.searchInput.blur(),this.search()},onKeyupSearch:function(e){this.searchText||(this.isDirty=!0),this.search()},search:function(){""==this.searchText?this.isDirty&&(this.isDirty=!1,this.$dispatch("search:text",this.searchText,this.isActiveSearch)):(this.isDirty=!0,this.$dispatch("search:text",this.searchText,this.isActiveSearch))}}}},{"./index.html":188}],190:[function(e,t,n){t.exports='<div class="pagination-block" v-show="totalPages && totalPages > 1">\n  <a class="pagination-block__arrow pagination-block__left" v-on="click: goPrev" v-class="disabled: !hasPrev"><i class="sympli-icon icon-compare_left_icon"></i></a>\n  <span class="pagination-block__number"><span>{{currentPage+1}}</span>/<span>{{totalPages}}</span></span>\n  <a class="pagination-block__arrow pagination-block__right" v-on="click: goNext" v-class="disabled: !hasNext"><i class="sympli-icon icon-compare_right_icon"></i></a>\n</div>\n\n                    '},{}],191:[function(e,t,n){t.exports={template:e("./index.html"),paramAttributes:["current-page","per-page","total-pages"],data:function(){return{}},computed:{hasNext:function(){return this.currentPage<this.totalPages-1},hasPrev:function(){return 0!==this.currentPage}},methods:{goNext:function(e){e.stopPropagation(),e.preventDefault(),this.hasNext&&this.$dispatch("change:page",this.currentPage+1)},goPrev:function(e){e.stopPropagation(),e.preventDefault(),this.hasPrev&&this.$dispatch("change:page",this.currentPage-1)}}}},{"./index.html":190}],192:[function(e,t,n){t.exports='<div class="m-zoom-picker" role="group">\n  <div class="m-zoom-picker__block" role="group">\n    <button type="button" class="btn bundle-btn" v-on="click:showButtons = !showButtons">\n      {{(zoomRatio*100).toFixed()}}%\n    </button>\n    <div class="help_buttons">\n      <button type="button" class="btn btn-fw" v-on="click: incrementZoomRatio">\n        <span class="sympli-icon" v-class="icon-main_zoom_plus: persisted, icon-small_plus: !persisted"></span>\n      </button>\n      <button type="button" class="btn btn-fw" v-on="click: decrementZoomRatio">\n        <span class="sympli-icon" v-class="icon-main_zoom_minus: persisted, icon-small_minus: !persisted"></span>\n      </button>\n      <span class="name">\n        Press "Shift" or "Alt"<br/>\n        for changing the size<br/>\n        of the step\n      </span>\n    </div>\n    <ul class="zoom-menu" role="menu" v-show="showButtons" v-close="showButtons">\n      <li v-repeat="zoomOptions | activeZoom" v-on="click: method"><a href="#">{{name}}</a></li>\n    </ul>\n  </div>\n</div>\n\n<div class="bundle-bottom bundle-menu__sync" v-if="isSyncEnabled">\n  <span class="sympli-checkbox">\n    <input type="checkbox" class="checkbox-label checkbox" id="sync-{{viewportId}}" v-attr="checked: syncState" v-model="syncState"\n           v-on="change: onSyncChange($event, zoomRatio, viewportId)">\n    <label for="sync-{{viewportId}}" class="name">\n      <i class="sympli-icon icon-tick-white"></i>\n      Sync zoom and scroll<br/>\n      between versions\n    </label>\n  </span>\n</div>'},{}],193:[function(e,t,n){"use strict";function i(e,t){return t&&t.shiftKey?u:t&&t.altKey?l:t&&t.ctrlKey?d:c}function s(e,t,n){if(!e.bounds)return 1;var i=document.getElementById(e.viewportId),s=a(e.padding),o=+i.offsetWidth-2*s.width,r=+i.offsetHeight-2*s.height,l=t?o/(+(e.bounds.right-e.bounds.left)||o):Number.MAX_VALUE,c=n?r/(+(e.bounds.bottom-e.bounds.top)||r):Number.MAX_VALUE;return Math.min(l,c,h)}function o(e,t,n){e.zoomRatio=s(e,t,n).toFixed(2),e._dispatchZoomPickerZoomRatio()}function r(e){if(!e.bounds)return!1;var t=document.getElementById(e.viewportId),n=a(e.padding),i=+t.offsetWidth-2*n.width,s=+t.offsetHeight-2*n.height,o=e.bounds.right-e.bounds.left,r=e.bounds.bottom-e.bounds.top,l=i-o,c=s-r;return l>=0&&c>=0}function a(e){var t={width:0,height:0};return!e||m.isBoolean(e)?t:(m.isObject(e)?(t.width=e.width||0,t.height=e.height||0):m.isNumber(e)&&(t.width=e,t.height=e),t)}var l=.01,c=.25,u=.5,d=1,h=16,p=.01,f=300,m=(e("vue"),e("underscore"));t.exports={inherit:!0,template:e("./index.html"),ready:function(){var e=this.ns=this.namespace?this.namespace+":":"";this.$on(e+"change:bounds",function(e){this.bounds=e,this.handleBoundsChanged()}),this.$on(e+"zoom:preset",function(e){var t=m.find(this.zoomOptions,{name:e});t&&t.method()}),this.$on("increment:zoom:ratio",function(e,t,n,i){this.viewportId==t&&this.incrementZoomRatio(e,n,i)}),this.$on("decrement:zoom:ratio",function(e,t,n,i){this.viewportId==t&&this.decrementZoomRatio(e,n,i)}),this.$on("sync:zoom:ratio",function(e,t){this.viewportId!=t&&this._syncZoomRatio(e)}),this.$watch("bounds",this.handleBoundsChanged)},data:function(){return{ns:"",bounds:null,zoomRatio:null,translate:null,showButtons:!1,zoomOptionsBagStore:null}},computed:{zoomOptions:function(){return[{name:"Auto",method:this.autoZoomRatio,active:!1},{name:"100%",method:this.asIsZoomRatio,active:!0},{name:"Fit",method:this.fitZoomRatio,active:!0},{name:"Fit width",method:this.fitHorizontalZoomRatio,active:!0},{name:"Fit height",method:this.fitVerticalZoomRatio,active:!0}]},zoomOptionsBag:function(){return this.zoomOptionsBagStore||(this.zoomOptionsBagStore=new(e("LocalStorageBag"))(this.persisted,null)),this.zoomOptionsBagStore}},methods:{handleBoundsChanged:function(){if(this.persisted&&this.zoomOptionsBag.get())this.zoomRatio=this.zoomOptionsBag.get(),this._dispatchZoomPickerZoomRatio();else{var e=m.find(this.zoomOptions,{name:this.defaultFit});e&&e.method()}},decrementZoomRatio:function(e,t,n){e&&e.preventDefault();var s=this.zoomRatio;if(this.zoomRatio=+this.zoomRatio-(t||i(this,e)),this.zoomRatio<p&&(this.zoomRatio=p),this.persisted){var o=this.bounds.right-this.bounds.left,r=this.bounds.bottom-this.bounds.top;this.zoomRatio=Math.max(this.zoomRatio,Math.min(f/o,f/r))}this.zoomRatio=this.zoomRatio.toFixed(2),this._calculateAimZoomTranslate(e,n,s,this.zoomRatio),this._dispatchZoomPickerZoomRatio()},incrementZoomRatio:function(e,t,n){e&&e.preventDefault();var s=this.zoomRatio,o=(+this.zoomRatio+(t||i(this,e))).toFixed(2);this.zoomRatio=Math.min(o,h),this._calculateAimZoomTranslate(e,n,s,this.zoomRatio),this._dispatchZoomPickerZoomRatio()},_calculateAimZoomTranslate:function(e,t,n,i){var s=this._isAimZoom(e)&&t;if(s){var o=t.x/n,r=t.y/n,a=o*i-t.x,l=r*i-t.y;this.translate={x:a,y:l}}else this.translate=null},_isAimZoom:function(e){return e&&e.ctrlKey&&["mousewheel","wheel","DOMMouseScroll","touchy-pinch"].indexOf(e.type)>-1},autoZoomRatio:function(e){e&&e.preventDefault();var t=r(this);t?this.asIsZoomRatio():this.fitZoomRatio()},asIsZoomRatio:function(e){e&&e.preventDefault(),this.showButtons=!1,this.zoomRatio=1,this._dispatchZoomPickerZoomRatio()},fitZoomRatio:function(e){e&&e.preventDefault(),this.showButtons=!1,o(this,!0,!0)},fitHorizontalZoomRatio:function(e){e&&e.preventDefault(),this.showButtons=!1,o(this,!0,!1)},fitVerticalZoomRatio:function(e){e&&e.preventDefault(),this.showButtons=!1,o(this,!1,!0)},_dispatchZoomPickerZoomRatio:function(){this.persisted&&this.zoomOptionsBag.set(this.zoomRatio),this.$dispatch(this.ns+"select:zoom:ratio",this.zoomRatio,this.viewportId,this.translate),this.$root.$broadcast(this.ns+"zoom",this.zoomRatio,this.viewportId,this.translate)},_syncZoomRatio:function(e){this.zoomRatio=e}},filters:{activeZoom:function(e){return m.filter(e,function(e){return e.active})}}}},{"./index.html":192,LocalStorageBag:521,underscore:682,vue:821}],194:[function(e,t,n){t.exports='<form class="form-horizontal" v-on="submit: onSubmitCompanyForm">\n  <h2 class="ellipsis" v-show="!isCompanyNameInEdit" v-on="click: onEditCompanyName" title="Click to edit Name" v-doc-subtitle="company ? company.name : \'\'">{{company && company.name}}</h2>\n\n  <div class="input-group input-group__edit-form" v-show="isCompanyNameInEdit">\n    <input class="form-control"  v-model="companyName" v-focus="isCompanyNameInEdit" v-validate="required" v-on="blur: onBlurCompanyNameInput" placeholder="New Company">\n    <div class="tooltip top" v-if="validation && validation.companyName && validation.companyName.invalid" role="tooltip">\n      <div class="tooltip-arrow"></div>\n      <div class="tooltip-inner">\n        Please fill out a valid company name\n      </div>\n    </div>\n    <div class="input-group-btn">\n      <button class="btn btn-default" type="submit">Done</button>\n    </div>\n  </div>\n</form>\n'},{}],195:[function(e,t,n){"use strict";t.exports={inherit:!0,replace:!0,template:e("./index.html"),ready:function(){},data:function(){return{isSaving:!1,isCompanyNameInEdit:!1,companyName:""}},methods:{onBlurCompanyNameInput:function(e){this.company.name.trim()==this.companyName.trim()?this.isCompanyNameInEdit=!1:this.saveCompany()},onEditCompanyName:function(e){this.isCompanyNameInEdit=!0,this.companyName=this.company.name},onSubmitCompanyForm:function(e){e.preventDefault(),this.saveCompany()},saveCompany:function(){var e=this;if(this.validation.companyName.valid&&!this.isSaving){e.isSaving=!0;var t={name:e.companyName};this.$api(this.$store.putCompanyRequest(this.id,t).then(function(t){return e.$dispatch("notify","success","Company saved"),e._loadCompany()}).then(function(){e.isCompanyNameInEdit=!1,e.isSaving=!1})["catch"](e.$api.safeCatch(function(){e.isCompanyNameInEdit=!1,e.isSaving=!1})))}}}}},{"./index.html":194}],196:[function(e,t,n){t.exports='<section class="container company-management" v-if="initialized">\n  <div v-if="firstrun" class="sympli-box welcome">\n    <button type="button" class="close" v-on="click: firstrun = !firstrun">\n      <span class="sympli-icon icon-alert-close"></span>\n      <span class="sr-only">Close</span>\n    </button>\n    <div class="welcome__picture">\n      <img src="../../img/welcome.png" class="img-responsive" alt="Welcome to Sympli for Companies">\n    </div>\n    <div class="welcome__text">\n      <h2>Welcome to Company management</h2>\n      <p>Firstly, we added a new menu item to your user menu. “Manage companies” now will always bring you to this page.</p>\n      <p>To finish creating of your company management you need to:</p>\n      <ul>\n        <li>1. Name your company and provide logo or image (in future)</li>\n        <li>2. Add employee from your company and assign different roles</li>\n      </ul>\n    </div>\n  </div>\n\n  <div class="page-header page-header__edit">\n    <div v-if="company-has-logo" class="organization-picture pull-right">\n      <!-- If not image -->\n      <span>Add Image</span>\n      <!-- If image -->\n      <img src="/img/transparent-tile-small.png" alt="Organization picture">\n    </div>\n\n    <div v-component="company-form"></div>\n  </div>\n\n  <div v-if="company === null" class="company-management-block company-management-block__empty">\n    <p>Company feature was disabled.</p>\n    <p class="recommendation">To keep using company management<br/> you need to renew your subscription.</p>\n    <a href="/app#!/subscription" class="btn btn-primary">\n      Renew Subscription\n    </a>\n  </div>\n\n  <div v-if="company" class="company-management-block">\n    <div class="company-management__new">\n      <div name="new-email">\n        <div class="btn-group">\n          <button type="button" class="btn btn-primary" v-if="inviteUserRole === CompanyUserRolesEnum.companyUser" v-on="click: onSubmitInvite($event, CompanyUserRolesEnum.companyUser)">Add as User</button>\n          <button type="button" class="btn btn-primary" v-if="inviteUserRole === CompanyUserRolesEnum.companyAdmin" v-on="click: onSubmitInvite($event, CompanyUserRolesEnum.companyAdmin)">Add as Admin</button>\n          <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="sympli-icon icon-white-down"></span>\n            <span class="sr-only">Toggle Dropdown</span>\n          </button>\n          <ul class="dropdown-menu sympli-dialog bottom">\n            <li>\n              <a v-on="click: setInviteUserRole($event, CompanyUserRolesEnum.companyUser)" href="javascript:void(0)" v-class="selected: inviteUserRole === CompanyUserRolesEnum.companyUser">\n                <i class="sympli-icon icon-tick" v-if="inviteUserRole === CompanyUserRolesEnum.companyUser"></i>\n                Add as User\n                <span class="text">Create and edit own projects</span>\n              </a>\n            </li>\n            <li>\n              <a v-on="click: setInviteUserRole($event, CompanyUserRolesEnum.companyAdmin)" href="javascript:void(0)" v-class="selected: inviteUserRole === CompanyUserRolesEnum.companyAdmin">\n                <i class="sympli-icon icon-tick" v-if="inviteUserRole === CompanyUserRolesEnum.companyAdmin"></i>\n                Add as Admin\n                <span class="text">Create and edit all projects, manage users and other admins</span>\n              </a>\n            </li>\n          </ul>\n        </div>\n        <div class="company-management__new-input">\n          <span class="sympli-icon icon-user_dark"></span>\n          <input id="user-name" autocomplete="off" class="form-control" v-model="emails" v-on="keyup: onSubmitInvite($event, inviteUserRole) | key enter" type="text" placeholder="Enter comma separated email addresses of your teammates.">\n\n          <div class="tooltip top" v-if="emailsInvalid" role="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner">\n              Please fill out a valid emails\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="company-management__email">\n      <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">\n        <div v-repeat="access: invitees.accesses" v-component="company-invitee"></div>\n        <div v-repeat="invite: invitees.invites"  v-component="company-invitee"></div>\n      </div>\n    </div>\n  </div>\n</section>\n'},{}],197:[function(e,t,n){"use strict";function i(e){var t=s.compact(e.split(/\s|,|;/)),n=/.+@.+\..+/i;return s.every(t,function(e){return n.test(e)})}var s=e("underscore"),o=e("../../../enums/CompanyUserRolesEnum"),r=e("sympli-enums").Scopes;t.exports={inherit:!0,template:e("./index.html"),created:function(){this.$root.route.params[2]&&"true"==this.$root.route.params[2]?(this.reloaded=!1,location.href=location.href.substr(0,location.href.indexOf("?"))+"?r=first",location.reload()):this.reloaded=!0},ready:function(){this.id=this.$root.route.params[0],this.$root.route.params[2]&&"first"==this.$root.route.params[2]&&(this.firstrun=!0),this.reloaded&&this._loadCompanyData()},attached:function(){this.reloaded&&setTimeout(function(){this.initialized=!0}.bind(this),1e3)},data:function(){return{id:"",loading:!1,emails:"",company:void 0,invitees:{access:[],invites:[]},emailsInvalid:!1,isActive:!1,CompanyUserRolesEnum:o,firstrun:!1,inviteUserRole:o.companyUser,reloaded:!1,initialized:!1}},computed:{hasInvitees:function(){return!!this.invitees&&(this.invitees&&(this.invitees.accesses&&this.invitees.accesses.length>0||this.invitees.invites&&this.invitees.invites.length>0))},inviteesCount:function(){return this.invitees?this.invitees.accesses.length+this.invitees.invites.length:0}},methods:{onSubmitInvite:function(e,t){if(e.preventDefault(),!this.emails||!i(this.emails))return void(this.emailsInvalid=!0);this.emailsInvalid=!1,this.loading=!0;var n=this;this.sendEmailInvites(t).then(function(e){e.data.successEmails?n.$dispatch("notify","success","Invitation was sent to "+e.data.successEmails):n.$dispatch("notify","success","All people already were invited or joined"),n.emails=""}).then(n._loadInvitees).then(function(){n.loading=!1})["catch"](n.$api.safeCatch(function(e){n.loading=!1,e&&e.responseJSON&&e.responseJSON.code&&n.$dispatch("notify","warning",e.responseJSON.message)}))},sendEmailInvites:function(e){var t={company:this.id,email:this.emails,role:e};return this.$api.post("/invites/company",{body:t})},_loadCompanyData:function(){var e=this;return this._loadCompany().then(function(){return e._loadInvitees()})},_loadInvitees:function(){var e=this,t=this.id;return this.$store.getCompanyInviteesRequest(t).then(function(t){e.invitees=t.data})},_loadCompany:function(){var e=this,t=this.id;return this.loading=!0,this.$api(this.$store.getCompanyRequest(t).then(function(t){200==t.status&&(e.company=t.data,e.$sympliTrigger(r.loaded.company.data,t.data)),e.loading=!1})["catch"](e.$api.safeCatch(function(){e.loading=!1,e.company=null})))},setInviteUserRole:function(e,t){e.preventDefault(),this.inviteUserRole=t}},components:{"company-form":e("./form"),"company-invitee":e("./invitee")}}},{"../../../enums/CompanyUserRolesEnum":4,"./form":195,"./index.html":196,"./invitee":199,"sympli-enums":524,underscore:682}],198:[function(e,t,n){t.exports='<div class="panel panel-default">\n\n  <div class="panel-heading user-table">\n    <div class="user-email column column-1">\n<!--      <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne"\n         aria-expanded="true" aria-controls="collapseOne"></a>-->\n        <img class="gravatar-image user-email__image" v-attr="src: picture" alt="">\n        <span class="user-email__text ellipsis">\n          {{email}}\n          <small class="text-muted ellipsis" v-if="isMe">(you)</small>\n          <span class="comment ellipsis" v-if="!isJoined">(not joined yet)</span>\n          <span class="comment ellipsis" v-if="isJoined">{{name}}</span>\n        </span>\n    </div>\n\n    <div class="user-status column column-2">\n      <span class="btn btn-white" v-if="!isJoined && isResendable" v-on="click: onResendInvitee">Resend Invite</span>\n\n      <!--\n            <div v-component="company-add-user-role"></div>\n      -->\n    </div>\n\n    <div class="user-status column column-3">\n      <div v-component="company-add-user-role"></div>\n    </div>\n\n<!--\n    <div class="user-project column column-3">\n      <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne"\n         aria-expanded="true" aria-controls="collapseOne">\n        {{projectsCount}} {{projectsCount | pluralize project }}\n        <span class="sympli-icon icon-main_tab_small_down_for_menus"></span>\n      </a>\n    </div>\n-->\n\n    <div class="sympli-dialog-block" v-if="role !== CompanyUserRolesEnum.companyOwner && !isMe">\n      <a class="icon-remove" href="#" title="Revoke" v-on="click: onShowDeleteInviteePromt">\n        <span class="sympli-icon icon-menu_delete_icon"></span>\n      </a>\n      <div v-component="popup-prompt-dialog" v-with="title: \'Revoke company access\',\n                            isActive: showDeleteInviteePromt,\n                            successButtonLabel: \'Revoke\',\n                            onSuccess: onDeleteInvitee">\n        <div class="message">\n          You are about to revoke company access for\n          {{email}}\n          <span class="text-muted" v-if="isJoined">({{name}})</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n<!--\n  <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">\n    <div class="panel-body">\n      <div class="user-table">\n        <div class="user-project__name column column-1">\n          <a href="#">\n            Weather app\n          </a>\n          <span>(project creator)</span>\n        </div>\n        <div class="user-project__pow column column-2">\n          <span class="pow active">\n            <span class="sympli-icon sympli-pow"></span>\n            Pow\n          </span>\n          <div class="tooltip top" v-if="" role="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner">\n              Click to add power option\n              <span>Allows to edit and change project</span>\n            </div>\n          </div>\n        </div>\n        <div class="sympli-dialog-block user-project__del">\n          <a class="icon-remove" href="#" title="Delete">\n            <span class="sympli-icon icon-user-del"></span>\n          </a>\n          <div v-component="popup-prompt-dialog" v-with="title: \'Revoke project access\',\n                            message: \'You are about to revoke project access for\',\n                            isActive: isShowDeleteAccess,\n                            successButtonLabel: \'Revoke\',\n                            onSuccess: onDeleteAccess">\n          </div>\n        </div>\n      </div>\n      <div class="user-table">\n        <div class="user-project__name column column-1">\n          <a href="#">\n            Weather app\n          </a>\n        </div>\n        <div class="user-project__pow column column-2">\n          <span class="pow active">\n            <span class="sympli-icon sympli-pow"></span>\n            Pow\n          </span>\n          <div class="tooltip top" v-if="hover" role="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner">\n              Click to add power option\n              <span>Allows to edit and change project</span>\n            </div>\n          </div>\n        </div>\n        <div class="sympli-dialog-block user-project__del">\n          <a class="icon-remove" href="#" title="Delete">\n            <span class="sympli-icon icon-user-del"></span>\n          </a>\n          <div v-component="popup-prompt-dialog" v-with="title: \'Revoke project access\',\n                            message: \'You are about to revoke project access for\',\n                            isActive: isShowDeleteAccess,\n                            successButtonLabel: \'Revoke\',\n                            onSuccess: onDeleteAccess">\n          </div>\n        </div>\n      </div>\n      <div class="user-table">\n        <div class="user-project__name column column-1">\n\n          <div class="search-project dropdown">\n            <span class="dropdown-toggle" role="button" data-toggle="dropdown"\n                  aria-expanded="true">\n              <span class="sympli-icon icon-settings-plus"></span>\n              Add Jess Wright to another project\n            </span>\n\n            <ul class="dropdown-menu">\n              <li class="arrow"></li>\n              <li>\n                <div class="form-horizontal" role="form">\n                  <div class="form-group">\n                    <span class="sympli-icon icon-project-search"></span>\n                    <input id="search-project" class="form-control" v-model="emails" type="text"\n                           placeholder="Start entering project name..." v-on="keyup: sendEmail" v-attr="disabled: loading">\n                  </div>\n                </div>\n              </li>\n            </ul>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n-->\n</div>\n'},{}],199:[function(e,t,n){"use strict";var i=e("../../../../enums/CompanyUserRolesEnum"),s=9e5;t.exports={inherit:!0,replace:!0,template:e("./index.html"),data:function(){return{access:null,invite:null,showDeleteInviteePromt:!1,CompanyUserRolesEnum:i,sending:!1}},ready:function(){this.sending=!1},methods:{onShowDeleteInviteePromt:function(e){e.preventDefault(),this.showDeleteInviteePromt=!this.showDeleteInviteePromt},onDeleteInvitee:function(e){e.preventDefault();var t=this;if(this.access){var n=this.id,i={user:this.access.user.id};this.$api(this.$api.post("/companies/"+n+"/accesses/revoke",{body:i}).then(t._loadInvitees))}else this.invite&&this.$api(this.$api["delete"]("/invites/"+this.invite.id).then(t._loadInvitees))},onChangeRole:function(e,t){e.preventDefault(),e.stopPropagation();var n=this;if(this.access){this.access.role=t;var i={role:t,user:this.access.user.id},s=this.id;this.$api(this.$api.post("/companies/"+s+"/accesses/grant",{body:i}).then(n._loadInvitees))}else if(this.invite){this.invite.role=t;var i={role:t};this.$api(this.$api.put("/invites/"+this.invite.id,{body:i}).then(this._loadInvitees))}},onResendInvitee:function(e){if(!this.sending){var t=this;this.sending=!0,this.$api(this.$api.put("/invites/"+this.invite.id+"/resend").then(function(e){t.$dispatch("notify","success","Invitation was sent to "+t.invite.email),t.sending=!1}).then(t._loadInvitees))}}},computed:{role:function(){return this.access?this.access.role:this.invite?this.invite.role:i.companyOwner},displayRole:function(){var e={};return e[i.companyOwner]="Owner",e[i.companyAdmin]="Admin",e[i.companyUser]="User",e[i.companyGuest]="Guest",this.access?e[this.access.role]:this.invite?e[this.invite.role]:void 0},name:function(){if(this.access){var e=this.access.user.profile;return e&&e.name?e.name:this.access.user.email}if(this.invite)return invite.email},email:function(){return this.access?this.access.user.email:this.invite?this.invite.email:void 0},picture:function(){return this.access?this.access.user.picture:this.invite.picture},isJoined:function(){return!!this.access},isResendable:function(){if(this.access)return!1;if(this.invite){var e=this.invite.sentAt?this.invite.sentAt:this.invite.createdAt;return Date.now()-new Date(e)>s}},isMe:function(){return!!this.access&&this.access.user.id==this.user.id},isOwner:function(){return!!this.access&&"company-owner"==this.access.role}},components:{"company-add-user-role":e("../../modals/company-add-user-role")}}},{"../../../../enums/CompanyUserRolesEnum":4,"../../modals/company-add-user-role":273,"./index.html":198}],200:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h1 v-if="!id">Create customer</h1>\n\n    <h1 v-if="id">Update customer</h1>\n  </div>\n  <form class="form-horizontal" v-on="submit: saveCustomer">\n    <div class="form-group" v-class="\'has-error\': validation && validation.customerEmail && validation.customerEmail.invalid && (validation.customerEmail.dirty || isSubmitted)">\n      <label class="col-xs-3 control-label" for="customer-email">Email</label>\n\n      <div class="col-xs-6">\n        <input id="customer-email" class="form-control" v-model="customerEmail" type="text" placeholder="Email" v-validate="required">\n      </div>\n    </div>\n\n    <div class="form-group" v-class="\'has-error\': validation && validation.customerActivateShots && validation.customerActivateShots.invalid && (validation.customerActivateShots.dirty || isSubmitted)">\n      <label class="col-xs-3 control-label" for="customer-order">Activate Shots</label>\n\n      <div class="col-xs-6">\n        <input id="customer-order" class="form-control" v-model="customerActivateShots" type="number" placeholder="Activate Shots">\n      </div>\n    </div>\n\n    <div class="form-group" v-class="\'has-error\': validation && validation.customerIsPre && validation.customerIsPre.invalid && (validation.customerIsPre.dirty || isSubmitted)">\n      <div class="col-xs-3 control-label" for="customer-is-pre"></div>\n\n      <div class="col-xs-6">\n        <label for="customer-is-pre">\n          <input id="customer-is-pre" v-model="customerIsPre" type="checkbox">\n          is pre (beta user)\n        </label>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="col-xs-3 control-label" for="customer-email">Plan</label>\n      <div class="col-xs-6" v-if="user.isSubscriptionEnabled">\n        <div class="form-control">\n          {{model.plan.name}} ({{model.plan.id}})\n        </div>\n      </div>\n      <div class="col-xs-6" v-if="!user.isSubscriptionEnabled">\n        <select id="customer-plan" class="form-control" v-if="plans !== null" v-model="customerPlan" options="plansOptions"></select>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <div class="col-xs-offset-3 col-xs-4">\n        <button class="btn btn-primary" v-if="!id">Create</button>\n        <button class="btn btn-primary" v-if="id">Update</button>\n      </div>\n    </div>\n  </form>\n</section>\n';
},{}],201:[function(e,t,n){"use strict";var i=e("underscore");e("semver-regex");t.exports={inherit:!0,template:e("./form.html"),ready:function(){this.id=this.$root.route.params[0],this.id&&(this.loadCustomer(),this.loadPlans())},data:function(){return{id:null,model:{},customerEmail:"",customerIsPre:!1,customerActivateShots:0,customerPlan:null,plans:null}},methods:{loadCustomer:function(){var e=this;this.$api(this.$api.get("/customers/"+this.$root.route.params[0]).then(function(t){e.model=t.data,e.customerEmail=e.model.email,e.customerActivateShots=e.model.activateShots,e.customerPlan=e.model.plan.id}))},loadPlans:function(){var e=this;return this.$api.get("/plans/active").then(function(t){return e.plans=t.data,e.isPlansLoaded=!0,e.plans})},saveCustomer:function(e){e.preventDefault();var t=this;if(this.valid){var n=this.id?"put":"post",i=this.id?"/customers/"+this.id:"/customers",s={email:t.customerEmail,activateShots:t.customerActivateShots,planId:t.customerPlan};this.$api(this.$api[n](i,{body:s}).then(function(e){t._reset(),t.$dispatch("notify","success","Customer saved"),t.id?t.$dispatch("lanes:path","customers/"+e.data.id+"/edit"):t.$dispatch("lanes:path","customers/"+e.data.id+"/edit")}))}},_reset:function(){}},computed:{plansOptions:function(){if(null!==this.plans)return i.map(this.plans,function(e){return{text:e.name+" ("+e.id+")",value:e.id}})}}}},{"./form.html":200,"semver-regex":605,underscore:682}],202:[function(e,t,n){t.exports='<section class="container">\n  <div class="filter clearfix">\n    <form class="form-inline pull-right" v-on="submit: onFilter">\n      <select class="form-control input-sm" v-model="filter.status">\n        <option value="" selected>Any status</option>\n        <option value="active">active</option>\n        <option value="trialing">trialing</option>\n        <option value="pending">pending</option>\n        <option value="pastDue">past due</option>\n        <option value="unpaid">unpaid</option>\n        <option value="canceled">canceled</option>\n      </select>\n      <input id="filter-invite-token" class="form-control input-sm" v-model="filter.id" type="id" placeholder="Id">\n      <input id="filter-invite-email" class="form-control input-sm" v-model="filter.email" type="text" placeholder="Email">\n      <input id="filter-invite-plan" class="form-control input-sm" v-model="filter.plan" type="text" placeholder="Plan">\n      <select class="form-control input-sm" v-model="filter.isDelinquent">\n        <option value="">delinquent ?</option>\n        <option value="1">delinquent Y</option>\n        <option value="0">delinquent N</option>\n      </select>\n      <button type="submit" class="btn btn-sm btn-default">Filter</button>\n    </form>\n  </div>\n\n\n  <div class="page-header">\n    <h3>Customers</h3>\n  </div>\n  <table class="table table-hover">\n    <thead>\n    <tr>\n      <td>Email</td>\n      <td>Plan</td>\n      <td>Status</td>\n      <td>Is delinquent</td>\n      <td></td>\n    </tr>\n    </thead>\n    <tbody>\n    <tr v-repeat="customer: customers">\n      <td>{{customer.email}}</td>\n      <td><span v-text="customer.plan.id" v-attr="title: customer.plan.name"></span></td>\n      <td>{{customer.status}}</td>\n      <td>{{customer.isDeliquent ? \'Y\': \'N\'}}</td>\n      <td class="text-right">\n        <a class="btn btn-primary btn-sm" href="#!/customers/{{customer.id}}/edit"><i class="fa fa-pencil"></i> Edit</a>\n        <a class="btn btn-primary btn-sm" href="#" v-on="click: onSync($event, customer)"><i class="fa fa-exchange"></i> Sync</a>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n\n  <p v-if="!customers.length">\n    no customers to be displayed...\n  </p>\n\n  <hr>\n  <div class="text-left pull-left"\n       v-component="pagination"\n       current-page="{{currentPage}}"\n       per-page="{{perPage}}"\n       total-pages="{{totalPages}}"></div>\n\n</section>\n'},{}],203:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,template:e("./index.html"),created:function(){this._loadCustomers(),this.$on("change:page",function(e){this.currentPage=e,this._loadCustomers()})},data:function(){return{customers:[],filter:{id:"",email:"",plan:"",status:"",isDelinquent:!1},currentPage:0,totalPages:1,perPage:10}},methods:{onFilter:function(e){e.preventDefault(),this.resetPaginationParams(),this._loadCustomers()},onSync:function(e,t){e.preventDefault(),this.$api(this.$api.post("/customers/"+t.id+"/sync").then(function(e){self.$dispatch("notify","success","Customer synced ("+t.id+" "+t.email+")")}))},_loadCustomers:function(){var e=this,t={skip:this.currentPage*this.perPage,limit:this.perPage};i.each(this.$data.filter,function(e,n){this.$data.filter[n]&&(t[n]=e)},this),this.$api(this.$api.get("/customers",{qs:t}).then(function(t){e.customers=t.data||[],e.totalPages=Math.ceil(t.count/e.perPage)}))},resetPaginationParams:function(){this.currentPage=0,this.totalPages=1}},components:{pagination:e("../common/simple-pagination")}}},{"../common/simple-pagination":191,"./index.html":202,underscore:682}],204:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h1 v-if="!id">Create demo</h1>\n\n    <h1 v-if="id">Update demo</h1>\n  </div>\n  <form class="form-horizontal" v-on="submit: saveDemo">\n    <div class="form-group" v-class="\'has-error\': validation && validation.demoAlias && validation.demoAlias.invalid && (validation.demoAlias.dirty || isSubmitted)">\n      <label class="col-xs-3 control-label" for="demo-alias">Alias</label>\n\n      <div class="col-xs-6">\n        <input id="demo-alias" class="form-control" v-model="demoAlias" type="text" placeholder="Alias" v-validate="required">\n        <span v-if="demoAlias" class="text-small">{{demoApplyLink}}</span>\n      </div>\n    </div>\n\n    <div class="form-group" v-class="\'has-error\': validation && validation.demoName && validation.demoName.invalid && (validation.demoName.dirty || isSubmitted)">\n      <label class="col-xs-3 control-label" for="demo-name">Name</label>\n\n      <div class="col-xs-6">\n        <input id="demo-name" class="form-control" v-model="demoName" type="text" placeholder="Name" v-validate="required">\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label class="col-xs-3 control-label" for="demo-description">Description</label>\n\n      <div class="col-xs-6">\n        <textarea class="form-control" v-model="demoDescription" id="demo-description" name="demo-description" cols="30" rows="5"></textarea>\n      </div>\n    </div>\n\n\n    <div class="form-group">\n      <div class="checkbox col-xs-offset-3">\n        <label>\n          <input id="demo-is-applicable" v-model="demoIsApplicable" type="checkbox">\n          Is applicable\n        </label>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <div class="checkbox col-xs-offset-3">\n        <label>\n          <input id="demo-is-applicable-onsignup" v-model="demoIsApplicableOnSignup" type="checkbox">\n          Is applicable on signup\n        </label>\n      </div>\n    </div>\n\n    <div class="form-group" v-class="\'has-error\': validation && validation.demoOrder && validation.demoOrder.invalid && (validation.demoOrder.dirty || isSubmitted)">\n      <label class="col-xs-3 control-label" for="demo-order">Order</label>\n\n      <div class="col-xs-6">\n        <input id="demo-order" class="form-control" v-model="demoOrder" type="number" placeholder="Order" v-validate="required">\n      </div>\n    </div>\n\n    <div class="form-group" v-class="\'has-error\': validation && validation.demoProject && validation.demoProject.invalid && (validation.demoProject.dirty || isSubmitted)">\n      <label class="col-xs-3 control-label" for="demo-project">Project ID</label>\n\n      <div class="col-xs-6">\n        <input id="demo-project" class="form-control" v-model="demoProject" type="text" placeholder="Project ID" v-validate="required">\n      </div>\n    </div>\n\n    <div class="form-group">\n      <div class="col-xs-offset-3 col-xs-4">\n        <button class="btn btn-primary" v-if="!id">Create</button>\n        <button class="btn btn-primary" v-if="id">Update</button>\n      </div>\n    </div>\n  </form>\n</section>\n'},{}],205:[function(e,t,n){"use strict";e("underscore"),e("semver-regex");t.exports={inherit:!0,template:e("./form.html"),ready:function(){this.id=this.$root.route.params[0],this.id&&this.loadDemo()},data:function(){return{id:null,model:{},demoAlias:"",demoName:"",demoDescription:"",demoOrder:"",demoProject:"",demoIsApplicable:!1,demoIsApplicableOnSignup:!1}},computed:{demoApplyLink:function(){return window.location.origin+"/demos/"+this.demoAlias}},methods:{loadDemo:function(){var e=this,t=this.$api.get("/demos/"+this.$root.route.params[0]).then(function(t){e.model=t.data,e.demoAlias=e.model.alias,e.demoName=e.model.name,e.demoDescription=e.model.description,e.demoOrder=e.model.order,e.demoProject=e.model.project,e.demoIsApplicable=e.model.isApplicable,e.demoIsApplicableOnSignup=e.model.isApplicableOnSignup});this.$dispatch("request",t)},saveDemo:function(e){e.preventDefault();var t=this;if(this.valid){var n=this.id?"put":"post",i=this.id?"/demos/"+this.id:"/demos",s={alias:t.demoAlias,name:t.demoName,description:t.demoDescription,order:t.demoOrder,project:t.demoProject,isApplicable:t.demoIsApplicable,isApplicableOnSignup:t.demoIsApplicableOnSignup};this.$api(this.$api[n](i,{body:s}).then(function(e){t._reset(),t.$dispatch("notify","success","Demo saved"),t.id?t.$dispatch("lanes:path","demos"):t.$dispatch("lanes:path","demos/"+e.data.id+"/edit")}))}},_reset:function(){this.demoType="",this.demoNumber="",this.demoNotes=""}}}},{"./form.html":204,"semver-regex":605,underscore:682}],206:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h3>Demos</h3>\n  </div>\n\n  <div class="filter clearfix">\n    <form class="form-inline pull-right" v-on="submit: onFilter">\n      <input id="filter-invite-token" class="form-control input-sm" v-model="filter.alias" type="id" placeholder="alias">\n      <input id="filter-invite-email" class="form-control input-sm" v-model="filter.name" type="text" placeholder="name">\n      <input id="filter-invite-plan" class="form-control input-sm" v-model="filter.project" type="text" placeholder="project">\n      <select class="form-control input-sm" v-model="filter.isApplicable">\n        <option value="">isApplicable ?</option>\n        <option value="1">isApplicable Y</option>\n        <option value="0">isApplicable N</option>\n      </select>\n      <select class="form-control input-sm" v-model="filter.isApplicableOnSignup">\n        <option value="">isApplicableOnSignup ?</option>\n        <option value="1">isApplicableOnSignup Y</option>\n        <option value="0">isApplicableOnSignup N</option>\n      </select>\n      <button type="submit" class="btn btn-sm btn-default">Filter</button>\n    </form>\n  </div>\n\n  <hr>\n\n  <div class="invites">\n    <table class="table table-hover">\n      <thead>\n      <tr>\n        <td>Alias</td>\n        <td>URL</td>\n        <td>Name</td>\n        <td>Project</td>\n        <td>Order</td>\n        <td>Usages</td>\n        <td>Applicable</td>\n        <td>Applicable on signup</td>\n        <td></td>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-repeat="demo: demos">\n        <td>{{demo.alias}}</td>\n        <td><span v-class="\'text-strike\': !demo.isApplicable">{{getDemoApplyUrl(demo)}}</span></td>\n        <td>{{demo.name}}</td>\n        <td>{{demo.project}}</td>\n        <td>{{demo.order}}</td>\n        <td>{{demo.usages}}</td>\n        <td>{{demo.isApplicable ? \'Y\': \'N\'}}</td>\n        <td>{{demo.isApplicableOnSignup ? \'Y\': \'N\'}}</td>\n        <td class="text-right">\n          <a class="btn btn-primary btn-xs" href="#!/demos/{{demo.id}}/edit"><i class="fa fa-pencil "></i> Edit</a>\n          <a class="btn btn-danger btn-xs" href="#" v-on="click: onDeleteDemo($event, demo.id)"><i class="fa fa-remove"></i> Delete</a>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n\n    <p v-if="!demos.length">\n      no demos to be displayed...\n    </p>\n  </div>\n\n  <hr/>\n  <a class="btn btn-default" href="#!/demos/create">Create demo</a>\n</section>\n'},{}],207:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,template:e("./index.html"),created:function(){this._loadDemos(),this.$on("change:page",function(e){this.currentPage=e,this._loadVersions()}),this.$watch("typeFilter",function(){this.filter()}),this.$watch("statusFilter",function(){this.filter()})},data:function(){return{demos:[],filter:{alias:"",name:"",project:"",isApplicable:!1,isApplicableOnSignup:!1},typeFilter:"",statusFilter:"",currentPage:0,totalPages:1,perPage:10}},methods:{getDemoApplyUrl:function(e){return window.location.origin+"/demos/"+e.alias},onFilter:function(e){e.preventDefault(),this.resetPaginationParams(),this._loadDemos()},resetPaginationParams:function(){this.currentPage=0,this.totalPages=1},_loadDemos:function(){var e=this,t={skip:this.currentPage*this.perPage,limit:this.perPage};i.each(this.$data.filter,function(e,n){this.$data.filter[n]&&(t[n]=e)},this),t.sort="alias",this.$api(this.$api.get("/demos",{qs:t}).then(function(t){e.demos=t.data||[]}))},onDeleteDemo:function(e,t){e.preventDefault(),confirm("Are you sure?")&&this.$api(this.$api["delete"]("/demos/"+t).then(function(e){this.$dispatch("notify","success","Demo was deleted"),this._loadDemos()}.bind(this)))}},components:{pagination:e("../common/simple-pagination")}}},{"../common/simple-pagination":191,"./index.html":206,underscore:682}],208:[function(e,t,n){(function(t){"use strict";function n(e){var t=function(){var t=new Date(e.user.expiredAt),n=(t.getTime()-Date.now())/6e4;if(n<0)e.samlProfile?window.location.reload():window.location="/logout";else if(!e.user.samlProfile&&n<1440){var i={grant_type:"refresh_token",refresh_token:e.user.refreshToken,client_id:"simple-web",client_secret:"simple-web-secret"};$.post("/api/oauth/token",i).success(function(t){e.user.expiredAt=t.data.expiredAt,e.user.refreshExpiredAt=t.data.refreshExpiredAt,e.user.accessToken=t.data.accessToken,e.user.refreshToken=t.data.refreshToken}).fail(function(){window.location="/logout"}).always(function(){})}};setInterval(t,6e4),t()}function i(e){var t=36e5;setInterval(function(){$.get("/api/ping").success(function(n){if(n&&n.data&&config&&n.data.gitRev!=config.gitRev){var i=b.get();(!i.date||new Date(i.date)<Date.now()-t)&&(b.set({gitRev:config.gitRev,date:Date.now()}),e.isNewAppAvailable=!0)}})},t)}var s="app.sympli.io"!==window.location.host&&"qa.sympli.io"!==window.location.host,o=e("LocalStorageBag"),r=e("vue"),a=e("vue-lanes"),l=e("vue-validator"),c=e("underscore"),u=e("moment"),d=e("vue-sortable"),h=e("vue-api"),p=e("vue-store"),f=e("vue-events"),m=e("sympli-enums").Scopes,v=e("vue-security"),g=e("../../lib/Security"),b=new o("reload-app",{});r.use(l),r.use(v),r.use(d),r.use(h,{prefix:"/api/v1",headers:[{Authorization:"Bearer "+user.accessToken}]}),r.use(p,{store:e("sympli-store")}),r.use(f);var y=e("./routes"),w=a(r,{debug:!1,prefix:"!/",routes:function(e){c.each(y,function(t,n){t.isEnabled!==!1&&e(n,t.regexp)})}});c.each(y,function(e,t){e.isEnabled!==!1&&w.component(t,e.module)});var x=(new w({el:"body",data:function(){return{isNewAppAvailable:!1,requestCount:0,longRequestCount:0,longRequestFail:!1,mainRequestCount:0,mainBlockOverlayManualState:!1,route:null,routeComponent:null,user:JSON.parse(JSON.stringify(user)),customer:null,config:config,plan:void 0,DEBUG:s,canceledPaths:[],isFullscreen:!1}},ready:function(){var e=this;document.body.addEventListener("click",function(t){e.$broadcast("html:click",t)}),this.$on("set:fullscreen",function(e){this.isFullscreen=e}),this.$on("html:click",function(e){this.$broadcast("html:click",e)}),this.$on("click:layer",function(e,t){this.$sympliTrigger(m.menu.popups.close,t),this.$broadcast("html:click",t)}),$(document).keyup(function(t){switch(t.keyCode){case 13:t.shiftKey?e.$broadcast("document:enter:ctrl"):e.$broadcast("document:enter");break;case 27:e.$broadcast("document:esc");break;case 37:t.shiftKey?e.$broadcast("document:left:ctrl"):e.$broadcast("document:left");break;case 38:t.shiftKey?e.$broadcast("document:up:ctrl"):e.$broadcast("document:up");break;case 39:t.shiftKey?e.$broadcast("document:right:ctrl"):e.$broadcast("document:right");break;case 40:t.shiftKey?e.$broadcast("document:down:ctrl"):e.$broadcast("document:down")}}),this.$on("modal:show",function(e,t,n){this.$broadcast("modal:show:"+e,t,n)}),this.$on("modal:close",function(e,t){this.$broadcast("modal:close:"+e,t)}),this.$on("toggle:menu",function(e){this.$broadcast("toggle:menu:"+e)}),this.$on("notify",function(e,t,n,i){this.$broadcast("notify",e,t,n,i)}),this.$on("bundle:update",function(e){this.$broadcast("bundle:update",e)}),this.$on(m.loaded.bundle.data,function(e){this.$broadcast(m.loaded.bundle.data,e)}),this.$on("versions",function(e){this.$broadcast("versions",e)}),this.$on(m.loaded.project.data,function(e){this.$broadcast(m.loaded.project.data,e)}),this.$on(m.loaded.brandbook.data,function(e){this.$broadcast(m.loaded.brandbook.data,e)}),this.$on("project-color-format:changed",function(e){this.$broadcast("project-color-format:changed",e)}),this.$on("scrollPane:scroll",function(){this.$broadcast("scrollPane:scroll")}),this.$on("project:tags:updated:local",function(){this.$broadcast("project:tags:updated:local")}),this.$on("delete:bundle",function(e){this.$broadcast("delete:bundle",e)}),this.$on("versions-diff:ready",function(){this.$broadcast("versions-diff:ready")}),this.$on("throw",function(e,t){e&&this.$broadcast(""+e,t)}),this.$on("customer:update",function(e){this.setCustomer(e)}),this.$on("account:update",this.handleAccountUpdate)},created:function(){var s=this;n(s),i(s),t.window.addEventListener("resize",function(){s.$broadcast("resize"),s.$broadcast("scrollPane:reInit")}),this.$on("lanes:path",function(e,t){t&&t.cancel===!1||this.$api.cancelAll(this.route);var n=this._createKeyByLocationAndPath(e);this.canceledPaths.push(n)}),t.window.addEventListener("hashchange",function(e){var t=this._createKeyByLocations(e.oldURL,e.newURL);this.canceledPaths.indexOf(t)==-1?this.$api.cancelAll(this.route):this.canceledPaths=c.reject(this.canceledPaths,function(e){return e==t&&(t=null,!0)})}.bind(this),!1),this.$on("lanes:route",function(e){var n=y[e.name]?y[e.name]:y.notFound,i={path:e.path,params:e.params,name:n.name,rel:n.rel,role:n.role,title:n.title,"class":n["class"]};i.role&&user.role!==i.role&&(i.name="accessDenied"),this.route=i,this.routeComponent=null,r.nextTick(function(){this.routeComponent=i.name,i.title?t.document.title=i.title+" - "+t.config.name:t.document.title=t.config.name,"bundleView"==i.name?(document.body.addEventListener("mousewheel",this.preventHistoryBack),document.body.addEventListener("DOMMouseScroll",this.preventHistoryBack)):(document.body.removeEventListener("mousewheel",this.preventHistoryBack),document.body.removeEventListener("DOMMouseScroll",this.preventHistoryBack))}.bind(this))}),setTimeout(function(){e("./socket-io-client")(user,s)},200),this.loadCustomer()},computed:{isGuest:function(){return"anonymous"==this.user.role}},methods:{checkProjectAccess:function(e,t,n){return g.checkProjectAccess(e,user,t,n)},checkCompanyAccess:function(e,t,n){return g.checkCompanyAccess(e,user,t,n)},onMouseClick:function(e){this.$broadcast("click:layer",null,e)},onMouseHover:function(e){this.$broadcast("hover:layer",null,e)},loadCustomer:function(){var e=this;this.$api.get("/customer").then(function(t){e.setCustomer(t.data)})},setCustomer:function(e){var t=u(),n=u(e&&e.currentPeriodEnd);e.currentPeriodEndDays=Math.ceil(n.diff(t,"days",!0)||0);this.customer?this.customer.plan:void 0,JSON.parse(JSON.stringify(e.plan));this.customer=e},handleAccountUpdate:function(e){this.user.plan=e.plan,this.user.profile=e.profile},isFreePlan:function(){var e=this,t=function(e){return e.isFree||e.isTrial};return this.customer&&this.customer.planId?t(e.customer.plan):new Promise(this.loadCustomer).then(function(){return t(e.customer.plan)})},preventHistoryBack:function(e){var t=e.deltaX||e.wheelDeltaX||e.detail;if(t){var n=document.body;window.WebKitMediaKeyError&&(t*=-1),(n.scrollLeft+n.offsetWidth===n.scrollWidth&&t>0||0===n.scrollLeft&&t<0)&&e.preventDefault()}},_createKeyByLocationAndPath:function(e){var t=(""+window.location.hash).replace("#!/","");return"".concat(t,">>",e||"")},_createKeyByLocations:function(e,t){return"".concat(e.split("#!/")[1]||"",">>",t.split("#!/")[1]||"")}},components:{promo:e("./promo"),menu:e("./menu"),footer:e("./footer"),loading:e("./loading"),notify:e("./notify"),"popup-prompt-dialog":e("./modals/popup-prompt-dialog")},directives:{atwho:e("../directives/atwho"),autoresize:e("../directives/autoresize"),clipboard:e("../directives/clipboard"),go:e("../directives/go"),focus:e("../directives/focus"),close:e("../directives/close"),"close-non-canvas":e("../directives/close-non-canvas"),"select-on-click":e("../directives/select-on-click"),"on-click-away":e("vue-clickaway/directive"),scroll:e("../directives/scroll"),scrollpane:e("../directives/scrollpane"),"isolated-scroll":e("../directives/isolated-scroll"),"model-trim":e("../directives/model-trim"),"pinch-zoom":e("../directives/pinch-zoom"),"fit-text":e("../directives/fit-text"),carusel:e("../directives/carusel"),resizable:e("../directives/jquery-ui.min.js"),"doc-subtitle":e("../directives/doc-subtitle"),"scroll-into-view":e("../directives/scroll-into-view"),"drag-to-scroll":e("../directives/drag-to-scroll"),"drag-to-scrollpane":e("../directives/drag-to-scrollpane"),"sync-scrollpane":e("../directives/sync-scrollpane"),"mouse-selectable":e("../directives/mouse-selectable"),"breadcrumb-resizer":e("../directives/breadcrumb-resizer")},filters:{amount:e("../filters/amount"),bundleType:e("../filters/bundleType"),bundleBaseline:e("../filters/bundleBaseline"),bounds:e("../components/canvas/canvas_helper").getLayerSelectionRecur,cents:e("../filters/cents"),clean:e("../filters/clean"),console:e("../filters/console"),dasherize:e("../filters/dasherize"),dru:e("../../lib/decimel-round-utility"),escape:e("../filters/escape"),fs2fw:e("../filters/fs2fw"),highlighted:e("../filters/highlighted"),humanize:e("../filters/humanize"),iosDialect:e("../filters/iosDialect"),moment:e("../filters/moment"),nl2br:e("../filters/nl2br"),obj2color:e("../filters/obj2color"),r2br:e("../filters/r2br"),round:Math.round,supportedActivities:e("../filters/supportedActivities"),toFixed:e("../filters/toFixed"),trim:e("../filters/trim"),truncate:e("../filters/truncate"),uri:encodeURIComponent}}),e("vue-validator/lib/validates"));x.url=function(e,t){return new RegExp("^(https?)://[^\\s$.?#].[^\\s]*$","i").test(e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/Security":23,"../../lib/decimel-round-utility":38,"../components/canvas/canvas_helper":162,"../directives/atwho":476,"../directives/autoresize":477,"../directives/breadcrumb-resizer":478,"../directives/carusel":479,"../directives/clipboard":480,"../directives/close":482,"../directives/close-non-canvas":481,"../directives/doc-subtitle":483,"../directives/drag-to-scroll":484,"../directives/drag-to-scrollpane":485,"../directives/fit-text":486,"../directives/focus":487,"../directives/go":488,"../directives/isolated-scroll":489,"../directives/jquery-ui.min.js":490,"../directives/model-trim":491,"../directives/mouse-selectable":492,"../directives/pinch-zoom":493,"../directives/scroll":495,"../directives/scroll-into-view":494,"../directives/scrollpane":496,"../directives/select-on-click":497,"../directives/sync-scrollpane":498,"../filters/amount":499,"../filters/bundleBaseline":500,"../filters/bundleType":501,"../filters/cents":502,"../filters/clean":503,"../filters/console":504,"../filters/dasherize":505,"../filters/escape":506,"../filters/fs2fw":507,"../filters/highlighted":508,"../filters/humanize":509,"../filters/iosDialect":510,"../filters/moment":511,"../filters/nl2br":512,"../filters/obj2color":513,"../filters/r2br":514,"../filters/supportedActivities":515,"../filters/toFixed":516,"../filters/trim":517,"../filters/truncate":518,"./footer":218,"./loading":236,"./menu":251,"./modals/popup-prompt-dialog":283,"./notify":307,"./promo":437,"./routes":438,"./socket-io-client":439,LocalStorageBag:521,moment:603,"sympli-enums":524,"sympli-store":525,underscore:682,vue:821,"vue-api":529,"vue-clickaway/directive":687,"vue-events":533,"vue-lanes":754,"vue-security":534,"vue-sortable":756,"vue-store":536,"vue-validator":757,"vue-validator/lib/validates":759}],209:[function(e,t,n){t.exports='<div id="errorsPanel">\n  <div class="arrow"></div>\n  <ul class="sympli-dialog active" v-style="maxHeight">\n    <li v-repeat="errors">\n      <h4>{{name}}</h4>\n      <p>{{error.message}}</p>\n    </li>\n  </ul>\n</div>\n'},{}],210:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{bundle:{},errorsShown:!1,errors:[]}},ready:function(){this.collectErrors(this.bundle)},methods:{collectErrors:function(e){if(e&&e.data){var t=this,n=[];this._collectErrorsInLayer(e.data.layers,n,t),this.errors=n,this.$dispatch("bundle:errors:collect",this.errors)}},_collectErrorsInLayer:function(e,t,n){i.isArray(e)&&i.each(e,function(e){e.error&&t.push({id:e.id,name:e.name,role:e.role,error:e.error}),e.bounds&&e.bounds.error&&t.push({id:e.id,name:e.name,role:e.role,error:e.bounds.error}),n._collectErrorsInLayer(e.layers,t,n)})}},computed:{maxHeight:function(){var e=$(window).height(),t=e-$(".navbar-fixed-top").height()-50;return t=t>0?t:e,"max-height: "+t+"px; overflow-y: auto"}}}},{"./index.html":209,underscore:682}],211:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h3>Errors</h3>\n  </div>\n\n  <div class="filter filter-errors clearfix">\n    <form class="form-inline pull-right" v-on="submit: filter">\n      <select class="form-control input-sm" v-model="type">\n        <option value="" selected>All types</option>\n        <option value="ps">Photoshop</option>\n        <option value="sk">Sketch</option>\n        <option value="as">Android Studio</option>\n        <option value="xc">XCode</option>\n        <option value="bundle">Bundle</option>\n        <option value="project">Project</option>\n        <option value="slack">Slack</option>\n        <option value="customer">Customer</option>\n      </select>\n      <button type="submit" class="btn btn-sm btn-default">Filter</button>\n    </form>\n  </div>\n\n  <hr/>\n\n  <div class="logs">\n    <table class="table table-hover table-condensed">\n      <thead>\n      <tr>\n        <td>Type</td>\n        <td>Message</td>\n        <td>Date</td>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-repeat="error: errors">\n        <td><span class="label" v-class="label-bundle : error.type==\'bundle\',\n        \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t label-bundle : error.type==\'project\',\n        \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t label-bundle : error.type==\'slack\',\n                                         label-ps : error.type==\'ps\',\n                                         label-sk : error.type==\'sk\',\n                                         label-xc : error.type==\'xc\',\n                                         label-as : error.type==\'as\',\n                                         label-customer : error.type==\'customer\'\n        ">{{error.type}}</span></td>\n        <td><a href="#!/errors/{{error.id}}">{{error.message | truncate 340}}</a></td>\n        <td style="text-align: center;">{{error.createdAt | moment short}}</td>\n      </tr>\n      </tbody>\n    </table>\n\n    <div class="text-left pull-left"\n         v-component="pagination"\n         current-page="{{currentPage}}"\n         per-page="{{perPage}}"\n         total-pages="{{totalPages}}"></div>\n\n    <p v-if="!errors.length">\n      no errors to be displayed...\n    </p>\n  </div>\n</section>\n'},{}],212:[function(e,t,n){"use strict";e("underscore");t.exports={inherit:!0,template:e("./index.html"),created:function(){this._loadErrors(),this.$on("change:page",function(e){this.currentPage=e,this._loadErrors()})},data:function(){return{loading:!1,errors:[],type:"",currentPage:0,totalPages:1,perPage:20}},methods:{filter:function(e){e.preventDefault(),this.resetPaginationParams(),this._loadErrors()},resetPaginationParams:function(){this.currentPage=0,this.totalPages=1},_loadErrors:function(){var e=this,t={skip:this.currentPage*this.perPage,limit:this.perPage};this.type&&(t.type=this.type),this.$api(this.$api.get("/errors",{qs:t}).then(function(t){e.errors=t.data||[],this.totalPages=Math.ceil(t.count/this.perPage),this.loading=!1}.bind(this)))}},components:{pagination:e("../common/simple-pagination")}}},{"../common/simple-pagination":191,"./index.html":211,underscore:682}],213:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h1>\n      Error:\n      {{error.type}}\n      <small>{{error.createdAt | moment short}}</small>\n    </h1>\n  </div>\n\n  <dl class="dl-horizontal">\n    <dt>Type</dt>\n    <dd>{{error.type}}</dd>\n    <dt>Message</dt>\n    <dd><pre><code>{{error.message}}</code></pre></dd>\n    <dt>Data</dt>\n    <dd>\n      <button class="btn btn-default btn-sm" type="button" data-toggle="collapse" data-target="#collapseData" aria-expanded="false" aria-controls="collapseData">\n        Show\n      </button>\n      <div class="collapse" id="collapseData">\n          <pre><code>\n            {{error.data | json}}\n          </code></pre>\n      </div>\n    </dd>\n  </dl>\n</section>\n\n\n'},{}],214:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./view.html"),created:function(){this.id=this.$root.route.params[0],this.id&&this._loadError()},data:function(){return{id:null,error:{}}},methods:{_loadError:function(){var e=this;this.$api(this.$api.get("/errors/"+this.$root.route.params[0]).then(function(t){e.error=t.data}))}}}},{"./view.html":213}],215:[function(e,t,n){t.exports='<section class="container">\n  <div class="clearfix">\n    <textarea id="simplemde-editor">\n\n    </textarea>\n    <a v-if="!isSaving" href="#" v-on="click: onSave">Save</a>\n    <span v-if="isSaving">Saving ... </span>\n    <span v-if="!isSaved">unsaved (!)</span>\n  </div>\n</section>\n'},{}],216:[function(e,t,n){"use strict";var i=e("simplemde");t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.editor=new i({element:document.getElementById("simplemde-editor"),autofocus:!0,hideIcons:["side-by-side","fullscreen"],insertTexts:{horizontalRule:["","\n\n-----\n\n"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text      | Text     |\n\n"]},shortcuts:{drawTable:"Cmd-Alt-T"},showIcons:["code","table","strikethrough","heading","heading-smaller","heading-bigger","heading-1","heading-2","heading-3","clean-block","horizontal-rule"]}),this.editor.codemirror.on("change",function(){this.isSaved=!1}.bind(this)),this._onLoad()},data:function(){return{editor:void 0,isSaving:!1,isSaved:!0}},methods:{onSave:function(e){e&&e.preventDefault(),this.isSaving=!0;var t=this.editor.value(),n=this.editor.markdown(t);return this.$api(this.$api.put("/faq",{body:{markdown:t,html:n}}).then(function(){this.isSaving=!1,this.isSaved=!0,this._onLoad()}.bind(this)))},_onLoad:function(){var e=this.$api.get("/faq/markdown").then(function(e){200==e.status&&(this.editor.value(e.data.markdown),this.isSaved=!0)}.bind(this));this.$api(e)}}}},{"./index.html":215,simplemde:621}],217:[function(e,t,n){t.exports='<div class="layout-footer" v-if="route && \'bundleView\' !== route.name">\n  <!--this is client footer-->\n  <div class="footer container-fluid">\n    <p>\n      <span>© {{currentYear}} Sympli, All Rights Reserved</span>\n      <span>\n        <a class="footer-soc-link" href="https://twitter.com/sympli_io" target="_blank">\n          <i class="footer-icon icon-twitter_logo"></i>Twitter\n        </a>\n      </span>\n      <span>\n        <a class="footer-soc-link" href="https://www.facebook.com/sympli.io" target="_blank">\n          <i class="footer-icon icon-fb_logo"></i>Facebook\n        </a>\n      </span>\n      <span>\n        <a class="footer-soc-link" href="https://medium.com/@sympli" target="_blank">\n          <i class="footer-icon icon-medium"></i>Medium\n        </a>\n      </span>\n      <span>\n        <a class="footer-soc-link" href="https://www.linkedin.com/company/10554313" target="_blank">\n          <i class="footer-icon icon-linkedin"></i>LinkedIn\n        </a>\n      </span>\n      <span v-if="weKnowInstagram">\n        <a class="footer-soc-link" href="https://medium.com/@sympli" target="_blank">\n          <i class="footer-icon icon-instagram"></i>Instagram\n        </a>\n      </span>\n    </p>\n  </div>\n</div>';
},{}],218:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),data:function(){return{showFooter:!0}},computed:{currentYear:function(){return(new Date).getFullYear()}}}},{"./index.html":217}],219:[function(e,t,n){t.exports='<section class="container">\n\n  <div class="page-header">\n    <h1 v-if="!id">Create and Invite</h1>\n    <h1 v-if="id">Update invite\n\n      <div class="pull-right">\n        <button type="button" class="btn btn-default" v-if="isCreator" v-on="click: showShareModal" title="Share invite">\n          <i class="fa fa-share-alt fa-fw"></i>\n        </button>\n\n        <a type="button" class="btn btn-default" href="#!/invites/{{model.id}}" title="View invite">\n          <i class="fa fa-file fa-fw"></i>\n        </a>\n      </div>\n\n    </h1>\n  </div>\n\n\n  <form class="form-horizontal" v-on="submit: saveInvite">\n\n    <div class="form-group">\n      <label class="col-xs-3 control-label" for="invite-email">\n        Email\n      </label>\n      <div class="col-xs-6">\n        <input id="invite-email" class="form-control " v-model="inviteEmail" type="email" placeholder="">\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="col-xs-3 control-label" for="invite-quantity">\n        Quantity\n      </label>\n      <div class="col-xs-6">\n        <input id="invite-quantity" class="form-control " v-model="inviteQuantity" type="number" min="1" placeholder="">\n      </div>\n    </div>\n\n    <div class="form-group">\n      <div class="col-xs-offset-3 col-xs-4">\n        <button class="btn btn-primary" v-if="!id">Create</button>\n        <button class="btn btn-primary" v-if="id">Update</button>\n      </div>\n    </div>\n  </form>\n</section>\n'},{}],220:[function(e,t,n){"use strict";e("underscore");t.exports={inherit:!0,template:e("./form.html"),ready:function(){this.id=this.$root.route.params[0],this.id&&this.loadInvite()},data:function(){return{id:null,model:{},inviteEmail:"",inviteQuantity:1}},computed:{isCreator:function(){return this.model&&this.model.user==this.user.id}},methods:{validateInvite:function(){return!!this.inviteEmail||(bootbox.alert("Please fill out a valid invite email"),!1)},saveInvite:function(e){e.preventDefault();var t=this;if(this.validateInvite()){var n=this.id?"put":"post",i=this.id?"/invites/"+this.id:"/invites",s=this.$api[n](i,{body:{email:this.inviteEmail,quantity:this.inviteQuantity,type:"website"}}).then(function(e){t._reset(),t.$dispatch("notify","success","Invite saved"),t.$dispatch("lanes:path","invites")});this.$api(s)}},_reset:function(){this.inviteEmail=""}}}},{"./form.html":219,underscore:682}],221:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h3>Invites</h3>\n  </div>\n\n  <div class="filter filter-invites clearfix">\n    <form class="form-inline pull-right" v-on="submit: filter">\n      <select class="form-control input-sm" v-model="type">\n        <option value="" selected>All types</option>\n        <option value="bundle">bundle</option>\n        <option value="website">website</option>\n      </select>\n      <input id="filter-invite-token" class="form-control input-sm" v-model="token" type="text" placeholder="Token">\n      <input id="filter-invite-email" class="form-control input-sm" v-model="email" type="text" placeholder="Email">\n      <div class="btn-group" data-toggle="buttons">\n        <label class="btn btn-sm btn-primary">\n          <input type="checkbox" v-model="onlyValid"> Only valid\n        </label>\n      </div>\n      <button type="submit" class="btn btn-sm btn-default">Filter</button>\n    </form>\n  </div>\n\n  <hr/>\n\n  <div class="invites">\n    <table class="table table-hover">\n      <thead>\n      <tr>\n        <td>Type</td>\n        <td>Expired</td>\n        <td>Token</td>\n        <td><abbr title="Remaining/Quantity">R/Qty</abbr></td>\n        <td>Email</td>\n        <td>Used?</td>\n        <td></td>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-repeat="invite: invites">\n        <td><a href="#!/invites/{{invite.id}}">{{invite.type}}</a></td>\n        <td>{{invite.expiredAt | moment short}}</td>\n        <td>{{invite.token}}</td>\n        <td>\n          <span v-if="invite.type == \'website\'">{{invite.remainingQuantity}}/{{invite.quantity}}</span>\n          <span v-if="invite.type != \'website\'">—</span>\n        </td>\n        <td>\n          {{invite.email}}\n          <i class="fa fa-paper-plane" v-if="invite.isSent" title="Email sent"></i>\n        </td>\n        <td>\n          <i class="fa fa-check-circle-o" v-if="invite.invitees && invite.invitees.length" title="Used"></i>\n        </td>\n        <td class="text-right">\n          <a class="btn btn-sm btn-primary" href="#!/invites/{{invite.id}}"><i class="fa fa-pencil"></i> View</a>\n          <button class="btn btn-sm btn-primary" v-on="click: sendInvite($event, invite)">\n            <i class="fa fa-paper-plane"></i> Send\n          </button>\n          <a v-if="user.id == invite.user" class="btn btn-sm btn-primary" href="#!/invites/{{invite.id}}/edit"><i class="fa fa-pencil"></i> Edit</a>\n          <a class="btn btn-sm btn-danger" href="#" v-on="click: deleteInvite($event, invite)"><i class="fa fa-remove"></i> Delete</a>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n    <p v-if="!invites.length">\n      no invites to be displayed...\n    </p>\n  </div>\n\n  <hr/>\n  <div class="text-left pull-left"\n     v-component="pagination"\n     current-page="{{currentPage}}"\n     per-page="{{perPage}}"\n     total-pages="{{totalPages}}"></div>\n  <a class="btn btn-sm btn-default pull-right" href="#!/invites/create">Create and Invite</a>\n</section>\n'},{}],222:[function(e,t,n){"use strict";e("underscore");t.exports={inherit:!0,template:e("./index.html"),created:function(){this._loadInvites(),this.$on("change:page",function(e){this.currentPage=e,this._loadInvites()})},data:function(){return{invites:[],type:"",email:"",token:"",onlyValid:!1,currentPage:0,totalPages:1,perPage:10}},methods:{filter:function(e){e.preventDefault(),this.resetPaginationParams(),this._loadInvites()},resetPaginationParams:function(){this.currentPage=0,this.totalPages=1},_loadInvites:function(){var e=this,t={skip:this.currentPage*this.perPage,limit:this.perPage};this.type&&(t.type=this.type),this.email&&(t.email=this.email),this.token&&(t.token=this.token),this.onlyValid&&(t.onlyValid=this.onlyValid);var n=this.$api.get("/invites",{qs:t}).then(function(t){e.invites=t.data||[],this.totalPages=Math.ceil(t.count/this.perPage),this.loading=!1}.bind(this));this.$api(n)},deleteInvite:function(e,t){e.preventDefault();var n=this;bootbox.confirm("Are you sure?",function(e){e&&n.$api(n.$api["delete"]("/invites/"+t.id).then(function(e){n.$dispatch("notify","success","Invite was deleted"),n._loadInvites()}))})},sendInvite:function(e,t){e.preventDefault();var n=this;bootbox.confirm("Are you sure?",function(e){e&&n.$api(n.$api.post("/invites/:id/send",{params:{id:t.id}}).then(function(e){t.isSent=!0,n.$dispatch("notify","success","Invite sent (queued)")}))})}},components:{pagination:e("../common/simple-pagination")}}},{"../common/simple-pagination":191,"./index.html":221,underscore:682}],223:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h1>\n      Invite:\n      {{model.name}}\n      <small>{{model.type}}</small>\n\n      <div class="pull-right">\n        <a type="button" class="btn btn-default" href="#!/invites/{{model.id}}/edit" title="Edit invite">\n          <i class="fa fa-pencil fa-fw"></i>\n        </a>\n      </div>\n    </h1>\n  </div>\n\n  <dl class="dl-horizontal">\n    <dt>Type</dt>\n    <dd>{{model.type}}</dd>\n    <dt>Token</dt>\n    <dd>{{model.token}}</dd>\n    <dt>Email</dt>\n    <dd>{{model.email}}</dd>\n    <dt>Is sent</dt>\n    <dd>{{model.isSent ? \'yes\' : \'no\'}}</dd>\n    <dt>Is used</dt>\n    <dd>{{model.invitees && model.invitees.length ? \'yes\' : \'no\' }}</dd>\n    <dt>Created</dt>\n    <dd>{{model.createdAt | moment short}}</dd>\n    <dt>Updated</dt>\n    <dd>{{model.updatedAt | moment short}}</dd>\n    <dt>Expired</dt>\n    <dd>{{model.expiredAt | moment short}}</dd>\n    <dt>Inviter</dt>\n    <dd>{{ model.inviter ? model.inviter.email : \'\' }}</dd>\n\n    <dt>Invitees</dt>\n    <dd>\n      <div v-repeat="model.invitees">\n        {{email}}\n      </div>\n    </dd>\n  </dl>\n\n  <div v-if="model.id">\n    <modal-activities base-url="{{\'/invites/\' + model.id + \'/activities\'}}"></modal-activities>\n  </div>\n</section>\n\n\n'},{}],224:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./view.html"),created:function(){this.id=this.$root.route.params[0],this.id&&this._loadInvite()},data:function(){return{id:null,model:{}}},computed:{isOwner:function(){return this.model&&this.model.user==this.user.id}},components:{},methods:{_loadInvite:function(){var e=this,t=this.$api.get("/invites/"+this.$root.route.params[0]).then(function(t){e.model=t.data});this.$api(t)}}}},{"./view.html":223}],225:[function(e,t,n){t.exports='<div v-el="issuesPanel" class="popup-with-input jira-issues-panel">\n  <div class="arrow"></div>\n  <ul class="sympli-dialog active" v-if="canShowPanel" v-style="maxHeight">\n    <li class="issue-name">\n      <div class="form-horizontal">\n        <input autocomplete="off" name="issueValue" class="form-control" type="text" placeholder="Type an issue name or key"\n               v-model="issueValue"\n               v-on="keypress: onIssueKeyPress, keyup: onIssueKeyUp"\n               v-focus="issuesShown"\n               v-el="issueInput" />\n      </div>\n    </li>\n\n    <li class="labels-block" v-if="!isSearchingEnabled">\n      <span class="label label-primary"\n            v-repeat="issue: linkedIssues" track-by="key"\n            v-on="click: onIssueRemove($event, issue)"\n            v-style="backgroundColor: issue.data.fields.status.statusCategory.colorName"\n            v-class="getIssueTextClass(issue)"\n            v-show="linkedIssues.length > 0">\n        <i class="sympli-icon icon-delete_task"></i><span class="ellipsis">{{issue.key}}</span>\n      </span>\n      <span class="labels-block__empty" v-if="(!project || linkedIssues.length == 0) && selectedCount == 1">This design doesn\'t have any linked issues. Type an issue name or key.</span>\n      <span class="labels-block__empty" v-if="(!project || linkedIssues.length == 0) && selectedCount > 1">These designs do not have any linked issues. Type an issue name or key.</span>\n      <span class="labels-block__empty" v-if="(!project || linkedIssues.length == 0) && isBundleView">This design doesn\'t have any linked issues. Type an issue name or key.</span>\n    </li>\n\n    <li v-if="isSearchingEnabled">\n      <div v-scrollpane="{contentWidth: 416}" v-isolated-scroll="{}" style="max-height: 400px; max-width: 416px;"><!--//todo: move to styles + add transition-->\n        <div>\n          <ul class="issues-list">\n            <li class="issues-item"\n               v-repeat="issue: autocompleteIssues" track-by="key"\n               v-class="active: issue.key == activeIssueKey"\n               v-on="click: onIssueAddClick($event, issue)">\n              <span class="issue-color" v-style="backgroundColor: issue.fields.status.statusCategory.colorName">&nbsp;</span>\n              <span class="issue-name ellipsis">{{issue.key}} {{issue.fields.summary}}</span>\n            </li>\n          </ul>\n        </div>\n        <p class="issues-item__empty" v-if="autocompleteIssues.length == 0 && !isSearching">\n          Nothing found. Try to change filter.\n        </p>\n      </div>\n    </li>\n  </ul>\n</div>\n'},{}],226:[function(e,t,n){"use strict";var i=e("underscore"),s=(e("../../../../enums/SocketEventsEnum"),e("../../../../lib/string-helper")),o=e("../../../../lib/jira/jira-helper"),r=e("sympli-enums").Scopes,a=["bundleView","bundleVersionView","bundleSpecs","bundleVersionSpecs","bundleReview","bundleVersionReview"];t.exports={inherit:!0,template:e("./index.html"),data:function(){return{multiSelect:!1,project:null,bundle:null,selectedBundles:[],issuesShown:!1,issueValue:"",linkedIssues:[],issuesToRemove:[],issuesToUnSelect:[],isSearching:!0,isSearchingEnabled:!1,autocompleteIssues:[],autocompletePromise:null,activeIssueKey:null,removeTimer:null}},beforeDestroy:function(){this._clearRemoveTimer()},ready:function(){this.$on("selected-bundles:updated",function(e){this.selectedBundles=e?e:[],this._updateLinkedIssues()}.bind(this)),this.$on("document:up",function(){this.handleNavigationUsed(!1)}),this.$on("document:down",function(){this.handleNavigationUsed(!0)}),this.$on("document:enter",this.handleEnterPressed),this.$watch("bundle",function(){this._updateLinkedIssues(),this._hidePanelIfNotSelected()}),this.$watch("issuesShown",function(e){e&&($(this.$$.issueInput).focus(),this._updateLinkedIssues())}),this._updateLinkedIssues()},methods:{handleNavigationUsed:function(e){var t=this.autocompleteIssues.length;if(this.isSearchingEnabled&&t){if(!this.activeIssueKey)return void(this.activeIssueKey=this.autocompleteIssues[0].key);var n=this,s=i.findIndex(this.autocompleteIssues,function(e){return e.key==n.activeIssueKey});return s==-1?void(this.activeIssueKey=this.autocompleteIssues[0].key):void(e?++s<=t-1&&(this.activeIssueKey=this.autocompleteIssues[s].key,this.$emit("scrollPane:scrollByY",{shift:40})):--s>=0&&(this.activeIssueKey=this.autocompleteIssues[s].key,this.$emit("scrollPane:scrollByY",{shift:-40})))}},handleEnterPressed:function(){var e=this;if(this.isSearchingEnabled&&this.autocompleteIssues.length&&this.activeIssueKey){var t=i.find(this.autocompleteIssues,function(t){return t.key==e.activeIssueKey});this.onIssueAddClick(null,t)}},onIssueKeyUp:function(e){27==e.keyCode&&this.issueValue.trim()&&(e.preventDefault(),e.stopPropagation(),this.issueValue="",this._clearSearching()),this.issueValue.trim()||this._clearSearching()},onIssueKeyPress:i.debounce(function(){this._searchIssues()},500),_searchIssues:function(){var e=this.issueValue&&this.issueValue.trim()?this.issueValue.trim():void 0;if(e){this.autocompleteIssues=[],this.isSearchingEnabled=!0,this.isSearching=!0;var t=this;this.autocompletePromise&&this.$api.cancel(this.autocompletePromise);var n='jql=summary ~ "'+e+'"',o=/\d+-[0-9a-zA-Z]+(?!-?[a-zA-Z]{1,10})/g;o.test(s.reverse(e))&&(n+=' OR key = "'+e.toUpperCase()+'"'),n+=" ORDER BY lastViewed DESC",this.autocompletePromise=this.$api(this.$api.get("/jira/"+t.project.id+"/search?"+n+"&fields=summary,status").then(function(e){e.data&&e.data.issues?(t.autocompleteIssues=i.filter(t._prepareColors(e.data.issues),function(e){return!i.find(t.linkedIssues,function(t){return t.key===e.key})}),t.isSearching=!1):(t.autocompleteIssues=[],t.isSearching=!1),t.$emit("scrollPane:reInit")}))}else this._clearSearching()},_prepareColors:function(e){return i.each(e,function(e){e.fields.status.statusCategory.colorName=o.getColorByName(e.fields.status.statusCategory.colorName)}),e},onIssueAddClick:function(e,t){if(e&&(e.preventDefault(),e.stopPropagation()),t){if(i.find(this.linkedIssues,function(e){return e.key==t.key}))return;var n={type:"jira",key:t.key,data:{id:t.id,key:t.key,fields:{summary:t.fields.summary,status:t.fields.status}}};this._addIssues([n])}this.isSearchingEnabled=!1,this.autocompleteIssues=[]},_addIssues:function(e){var t=this;if(e){i.isArray(e)||(e=[e]);var n=t._getSelectedBundlesIds();if(!n.length)return;this.linkedIssues=i.chain(this.linkedIssues.concat(e)).flatten().unique().value();var s={body:{bundles:n,issues:e}};this.$api(this.$api.post("/projects/"+t.project.id+"/issues/jira",s).then(function(i){t.project.data.issues=i.data.data.issues,t.$sympliTrigger("jira-issue:link",e,n)}))}this.issueValue="",this.$sympliTrigger(r.cache.bundle.reset)},onIssueRemove:function(e,t){e.preventDefault(),e.stopPropagation(),this.linkedIssues=i.filter(this.linkedIssues,function(e){return e.key!=t.key}),this.$sympliTrigger("jira-issue:unlink",t,this._getSelectedBundlesIds()),this.issuesToRemove.push(i.pick(t,"key")),this.issuesToUnSelect.push(t.key),this._removeIssues(),this.$sympliTrigger(r.cache.bundle.reset),this._resetRemoveTimer()},_removeIssues:i.throttle(function(){var e=this,t=this._getSelectedBundlesIds();if(t.length&&this.issuesToRemove.length){var n=i.uniq([].concat(this.issuesToUnSelect));this.issuesToUnSelect=[],e.$sympliTrigger("jira-issue:remove",n,t);var s={body:{bundles:t,issues:e.issuesToRemove}};this.$api(this.$api["delete"]("/projects/"+e.project.id+"/issues/jira",s).then(function(){e.$sympliTrigger("jira-issues:unlock-update")}))}},500),_getSelectedBundles:function(){return this.bundle?i.union(this.selectedBundles,[this.bundle]):this.selectedBundles},_getSelectedBundlesIds:function(){var e=[];return i.each(this._getSelectedBundles(),function(t){var n=this._getBundleId(t);n&&e.push(n)}.bind(this)),e},_hidePanelIfNotSelected:function(){this.bundle||this.selectedBundles&&0!=this.selectedBundles.length||(this.issuesShown=!1)},_updateLinkedIssues:function(){if(this.issuesShown){var e=[],t=this;i.each(this._getSelectedBundles(),function(n,s){var o=t._getIssuesByBundleId(t._getBundleId(n),t.project);e=0==s&&0==e.length?e.concat(o):i.intersection(e,o)}),this.linkedIssues=i.chain(e).flatten().unique().value()}},_getBundleId:function(e){return e.bundle?e.bundle:e.id},_getIssuesByBundleId:function(e,t){var n=[];return i.each(t.data.issues,function(t){i.includes(t.usages,e)&&n.push(t)}),n},_clearSearching:function(){this.autocompleteIssues=[],this.isSearchingEnabled=!1,this.activeIssueKey=null},_clearRemoveTimer:function(){this.removeTimer&&clearTimeout(this.removeTimer)},_resetRemoveTimer:function(){this._clearRemoveTimer(),this.removeTimer=setTimeout(function(){this.issuesToRemove=[]}.bind(this),2e3)},getIssueTextClass:function(e){return o.getTextColorClass(e.data.fields.status.statusCategory.colorName)}},computed:{canShowPanel:function(){return this.project&&this.project.id&&(this.bundle||this.multiSelect)},maxHeight:function(){return""},isBundleView:function(){return a.indexOf(this.$root.route.name)>=0}}}},{"../../../../enums/SocketEventsEnum":8,"../../../../lib/jira/jira-helper":44,"../../../../lib/string-helper":45,"./index.html":225,"sympli-enums":524,underscore:682}],227:[function(e,t,n){t.exports='<div class="bundle-issue"\n      v-repeat="issue: issues"\n      v-style="activeIssueStyle(issue)"\n      track-by="key"\n      v-class="active: isActive(issue), activeIssueTextClass(issue)">\n  <div class="bundle-issue-number" v-on="click: onToggleIssue($event, issue)">\n    <span class="key-ellipsis ellipsis">{{issue.key}}</span>\n    <i class="number">{{issue.usages.length}}</i>\n  </div>\n\n  <div v-if="isActive(issue)" class="bundle-issue-info dropdown" v-class="\'open\': isTaskInfoOpen" v-on-click-away="onClickAwayUser">\n    <a class="dropdown-toggle" href=\'#\' role="button"\n       aria-expanded="{{isTaskInfoOpen}}" v-on="click: onTaskInfoClick($event, issue)">\n      <span class="sympli-icon icon-white-down"></span>\n    </a>\n    <ul class="dropdown-menu pull-right">\n      <li class="arrow"></li>\n      <li class="jira-issues-list-item">\n        <div class="issues-item" v-if="!issue.isDeleted">\n          <div class="issue-info">\n            <span class="status-name ellipsis"\n                  v-style="activeIssueStyle(issue)"\n                  v-attr="title: issue.data.fields.resolution ? issue.data.fields.resolution.name : \'Unresolved\'"\n                  v-class="activeIssueTextClass(issue)">{{issue.data.fields.status.name}}</span>\n            <div class="issue-number ellipsis"><a v-attr="href: issue.data.link">{{issue.key}}</a></div>\n          </div>\n          <h3 class="issue-name">\n            <a v-attr="href: issue.data.link">\n              {{issue.data.fields.summary}}\n            </a>\n          </h3>\n          <div class="jira-user">\n            <span class="assign">Assignee</span>\n            <span class="jira-user-info ellipsis" v-if="issue.data.fields.assignee != null">\n              <img class="avatar" v-attr="src: issue.data.fields.assignee.avatarUrls[\'16x16\']"/>\n              <span class="name ellipsis">{{issue.data.fields.assignee.displayName}}</span>\n            </span>\n            <span class="jira-user-info ellipsis" v-if="issue.data.fields.assignee == null">\n              <img class="avatar" src="../../img/nouseravatar.png"/>\n              <span class="name ellipsis">Unassigned</span>\n            </span>\n          </div>\n        </div>\n        <div class="issues-item removed" v-if="issue.isDeleted">\n          <div class="issue-info">\n            <span class="status-name ellipsis"\n                  v-style="activeIssueStyle(issue)">Deleted</span>\n            <div class="issue-number ellipsis"><a v-attr="href: issue.data.link">{{issue.key}}</a></div>\n          </div>\n          <h3 class="issue-name">\n            Issue was deleted in Jira\n          </h3>\n        </div>\n      </li>\n    </ul>\n  </div>\n</div>\n'},{}],228:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../../../../enums/IssueTypeEnum"),o=e("../../../../lib/jira/jira-helper"),r=e("../../../../lib/FiltersInUrlHelper").Issues;t.exports={inherit:!0,template:e("./index.html"),data:function(){return{project:null,issues:[],selectedIssue:null,isTaskInfoOpen:!1,skipIssuesUpdate:!1}},ready:function(){this.$on("toggle:tags-filter",function(){this.selectedIssue=null}),this.$on("jira-issue:link",this.handleLinkIssue),this.$on("jira-issue:unlink",this.handleUnlinkIssue),this.$on("jira-issue:remove",this.handleRemoveIssues),this.$on("jira-issues:unlock-update",function(){this.skipIssuesUpdate=!1}),this.$watch("project",function(){this._buildIssues()}),this._buildIssues();var e=r.getFromUrlSafeByRoute(this.route);if(null!==e){var t=e[0],n=i.find(this.issues,function(e){return e.key===t});if(n){var s=!0;this._toggleIssue(n,s)}else{var o=r.browserHistoryPush(null);this.$sympliTrigger("changed:share-filter",o,!0)}}},methods:{onClickAwayUser:function(e){this.isTaskInfoOpen=!1},onTaskInfoClick:function(e,t){e.preventDefault(),this.isTaskInfoOpen=!this.isTaskInfoOpen,this.isTaskInfoOpen&&this._getIssue(t)},onToggleIssue:function(e,t){this._toggleIssue(t)},_toggleIssue:function(e,t){if(this.selectedIssue&&this.selectedIssue.key==e.key){this.selectedIssue=null,this.$sympliTrigger("updated:active-issues-filter",[]);var n=r.browserHistoryPush(null);this.$sympliTrigger("changed:share-filter",n,t)}else{this.selectedIssue=e,this.$sympliTrigger("updated:active-issues-filter",e.usages);var n=r.browserHistoryPush([this.selectedIssue.key]);this.$sympliTrigger("changed:share-filter",n,t)}this.$sympliTrigger("toggle:active-issues-filter")},handleLinkIssue:function(e,t){this._buildIssues()},handleUnlinkIssue:function(e,t){if(e&&t&&t.length){this.skipIssuesUpdate=!0;var n=this,s=i.findIndex(this.issues,function(t){return t.key==e.key});if(s>=0&&(i.each(t,function(e){var t=i.findIndex(n.issues[s].usages,function(t){return t==e});t>=0&&delete n.issues[s].usages.$remove(t)}),!n.issues[s].usages.length)){var o=n.issues[s].key;delete n.issues.$remove(s),n._removeIssueFromUrlByKey(o)}}},_removeIssueFromUrlByKey:function(e){var t=r.getFromUrlSafeByRoute(this.route);if(t&&1===t.length&&t[0]===e){var n=r.browserHistoryPush(null);this.$sympliTrigger("changed:share-filter",n)}},handleRemoveIssues:function(e,t){if(this.selectedIssue){var n=i.contains(e,this.selectedIssue.key);n&&(this.$sympliTrigger("bundle:unselect:ids",t),this._buildIssues())}},_buildIssues:function(){if(!this.skipIssuesUpdate){if(this.project&&(this.issues=i.filter(this.project.data.issues,function(e){return e.type===s.jira}),this.issues&&this.selectedIssue)){var e=this;this.selectedIssue=i.find(this.issues,function(t){return t&&t.key===e.selectedIssue.key})}this.$sympliTrigger("updated:active-issues-filter",this.selectedIssue?this.selectedIssue.usages:[])}},_getIssue:function(e){if(this.project&&e){var t=this;this.$api(this.$api.get("/projects/"+t.project.id+"/issues/"+e.key+"/jira?fields=status,resolution,assignee,summary").then(function(e){e.data&&t._proceedPatchIssue(e.data)})["catch"](function(n){if(404===n.status)return t._proceedDeletedIssue(e);throw n}))}},_proceedPatchIssue:function(e){var t=i.findIndex(this.issues,function(t){return t.key===e.key});t>=0&&this.issues.$set(t,e),this.isActive(e)&&(this.selectedIssue=e);var n=i.findIndex(this.project.data.issues,function(t){return t.key===e.key});n>=0&&this.project.data.issues.$set(n,e)},_proceedDeletedIssue:function(e){var t=e.key,n=i.find(this.issues,function(e){return e.key===t});n.$set("isDeleted",!0),this._setDeleteIssueTimer(t),this.isActive(n)&&(this.selectedIssue=n);var s=i.findIndex(this.project.data.issues,function(e){return e.key===t});if(s>=0){var o=this.project.data.issues[s].key;this.project.data.issues.$remove(s),this._removeIssueFromUrlByKey(o)}},_setDeleteIssueTimer:function(e){setTimeout(function(){var t=i.findIndex(this.issues,function(t){return t.key===e});t>=0&&this.issues.$remove(t),this.selectedIssue&&this.selectedIssue.key===e&&(this.selectedIssue=null,this.$sympliTrigger("updated:active-issues-filter",[]))}.bind(this),2e3)},isActive:function(e){return this.selectedIssue&&this.selectedIssue.key===e.key},activeIssueStyle:function(e){return this.isActive(e)?e.isDeleted?"background-color: red;":"background-color:"+e.data.fields.status.statusCategory.colorName:""},activeIssueTextClass:function(e){return this.isActive(e)?o.getTextColorClass(e.data.fields.status.statusCategory.colorName):""}}}},{"../../../../enums/IssueTypeEnum":5,"../../../../lib/FiltersInUrlHelper":11,"../../../../lib/jira/jira-helper":44,"./index.html":227,underscore:682}],229:[function(e,t,n){t.exports='<div>\n  <div class="m-panel m-panel__layers-tree" v-if="isLayersTreeRendered" v-show="isLayersTreeEnabled" v-close-non-canvas="isLayersTreeEnabled">\n    <div class="m-panel-layer">\n      <div class="m-panel__subheader" v-show="layers.length" v-component="search"\n           v-with="searchParams: searchInfo.layers"></div>\n      <div class="m-panel__content m-panel__content-with-subheader" v-component="layers-list"\n           v-with="layers: layers, searchParams: searchInfo.layers" v-scrollpane="{contentWidth:257}"></div>\n    </div>\n  </div>\n</div>\n'},{}],230:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../../../lib/LayerTypeEnum");t.exports={inherit:!0,replace:!0,template:e("./index.html"),ready:function(){this.$on("bundle:render",this.handleBundleRender),this.$watch("searchInfo.layers.searchString",function(e){this.$dispatch("search:layers",e),this.$emit("scrollPane:reInit")}),this.$watch("isLayersTreeEnabled",function(e){this.$dispatch("isLayersTreeEnabled",e),this.$emit("scrollPane:reInit")}),this.$on("searchParams:scrollTo",function(){this.$broadcast("searchParams:scrollTo")}),this.$on("toggle:menu:layersTree",function(){this.isLayersTreeEnabled=!this.isLayersTreeEnabled,this.isLayersTreeRendered=!0}),this.$on("select:layers",this.onSelectLayers)},data:function(){return{field:"index",reverse:!0,layers:[],isLayersTreeEnabled:!1,isLayersTreeRendered:!1,searchInfo:{layers:{searchString:""}}}},components:{"layers-list":e("./layers-list"),search:e("../common/layer-search-input")},methods:{onBundle:function(e){},handleBundleRender:function(e){this.layers=e.data.layers,this.$emit("scrollPane:reInit")},onToggleVisibility:function(e,t){e.preventDefault(),e.stopPropagation();var n=!t.visible;this.$dispatch("toggle:visibility",t,n),n&&this.$dispatch("hover:layer",t,e)},onMouseClick:function(e,t){e.preventDefault(),e.stopPropagation(),this.$dispatch("click:layer",t,e)},onMouseHover:function(e,t){e.stopPropagation(),e.preventDefault(),this.$dispatch("hover:layer",t,e)},onSelectLayers:function(e){e=e||[],i.each(this.selectedLayers,function(e){e.selected=!1}),this.selectedLayers=e,i.each(this.selectedLayers,function(e){e.selected=!0})},isGroupLayer:function(e){return[s.group,s.artboard,s.page].indexOf(e.type)!=-1}}}},{"../../../lib/LayerTypeEnum":15,"../common/layer-search-input":183,"./index.html":229,"./layers-list":232,underscore:682}],231:[function(e,t,n){t.exports='<div class="m-panel-layer-content" v-repeat="layer: filteredLayers">\n    <div v-component="layer-item" v-with="layer: layer"></div>\n    <div class="m-panel-layer__list m-panel-layer__list-child"\n         v-if="isGroupLayer(layer)"\n         v-class=\'active: layer && (layer.open || layer.found)\'\n         v-show="layer && (layer.open || layer.found)">\n        <div v-component="layers-list" v-with="layers: layer.layers"></div>\n    </div>\n</div>\n<div class="no-layers" v-if="!filteredLayers || filteredLayers.length == 0">No layers</div>\n\n'},{}],232:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../../../../lib/LayerTypeEnum"),o=e("../../canvas/layer-utility"),r=e("../../../../lib/LayerRoleEnum");t.exports={paramAttributes:["layers"],inherit:!0,template:e("./index.html"),components:{"layer-item":e("./layer")},data:function(){return{layers:[],previewSearchString:"",previewSelectedIndex:0}},ready:function(){this.$on("searchParams:scrollTo",function(){var e=this.searchParams.searchString;if(e!=this.previewSearchString&&(this.previewSelectedIndex=-1,this.previewSearchString=e),this.layersList.length>0){var t=this;if(e&&e.length>0){e=e.toLowerCase();var n=i.find(this.layersList,function(n,i){return n.name.toLowerCase().indexOf(e)>-1&&i>t.previewSelectedIndex});!n&&t.previewSelectedIndex>-1&&(n=i.find(this.layersList,function(t){return t.name.toLowerCase().indexOf(e)>-1})),n&&(t.previewSelectedIndex=i.indexOf(this.layersList,n),i.forEach(this.layersList,function(e){e.scrollTo=!1}),n&&(n.scrollTo=!0))}}return!1})},methods:{isGroupLayer:s.isGroupLayer},computed:{filteredLayers:function(){var e=[];return this.layers&&this.layers.length&&this.layers.forEach(function(t){t.role!==r.asset&&t.type!==s.asset&&e.push(t)}),e},layersList:function(){var e=[];return o.forEachLayers(this.layers,function(t){e.push(t)}),e}}}},{"../../../../lib/LayerRoleEnum":14,"../../../../lib/LayerTypeEnum":15,"../../canvas/layer-utility":169,"./index.html":231,"./layer":234,underscore:682}],233:[function(e,t,n){t.exports='<div class="m-panel-layer__item"\n     v-on="click: onClickLayer(layer, $event), mouseover: onHoverLayer(layer, $event)"\n     v-scroll="layer.scrollTo"\n     v-if="!(isGroupLayer(layer) && !layer.layers)"\n     v-class="selected: layer.selected, m-tree__hg: isGroupLayer(layer)">\n  <div class="m-panel-layer__toggler" v-on="click: onToggleOpenLayer" v-if="isGroupLayer(layer)">\n    <i class="sympli-icon" v-class="\'icon-layer_inspector_folder_down_arrow\': layer && layer.open, \'icon-layer_inspector_folder_right_arrow\': !layer.open"></i>\n  </div>\n\n  <i class="m-panel-layer__icon "\n     v-if=\'!isGroupLayer(layer)\'\n     v-class="error: layer.bounds.error,\n     icon-layer_vector: layer.type == \'layer\' || layer.type == \'shapeLayer\',\n     icon-layer_text: layer.type == \'textLayer\'"\n     v-attr="title: layer.bounds.error ? layer.bounds.error.message : \'\'"></i>\n\n  <div class="m-panel-layer__name ellipsis" v-class="bold: isGroupLayer(layer), bold-invisible: isGroupLayer(layer) && !layer.visible">\n    <span v-if="searchParams != undefined" v-html="layer.name | escape | highlighted searchString"></span>\n    <span v-if="searchParams == undefined" v-html="layer.name"></span>\n  </div>\n\n  <div class="m-panel-layer__visibility"\n       v-if="isShowVisibilityControl"\n       v-on="click: onToggleVisibility($event, layer)">\n    <i class="sympli-icon " v-class="icon-layers_eye_invisible: layer && !layer.visible, icon-layers_eye: layer && layer.visible"></i>\n  </div>\n</div>\n'},{}],234:[function(e,t,n){t.exports={inherit:!0,paramAttributes:["layers"],template:e("./index.html"),data:function(){return{}},methods:{onToggleOpenLayer:function(e){e.stopPropagation(),this.layer.open=!this.layer.open,this.$dispatch("scrollPane:reInit");
}},computed:{searchString:function(){return this.searchParams.searchString},isShowVisibilityControl:function(){return"photoshop"==this.bundle.source&&!this.layer.visibilityControlDisabled}},ready:function(){}}},{"./index.html":233}],235:[function(e,t,n){t.exports='<div v-if="showBlockOverlay" class="block-overlay">\n  <div class="wrapper">\n    <span class="sympli-icon icon-big_logo animated infinite pulse loading-image"></span>\n  </div>\n</div>\n\n<div v-if="longRequestCount" class="project-error project-error__working" >\n  <span class="sympli-icon icon-working"></span>\n  Still working...\n</div>\n\n<div v-if="longRequestFail" class="project-error project-error__warn" >\n  <span class="sympli-icon icon-warn"></span>\n  We apologize for the inconvenience. Please\n  <button class="btn-link" onclick="location.reload(true)"> refresh</button>\n  page.\n</div>\n\n<div v-if="isNewAppAvailable" class="project-error project-error__warn" >\n  <span class="sympli-icon icon-warn"></span>\n  A new version of web application is available.\n  Please <button class="btn-link" onclick="location.reload(true)"> refresh</button> page.\n</div>\n\n'},{}],236:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.navbarLine=$("#navbar-line"),this.$watch("requestCount",function(e){e?this.navbarLine.addClass("navbar-line-animation-on"):this.navbarLine.removeClass("navbar-line-animation-on")}.bind(this)),this.$watch("mainRequestCount",function(e){e?this.showBlockOverlayTimer||(this.showBlockOverlayTimer=setTimeout(function(){this.showBlockOverlay=!0}.bind(this),1001)):(this.showBlockOverlayTimer=clearTimeout(this.showBlockOverlayTimer),setTimeout(function(){this.mainBlockOverlayManualState||(this.showBlockOverlay=!1)}.bind(this),150))}),this.$watch("mainBlockOverlayManualState",function(e){e?this.showBlockOverlay=!0:this.showBlockOverlay=this.mainRequestCount>0})},data:function(){return{navbarLine:null,showBlockOverlay:!1,showBlockOverlayTimer:0}}}},{"./index.html":235}],237:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h3>Logs</h3>\n  </div>\n\n  <div class="filter filter-logs clearfix">\n    <form class="form-inline pull-right" v-on="submit: filter">\n      <input id="filter-log-method" class="form-control input-sm" v-model="method" type="text" placeholder="Method">\n      <input id="filter-log-endpoint" class="form-control input-sm" v-model="endpoint" type="text" placeholder="Endpoint">\n      <input id="filter-log-user" class="form-control input-sm" v-model="user" type="text" placeholder="User id">\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" v-model="hideAdminActions"> Hide admin logs\n        </label>\n      </div>\n      <button type="submit" class="btn btn-sm btn-default">Filter</button>\n    </form>\n  </div>\n\n  <hr/>\n\n  <div class="logs">\n    <table class="table table-hover table-condensed">\n      <thead>\n      <tr>\n        <td>Method</td>\n        <td>Endpoint</td>\n        <td>Query</td>\n        <td>User</td>\n        <td>Date</td>\n        <td></td>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-repeat="log: logs">\n        <td>{{log.method}}</td>\n        <td>{{log.endpoint}}</td>\n        <td>{{log.qs | json}}</td>\n        <td>{{log.user.email}}</td>\n        <td>{{log.createdAt | moment short}}</td>\n        <td class="text-right">\n          <a href="#" v-on="click: deleteLog($event, log)" title="Delete"><i class="fa fa-remove"></i></a>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n\n    <div class="text-left pull-left"\n         v-component="pagination"\n         current-page="{{currentPage}}"\n         per-page="{{perPage}}"\n         total-pages="{{totalPages}}"></div>\n\n    <p v-if="!logs.length">\n      no logs to be displayed...\n    </p>\n  </div>\n</section>\n'},{}],238:[function(e,t,n){"use strict";e("underscore");t.exports={inherit:!0,template:e("./index.html"),created:function(){this._loadLogs(),this.$on("change:page",function(e){this.currentPage=e,this._loadLogs()})},data:function(){return{loading:!1,logs:[],method:"",endpoint:"",user:"",hideAdminActions:!0,currentPage:0,totalPages:1,perPage:20}},methods:{filter:function(e){e.preventDefault(),this.resetPaginationParams(),this._loadLogs()},resetPaginationParams:function(){this.currentPage=0,this.totalPages=1},_loadLogs:function(){var e=this,t={skip:this.currentPage*this.perPage,limit:this.perPage};this.method&&(t.method=this.method),this.endpoint&&(t.endpoint=this.endpoint),this.user&&(t.user=this.user),this.hideAdminActions&&(t.hideAdminActions=this.hideAdminActions);var n=this.$api.get("/logs",{qs:t}).then(function(t){e.logs=t.data||[],this.totalPages=Math.ceil(t.count/this.perPage),this.loading=!1}.bind(this));this.$api(n)},deleteLog:function(e,t){e.preventDefault();var n=this;bootbox.confirm("Are you sure?",function(e){e&&n.$api(n.$api["delete"]("/logs/"+t.id).then(function(e){n.$dispatch("notify","success","Log was deleted"),n._loadLogs()}))})}},components:{pagination:e("../common/simple-pagination")}}},{"../common/simple-pagination":191,"./index.html":237,underscore:682}],239:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h3>Mails</h3>\n  </div>\n\n  <div class="filter filter-logs clearfix">\n    <form class="form-inline pull-right" v-on="submit: filter">\n      <input id="filter-log-email-to" class="form-control input-sm" v-model="emailTo" type="text" placeholder="To">\n      <input id="filter-log-email-from" class="form-control input-sm" v-model="emailFrom" type="text" placeholder="From">\n      <input id="filter-log-subject" class="form-control input-sm" v-model="subject" type="text" placeholder="Subject">\n      <button type="submit" class="btn btn-sm btn-default">Filter</button>\n    </form>\n  </div>\n\n  <hr/>\n\n  <div class="mails">\n    <table class="table table-hover table-condensed">\n      <thead>\n      <tr>\n        <td>To</td>\n        <td>From</td>\n        <td>Subject</td>\n        <td>Status</td>\n        <td>Date</td>\n        <td></td>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-repeat="mail: mails" style="cursor:pointer;" onclick="window.document.location=\'#!/mails/{{mail.token}}\';">\n        <td>{{mail.emailTo}}</td>\n        <td>{{mail.emailFrom}}</td>\n        <td>{{mail.subject}}</td>\n        <td>{{mail.status}}</td>\n        <td>{{mail.createdAt | moment short}}</td>\n      </tr>\n      </tbody>\n    </table>\n\n    <div class="text-left pull-left"\n         v-component="pagination"\n         current-page="{{currentPage}}"\n         per-page="{{perPage}}"\n         total-pages="{{totalPages}}"></div>\n\n    <p v-if="!mails.length">\n      no logs to be displayed...\n    </p>\n  </div>\n</section>\n'},{}],240:[function(e,t,n){"use strict";e("underscore");t.exports={inherit:!0,template:e("./index.html"),created:function(){this._loadMails(),this.$on("change:page",function(e){this.currentPage=e,this._loadMails()})},data:function(){return{loading:!1,mails:[],emailTo:"",emailFrom:"",subject:"",currentPage:0,totalPages:1,perPage:20}},methods:{filter:function(e){e.preventDefault(),this.resetPaginationParams(),this._loadMails()},resetPaginationParams:function(){this.currentPage=0,this.totalPages=1},_loadMails:function(){var e=this,t={skip:this.currentPage*this.perPage,limit:this.perPage};this.emailFrom&&(t.emailFrom=this.emailFrom),this.emailTo&&(t.emailTo=this.emailTo),this.subject&&(t.subject=this.subject);var n=this.$api.get("/mails",{qs:t}).then(function(t){e.mails=t.data||[],this.totalPages=Math.ceil(t.count/this.perPage),this.loading=!1}.bind(this));this.$api(n)}},components:{pagination:e("../common/simple-pagination")}}},{"../common/simple-pagination":191,"./index.html":239,underscore:682}],241:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h1>\n      Mail:\n      {{mail.subject}}\n      <small>{{mail.createdAt | moment short}}</small>\n    </h1>\n  </div>\n\n  <dl class="dl-horizontal">\n    <dt>To</dt>\n    <dd>{{mail.emailTo}}</dd>\n    <dt>From</dt>\n    <dd>{{mail.emailFrom}}</dd>\n    <dt>Status</dt>\n    <dd>{{mail.status}}</dd>\n    <dt>Service</dt>\n    <dd>{{mail.serviceType}}</dd>\n    <span>\n      <dt>Body</dt>\n      <dd>\n          <iframe v-el="iframe" width="650px" height="800px" sandbox="allow-scripts allow-same-origin" src="about:blank"></iframe>\n      </dd>\n    </span>\n  </dl>\n</section>\n\n\n'},{}],242:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./view.html"),created:function(){this.id=this.$root.route.params[0],this.id&&this._loadMail()},data:function(){return{id:null,mail:{}}},methods:{_loadMail:function(){var e=this,t=this.$api.get("/mails/"+this.$root.route.params[0]).then(function(t){e.mail=t.data;var n=e.$$.iframe.contentWindow.document;n.open("text/html","replace"),n.write(t.data.body),n.close()});this.$api(t)}}}},{"./view.html":241}],243:[function(e,t,n){t.exports='<ul class="navbar-project-menu">\n  <li class="brandbooks-link" v-if="isBrandbook">\n    <a href="#!/brandbooks">Brandbooks</a>\n    <span class="navbar-separator">\n      <span class="sympli-icon icon-detail_arrow_right_small"></span>\n    </span>\n    <span class="name ellipsis">{{brandbook.name}}</span>\n  </li>\n\n  <li class="project-name active" v-if="isProject">\n    <a class="ellipsis" href="#!/projects/{{project.id}}" v-scroll-into-view="navbarScroll">{{project.name}}</a>\n  </li>\n\n  <li class="project-name ellipsis" v-class="big-screen: bundle"\n      id="projectBreadcrumb"\n      v-el="projectBreadcrumb"\n      v-if="isBundle"\n      v-breadcrumb-resizer="{namespace: \'projectBreadcrumb\'}">\n    <a class="ellipsis" href="#!/projects/{{bundle.project.id}}">{{bundle.project.name}}</a>\n  </li>\n\n  <li class="navbar-separator" v-if="isBundle">\n    <span class="sympli-icon icon-detail_arrow_right_small"></span>\n  </li>\n\n  <li class="bundle-name active ellipsis" v-class="big-screen: bundle"\n      id="bundleBreadcrumb"\n      v-el="bundleBreadcrumb"\n      v-if="isBundle"\n      v-breadcrumb-resizer="{namespace: \'bundleBreadcrumb\'}">\n    <a class="ellipsis" href="#!/designs/{{bundle.id}}" v-if="isChanges">{{bundle.name}}</a>\n    <span class="ellipsis" v-on="click:onToggleMenuClick" v-if="!isChanges">\n      {{bundle.name}}\n      <span class="sympli-icon icon-detail_arrow_down_small"></span>\n    </span>\n  </li>\n\n  <li class="dropdown" v-class="active-admin: route && route.role === \'admin\'" v-if="isCurrentUserAdmin">\n    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Administration</a>\n    <ul class="dropdown-menu">\n      <li v-repeat="adminItems" v-class="active: route && routeName === route.name">\n        <a href="#" v-go="url">{{name}}</a>\n      </li>\n    </ul>\n  </li>\n</ul>\n'},{}],244:[function(e,t,n){"use strict";var i=e("underscore"),s=e("sympli-enums").Scopes,o=(e("../../routes"),e("./menu-helper")),r=[{routeName:"invites",name:"Invites",url:"invites",role:"admin"},{routeName:"logs",name:"Logs",url:"logs",role:"admin"},{routeName:"stats",name:"Stats",url:"stats",role:"admin"},{routeName:"versions",name:"Versions",url:"versions",role:"admin"},{routeName:"usersMgmt",name:"Users",url:"users",role:"admin"},{routeName:"mails",name:"Mails",url:"mails",role:"admin"},{routeName:"errors",name:"Errors",url:"errors",role:"admin"},{routeName:"demos",name:"Demos",url:"demos",role:"admin"},{routeName:"announcements",name:"Announcements",url:"announcements",role:"admin"},{routeName:"customers",name:"Customers",url:"customers",role:"admin"},{routeName:"faq",name:"FAQ",url:"faq",role:"admin"},{routeName:"companiesSettings",name:"Companies settings",url:"companies-settings",role:"admin"},{routeName:"certificates",name:"Certificates",url:"certificates",role:"admin"}];t.exports={inherit:!0,template:e("./index.html"),data:function(){return{adminItems:[],projectBreadcrumbWidth:null,bundleBreadcrumbWidth:null}},created:function(){this.adminItems=i.sortBy(o.filterAdminMenuItems(r),"name")},ready:function(){this.$on(s.breadcrumbs.collapse,this.handleBreadcrumbsCollapse),this.$on(s.breadcrumbs.expand,this.handleBreadcrumbsExpand)},methods:{handleBreadcrumbsCollapse:function(e,t,n){this._setBreadcrumbsInitialWidthIfEmpty();var i=21,o=39,r=e.right+n-t.left,a=this.projectBreadcrumb.clientWidth,l=this.bundleBreadcrumb.clientWidth,c=!1,u=!1;r<=0||(a-r>=i?(c=a-r,c<i&&(c=i)):a+l>=r?(c=i,u=l-(r-a+o),u<o&&(u=o)):(c=i,u=o));var d=t.right-e.left,h=27,p=d-h-(u?u:l),f=d-h-(c?c:a);c!==!1&&this.$sympliTrigger("projectBreadcrumb:"+s.breadcrumbs.item.collapse,c,p),u!==!1&&this.$sympliTrigger("bundleBreadcrumb:"+s.breadcrumbs.item.collapse,u,f)},handleBreadcrumbsExpand:function(e,t,n){this._setBreadcrumbsInitialWidthIfEmpty();var i=t.left-(e.right+n),o=this.projectBreadcrumb.clientWidth,r=this.bundleBreadcrumb.clientWidth,a=!1,l=!1;r>=this.bundleBreadcrumbWidth||(r+i>=this.bundleBreadcrumbWidth?i=r+i-this.bundleBreadcrumbWidth:a=r+i),i>0&&(o>=this.projectBreadcrumbWidth||o+i>=this.projectBreadcrumbWidth||(l=o+i));var c=t.right-e.left,u=27,d=c-u-(a?a:r),h=c-u-(l?l:o);this.$sympliTrigger("bundleBreadcrumb:"+s.breadcrumbs.item.expand,a,h),this.$sympliTrigger("projectBreadcrumb:"+s.breadcrumbs.item.expand,l,d)},_setBreadcrumbsInitialWidthIfEmpty:function(){!this.projectBreadcrumbWidth&&this.projectBreadcrumb&&(this.projectBreadcrumbWidth=this.projectBreadcrumb.clientWidth),!this.bundleBreadcrumbWidth&&this.bundleBreadcrumb&&(this.bundleBreadcrumbWidth=this.bundleBreadcrumb.clientWidth)},onToggleMenuClick:function(){this.$dispatch("toggle:menu","bundlesList")}},computed:{isProjectsView:function(){return this.$root&&this.$root.route&&"projects"===this.$root.route.name},isBrandbook:function(){return this.brandbook&&"brandbookView"===this.$root.route.name},isProject:function(){return this.project&&!this.bundle},isBundle:function(){return this.bundle&&this.bundle.project},isChanges:function(){return this.bundle&&this.isChangesView},isCurrentUserAdmin:function(){return"admin"===window.user.role},projectBreadcrumb:function(){return document.getElementById("projectBreadcrumb")},bundleBreadcrumb:function(){return document.getElementById("bundleBreadcrumb")}}}},{"../../routes":438,"./index.html":243,"./menu-helper":245,"sympli-enums":524,underscore:682}],245:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../../routes");t.exports={filterMenuItems:function(e){return i.filter(e,function(e){return!e.role||user.role===e.role})},filterAdminMenuItems:function(e){return i.filter(e,function(e){var t=s[e.routeName];return!!t&&t.isEnabled})}}},{"../../routes":438,underscore:682}],246:[function(e,t,n){t.exports='<ul class="navbar-bundle-view-menu" v-if="canShowMenu" v-el="bundleBlockViewMenu">\n  <li v-class="\'active\': isSpecsViewActive">\n    <a class="ellipsis" v-on="click: onMenuLinkClick($event, \'specs\')">Specs</a>\n  </li>\n  <li v-class="\'active\': isReviewViewActive">\n    <a class="ellipsis" v-on="click: onMenuLinkClick($event, \'review\')">Review</a>\n  </li>\n  <li v-class="\'active\': isChangesViewActive" v-if="versionsCount > 1">\n    <a class="ellipsis" href="#!/designs/{{bundleId}}/changes">Changes</a>\n  </li>\n</ul>\n'},{}],247:[function(e,t,n){"use strict";var i=e("underscore"),s=e("sympli-enums").Scopes,o=e("../../../../enums/BundleViewMenuEnum"),r=["bundleView","bundleVersionView","bundleSpecs","bundleVersionSpecs","bundleReview","bundleVersionReview","bundleChanges"];t.exports={inherit:!0,template:e("./index.html"),data:function(){return{versionsCount:null,bundleId:null,bundleView:null}},ready:function(){this.$on(s.menu.bundleView.changed,function(e,t){this.bundleId=e,this.bundleView=t;var n=parseInt(this.$root.route.params[1]);this.version=i.isNaN(n)?null:n}),this.$on(s.loaded.bundle.versions,function(e){this.versionsCount=e.length}),this.$on(s.lanes.route,this.handleRouteChanged),this.$on(s.menu.bundleView.show,function(){$(this.$el).children(this.$$.bundleBlockViewMenu).removeClass("menu-hidden")}),this.$on(s.menu.bundleView.hide,function(){$(this.$el).children(this.$$.bundleBlockViewMenu).addClass("menu-hidden")}),this.$watch("canShowMenu",function(){this.canShowMenu&&this.$sympliTrigger(s.menu.bundleView.ready)})},methods:{handleRouteChanged:function(e){r.indexOf(e.name)===-1&&(this.bundleId=null,this.bundleView=null)},onMenuLinkClick:function(e,t){e.preventDefault(),this.version?window.location.hash="#!/designs/"+this.bundleId+"/versions/"+this.version+"/"+t:window.location.hash="#!/designs/"+this.bundleId+"/"+t}},computed:{canShowMenu:function(){return this.bundleId&&this.bundleView&&null!==this.versionsCount},isSpecsViewActive:function(){return this.bundleView===o.Specs},isReviewViewActive:function(){return this.bundleView===o.Review},isChangesViewActive:function(){return this.bundleView===o.Changes}}}},{"../../../../enums/BundleViewMenuEnum":2,"./index.html":246,"sympli-enums":524,underscore:682}],248:[function(e,t,n){t.exports='<div class="sympli-header-button sympli-header-button__error" v-on-click-away="onClickAwayErrors" v-class="open: isErrorsOpen" v-if="false && bundle && enableErrors">\n  <span v-on="click: onErrorsClick" class="sympli-icon icon-warn_icon"></span>\n  <div class="bundle-errors"\n       v-component="bundle-errors"\n       v-with="bundle: bundle, errorsShown: isErrorsOpen"\n       v-close="isErrorsOpen">\n  </div>\n</div>'},{}],249:[function(e,t,n){"use strict";var i=e("sympli-enums").Events,s=e("sympli-enums").Scopes;t.exports={inherit:!0,template:e("./index.html"),data:function(){return{isErrorsOpen:!1}},ready:function(){this.$on(s.loaded.bundle.data,function(e){this.enableErrors=!0}),this.$on("bundle:errors:collect",function(e){this.enableErrors=e.length>0}),this.$on("document:esc",function(){this.onClickAwayErrors()}),this.$on(s.menu.popups.close,this.$sympliEvent.handler(this.onClickAwayErrors,i.menu.errors))},methods:{onClickAwayErrors:function(e){this.isErrorsOpen=!1},onErrorsClick:function(e){this.$sympliEvent(e,i.menu.errors),this.$sympliTrigger(s.menu.popups.close,e),this.isErrorsOpen=!this.isErrorsOpen}},components:{"bundle-errors":e("../../errors/bundle-errors")}}},{"../../errors/bundle-errors":210,"./index.html":248,"sympli-enums":524}],250:[function(e,t,n){t.exports='<app-breadcrumbs v-el="breadcrumbs"></app-breadcrumbs>\n<bundle-view-menu v-el="bundleViewMenu"></bundle-view-menu>\n\n<div class="sympli-header-buttons">\n  <user-menu></user-menu>\n  <app-notifications></app-notifications>\n\n  <div class="navbar-context-buttons">\n    <tags-panel v-if="!isChangesView"></tags-panel>\n    <share-modal></share-modal>\n    <!--<errors-panel></errors-panel>-->\n  </div>\n</div>\n'},{}],251:[function(e,t,n){"use strict";var i=e("underscore"),s=(e("../routes"),e("sympli-enums").Scopes),o=["bundleView","bundleVersionView","bundleSpecs","bundleVersionSpecs","bundleReview","bundleVersionReview"],r=["bundleChanges","bundleVersionsDiff"];t.exports={inherit:!0,template:e("./index.html"),didScroll:!1,components:{"app-breadcrumbs":e("./breadcrumbs"),"app-notifications":e("./notifications"),"share-modal":e("./share"),"tags-panel":e("./tags"),"errors-panel":e("./errors-panel"),"user-menu":e("./user-menu"),"bundle-view-menu":e("./bundle-view-menu")},data:function(){return{bundle:this.bundle,project:null,brandbook:null,isChangesView:!1,lastScrollTop:!1,navbarScroll:{delta:5,navbar:!0,scrollTo:".main-wrap"},navbarBlock:!1,navbarHeight:!1,firstResize:!0,menuOk:!1}},ready:function(){this.$on(s.loaded.bundle.data,function(e){this.bundle=e}),this.$on("bundle:update",function(e){(e.project.id||e.project._id)&&(this.bundle=e)}),this.$on(s.loaded.project.data,function(e){this.project=e}),this.$on(s.loaded.brandbook.data,function(e){this.brandbook=e}),this.$on("bundle:changes:ready",function(){this.isChangesView=!0}),this.$on(s.lanes.route,function(e){var t=o.indexOf(e.name)===-1;this.isChangesView=r.indexOf(e.name)>=0,t&&!this.isChangesView&&(this.bundle=null),"projectsEdit"!==e.name&&"projectsView"!==e.name&&t&&(this.project=null),this.$sympliTrigger(s.menu.popups.close),this.didScroll=!0,this._onScroll(),this.$broadcast(s.menu.bundleView.show)}),this.$on(s.breadcrumbs.item.expanded,this.handleBreadcrumbsExpanded),this.$on(s.breadcrumbs.item.collapsed,this.handleBreadcrumbsCollapsed),this.lastScrollTop=0;var e=250,t=this;$(window).scroll(i.throttle(function(){t.didScroll=!0,t._onScroll()},e)),setTimeout(t._onScroll,e),this.$on("resize",i.throttle(this.handleResize.bind(this),30)),this.$on(s.menu.bundleView.ready,function(){this.menuOk=!0,this._tryInitBreadcrumbs()}),this.$watch("bundle",function(){this._tryInitBreadcrumbs()})},methods:{_onScroll:function(){if(this.navbarBlock=$(".navbar-fixed-top"),this.navbarHeight=this.navbarBlock.outerHeight(),this.didScroll){var e=$(window).scrollTop();if(0==e)this.navbarBlock.removeClass("nav-up").addClass("nav-down");else{if(Math.abs(this.lastScrollTop-e)<=this.navbarScroll.delta)return;e>this.lastScrollTop&&e>this.navbarHeight?(this.navbarBlock.removeClass("nav-down").addClass("nav-up"),this.$sympliTrigger(s.menu.popups.close)):e+$(window).height()<$(document).height()&&this.navbarBlock.removeClass("nav-up").addClass("nav-down")}this.lastScrollTop=e,this.didScroll=!1}},handleBreadcrumbsExpanded:function(){this.breadcrumbsRect&&this.bundleViewMenuRect&&this.breadcrumbsRect.right>=this.bundleViewMenuRect.left&&this.$broadcast(s.menu.bundleView.hide)},handleBreadcrumbsCollapsed:function(){this.$broadcast(s.menu.bundleView.show)},_tryInitBreadcrumbs:function(){this.menuOk&&this.bundle&&this.handleResize()},handleResize:function(){if(this.breadcrumbsRect&&this.bundleViewMenuRect&&(this.breadcrumbsRect.height||this.bundleViewMenuRect.height)){var e=this.breadcrumbsRect,t=this.bundleViewMenuRect;if(e.height>t.height){e=i.clone(e);var n=document.getElementById("bundleBreadcrumb").getBoundingClientRect(),o=n.width+35;e.height=t.height,e.bottom=t.bottom,e.width+=o,e.right+=o}var r=50;e.right+r>=t.left?this.$broadcast(s.breadcrumbs.collapse,e,t,r):this.$broadcast(s.breadcrumbs.expand,e,t,r)}}},computed:{breadcrumbsRect:function(){return this.$$.breadcrumbs.firstElementChild?this.$$.breadcrumbs.firstElementChild.getBoundingClientRect():void 0},bundleViewMenuRect:function(){return this.$$.bundleViewMenu.firstElementChild?this.$$.bundleViewMenu.firstElementChild.getBoundingClientRect():void 0}}}},{"../routes":438,"./breadcrumbs":244,"./bundle-view-menu":247,"./errors-panel":249,"./index.html":250,"./notifications":253,"./share":257,"./tags":259,"./user-menu":261,"sympli-enums":524,underscore:682}],252:[function(e,t,n){t.exports='<div class="sympli-header-button sympli-header-button__notification" v-on-click-away="onClickAwayNotifications">\n  <span v-on="click: onNotificationsClick" class="sympli-icon icon-bell"></span>\n\n  <div class="has-new-notifications" v-if="hasNewNotifications"></div>\n\n  <div id="notificationsPanel" v-el="notifications" v-class="open: isNotificationsOpen">\n    <div class="arrow"></div>\n    <div class="notificationsPanel__block" v-style="style" v-scrollpane="{}" v-isolated-scroll="{}">\n      <ul class="sympli-dialog">\n        <li class="notifications-block" v-repeat="ng: groupedNotificationsSliced | shownNotificationTypeFilter" v-class="is-new: !ng.isRead">\n          <!--<small v-if="DEBUG" style="position: absolute; right: 10px; background: #fceeb2;">{{ng.type}}</small>-->\n          <div class="notifications-block__el" v-if="ng.type === \'announcement\'">\n            <div class="notifications-block__icon notifications-block__icon-announcement">\n              <span class="sympli-icon icon-announcement"></span>\n            </div>\n            <div class="notifications-block__content">\n              <div class="date-block">ANNOUNCEMENT</div>\n              <div class="date-text">\n                <div>{{{ng.announcement.body}}}</div>\n              </div>\n            </div>\n          </div>\n\n          <div class="notifications-block__el" v-if="ng.type === \'mention\'">\n            <div class="notifications-block__icon notifications-block__icon-mentioned">\n              <span class="sympli-icon icon-state_mentioned"></span>\n            </div>\n            <div class="notifications-block__content">\n              <div class="date-block">{{ng.date | moment short}}</div>\n              <div class="date-text">\n                <div v-component="notification-group-users" v-with="ng: ng"></div>\n              <span>has mentioned you in\n              <b>{{ng.notifications.length}}</b> {{ng.notifications.length | pluralize annotation}}\n              in</span> <a class="ellipsis" v-attr="href: \'/app#!/designs/\' + ng.bundle.id + \'/messages\'" v-on="click: onClickBundle($event, ng)">{{ng.bundle.name}}</a>\n              </div>\n            </div>\n          </div>\n\n          <div class="notifications-block__el" v-if="ng.type === \'message\'">\n            <div class="notifications-block__icon notifications-block__icon-message">\n              <span class="sympli-icon icon-state_message"></span>\n            </div>\n            <div class="notifications-block__content">\n              <div class="date-block">{{ng.date | moment short}}</div>\n              <div class="date-text">\n                <div v-component="notification-group-users" v-with="ng: ng"></div>\n              <span>wrote\n              <b>{{ng.notifications.length}}</b> {{ng.notifications.length | pluralize message}}\n              in</span> <a class="ellipsis" v-attr="href: \'/app#!/designs/\' + ng.bundle.id + \'/messages\'" v-on="click: onClickBundle($event, ng)">{{ng.bundle.name}}</a>\n              </div>\n            </div>\n          </div>\n\n          <div class="notifications-block__el" v-if="ng.type === \'bundle\'">\n            <div class="notifications-block__icon notifications-block__icon-added">\n              <span class="sympli-icon icon-state_added"></span>\n            </div>\n            <div class="notifications-block__content">\n              <div class="date-block">{{ng.date | moment short}}</div>\n              <div class="date-text">\n                <div v-component="notification-group-users" v-with="ng: ng"></div>\n              <span>has uploaded\n              <b>{{ng.notifications.length}}</b> {{ng.notifications.length | pluralize design}}\n              to</span> <a class="ellipsis" v-attr="href: \'/app#!/projects/\' + ng.project.id" v-on="click: onClickProject($event, ng)">{{ng.project.name}}</a>\n              </div>\n            </div>\n          </div>\n\n          <!-- if we would like to show information about delete-->\n          <div class="notifications-block__el" v-if="ng.type === \'designWasDeleted\'">\n            <div class="notifications-block__icon notifications-block__icon-removed">\n              <span class="sympli-icon icon-state_removed"></span>\n            </div>\n            <div class="notifications-block__content">\n              <div class="date-block">{{ng.date | moment short}}</div>\n              <div class="date-text">\n                <div v-component="notification-group-users" v-with="ng: ng"></div>\n              <span>has deleted\n              <b>{{ng.notifications.length}}</b> {{ng.notifications.length | pluralize design}}\n              in</span> <a class="ellipsis" v-attr="href: \'/app#!/designs/\' + ng.bundle.id + \'/messages\'">{{ng.project.name}}</a>\n              </div>\n            </div>\n          </div>\n\n          <!-- if we would like to show information about update for the version-->\n          <div class="notifications-block__el" v-if="ng.type === \'designWasUpdated\'">\n            <div class="notifications-block__icon notifications-block__icon-updated">\n              <span class="sympli-icon icon-state_updated"></span>\n            </div>\n            <div class="notifications-block__content">\n              <div class="date-block">{{ng.date | moment short}}</div>\n              <div class="date-text">\n                <div v-component="notification-group-users" v-with="ng: ng"></div>\n              <span>has updated\n              <b>{{ng.notifications.length}}</b> {{ng.notifications.length | pluralize design}}\n              in</span> <a class="ellipsis" v-attr="href: \'/app#!/designs/\' + ng.bundle.id + \'/messages\'">{{ng.project.name}}</a>\n              </div>\n            </div>\n          </div>\n        </li>\n\n        <li class="notifications-block empty" v-if="!groupedNotifications.length">\n          <span class="sympli-icon icon-empty-notifications"></span>\n          <p>No notifications yet…</p>\n        </li>\n\n        <li class="notifications-block show-more" v-on="click: onShowMore" v-if="hasMore">Show more…</li>\n      </ul>\n    </div>\n  </div>\n</div>\n'},{}],253:[function(e,t,n){"use strict";var i=e("underscore"),s=e("moment"),o=e("sympli-enums").Events,r=e("sympli-enums").Scopes,a=20,l=6e3,c=["mention","message","bundle","announcement","designWasDeleted","designWasUpdated"];t.exports={inherit:!0,replace:!0,template:e("./index.html"),data:function(){return{notifications:[],groupedNotifications:[],groupedNotificationsCount:a,isNotificationsOpen:!1,style:""}},ready:function(){this.loadNotifications(),this.$on("bundle:ready",this.loadNotifications),this.$on("create:message",this.loadNotifications),this.$on("edit:message",this.handleEditMessage),this.$on("delete:message",this.handleDeleteMessage),this.$on("create:bundleSpot",this.loadNotifications),this.$on("delete:bundleSpot",this.handleDeleteBundleSpot),this.$on("announcement:publish",this.handlePublishAnnouncement),this.$on("announcement:delete",this.handleDeleteAnnouncement),this.$on("lanes:route",function(e){this.isNotificationsOpen=!1}),this.$on("resize",this.handleResize),this.$on("document:esc",function(){this.onClickAwayNotifications()}),this.$on(r.menu.popups.close,this.$sympliEvent.handler(this.onClickAwayNotifications,o.menu.notifications)),this.calcStyle()},methods:{getNotificationGroupDescriptor:function(e){var t,n=e.type;if("announcement"===e.type)t=e.id;else if("bundle"===e.type)t=e.readAt+"_"+e.type+"_"+e.project.id;else if("message"===e.type){var i=this.user.id;e.message&&e.message.mentionees.indexOf(i)>=0?(t=e.readAt+"_mention_"+e.type+"_"+e.bundle.id,n="mention"):t=e.readAt+"_"+e.type+"_"+e.bundle.id}else t=e.readAt+"_"+e.type+"_"+e.bundle.id;return{type:n,key:t}},concatNotifications:function(e){this.notifications=e.concat(this.notifications),this.setGroupedNotifications(this.notifications)},setNotifications:function(e){this.notifications=e,this.setGroupedNotifications(this.notifications)},setGroupedNotifications:function(e){var t={};i.each(e,function(e){var n=this.getNotificationGroupDescriptor(e);t[n.key]?(t[n.key].notifications.push(e),t[n.key].date<e.createdAt&&(t[n.key].date=e.createdAt)):t[n.key]={type:n.type,notifications:[e],date:e.createdAt,isRead:!!e.readAt,bundle:e.bundle,project:e.project,announcement:e.announcement}},this),this.groupedNotifications=i.values(t)},onNotificationsClick:function(e){this.$sympliEvent(e,o.menu.notifications),this.$sympliTrigger(r.menu.popups.close,e),this.isNotificationsOpen=!this.isNotificationsOpen,this.isNotificationsOpen&&i.each(this.groupedNotifications,function(e){e.isRead||setTimeout(function(){e.isRead=!0},l)}),this.readNotificationsIfOpen(),this.$broadcast("show:notifications"),this.updateScrollpane()},onClickBundle:function(e,t){var n=this.$root.route.params[0];n===t.bundle.id&&(this.isNotificationsOpen=!1),this.$sympliTrigger("select:bundle:tab","messages")},onClickProject:function(e,t){var n=this.$root.route.params[0];n===t.project.id&&(this.isNotificationsOpen=!1)},onClickAwayNotifications:function(e){this.isNotificationsOpen=!1},handleEditMessage:function(e){var t=i.find(this.notifications,function(t){return t.message&&t.message.id==e.id});t&&t.message&&(t.message.mentionees=i.map(e.mentionees,"id"),t.message.message=e.message),this.setNotifications(this.notifications),
this.loadNotifications()},handleDeleteMessage:function(e){var t=i.filter(this.notifications,function(t){return t.message&&t.message.id!=e.id});this.setNotifications(t),this.loadNotifications()},handleDeleteBundleSpot:function(e){var t=i.filter(this.notifications,function(t){return t.bundleSpot&&t.bundleSpot.id!=e.id});this.setNotifications(t),this.loadNotifications()},handlePublishAnnouncement:function(e){this.loadNotifications()},handleDeleteAnnouncement:function(e){var t=i.filter(this.notifications,function(t){return t.announcement&&t.announcement.id!=e.id});this.setNotifications(t),this.loadNotifications()},handleResize:function(){this.calcStyle(),this.updateScrollpane()},loadNotifications:function(){var e=this,t={populate:"actor bundle message project announcement",limit:100};if(this.notifications&&this.notifications.length&&this.notifications[0]){var n=this.notifications[0];t.gtNotification=n.id}this.$api.get("/notifications",{qs:t}).then(function(t){e.concatNotifications(t.data),e.readNotificationsIfOpen()}).then(function(){e.updateScrollpane()})},readNotificationsIfOpen:function(){this.isNotificationsOpen&&this.readNotifications()},readNotifications:function(){if(this.notifications&&this.notifications.length){var e=s().toISOString();i.each(this.notifications,function(t){t.readAt||(t.readAt=e)});var t=i.last(i.sortBy(this.notifications,"id")),n={notification:t.id};this.$api.post("/notifications/read",{body:n})}},updateScrollpane:function(){this.$emit("scrollPane:reInit")},onShowMore:function(e){e.stopPropagation(),this.hasMore&&(this.groupedNotificationsCount=Math.min(this.groupedNotificationsCount+a,this.groupedNotifications.length))},calcStyle:function(){var e=$(window).height(),t=e-$(".navbar-fixed-top").height()-50;t=t>0?t:e,this.style="max-height: "+t+"px;"}},computed:{hasMore:function(){return this.groupedNotifications.length>this.groupedNotificationsSliced.length},groupedNotificationsSliced:function(){return this.updateScrollpane(),this.groupedNotifications.slice(0,this.groupedNotificationsCount)},hasNewNotifications:function(){var e=!1;return i.each(this.notifications,function(t){return e=e||!t.readAt}),e}},filters:{shownNotificationTypeFilter:function(e){return i.filter(e,function(e){return c.indexOf(e.type)>=0})}},components:{"notification-group-users":e("./ng-users")}}},{"./index.html":252,"./ng-users":255,moment:603,"sympli-enums":524,underscore:682}],254:[function(e,t,n){t.exports='<span class="ellipsis date-text__name" v-if="ngUsers.length == 1">\n  {{ngUsers[0].profile.name || ngUsers[0].email}}\n</span>\n\n<span class="ellipsis date-text__name" v-if="ngUsers.length != 1">\n  {{ngUsers.length}} {{ngUsers.length | pluralize user }}\n</span>\n'},{}],255:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,replace:!0,template:e("./index.html"),data:function(){return{}},computed:{ngUsers:function(){if(!this.ng)return[];var e={};return i.each(this.ng.notifications,function(t){t.actor&&(e[t.actor.id]=t.actor)}),i.values(e)}},methods:{getActorName:function(e){return e&&e.actor&&(e.actor.profile.name||e.actor.email)}}}},{"./index.html":254,underscore:682}],256:[function(e,t,n){t.exports='<div class="header-section header-section__share" v-if="canShare">\n  <div class="sympli-header-button__text link-style" v-on="click: onShareClick">\n    <span class="sympli-icon icon-share_blue_small" title="Share Project"></span>\n    <span class="text">Share</span>\n  </div>\n</div>\n'},{}],257:[function(e,t,n){"use strict";var i=e("sympli-enums").Events,s=e("sympli-enums").Scopes;t.exports={inherit:!0,template:e("./index.html"),data:function(){return{isShareOpen:!1}},ready:function(){this.$on("document:esc",function(){this.onClickAwayShare()}),this.$on(s.menu.popups.close,this.$sympliEvent.handler(this.onClickAwayShare,i.menu.share))},methods:{onClickAwayShare:function(e){this.$dispatch("modal:close","bundle-share")},onShareClick:function(e){this.$sympliEvent(e,i.menu.share),this.$sympliTrigger(s.menu.popups.close,e),this.$dispatch("modal:show","bundle-share")}},computed:{canShare:function(){return this.bundle&&this.$security.checkProjectAccess(this.bundle.project,this.$security.permissions.project.manage.users,!0)}}}},{"./index.html":256,"sympli-enums":524}],258:[function(e,t,n){t.exports='<div class="header-section header-section__tags" v-if="bundle" v-class="open: isTagsOpen" v-on-click-away="onClickAwayTags">\n  <div class="sympli-header-button__text" v-on="click: onTagsClick">\n    <span class="sympli-icon icon-tag_small"></span>\n    <span class="text" v-if="tagsCount">{{tagsCount}} {{tagsCount | pluralize tag}}</span>\n    <span class="text" v-if="!tagsCount">Tag</span>\n  </div>\n\n  <div class="bundle-tags-panel"\n       v-component="bundle-tags-panel"\n       v-with="project: bundle.project, bundle: bundle, tagsShown: isTagsOpen"\n       v-close="isTagsOpen">\n  </div>\n</div>\n'},{}],259:[function(e,t,n){"use strict";var i=e("underscore"),s=e("sympli-enums").Events,o=e("sympli-enums").Scopes;t.exports={inherit:!0,template:e("./index.html"),data:function(){return{isTagsOpen:!1,tagsHackComputedChanger__:1}},ready:function(){this.$on("document:esc",function(){this.onClickAwayTags()}),this.$on("project:tags:updated:local",function(){this.tagsHackComputedChanger__=this.tagsHackComputedChanger__+1}),this.$on(o.menu.popups.close,this.$sympliEvent.handler(this.onClickAwayTags,s.menu.tags))},methods:{onClickAwayTags:function(e){this.isTagsOpen=!1},onTagsClick:function(e){this.$sympliEvent(e,s.menu.tags),this.$sympliTrigger(o.menu.popups.close,e),this.isTagsOpen=!this.isTagsOpen}},computed:{tagsCount:function(){var e=this.tagsHackComputedChanger__;if(!(e&&this.bundle&&this.bundle.project&&this.bundle.project.id&&this.bundle.project.metadata))return null;var t=i.find(this.bundle.project.metadata.bundles,function(e){var t=this.bundle.bundle||this.bundle.id;return e.id==t},this);return this.bundle.project.tagsMap&&this.bundle.project.tagsMap[this.bundle.id]&&(t=this.bundle.project.tagsMap[this.bundle.id]),t?t.tags&&t.tags.length:0}},components:{"bundle-tags-panel":e("../../tags/bundle-tags-panel")}}},{"../../tags/bundle-tags-panel":459,"./index.html":258,"sympli-enums":524,underscore:682}],260:[function(e,t,n){t.exports='<div class="sympli-user-account dropdown" v-class="\'open\': isUserMenuOpen" v-on-click-away="onClickAwayUser">\n    <a class="dropdown-toggle navbar-profile" id="account-name-id" href=\'#\' role="button"\n       title=\'{{user.email}}\' aria-expanded="{{isUserMenuOpen}}" v-on="click: onUserMenuClick">\n        <span class="sympli-icon icon-user_dark"></span>\n        <span class="sympli-icon icon-user_arrow_down"></span>\n    </a>\n    <ul class="dropdown-menu">\n        <li class="arrow"></li>\n        <li class="profile-box" v-class="active: route && route.name == \'profile\'">\n            <a class="profile" href="/app#!/profile">\n                <img alt="" class="gravatar-image" v-attr="src: gravatarUrl"/>\n                <span class="profile-title">\n                <span class="profile-title__name ellipsis">\n                  {{ user.profile.name || user.email}}\n                </span>\n                <span class="profile-title__profile" v-if="!partOfCompany">Profile</span>\n                <span class="profile-title__profile ellipsis" v-if="partOfCompany">{{companyName}}</span>\n              </span>\n            </a>\n        </li>\n        <li class="subscription-link"  v-class="active: route && route.name == \'subscription\'" v-if="canShowSubscriptionItem">\n            <a href="/app#!/subscription" class="subscription">\n                <strong>{{(user && user.plan.name) || \'Free\'}}</strong>\n            </a>\n            <a href="/app#!/subscription" class="subscription-button" v-on="click:onButtonUserMenuClick" v-if="isCurrentPlanExpensive">\n                <span class="btn btn-primary">Update Plan</span>\n            </a>\n        </li>\n        <li v-repeat="access: accesses" v-show="access.company" v-class="active: isCompanyActive(access.company.id)">\n            <a class="ellipsis" href="/app#!/companies/{{access.company.id}}">\n                Manage {{access.company.name}}\n            </a>\n        </li>\n        <li v-class="active: route && route.name == \'brandbooks\' || route && route.name == \'brandbookView\'">\n            <a href="/app#!/brandbooks">Brandbooks</a>\n        </li>\n        <li v-class="active: route && route.name == \'projectsArchive\'">\n            <a href="/app#!/projects-archive">Projects Archive</a>\n        </li>\n        <li>\n          <a href="/download">Downloads</a>\n        </li>\n        <li>\n          <a href="http://help.sympli.io" target="_blank">Help</a>\n        </li>\n        <li class="logout">\n            <a href="/logout">Logout</a>\n        </li>\n    </ul>\n</div>\n'},{}],261:[function(e,t,n){"use strict";var i=e("../../../../enums/CompanyUserRolesEnum"),s=e("underscore"),o=e("sympli-enums").Events,r=e("sympli-enums").Scopes,a=["plan-enterprise-month","plan-enterprise-year"];t.exports={inherit:!0,template:e("./index.html"),data:function(){return{accesses:[],isUserMenuOpen:!1}},ready:function(){this.$on(r.loaded.company.data,function(e){var t=s.find(this.accesses,function(t){return t.company.id==e.id});t&&t.company&&(t.company.name=e.name,t.company.isActive=e.isActive,t.company.settings=e.settings),this.user&&this.user.company&&this.user.company.id==e.id&&(this.user.company.name=e.name,this.user.company.isActive=e.isActive,this.user.company.settings=e.settings)}),this.accesses=s.filter(this.user.accesses,function(e){var t=this.$security.userAccessor.hasAccess(this.user,e.company,i.companyAdmin),n=this.$security.userAccessor.hasAccess(this.user,e.company,i.companyOwner);return t||n}.bind(this)),this.$on("document:esc",function(){this.onClickAwayUser()}),this.$on(r.menu.popups.close,this.$sympliEvent.handler(this.onClickAwayUser,o.menu.usermenu))},methods:{onClickAwayUser:function(e){this.isUserMenuOpen=!1},onUserMenuClick:function(e){this.$sympliEvent(e,o.menu.usermenu),this.$sympliTrigger(r.menu.popups.close,e),e.preventDefault(),this.isUserMenuOpen=!this.isUserMenuOpen},onButtonUserMenuClick:function(e){this.$sympliEvent(e,o.menu.subscription),this.$sympliTrigger(r.menu.popups.close,e),"subscription"==this.route.name&&(e.preventDefault(),this.isUserMenuOpen=!this.isUserMenuOpen)},_getCompanies:function(){return s.filter(this.user.accesses,function(e){return e.company&&e.role!=i.companyGuest})},isCompanyActive:function(e){return this.route&&this.route.path=="companies/"+e}},computed:{gravatarUrl:function(){return this.user.picture},partOfCompany:function(){return this._getCompanies().length},companyName:function(){var e=this._getCompanies(),t=e.length;return 1==t?"Company: "+e[0].company.name:t>1?"Member of "+t+" companies":""},canShowSubscriptionItem:function(){return user.isSubscriptionEnabled&&!(!user.company&&user.samlProfile&&window.config.samlEnabled)},isCurrentPlanExpensive:function(){var e=this.customer&&this.customer.planId,t=~a.indexOf(e);return!t}}}},{"../../../../enums/CompanyUserRolesEnum":4,"./index.html":260,"sympli-enums":524,underscore:682}],262:[function(e,t,n){t.exports='<div class="modal fade account-sessions-invalidate" v-el="modal" tabindex="-1" role="dialog" aria-hidden="true">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <button type="button" class="close" data-dismiss="modal"><span class="sympli-icon icon-alert-close"></span><span class="sr-only">Close</span></button>\n      <div class="modal-header">\n        <h4 class="sympli-title">Sessions invalidate</h4>\n      </div>\n\n      <div class="modal-body">\n        <div class="modal-text">\n          You just have changed your password.<br/>By security reasons you might want to invalidate all sessions created before.\n        </div>\n      </div>\n\n      <div class="modal-footer">\n        <form class="form-horizontal profile-box-delete">\n          <button type="button" class="btn btn-cancel" data-dismiss="modal" v-attr="disabled:inProgress">Cancel</button>\n          <button type="button" class="btn btn-danger" v-on="click: onSessionsInvalidate" v-attr="disabled:inProgress">Invalidate all sessions</button>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],263:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$modal=$(this.$$.modal),this.$on("modal:show:account-sessions-invalidate",this.onShow)},data:function(){return{inProgress:!1}},methods:{onSessionsInvalidate:function(e){e.preventDefault(),e.stopPropagation(),this.inProgress=!0;var t=this,n=this.$api.post("/account/invalidate").then(function(e){window.location="/logout"})["catch"](t.$api.safeCatch(function(){t.inProgress=!1}));this.$api(n)},hide:function(){this.$modal.modal("hide")},onShow:function(){this.$modal.modal("show")}}}},{"./index.html":262}],264:[function(e,t,n){t.exports='<div class="sympli-dialog left new-brandbook" v-if="isActive">\n  <h4 class="sympli-title">Save as New Brandbook</h4>\n  <p class="sympli-text">Brandbook’s name</p>\n  <form class="form-horizontal" v-on="submit: onMakeBrandbook">\n    <input class="form-control sympli-dialog__input" type="text" placeholder="Enter Brandbook name"\n            v-model="newName" v-validate="required" v-focus="isActive">\n    <div class="tooltip top" v-if="validation && validation.newName.invalid && isSubmitted" role="tooltip">\n      <div class="tooltip-arrow"></div>\n      <div class="tooltip-inner">\n        Please fill out a valid name\n      </div>\n    </div>\n\n    <div class="form-group form-group__bottom">\n      <span class="btn btn-cancel"  v-on="click: onHideDialog">Cancel</span>\n      <button class="btn btn-primary" v-on="click: onMakeBrandbook" type="submit">Create brandbook</button>\n    </div>\n  </form>\n</div>\n'},{}],265:[function(e,t,n){"use strict";t.exports={inherit:!1,template:e("./index.html"),data:function(){return{newName:"",isActive:!1,isSubmitted:!1}},ready:function(){this.$on("modal:show:brandbook-from-project",this.onShow)},methods:{onShow:function(e){this.newName=e,this.isActive=!this.isActive},onHideDialog:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.isActive=!this.isActive},onMakeBrandbook:function(e){if(e.preventDefault(),this.isSubmitted=!0,!this.validation||!this.validation.newName.invalid){var t=this,n=this.$api.post("/projects/"+this.projectId+"/makebrandbook",{body:{name:t.newName}},!0,!0).then(function(e){t.$dispatch("notify","success","Brandbook created"),t.$dispatch("project:update"),this.isSubmitted=!1,this.isActive=!1}.bind(this));this.$api(n)}}}}},{"./index.html":264}],266:[function(e,t,n){t.exports='<div class="versions-comparator">\n  <div v-show="versionsToCompare.length <= 1" class="versions-comparator-empty">\n    <span class="sympli-icon icon-compare_placeholder"></span>\n    <p>To compare select at least two versions</p>\n  </div>\n  <div v-if="currentVersion" v-transition="fade-version">\n    <div class="versions-comparator-wrapper">\n      <div class="versions-comparator-wrapper__image" v-scrollpane="{}">\n        <img v-on="click: toggleFit()"\n             v-transition="fade-version" v-class="fit:fitImage" v-attr="src:currentVersion.blobUrlPrefix + \'/bundle/document.png\'" onerror="this.src=\'img/preview.png\'" alt="{{version}}"/>\n      </div>\n    </div>\n    <div v-if="currentVersion" class="versions-comparator-footer">\n      <span class="sympli-icon icon-compare_left_icon" v-on="click:onNext()"></span>\n      <div class="versions-comparator-info">\n        <div class="versions-comparator-info__title">Compare {{versionsToCompare.length}} versions</div>\n        <div class="versions-comparator-info__version">version {{currentVersion.version}}</div>\n      </div>\n      <span class="sympli-icon icon-compare_right_icon" v-on="click:onPrevious()"></span>\n    </div>\n  </div>\n</div>\n'},{}],267:[function(e,t,n){"use strict";function i(e,t){return e[($.inArray(t,e)+1)%e.length]}function s(e,t){return e[($.inArray(t,e)-1+e.length)%e.length]}var o=e("underscore");t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$watch("versionsToCompare",function(e){e.length<2&&(this.currentVersion=null),this.currentVersion&&(this.currentVersion=o.find(e,this.currentVersion)),!this.currentVersion&&e.length>1&&(this.currentVersion=o.first(e))})},data:function(){return{currentVersion:null,fitImage:!0}},methods:{onNext:function(){this.currentVersion=i(this.versionsToCompare,this.currentVersion),this.reInitScroll()},onPrevious:function(){this.currentVersion=s(this.versionsToCompare,this.currentVersion),this.reInitScroll()},toggleFit:function(){this.fitImage=!this.fitImage,this.reInitScroll(),this.fitImage||this.$emit("scrollPane:scrollTopLeft")},reInitScroll:function(){this.fitImage?this.$emit("scrollPane:destroy"):this.$emit("scrollPane:reInit")}},computed:{versionsToCompare:function(){return o.filter(this.versions,{checked:!0})}}}},{"./index.html":266,underscore:682}],268:[function(e,t,n){t.exports='<div class="bundle-versions">\n  <span class="loading" v-if="versionsLoading">\n      Loading...\n  </span>\n  <div v-if="!versionsLoading">\n  <div class="versions">\n    <div class="version" v-repeat="displayVersions">\n      <div class="version-input sympli-checkbox">\n        <input class="checkbox" id="version_{{version}}" type="checkbox" v-model="checked" v-attr="disabled:status != \'ready\'">\n        <label for="version_{{version}}">\n          <i class="sympli-icon icon-tick-white"></i>\n        </label>\n      </div>\n      <div class="version-name" v-class="current: $parent.bundle.token == token">\n        <a href="#" v-on="click: gotoVersion($event, $data)">Version {{version}}</a>\n      </div>\n      <div class="version-date">{{updatedAt | moment calendar}}</div>\n    </div>\n  </div>\n  <div class="versions-pagination"\n         v-component="pagination"\n         current-page="{{currentPage}}"\n         per-page="{{perPage}}"\n         total-pages="{{totalPages}}"></div>\n  </div>\n</div>\n\n'},{}],269:[function(e,t,n){"use strict";e("underscore");t.exports={inherit:!0,template:e("./index.html"),ready:function(){},computed:{displayVersions:function(){return this.versions.slice(this.currentPage*this.perPage,(this.currentPage+1)*this.perPage)}}}},{"./index.html":268,underscore:682}],270:[function(e,t,n){t.exports='<div class="modal-versions modal fade" id="versions-modal" tabindex="-1" role="dialog" >\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-body">\n        <button type="button" class="diff-mode" v-on="click:gotoDiff"><span class="sympli-icon icon-diff"></span>Difference mode</button>\n        <button type="button" class="close" data-dismiss="modal">\n          <span class="sympli-icon icon-alert-close"></span>\n          <span class="sr-only">Close</span>\n        </button>\n        <div v-component="versions-browser"></div>\n        <div v-component="versions-comparator"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],271:[function(e,t,n){"use strict";var i=e("underscore"),s=e("sympli-enums").Scopes;t.exports={inherit:!0,template:e("./index.html"),components:{"versions-browser":e("./bundle-versions-selection"),"versions-comparator":e("./bundle-versions-comparator"),pagination:e("../../common/simple-pagination")},ready:function(){this.$on("modal:show:bundle-versions",this.onShow),this.$on("change:page",function(e){this.currentPage=e}),this.bundle&&this._loadVersions(),this.$on(s.loaded.bundle.data,this.handleLoadedBundle)},data:function(){return{versions:[],versionsLoading:!1,currentPage:0,totalPages:1,perPage:7}},methods:{onShow:function(){this.versionsToCompare=[],this.modal("show"),this.$api.event("viewed-versions-web",{design_id:this.getBundleId(),design_name:this.bundle.name})},handleLoadedBundle:function(){this._loadVersions()},_loadVersions:function(){var e=this;e.versionsLoading=!1;var t=e.$store.getBundleVersionsRequest(e.getBundleId()).then(function(t){e.versions=i.sortBy(t.data.map(function(e){return e.checked=!1,e}),"version").reverse();var n=function(){e.versionsLoading=!1,e.totalPages=Math.ceil(e.versions.length/e.perPage),e.$dispatch("versions",e.versions)},s=e.$store.getShortBundleRequest(e.getBundleId(),e.getProjectId()).then(function(t){var i=t.data[0];i.current=!0,i.checked=!1,e.versions.unshift(i),n()})["catch"](e.$api.safeCatch(n));e.$api(s)});e.$api(t)},gotoVersion:function(e,t){if(e.preventDefault(),t.token==this.bundle.token)return void this.modal("hide");var n="designs/"+this.getBundleId();null===t.version||t.current||(n+="/versions/"+t.version),this.modal("hide"),this.$dispatch("lanes:path",n)},gotoDiff:function(){this.modal("hide");var e="design-diff/"+this.getBundleId();this.$dispatch("lanes:path",e)},modal:function(e){$(this.$el.childNodes[0]).modal(e)}},computed:{diffLink:function(){return"/app#!/design-diff/"+this.getBundleId()}}}},{"../../common/simple-pagination":191,"./bundle-versions-comparator":267,"./bundle-versions-selection":269,"./index.html":270,"sympli-enums":524,underscore:682}],272:[function(e,t,n){t.exports='<div class="company-user-role-picker" v-on-click-away="onClickAway">\n  <div class="user-status-button user-status-button__me" v-if="isMe || isOwner">{{displayRole}} <span class="sympli-icon"></span></div>\n\n  <div v-if="!isMe && !isOwner">\n    <span class="user-status-button" v-on="click: onToggle">{{displayRole}} <span class="sympli-icon icon-main_tab_small_down_for_menus"></span></span>\n    <div class="sympli-dialog bottom user-setting" tabindex="-1" v-if="isActive">\n      <div class="form-horizontal" role="form">\n        <div class="form-group" v-on="click: onChangeRole($event, CompanyUserRolesEnum.companyGuest)">\n          <div class="sympli-checkbox">\n            <input id="checkbox-label-guest" class="checkbox-label checkbox" type="checkbox" v-attr="checked: role == CompanyUserRolesEnum.companyGuest">\n            <label for="checkbox-label-guest">\n              <i class="sympli-icon icon-tick"></i>\n              Guest\n              <span>Can only access projects via invitations</span>\n            </label>\n          </div>\n        </div>\n        <div class="form-group" v-on="click: onChangeRole($event, CompanyUserRolesEnum.companyUser)">\n          <div class="sympli-checkbox">\n            <input id="checkbox-label-user" class="checkbox-label checkbox" type="checkbox" v-attr="checked: role == CompanyUserRolesEnum.companyUser">\n\n            <label for="checkbox-label-user">\n              <i class="sympli-icon icon-tick"></i>\n              User\n              <span>Create and edit own projects</span>\n            </label>\n          </div>\n        </div>\n        <div class="form-group" v-on="click: onChangeRole($event, CompanyUserRolesEnum.companyAdmin)">\n          <div class="sympli-checkbox">\n            <input id="checkbox-label-admin" class="checkbox-label checkbox" type="checkbox" v-attr="checked: role == CompanyUserRolesEnum.companyAdmin">\n            <label for="checkbox-label-admin">\n              <i class="sympli-icon icon-tick"></i>\n              Admin\n              <span>Create and edit all projects, manage users and other admins</span>\n            </label>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n'},{}],273:[function(e,t,n){"use strict";var i=(e("underscore"),e("../../../../enums/CompanyUserRolesEnum"));t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$on("modal:show:company-add-user-role",function(){this.show()})},data:function(){return{isActive:!1,CompanyUserRolesEnum:i}},computed:{},methods:{onToggle:function(e){e.preventDefault(),this.toggle()},onClickAway:function(e){this.isActive&&this.hide()},toggle:function(){this.isActive=!this.isActive},hide:function(){this.isActive=!1},show:function(){this.isActive=!0}},components:{}}},{"../../../../enums/CompanyUserRolesEnum":4,"./index.html":272,underscore:682}],274:[function(e,t,n){t.exports='<div class="sympli-dialog left bill-address" v-show="isActive" v-close="isActive">\n  <h4 class="sympli-title">Billing address for invoices</h4>\n  <p class="sympli-text"></p>\n  <form class="form-horizontal">\n    <textarea class="form-control sympli-dialog__input" v-focus="isActive" v-model="customerBillTo" name="bill-address" id="bill-address" rows="5" placeholder="Enter address here" style="resize: none;"></textarea>\n\n    <div class="form-horizontal">\n      <div class="form-group form-group__bottom">\n        <button type="button" class="btn btn-cancel" v-on="click: toggleIsActive">Cancel</button>\n        <button type="button" class="btn btn-primary" v-on="click: onCustomerChangeBillAddress" data-dismiss="modal">Submit</button>\n      </div>\n    </div>\n  </form>\n</div>\n\n'},{}],275:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$on("modal:show:bill-address",this.show)},data:function(){return{customerBillTo:"",isActive:!1}},methods:{show:function(){this.toggleIsActive()},toggleIsActive:function(e){e&&e.preventDefault(),this.isActive=!this.isActive},onCustomerChangeBillAddress:function(e){e.preventDefault(),this.toggleIsActive(),this.$dispatch("submit:customer-change-bill-address",this.customerBillTo)}}}},{"./index.html":274}],276:[function(e,t,n){t.exports='<div class="sympli-dialog bottom payment-method-layer" v-if="isActive" v-close="isActive" aria-labelledby="share-modal-label">\n  <h4 class="sympli-title">Payment method</h4>\n\n  <payment-form></payment-form>\n\n  <div class="form-horizontal" v-if="!showPaymentForm && paymentMethod">\n    <p class="powered-by-stripe">\n      <img src="/img/powered-by-stripe.png" alt="Powered by Stripe"/>\n    </p>\n    <div class="form-group form-group__bottom">\n      <button class="btn btn-cancel" v-on="click: isActive = false">Cancel</button>\n      <button class="btn btn-primary" href="#" v-on="click: onSubmitChangePaymentMethod" zdata-dismiss="modal">Submit</button>\n    </div>\n  </div>\n</div>\n'},{}],277:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$on("modal:show:customer-change-payment-method",this.handleShow),this.$on("nonce:payment-form",this.handleNoncePaymentForm)},data:function(){return{isActive:!1}},methods:{handleShow:function(){this.show(),this.$broadcast("show:payment-form")},handleNoncePaymentForm:function(e){this.$dispatch("submit:customer-change-payment-method",e),this.hide()},onSubmitChangePaymentMethod:function(e){e.preventDefault(),this.$broadcast("submit:payment-form")},show:function(){this.isActive=!this.isActive},hide:function(){this.isActive=!1}},components:{"payment-form":e("../../subscription/payment-form"),"payment-method":e("../../subscription/payment-method")}}},{"../../subscription/payment-form":451,"../../subscription/payment-method":453,"./index.html":276}],278:[function(e,t,n){t.exports='<div class="modal fade modal__customer-change-plan" v-el="modal" tabindex="-1" role="dialog" aria-labelledby="share-modal-label"\n     aria-hidden="true">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <button type="button" class="close" data-dismiss="modal"><span class="sympli-icon icon-alert-close"></span><span class="sr-only">Close</span></button>\n      <div class="modal-header">\n        <h4 class="sympli-title">Change Plan</h4>\n      </div>\n\n      <div class="modal-body">\n        <div class="modal-text" v-if="currentPlan && selectedPlan">\n\n          <p v-if="selectedPlan.interval == \'month\'">\n            <b>{{selectedPlan.name}}</b> costs <b v-class="\'text-strike\': couponObject">${{selectedPlan.discountPrice/100}}/month</b><!--\n            --><span v-if="couponObject"> <b>${{(selectedPlan.amount*(100-couponObject.percentOff)/100) | amount}}/month</b> with coupon\n                <span v-if="couponObject.duration == \'repeating\'"> for first {{couponObject.durationInMonths}} {{couponObject.durationInMonths | pluralize month}} and then <b>${{selectedPlan.discountPrice/100}}/month</b>.</span>\n                <span v-if="couponObject.duration == \'once\'"> for first month and then <b>${{selectedPlan.discountPrice/100}}/month</b>.</span>\n                <span v-if="couponObject.duration == \'forever\'"> until subscription canceled or you changed the plan.</span><!--\n            --></span>\n          </p>\n\n\n          <p v-if="selectedPlan.interval == \'year\'">\n            <b>{{selectedPlan.name}}</b> costs <b v-class="\'text-strike\': couponObject">${{selectedPlan.discountPrice*12/100}}/year</b><!--\n            --><span v-if="couponObject"> <b>${{(selectedPlan.amount*(100-couponObject.percentOff)/100) | amount}}/year</b> with coupon\n                <span v-if="couponObject.duration == \'repeating\'"> for first {{Math.ceil(couponObject.durationInMonths/12) == 1 ? \'\' : Math.ceil(couponObject.durationInMonths/12)}} {{Math.ceil(couponObject.durationInMonths/12) | pluralize year}} and then <b>${{selectedPlan.discountPrice*12/100}}/year</b>.</span>\n                <span v-if="couponObject.duration == \'once\'"> for first year and then <b>${{selectedPlan.discountPrice*12/100}}/year</b>.</span>\n                <span v-if="couponObject.duration == \'forever\'"> until subscription canceled or you changed the plan.</span><!--\n            --></span>\n              </span>\n          </p>\n        </div>\n\n        <div class="overflow" v-if="selectedPlan && !selectedPlan.isFree && paymentMethod && !showPaymentForm">\n          <span class="pull-left" v-component="payment-method" v-with="paymentMethod: paymentMethod"></span>\n          <span class="pull-right">\n            <span class="s-link"><a href="#" v-on="click: onShowPaymentForm">Change payment method</a></span>\n          </span>\n        </div>\n\n        <div class="card-number" v-if="selectedPlan && !selectedPlan.isFree && (!paymentMethod || showPaymentForm)">\n          <div class="text-right" v-if="paymentMethod" >\n            <span class="s-link"><a href="#" v-on="click: onHidePaymentForm">Cancel payment method</a></span>\n          </div>\n          <payment-form></payment-form>\n        </div>\n\n        <div class="form-horizontal coupon" v-if="selectedPlan && !selectedPlan.isFree" v-class="coupon-block: selectedPlan && !selectedPlan.isFree && paymentMethod && !showPaymentForm">\n          <div class="form-group form-group__new">\n            <label class="col-xs-4 control-label" for="coupon">Coupon</label>\n            <div class="col-xs-8" style="position: relative;">\n              <input class="form-control" v-model="coupon" id="coupon" type="text" placeholder="Coupon">\n\n\n              <i class="fa fa-check           fa-fw margin-bottom fa-coupon-validation" v-if="coupon && !isCouponValidating && isCouponValid" title="Coupon is valid"></i>\n              <i class="fa fa-remove          fa-fw margin-bottom fa-coupon-validation" v-if="coupon && !isCouponValidating && !isCouponValid" title="Coupon is invalid"></i>\n              <i class="fa fa-spinner fa-spin fa-fw margin-bottom fa-coupon-validation" v-if="coupon && isCouponValidating" title="Please wait"></i>\n\n              <div class="tooltip top" v-if="coupon && !isCouponValid && isCustomerChangePlanSubmitted" role="tooltip">\n                <div class="tooltip-arrow"></div>\n                <div class="tooltip-inner">\n\n                  <span>Please enter a valid coupon code or leave it blank</span>\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n\n        <div class="form-horizontal">\n          <div class="form-group form-group__bottom">\n            <p class="powered-by-stripe">\n              <img src="/img/powered-by-stripe.png" alt="Powered by Stripe"/>\n            </p>\n            <button class="btn btn-cancel" data-dismiss="modal">Cancel</button>\n            <button class="btn btn-primary" href="#" v-on="click: onSubmitChangePlan">\n              <span v-if="isUpgrade">Upgrade</span>\n              <span v-if="isDowngrade">Downgrade</span>\n              <span v-if="!isDowngrade && !isUpgrade">Submit</span><!-- customer moves to the same plan-->\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';
},{}],279:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$modal=$(this.$$.modal),this.$on("modal:show:customer-change-plan",this.handleShow),this.$on("nonce:payment-form",this.handleNoncePaymentForm),this.$watch("coupon",function(){s&&s.cancel(),this.isCouponValidating=!0,o(this,this.coupon)})},data:function(){return{isCustomerChangePlanSubmitted:!1,showPaymentForm:!1,coupon:"",couponObject:null,isCouponValid:!1,isCouponValidating:!1}},computed:{isUpgrade:function(){return!(this.currentPlan&&!this.currentPlan.isActive)&&(this.currentPlan&&this.selectedPlan&&this.currentPlan.projectsCount<this.selectedPlan.projectsCount||"trial"==this.currentPlan.id||"trial-plus"==this.currentPlan.id)},isDowngrade:function(){return!(this.currentPlan&&!this.currentPlan.isActive)&&(this.currentPlan&&this.selectedPlan&&this.currentPlan.projectsCount>this.selectedPlan.projectsCount&&"trial"!=this.currentPlan.id&&"trial-plus"!=this.currentPlan.id)}},methods:{handleShow:function(){this.$broadcast("show:payment-form"),this.show(),this.reset()},handleNoncePaymentForm:function(e){this.$dispatch("submit:customer-change-plan",e,this.coupon.trim()),this.hide()},show:function(){this.$modal.modal("show"),this.$broadcast("show:payment-form")},hide:function(){this.$modal.modal("hide"),this.$broadcast("hide:payment-form")},reset:function(){this.showPaymentForm=!1,this.coupon="",this.couponObject=null,this.isCustomerChangePlanSubmitted=!1,this.isCouponValid=!1},submit:function(){this.isCustomerChangePlanSubmitted=!0,!this.selectedPlan||this.selectedPlan.isFree||this.paymentMethod&&!this.showPaymentForm?this.coupon&&!this.isCouponValid||(this.hide(),this.$dispatch("submit:customer-change-plan",null,this.coupon.trim())):this.$broadcast("submit:payment-form")},onSubmitChangePlan:function(){this.submit()},onShowPaymentForm:function(e){e.preventDefault(),this.showPaymentForm=!0},onHidePaymentForm:function(e){e.preventDefault(),this.showPaymentForm=!1},onCouponKeypress:function(e){10!=e.which&&13!=e.which||this.submit()}},components:{"payment-form":e("../../subscription/payment-form"),"payment-method":e("../../subscription/payment-method")}};var s,o=i.throttle(function(e,t){return s&&s.cancel(),t?void(s=e.$api.post("/coupons/validate",{body:{coupon:e.coupon}}).then(function(t){e.isCouponValid=!0,e.isCouponValidating=!1,e.couponObject=t.data})["catch"](function(t){"CancellationError"!=t.name&&(e.isCouponValidating=!1,e.isCouponValid=!1),e.couponObject=null})):(e.coupon="",e.couponObject=null,void(e.isCouponValid=!1))},500)},{"../../subscription/payment-form":451,"../../subscription/payment-method":453,"./index.html":278,underscore:682}],280:[function(e,t,n){t.exports='<div class="modal fade delete-account" v-el="modal" tabindex="-1" role="dialog" aria-hidden="true">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <button type="button" class="close" data-dismiss="modal"><span class="sympli-icon icon-alert-close"></span><span class="sr-only">Close</span></button>\n      <div class="modal-header">\n        <h4 class="sympli-title">Delete Account</h4>\n      </div>\n\n      <div class="modal-body">\n        <div class="modal-text">\n          Are you sure? This action is irreversible!<br/>All your projects will be deleted along with your account.\n        </div>\n      </div>\n\n      <div class="modal-footer">\n        <form class="form-horizontal profile-box-delete" method="POST" action="/account/delete" name="accountDelete">\n          <button type="button" class="btn btn-cancel" data-dismiss="modal" v-attr="disabled:inProgress">Cancel</button>\n          <button type="button" class="btn btn-danger" v-on="click: onAccountDeleteClick" v-attr="disabled:inProgress">Delete Account</button>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],281:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$modal=$(this.$$.modal),this.$on("modal:show:delete-account",this.onShow)},data:function(){return{inProgress:!1}},methods:{onAccountDeleteClick:function(e){e.preventDefault(),e.stopPropagation(),this.inProgress=!0,document.forms.accountDelete.submit()},hide:function(){this.$modal.modal("hide")},onShow:function(){this.$modal.modal("show")}}}},{"./index.html":280}],282:[function(e,t,n){t.exports='<div class="sympli-dialog" v-if="isActive" v-close="isActive" v-class="dialogPosition">\n  <content select=".title">\n    <h4 class="sympli-title">{{getTitle}}</h4>\n  </content>\n\n  <content select=".message">\n    <p class="sympli-text">{{getMessage}}</p>\n  </content>\n\n  <div class="form-horizontal">\n    <div class="form-group form-group__bottom">\n      <content select=".buttons">\n        <button type="button" class="btn" v-class="cancelButtonClass"  v-on="click: onCancel">{{getCancelButtonLabel}}</button>\n        <button type="button" class="btn" v-class="successButtonClass" v-on="click: onSuccess">{{getSuccessButtonLabel}}</button>\n      </content>\n    </div>\n  </div>\n\n  <content select=".extraText" v-if="extraText">\n    <p class="extra-text">{{getExtraText}}</p>\n  </content>\n</div>\n'},{}],283:[function(e,t,n){"use strict";e("underscore");t.exports={inherit:!0,template:e("./index.html"),ready:function(){},data:function(){return{isActive:!1,title:"",message:"Are you sure?",extraText:"",dialogPosition:"bottom",cancelButtonLabel:"Cancel",cancelButtonClass:"btn-cancel",successButtonLabel:"Delete",successButtonClass:"btn-danger"}},computed:{getMessage:function(){return"function"==typeof this.message?this.message():this.message},getTitle:function(){return"function"==typeof this.title?this.title():this.title},getExtraText:function(){return"function"==typeof this.extraText?this.extraText():this.extraText},getSuccessButtonLabel:function(){return"function"==typeof this.successButtonLabel?this.successButtonLabel():this.successButtonLabel},getCancelButtonLabel:function(){return"function"==typeof this.cancelButtonLabel?this.cancelButtonLabel():this.cancelButtonLabel}},methods:{onShow:function(){this.isActive=!this.isActive},onSuccess:function(){},onCancel:function(e){e.preventDefault(),e.stopPropagation(),this.onShow()}},components:{}}},{"./index.html":282,underscore:682}],284:[function(e,t,n){t.exports='<div class="subscription-message modal fade" v-el="modal">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-body">\n        <div class=\'update-subscription-message\'>\n          <div class=\'update-subscription-message__image\'><span class=\'sympli-icon icon-update_folder\'></span></div>\n          <span>{{message}}</span>\n        </div>\n      </div>\n\n      <div class="modal-footer">\n        <a class="btn btn-cancel" data-dismiss="modal">Close</a>\n        <a class="btn btn-primary" href="/app#!/subscription" v-on="click: onUpgradePlan">Upgrade Plan</a>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],285:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$modal=$(this.$$.modal),this.$on("modal:show:project-activate-upgrade-plan",this.onShow)},data:function(){return{message:""}},methods:{onShow:function(e){this.message=e,this.$modal.modal("show")},onUpgradePlan:function(e){e.preventDefault(),e.stopPropagation(),this.$modal.modal("hide"),this.$dispatch("lanes:path","subscription")}}}},{"./index.html":284}],286:[function(e,t,n){t.exports='<div class="sympli-dialog right" v-if="isActive" v-close="isActive">\n  <h4 class="sympli-title">Archive project</h4>\n  <div class="form-horizontal">\n    <div v-if="project">\n      <p class="sympli-text">You are about to archive the project <span class="sympli-text__project-name ellipsis">{{project.name}}</span></p>\n      <p class="sympli-text">Archived projects can not be modified and they are not visible to your team mates.\n        You can always restore it <a href="#" v-on="click: onClick">here</a>.\n      </p>\n    </div>\n    <div class="form-group form-group__bottom">\n      <a class="btn btn-cancel" href="#" v-on="click: toggleIsActive">Cancel</a>\n      <a class="btn btn-primary" href="#!/subscription" v-on="click: onArchiveProject">Archive</a>\n    </div>\n  </div>\n</div>\n'},{}],287:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$on("modal:show:project-archive",this.onShow)},data:function(){return{project:null,isActive:!1}},methods:{onShow:function(e){this.project=e,this.toggleIsActive()},onArchiveProject:function(e){e.preventDefault(),e.stopPropagation(),this.toggleIsActive(),this.$root.$broadcast("project:archive")},toggleIsActive:function(e){e&&e.preventDefault(),this.isActive=!this.isActive},onClick:function(e){e&&e.preventDefault(),this.$dispatch("lanes:path","projects-archive")}}}},{"./index.html":286}],288:[function(e,t,n){t.exports='<div class="sympli-dialog bottom project-create" tabindex="-1" v-if="isActive" v-close="isActive">\n  <form class="form-horizontal project-create__form" v-on="submit: saveProject">\n    <div class="form-group form-group__new">\n      <label class="col-xs-3 project-create__label" for="project-name">Project Name</label>\n      <div class="col-xs-9">\n        <input autofocus id="project-name" class="form-control" v-model-trim="projectName" v-model="projectName"\n               type="text" placeholder="" v-focus="isEditing" v-validate="required">\n        <div class="tooltip top" v-if="validation && validation.projectName && validation.projectName.invalid && (validation.projectName.dirty || isSubmitted)" role="tooltip">\n          <div class="tooltip-arrow"></div>\n          <div class="tooltip-inner">\n            Please fill out a valid project name\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="col-xs-3 project-create__label" for="project-name">Platform</label>\n      <div class="col-xs-3">\n        <div class="project-create__icon ios"\n             v-class="\'project-create__icon__selected\':projectType ==\'ios\'"\n             v-on="click: selectPlatform(\'ios\')">\n          <i class="sympli-icon" v-class="\'icon-new_project_apple_icon_white\':projectType ==\'ios\', \'icon-new_project_apple_icon_dark\':projectType !=\'ios\'"></i>\n          iOS\n        </div>\n      </div>\n      <div class="col-xs-3">\n        <div class="project-create__icon android"\n             v-class="\'project-create__icon__selected\':projectType ==\'android\'"\n             v-on="click: selectPlatform(\'android\')">\n          <i class="sympli-icon" v-class="\'icon-new_project_android_icon_white\':projectType ==\'android\', \'icon-new_project_android_icon_dark\':projectType !=\'android\'"></i>\n          Android\n        </div>\n      </div>\n      <div class="col-xs-3">\n        <div class="project-create__icon web"\n             v-class="\'project-create__icon__selected\':projectType ==\'web\'"\n             v-on="click: selectPlatform(\'web\')">\n          <i class="sympli-icon" v-class="\'icon-new_project_web_icon_white\':projectType ==\'web\', \'icon-new_project_web_icon_dark\':projectType !=\'web\'"></i>\n          Web\n        </div>\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="col-xs-3 project-create__label" for="project-name" v-class="\'project-create__label__long\': projectType ==\'android\'">Resolution</label>\n      <div v-repeat="resolutions" v-class="\'project-create__icon__long\':projectType ==\'android\',\'col-xs-3\':projectType !=\'android\' ">\n        <div class="project-create__icon"\n             v-class="\'project-create__icon__selected\':projectBaseline == $value"\n             v-on="click: selectBaseline($value)">\n          {{$value}}\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group" v-if="companies && companies.length > 0">\n      <label class="col-xs-3 project-create__label" for="project-name">Company</label>\n      <div class="col-xs-9">\n        <div class="project-create__icon" v-repeat="company: companies"\n             v-class="\'project-create__icon__selected\':selectedCompany ? selectedCompany.id === company.id : false"\n             v-on="click: onSelectCompany($event, company)">\n          {{company.name}}\n        </div>\n      </div>\n    </div>\n    <!--<div class="form-group form-group__new">-->\n      <!--<label class="col-xs-3 project-create__label">Brandbook</label>-->\n      <!--<div class="col-xs-9">-->\n        <!--<i class="fa fa-spinner fa-spin" v-if="!isBrandbooksLoaded"></i>-->\n        <!--<div class="dropdown" id="project-brandbook" v-if="isBrandbooksLoaded">-->\n          <!--<button class="form-control dropdown-toggle" type="button" data-toggle="dropdown">{{projectBrandbookName}}-->\n            <!--<span class="fa fa-angle-down pull-right"></span></button>-->\n          <!--<ul class="dropdown-menu project-create__dropdown">-->\n            <!--<li v-repeat="brandbooks" v-on="click: selectBrandbook($data)"><span class="nav-link">{{text}}</span></li>-->\n          <!--</ul>-->\n        <!--</div>-->\n      <!--</div>-->\n    <!--</div>-->\n\n    <div class="form-group form-group__bottom">\n      <button type="button" class="btn btn-cancel" v-on="click: isActive = false">Cancel</button>\n      <button type="submit" v-attr="disabled:inProgress" class="btn btn-primary">Create Project</button>\n    </div>\n  </form>\n</div>\n'},{}],289:[function(e,t,n){"use strict";var i=e("../../../../lib/ResolutionEnum"),s=e("../../../../enums/CompanyUserRolesEnum"),o=e("LocalStorageBag"),r=e("underscore");t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$on("modal:show:project-create",this.onShow),this.$watch("isActive",function(e){e&&document.getElementById("project-name").focus()});var e=new o("currentCompanyBag_"+this.user.id,null);this.onSelectCompany(null,e.get()),this.$on("save:current-company",function(t){e.set(t)})},data:function(){return{isSubmitted:!1,id:null,projectName:"",projectType:"",projectBaseline:"",projectCompany:null,inProgress:!1,companies:[],selectedCompany:null,isEditing:!1,isActive:!1}},computed:{resolutions:function(){var e=i[this.projectType];if(this.projectType&&!e)throw new Error("Invalid project type");return e||[]}},methods:{onShow:function(){this.isSubmitted=!1,this._initProjectData(),this.isActive=!this.isActive},saveProject:function(e){this.isSubmitted=!0,e.preventDefault(),e.stopPropagation();var t=this;if(this.valid){var n=function(){t.inProgress=!1,$(t.$el.childNodes[0]).modal("hide")};t.inProgress=!0;var i=this.$api.post("/projects",{body:{name:t.projectName,type:t.projectType,baseline:t.projectBaseline,company:t.projectCompany}}).then(function(e){t.$dispatch("lanes:path","projects/"+e.data.id),n()})["catch"](t.$api.safeCatch(n))["catch"](function(e){if(!e||!e.responseJSON||"error.project.create.limit"!=e.responseJSON.code)throw e;t.$dispatch("modal:show","project-activate-upgrade-plan",e.responseJSON.message)});this.$api(i)}},_initProjectData:function(){this.projectType="ios",this.projectBaseline="@1x",this.companies=[],user.samlProfile&&window.config.samlEnabled||this.companies.push({id:null,name:"Personal"});var e=r.filter(this.user.accesses,function(e){return e.company.isActive&&e.role!=s.companyGuest});if(r.each(e,function(e){this.companies.push(e.company)}.bind(this)),this.selectedCompany){var t=r.find(e,function(e){return e.company.id===this.selectedCompany.id}.bind(this));t||this.onSelectCompany(null,null)}if(user.company&&user.company.isActive&&(this.companies=r.reject(this.companies,function(e){return null==e.id})),!this.selectedCompany){var n=r.find(this.companies,function(e){return e.id});this.onSelectCompany(null,n)}1==this.companies.length&&(this.companies=[])},selectPlatform:function(e){this.projectType=e,this.projectBaseline=this.resolutions[0]},selectBaseline:function(e){this.projectBaseline=e},onSelectCompany:function(e,t){this.selectedCompany=t,t&&t.isActive?(this.projectCompany=t.id,this.$emit("save:current-company",t)):this.projectCompany=null}}}},{"../../../../enums/CompanyUserRolesEnum":4,"../../../../lib/ResolutionEnum":18,"./index.html":288,LocalStorageBag:521,underscore:682}],290:[function(e,t,n){t.exports='<div class="user-email">\n  <div v-if="access">\n    <img alt="" class="gravatar-image user-email__image" v-if="access.user.picture" v-attr="src: access.user.picture">\n\n    <a class="icon-remove" href="#" v-on="click: onShowDeleteAccess" v-if="user.id != access.user.id" title="Revoke">\n      <span class="sympli-icon icon-group-delete"></span>\n    </a>\n\n    <div class="user-status__button" v-on-click-away="onClickAway">\n      <span class="user-status__button-lable" v-on="click: onToggle">\n        {{accessTitle}}\n        <span class="sympli-icon icon-arrow_down_small"></span>\n      </span>\n      <div class="sympli-dialog top user-setting" tabindex="-1" v-if="isActive">\n        <div class="form-horizontal" role="form">\n          <div class="form-group">\n            <div class="sympli-checkbox">\n              <input id="checkbox-label-user" class="checkbox-label checkbox" type="checkbox"\n                     v-model="isUserChecked"\n                     v-on="click: onSetUserAccessRole">\n              <label for="checkbox-label-user">\n                <i class="sympli-icon icon-tick"></i>\n                User\n                <span>Browse and comment designs</span>\n              </label>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="sympli-checkbox">\n              <input id="checkbox-label-admin" class="checkbox-label checkbox" type="checkbox"\n                     v-model="isAdminChecked"\n                     v-on="click: onSetAdminAccessRole">\n              <label for="checkbox-label-admin">\n                <i class="sympli-icon icon-tick"></i>\n                Power user\n                <span>Invite teammates and manage project’s settings</span>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="user-email__text ellipsis">\n      {{access.user.profile.name}} <span class="user-email__text-email">{{access.user.email}}</span> <span v-if="user.id == access.user.id" class="comment">(you)</span>\n    </div>\n\n    <div v-component="popup-prompt-dialog"\n         class="access-revoke-dialog"\n         v-with="title: \'Revoke project access\',\n                         message: \'You are about to revoke project access for \' + access.user.email,\n                         isActive: isShowDeleteAccess,\n                         successButtonLabel: \'Revoke\',\n                         dialogPosition: \'top\',\n                         onSuccess: onDeleteAccess">\n    </div>\n  </div>\n</div>\n'},{}],291:[function(e,t,n){"use strict";var i=e("../../../../../enums/ProjectUserRolesEnum"),s=e("../../../../../enums/ProjectUserRolesEnum").RoleToString;t.exports={inherit:!0,replace:!0,template:e("./index.html"),components:{"popup-prompt-dialog":e("../../popup-prompt-dialog")},data:function(){return{access:null,isShowDeleteAccess:!1,ProjectUserRolesEnum:i,isActive:!1,isUserChecked:!1,isAdminChecked:!1}},ready:function(){this.isAdminChecked=this.access.role==i.projectAdmin,this.isUserChecked=!this.isAdminChecked},methods:{onShowDeleteAccess:function(e){e.preventDefault(),this.isShowDeleteAccess=!this.isShowDeleteAccess},onDeleteAccess:function(e){e.preventDefault(),e.stopPropagation();var t=this,n={user:t.access.user.id};this.$api(this.$api.post("/projects/"+t.getProject().id+"/accesses/revoke",{body:n}).then(function(e){t.project=e.data}).then(t._loadCommunity).then(t._loadInvitees))},_onToggleAccessRole:function(e){var t=this;this.access.role=e;var n={role:e,user:this.access.user.id},s=this.$api.post("/projects/"+t.getProject().id+"/accesses/grant",{body:n}).then(function(n){t.project.accesses=n.data.accesses,e==i.projectUser&&t.access.user.id==t.user.id?t.$dispatch("lanes:path","projects/"+t.getProject().id):t._loadInvitees()}).then(t._loadCommunity);this.$api(s)},onSetUserAccessRole:function(e){this.access.role!=i.projectUser?(this.isUserChecked=!0,this.isAdminChecked=!1,this._onToggleAccessRole(i.projectUser)):(e.preventDefault(),e.stopPropagation())},onSetAdminAccessRole:function(e){this.access.role!=i.projectAdmin?(this.isAdminChecked=!0,this.isUserChecked=!1,this._onToggleAccessRole(i.projectAdmin)):(e.preventDefault(),e.stopPropagation())},onClickAway:function(e){this.isActive&&(this.isActive=!1)},onToggle:function(e){e.preventDefault(),this.isActive=!this.isActive}},computed:{accessTitle:function(){return s(this.access.role)}}}},{"../../../../../enums/ProjectUserRolesEnum":7,"../../popup-prompt-dialog":283,"./index.html":290}],292:[function(e,t,n){t.exports='<div class="user-email" v-class="\'sympli-dialog-up\': item.rowIndex > 3, \'sympli-dialog-down\': item.rowIndex < 4" v-on="click: onClick">\n  <div class="user-email__checkbox">\n    <span class="sympli-checkbox">\n      <input type="checkbox" class="checkbox-label checkbox" v-attr="id:\'community-\'+uid" v-model="checked">\n      <label v-attr="for:\'community-\'+uid" class="name">\n        <i class="sympli-icon icon-tick-white"></i>\n      </label>\n    </span>\n  </div>\n\n  <img alt="" class="gravatar-image user-email__image" v-if="item.user.picture" v-attr="src: item.user.picture">\n\n  <div class="user-email__text ellipsis" v-if="item.user.profile">\n    {{item.user.profile.name}}\n    <span class="user-email__text-email">{{item.user.email}}</span>\n    <span v-if="user.id == item.user.id" class="comment">(you)</span>\n    <small>{{currentRole}}</small>\n  </div>\n\n  <div v-show="item.checked">\n    <div class="user-status__button" v-on-click-away="onClickAway">\n      <span class="user-status__button-lable" v-on="click: onToggle">\n        {{accessTitle}}\n        <span class="sympli-icon icon-arrow_down_small"></span>\n      </span>\n\n      <div class="sympli-dialog top user-setting" tabindex="-1" v-if="isActive">\n        <div class="form-horizontal" role="form">\n          <div class="form-group">\n            <div class="sympli-checkbox">\n              <input id="checkbox-label-user" class="checkbox-label checkbox" type="checkbox"\n                     v-model="isUserChecked"\n                     v-on="click: onSetUserAccessRole">\n              <label for="checkbox-label-user">\n                <i class="sympli-icon icon-tick"></i>\n                User\n                <span>Browse and comment designs</span>\n              </label>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="sympli-checkbox">\n              <input id="checkbox-label-admin" class="checkbox-label checkbox" type="checkbox"\n                     v-model="isAdminChecked"\n                     v-on="click: onSetAdminAccessRole">\n              <label for="checkbox-label-admin">\n                <i class="sympli-icon icon-tick"></i>\n                Power user\n                <span>Invite teammates and manage project’s settings</span>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n'},{}],293:[function(e,t,n){"use strict";var i=e("../../../../../../enums/ProjectUserRolesEnum"),s=e("../../../../../../enums/ProjectUserRolesEnum").RoleToString,o=(e("../../../../../../enums/CompanyUserRolesEnum"),e("../../../../../../enums/CompanyUserRolesEnum").RoleToString);t.exports={inherit:!0,replace:!0,template:e("./index.html"),components:{"popup-prompt-dialog":e("../../../popup-prompt-dialog")},data:function(){return{ProjectUserRolesEnum:i,checked:!1,isActive:!1,isUserChecked:!1,isAdminChecked:!1,isShowDeleteAccess:!1}},ready:function(){this.item.currentRole||(this.item.currentRole=i.projectUser),this._syncRoleAndChckbs(),this.isActive=!1,this.checked=this.item.checked,this.$on("community:item:sync",function(e,t,n){this.item.user.id==e&&(this.checked=t,this.item.checked=t,this.item.currentRole=n,this._syncRoleAndChckbs())})},methods:{onSetUserAccessRole:function(e){this.item.currentRole!=i.projectUser?(this.isUserChecked=!0,this.isAdminChecked=!1,this._onToggleAccessRole(i.projectUser,e)):(e.preventDefault(),e.stopPropagation())},onSetAdminAccessRole:function(e){this.item.currentRole!=i.projectAdmin?(this.isAdminChecked=!0,this.isUserChecked=!1,this._onToggleAccessRole(i.projectAdmin,e)):(e.preventDefault(),e.stopPropagation())},_onToggleAccessRole:function(e,t){this.item.currentRole=e,this.onAccessChange(this.item.user.id,this.item.currentRole,this.item.checked),this.onToggle(t)},onClickAway:function(){this.isActive=!1},onToggle:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.isActive=!this.isActive},_syncRoleAndChckbs:function(){this.isAdminChecked=this.item.currentRole==i.projectAdmin,this.isUserChecked=!this.isAdminChecked},onClick:function(e){e.preventDefault(),this.checked=!this.checked,this.item.checked=this.checked,this.item.currentRole=this.item.currentRole||i.projectUser,this.onAccessChange(this.item.user.id,this.item.currentRole,this.item.checked)}},computed:{accessTitle:function(){return s(this.item.currentRole)},currentRole:function(){var e=s(this.item.role);return""!=e?o(this.item.role):e},canShowRoles:function(){return this&&this.item&&this.item.checked}}}},{"../../../../../../enums/CompanyUserRolesEnum":4,"../../../../../../enums/ProjectUserRolesEnum":7,"../../../popup-prompt-dialog":283,"./index.html":292}],294:[function(e,t,n){t.exports='<div class="row community-filters" v-el="filters" v-if="!isLoading && hasCommunityToShareAccess">\n  <div class="col-xs-6">\n    <div class="sympli-switch" v-class="sympli-switch__project: !companies.length || !projects.length">\n      <div class="sympli-switch__button" v-class="badge: isProjectsView" v-on="click: enableProjectsView" v-if="projects.length">Projects</div>\n      <div class="sympli-switch__button" v-class="badge: isCompaniesView" v-on="click: enableCompaniesView" v-if="companies.length">Companies</div>\n      <span class="background"></span>\n    </div>\n  </div>\n  <div class="common-search-container col-xs-5 col-xs-offset-1">\n    <div v-component="search-input"></div>\n  </div>\n</div>\n\n<div v-if="!isLoading && hasCommunityToShareAccess" v-style="maxHeight">\n  <div v-show="isProjectsView" class="community-body community-body__tree" v-el="projects">\n    <div class="community-body__tree-item" v-repeat="projectItem: communityProjects" track-by="id">\n      <div class="community-project__header">\n        <span class="community-project__checkbox">\n          <span class="sympli-checkbox">\n            <input type="checkbox" class="checkbox-label checkbox"\n                   v-model="projectItem.checked"\n                   v-on="change: onTreeAccessChange($event, projectItem)"\n                   v-attr="id: \'community-\'+projectItem.id, disabled: filtered">\n            <label v-attr="for:\'community-\'+projectItem.id" class="name">\n              <i class="sympli-icon icon-tick-white"></i> <span class="community-project__name">{{projectItem.name}}</span>\n            </label>\n          </span>\n        </span>\n      </div>\n\n      <div class="community-project__list">\n        <div v-repeat="pAccessItem: projectItem.accesses" track-by="id">\n          <div v-component="community-item" v-with="item: pAccessItem, uid: projectItem.id + $index"></div>\n        </div>\n      </div>\n    </div>\n\n    <div v-if="!communityProjects.length" class="community-empty">\n      It seems there no one in your projects whose name or email contains "{{filter}}". Try inviting them over email or by sending them the sharing link.\n    </div>\n  </div>\n\n  <div v-show="isCompaniesView" class="community-body community-body__tree" v-el="companies">\n    <div class="community-body__tree-item" v-repeat="companyItem: communityCompanies" track-by="id">\n      <div class="community-project__header">\n        <span class="community-project__checkbox">\n          <span class="sympli-checkbox">\n            <input type="checkbox" class="checkbox-label checkbox"\n                   v-model="companyItem.checked"\n                   v-on="change: onTreeAccessChange($event, companyItem)"\n                   v-attr="id: \'community-\'+companyItem.id, disabled: filtered">\n            <label v-attr="for: \'community-\'+companyItem.id" class="name">\n              <i class="sympli-icon icon-tick-white"></i> <span class="community-project__name">{{companyItem.name}}</span>\n            </label>\n          </span>\n        </span>\n      </div>\n\n      <div class="community-project__list">\n        <div v-repeat="cAccessItem: companyItem.accesses" track-by="id">\n          <div v-component="community-item" v-with="item: cAccessItem, uid: companyItem.id + $index"></div>\n        </div>\n      </div>\n    </div>\n\n    <div v-if="!communityCompanies.length" class="community-empty">\n      It seems there no one in your company whose name or email contains "{{filter}}". Try inviting them over email or by sending them the sharing link.\n    </div>\n  </div>\n</div>\n\n\n<div v-if="!isLoading && hasCommunityToShareAccess" class="community-footer" v-el="footer">\n  <!--<span class="community-project__count pull-left">Selected {{selectedCount}} people</span>-->\n  <button class="btn btn-primary pull-right" v-on="click: saveCommunity" v-if="hasChanges">Update access</button>\n</div>\n\n<div v-if="isLoading" class="community-empty">\n  Loading...\n</div>\n\n<div v-if="!isLoading && !hasCommunityToShareAccess" class="community-empty">\n  You don\'t have any teammates yet. Once you participate in other projects, you will have an option to re-use projects teams here.\n</div>\n'},{}],295:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,replace:!0,template:e("./index.html"),components:{"community-item":e("./community-item"),"search-input":e("../../../common/search-input")},data:function(){return{projectsView:null,companies:[],projects:[],communityCompanies:[],communityProjects:[],community:{},filter:"",isLoading:!1,maxHeight:null,selectedCount:0,hasChanges:!1}},created:function(){this.projectsView=null,this.$on("search:text",function(e,t){this.filter=e,this.filterCommunity()}),this.$on("community:load",function(){this.loadCommunity()}),this.$on("community:resize",function(){this.calculateMaxHeight()}),this.calculateMaxHeight()},methods:{filterCommunity:function(e,t){function n(n){var r=[],a=0,l=1;return i.each(n,function(n){if(n.accesses.length){var c=i.clone(n);o&&(c.accesses=i.filter(c.accesses,function(e){return e.combinedName.indexOf(o)>=0})),i.each(c.accesses,function(e){e.rowIndex=++l}),c.checked=i.every(c.accesses,function(n){var i=e==n.user.id?t:n.checked;return i&&(s[n.user.id]=!0),i});var u=c.accesses.length;u&&(r.push(c),a+=u+1,l++)}}),{array:r,rows:a}}var s={},o=(this.filter||"").toLowerCase(),r=n(this.projects);this.communityProjects=r.array,this.countProjectsRows=r.rows;var a=n(this.companies);this.communityCompanies=a.array,this.countCompanyRows=a.rows,this.selectedCount=Object.keys(s).length},loadCommunity:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.community={},this.hasChanges=!1,this.communityCompanies=[],this.communityProjects=[],this.isLoading=!0;var t=this.$api.get("/community").then(function(e){if(e.data){var t=this.Project;this.companies=this._prepareTreeAccess(e.data.companies,t),this.projects=this._prepareTreeAccess(e.data.projects,t,t.id)}else this.companies=[],this.projects=[];null==this.projectsView&&(this.projectsView=this.projects.length>0),this.filterCommunity(),this.isLoading=!1}.bind(this));return this.$api(t),t},_findCurrentProjectAccess:function(e,t){var n=i.find(e,function(e){return e.user==t.id});return n?n.role:null},_prepareListAccess:function(e,t){var n=this,s=[],o=e.user&&e.user.id?e.user.id:e.user,r=this.user&&this.user.id?this.user.id:this.user;
return i.each(t,function(t){if(o!=t.user.id&&r!=t.user.id){t.currentRole=n._findCurrentProjectAccess(e.accesses,t.user),t.checked=!!t.currentRole;var i=t.user.profile?t.user.profile.name:"";t.combinedName=i.concat("#",t.user.email||"","#",t.user.nickname||"").toLowerCase(),s.push(t)}}),s},_prepareTreeAccess:function(e,t,n){var s=this,o=[];return i.each(e,function(e){n&&n==e.id||(e.accesses=s._prepareListAccess(t,e.accesses),e.accesses.length&&o.push(e))}),o},saveCommunity:function(e){e&&(e.preventDefault(),e.stopPropagation());var t=this,n=this.getAccesses();if(!n.length)return void(this.hasChanges=!1);var i={accesses:n},s=this.$api.post("/projects/"+this.Project.id+"/accesses",{body:i}).then(function(e){t.community={},t.hasChanges=!1,t.project?t.project=e.data:t.bundle&&(t.bundle.project=e.data)}).then(t.loadCommunity).then(t._loadInvitees);this.$api(s)},getAccesses:function(){var e=this,t=[];return i.each(Object.keys(this.community),function(n){var i=e.community[n];i.newRole==i.role||(i.newRole?i.role?t.push({user:n,role:i.newRole}):t.push({user:n,role:i.newRole}):t.push({user:n,role:null}))}),t},enableCompaniesView:function(){this.projectsView=!1,this.calculateMaxHeight()},enableProjectsView:function(){this.projectsView=!0,this.calculateMaxHeight()},onAccessChange:function(e,t,n){this._onAccessChange(e,t,n),this.$broadcast("community:item:sync",e,n,t),this.filterCommunity(e,n)},_onAccessChange:function(e,t,n){var i=this._findCurrentProjectAccess(this.Project.accesses,{id:e});t||(t=i),n?this.community[e]&&!this.community[e].newRole?delete this.community[e]:this.community[e]={newRole:t,role:i}:this.community[e]&&!this.community[e].role?delete this.community[e]:i&&(this.community[e]={newRole:!1,role:i}),this.hasChanges=Object.keys(this.community).length},onTreeAccessChange:function(e,t){var n=this;i.each(t.accesses,function(e){e.checked=t.checked,n._onAccessChange(e.user.id,e.currentRole,e.checked),n.$broadcast("community:item:sync",e.user.id,e.checked,e.currentRole)}),this.filterCommunity()},calculateMaxHeight:function(){var e=$(window).height(),t=this.getShareProjectOffset(),n=$(this.$$.filters).outerHeight()||48,i=$(this.$$.footer).outerHeight()||50,s=this.isProjectsView?$(this.$$.projects).outerHeight():$(this.$$.companies).outerHeight(),o=t?e-t.top-n-i-80-100:this.maxHeight;o=o>0?o:e,s=s||0,0==s&&(s=50*(this.isProjectsView?this.countProjectsRows:this.countCompanyRows)),o<250&&(o=250);var r="max-height: "+o+"px; min-height: 250px;";s>o?this.maxHeight=r+"overflow: auto":this.maxHeight=r}},computed:{isProjectsView:function(){return this.projectsView},isCompaniesView:function(){return!this.projectsView},filtered:function(){return this.filter&&this.filter.length},Project:function(){return this.getProject()},hasCommunityToShareAccess:function(){return this.projects.length+this.companies.length>0}}}},{"../../../common/search-input":189,"./community-item":293,"./index.html":294,underscore:682}],296:[function(e,t,n){t.exports='<div class="modal fade modal-share modal-share-project"\n     tabindex="-1"\n     v-el="shareProject"\n     role="dialog"\n     aria-labelledby="share-modal-label"\n     aria-hidden="true">\n\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <button type="button" class="close" data-dismiss="modal"><span class="sympli-icon icon-share-close"></span><span class="sr-only">Close</span></button>\n      <div class="modal-header">\n        <h4 class="sympli-title">Share Project</h4>\n      </div>\n\n      <div class="modal-body">\n        <ul class="modal-share__titles" v-if="canManageCommunity">\n          <li class="modal-share__titles-item modal-share__share" v-el="usersTab" v-class="\'active\': activeTab == \'users\'">\n            <h4 v-on="click: setActiveTab($event, \'users\')">\n              <span class="sympli-icon icon-group-shared"></span>\n              <span>Share with</span>\n            </h4>\n          </li>\n          <li class="modal-share__titles-item modal-share__teammates" v-el="companyTab" v-class="\'active\': activeTab == \'company\'">\n            <h4 v-on="click: setActiveTab($event, \'company\')">\n              <span class="sympli-icon icon-add-share"></span>\n              <span>Add Teammates</span>\n            </h4>\n          </li>\n          <li class="line"></li>\n        </ul>\n\n        <!-- tab share with -->\n        <div v-show="activeTab == \'users\'">\n          <div class="form-horizontal form-horizontal__simple" role="form">\n            <div class="form-group">\n              <span class="modal-share__icon">\n                <span class="sympli-icon icon-group-link"></span>\n              </span>\n              <span class="modal-share-btn modal-share-btn__copy" v-class="hidden: !hasShareToken">\n                <button class="btn btn-primary use-copy-result" type="button" v-clipboard\n                        data-clipboard-target="#share-link" title="Copy to clipboard">Copy\n                </button>\n              </span>\n\n              <div class="modal-share-content">\n                <p>To invite collaborators to this project, send them the link</p>\n\n                <div class="invite-link-block">\n                  <div v-if="!isBundleShare" class="invite-link-block-setting dropdown">\n                    <span class="dropdown-toggle" role="button" data-toggle="dropdown"\n                          aria-expanded="true">\n                      <span class="sympli-icon icon-share-setings-menu"></span>\n                    </span>\n\n                    <ul class="dropdown-menu">\n                      <li class="arrow"></li>\n                      <li class="">\n                        <a v-if="hasShareToken" href="#" v-on="click: onDisableShare">Disable Link</a>\n                        <a v-if="!hasShareToken" href="#" v-on="click: onEnableShare">Enable Linking</a>\n                      </li>\n                    </ul>\n                  </div>\n\n                  <span class="modal-share-share_link ellipsis" id="share-link">\n                    <span v-if="hasShareToken">{{inviteUrl}}</span>\n                    <span v-if="!hasShareToken">Linking disabled</span>\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div class="form-group">\n              <span class="modal-share__icon">\n                <span class="sympli-icon icon-group_mail"></span>\n              </span>\n              <span class="modal-share-btn modal-share-btn__send">\n                <button class="btn btn-primary" type="button" v-on="click: sendEmail" v-attr="disabled: loading">\n                  Send\n                </button>\n              </span>\n\n              <div class="modal-share-content">\n                <p>Or send them invites via email:</p>\n                <input id="share-email" class="form-horizontal__input" v-model="emails" type="text"\n                       placeholder="Enter email here..." v-on="keyup: sendEmail, blur: validateEmail" v-attr="disabled: loading">\n                <div class="tooltip top" v-if="emailsInvalid" role="tooltip">\n                  <div class="tooltip-arrow"></div>\n                  <div v-if="!tooMany" class="tooltip-inner">\n                    Please fill out a valid emails\n                  </div>\n                  <div v-if="tooMany" class="tooltip-inner">\n                    On Trial or Free plan you can invite only {{config.emailsLimit}} users a time. If you need more people on the project please send them a link above.\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class="form-group">\n              <div class="modal-share-content">\n                <p>\n                  <input type="checkbox" id="share-checkbox" name="share-checkbox" v-model="shareWithTags" v-attr="disabled: isTagsEmpty" v-class="disabled: isTagsEmpty"/> <label for="share-checkbox">Share project via link and email with currently selected tags</label>\n                </p>\n              </div>\n            </div>\n          </div>\n          <div class="group-block">\n            <div class="group-block__header">\n              <h4>\n                <span v-if="hasInvitees">Shared with {{inviteesCount}} people <span v-if="invitesCount">({{invitesCount}} not joined yet)</span></span>\n                <span class="no-link" v-if="!hasInvitees">This project was not shared with anyone yet, invite your teammates using the form above!</span>\n              </h4>\n            </div>\n            <div class="group-block__body" v-style="maxHeight" v-if="hasInvitees">\n              <div v-repeat="access: invitees.accesses" v-component="project-share-access"></div>\n              <div v-repeat="invite: invitees.invites" v-component="project-share-invite"></div>\n            </div>\n          </div>\n        </div>\n\n        <!-- tab teammates-->\n        <div v-show="activeTab == \'company\'">\n          <div class="group-block-community" role="form">\n            <div class="group-block-community__body" v-if="canManageCommunity">\n                <div v-component="project-share-community" zv-with="company: project && project.company"></div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],297:[function(e,t,n){"use strict";function i(e){var t=s.compact(e.split(/\s|,|;/)),n=/.+@.+\..+/i;return s.every(t,function(e){return n.test(e)})}var s=e("underscore"),o=e("../../../../enums/ProjectUserRolesEnum");t.exports={inherit:!0,template:e("./index.html"),components:{"project-share-invite":e("./invite"),"project-share-access":e("./access"),"project-share-community":e("./community")},data:function(){return{id:"",projectId:void 0,loading:!1,emails:"",bundleId:void 0,invitees:{access:[],invites:[]},emailsInvalid:!1,tooMany:!1,panelStyle:{bottomOffset:270,eachInvitee:60,confirmationDialog:165},maxHeight:null,activeTab:"users",shareWithTags:!1,filterPath:""}},ready:function(){this.activeTab="users",this.$modal=$(this.$$.shareProject),this.$on("modal:show:project-share",function(){this.projectId=this.project.id,this.onShow()}),this.$on("modal:close:project-share",function(){this.onClose()}),this.$on("document:esc",function(){this.onClose()}),this.$on("modal:show:bundle-share",function(){this.bundleId=this.getBundleId(),this.onShow()}),this.$on("modal:close:bundle-share",function(){this.onClose()}),this.$on("resize",this._calculatePosition),this.$on("project:update",this.handleProjectUpdate),this.$on("changed:share-filter",function(e,t){t&&!e||(this.filterPath=e||"")})},beforeDestroy:function(){this.onClose()},methods:{handleProjectUpdate:function(e){e&&this.$security.checkProjectAccess(e,this.$security.permissions.project.manage.users,!0)&&(this._loadInvitees(),this._loadCommunity())},onShow:function(){this._loadInvitees(),this._loadCommunity(),this.$modal.modal("show")},onClose:function(){this.$modal.modal("hide")},getProject:function(){return this.project?this.project:this.bundle?this.bundle.project:{}},getCompany:function(){return this.project&&this.project.company?this.project.company:this.bundle&&this.bundle.project?this.bundle.project.company:null},onEnableShare:function(e){e&&e.preventDefault();var t=this.$api.post("/projects/"+this.getProject().id+"/invite").then(function(e){this.project=e.data}.bind(this));return this.$api(t)},onDisableShare:function(e){e&&e.preventDefault();var t=this.$api["delete"]("/projects/"+this.getProject().id+"/invite").then(function(e){this.project=e.data}.bind(this));return this.$api(t)},sendEmail:function(e){if(this.emailsInvalid=!1,"keyup"!==e.type||13==e.keyCode){if(!this.emails||!i(this.emails))return void(this.emailsInvalid=!0);var t=s.compact(this.emails.trim().split(/\s|,|;/));if(this.isFreePlan()&&t.length>window.config.emailsLimit)return this.emailsInvalid=!0,void(this.tooMany=!0);this.emailsInvalid=!1,this.tooMany=!1,this.loading=!0;var n=this;this.sendEmailInvitesIfAny().then(function(e){e.data.successEmails?n.$dispatch("notify","success","Invitation was sent to "+e.data.successEmails):n.$dispatch("notify","success","All people already were invited or joined"),n.emails=""}).then(n._loadInvitees).then(n._loadCommunity).then(function(){n.loading=!1})["catch"](n.$api.safeCatch(function(e){n.loading=!1,e&&e.responseJSON&&e.responseJSON.code&&n.$dispatch("notify","warning",e.responseJSON.message)}))}},validateEmail:function(){this.emails&&(this.emailsInvalid=!i(this.emails))},sendEmailInvitesIfAny:function(){if(this.emails.trim()){var e={projectId:this.projectId,bundleId:this.bundleId,email:this.emails,role:o.projectUser};return this.shareWithTags&&(e.filterPath=this.filterPath),this.$api.post(this.bundleId?"/invites/bundle":"/invites/project",{body:e})}},_loadInvitees:function(){var e=this.$api.get("/projects/"+this.getProject().id+"/invitees").then(function(e){this.invitees=e.data,this._calculatePosition()}.bind(this));return this.$api(e)},_loadCommunity:function(){this.$broadcast("community:load")},saveOpenInvite:function(e){this.openInvite=e},clearOpenInvite:function(){this.openInvite=null},_calculatePosition:function(){var e=this.invitees.accesses?this.invitees.accesses.length:0,t=this.invitees.invites?this.invitees.invites.length:0;if(e+t>4){var n=$(window).height(),i=this.getShareProjectOffset(),s=i?n-i.top-this.panelStyle.bottomOffset:this.maxHeight;s=s>0?s:n;var o="max-height: "+s+"px;; min-height: 236px;"}(s-this.panelStyle.confirmationDialog)/this.panelStyle.eachInvitee<this.inviteesCount?this.maxHeight=o+"overflow: auto":this.maxHeight=o},getBundleId:function(){return this.bundle&&this.bundle.bundle?this.bundle.bundle:this.bundle.id},getShareProjectOffset:function(){return $(this.$$.shareProject).offset()},setActiveTab:function(e,t){e.preventDefault(),this.activeTab=t,"company"==this.activeTab&&this.$broadcast("community:resize")},isActiveTab:function(e){return this.activeTab==e}},computed:{inviteUrl:function(){return window.location.origin+(this.bundleId?"/b/"+this.bundle.shareToken:"/p/"+this.project.shareToken)+this.filterUrl},filterUrl:function(){return this.shareWithTags&&this.filterPath?"?filterPath="+encodeURIComponent(this.filterPath):""},hasShareToken:function(){return this.bundleId&&this.bundle?this.bundle.shareToken:this.project?this.project.shareToken:void 0},isBundleShare:function(){return this.bundleId},hasInvitees:function(){return!!this.invitees&&(this.invitees&&(this.invitees.accesses&&this.invitees.accesses.length>0||this.invitees.invites&&this.invitees.invites.length>0))},inviteesCount:function(){return this.invitees?this.usersCount+this.invitesCount:0},usersCount:function(){return this.invitees&&this.invitees.accesses?this.invitees.accesses.length:0},invitesCount:function(){return this.invitees&&this.invitees.invites?this.invitees.invites.length:0},canManageCommunity:function(){return!0},isTagsEmpty:function(){return!this.filterPath}}}},{"../../../../enums/ProjectUserRolesEnum":7,"./access":291,"./community":295,"./index.html":296,"./invite":299,underscore:682}],298:[function(e,t,n){t.exports='<div class="user-email">\n  <div v-if="invite">\n    <img alt="" class="gravatar-image user-email__image" v-if="invite.picture" v-attr="src: invite.picture">\n\n    <a class="icon-remove" href="#" v-on="click: onShowDeleteInvite" title="Revoke invite">\n      <span class="sympli-icon icon-group-delete"></span>\n    </a>\n\n    <div class="user-status__resend" v-if="!isJoined && isResendable">\n      <span class="btn btn-white" v-on="click: onResendInvitee">Resend Invite</span>\n    </div>\n\n    <div class="user-status__button" v-on-click-away="onClickAway">\n      <span class="user-status__button-lable" v-on="click: onToggle">\n        {{inviteTitle}}\n        <span class="sympli-icon icon-arrow_down_small"></span>\n      </span>\n      <div class="sympli-dialog top user-setting" tabindex="-1" v-if="isActive">\n        <div class="form-horizontal" role="form">\n          <div class="form-group">\n            <div class="sympli-checkbox">\n              <input id="checkbox-label-user" class="checkbox-label checkbox" type="checkbox"\n                     v-model="isUserChecked"\n                     v-on="click: onSetUserInviteRole">\n              <label for="checkbox-label-user">\n                <i class="sympli-icon icon-tick"></i>\n                User\n                <span>Browse and comment designs</span>\n              </label>\n            </div>\n          </div>\n          <div class="form-group">\n            <div class="sympli-checkbox">\n              <input id="checkbox-label-admin" class="checkbox-label checkbox" type="checkbox"\n                     v-model="isAdminChecked"\n                     v-on="click: onSetAdminInviteRole">\n              <label for="checkbox-label-admin">\n                <i class="sympli-icon icon-tick"></i>\n                Power user\n                <span>Invite teammates and manage project’s settings</span>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="user-email__text ellipsis">\n      <span class="user-email__text-email">{{invite.email}}</span>&nbsp;\n      <span v-if="!isJoined" class="comment">(not joined yet)</span>\n    </div>\n\n    <div v-component="popup-prompt-dialog"\n         class="access-revoke-dialog"\n         v-with="title: \'Revoke project invite\',\n                         message: \'You are about to revoke invite for \' + invite.email,\n                         successButtonLabel: \'Revoke\',\n                         onSuccess: onDeleteInvite,\n                         dialogPosition: \'top\',\n                         isActive: isShowDeleteInvite">\n    </div>\n  </div>\n</div>\n'},{}],299:[function(e,t,n){"use strict";var i=e("../../../../../enums/ProjectUserRolesEnum"),s=e("../../../../../enums/ProjectUserRolesEnum").RoleToString,o=9e5;t.exports={inherit:!0,replace:!0,template:e("./index.html"),components:{"popup-prompt-dialog":e("../../popup-prompt-dialog")},data:function(){return{invite:null,openInvite:void 0,isShowDeleteInvite:!1,isActive:!1,isUserChecked:!1,isAdminChecked:!1,sending:!1}},ready:function(){this.isAdminChecked=this.invite.role==i.projectAdmin,this.isUserChecked=!this.isAdminChecked,this.openInvite==this.invite.email&&void 0!=this.openInvite&&(this.isActive=!0,this.clearOpenInvite()),this.sending=!1},methods:{onShowDeleteInvite:function(e){e.preventDefault(),this.isShowDeleteInvite=!this.isShowDeleteInvite},onDeleteInvite:function(e){this.stopPropagate(e);var t=this,n=this.$api["delete"]("/invites/"+t.invite.id).then(t._loadInvitees);t.$api(n)},_onToggleInviteRole:function(e){this.invite.role=e;var t=this.invite.email,n={role:e},i=this,s=this.$api.put("/invites/"+this.invite.id,{body:n}).then(function(){i.saveOpenInvite(t)}).then(i.onToggle).then(i._loadInvitees);this.$api(s)},onSetUserInviteRole:function(e){this.invite.role!=i.projectUser?(this.isUserChecked=!0,this.isAdminChecked=!1,this._onToggleInviteRole(i.projectUser)):this.stopPropagate(e)},onSetAdminInviteRole:function(e){this.invite.role!=i.projectAdmin?(this.isAdminChecked=!0,this.isUserChecked=!1,this._onToggleInviteRole(i.projectAdmin)):this.stopPropagate(e)},stopPropagate:function(e){e.preventDefault(),e.stopPropagation()},onClickAway:function(e){this.isActive&&(this.isActive=!1)},onToggle:function(e){e&&e.preventDefault(),this.isActive=!this.isActive},onResendInvitee:function(e){if(!this.sending){var t=this;this.sending=!0,this.$api(this.$api.put("/invites/"+this.invite.id+"/resend").then(function(e){t.$dispatch("notify","success","Invitation was sent to "+t.invite.email),t.sending=!1}).then(t._loadInvitees))}}},computed:{inviteTitle:function(){return s(this.invite.role)},isJoined:function(){return this.invite.remainingQuantity<=0},isResendable:function(){if(this.invite){var e=this.invite.sentAt?this.invite.sentAt:this.invite.createdAt;return Date.now()-new Date(e)>o}}}}},{"../../../../../enums/ProjectUserRolesEnum":7,"../../popup-prompt-dialog":283,"./index.html":298}],300:[function(e,t,n){t.exports='<div class="subscription-message modal fade" v-el="modal" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n\n      <button type="button" class="close" data-dismiss="modal"><span class="sympli-icon icon-alert-close"></span><span class="sr-only">Close</span></button>\n\n      <div class="modal-body">\n        <div class=\'update-subscription-message\'>\n          <div class=\'update-subscription-message__image\'><span class=\'sympli-icon icon-update_folder\'></span></div>\n          <span>{{message}}</span><br/>\n        </div>\n      </div>\n\n      <div class="modal-footer" style="text-align: center">\n        <a v-if="isShowUpgradeSubscriptionButton" class="btn btn-primary" v-on="click: onHide" href="/app#!/subscription">Upgrade Subscription</a>\n        <span v-if="!isUpdateSubscriptionErrorMessage">\n          <span v-if="isProjectsOverflow || (isProjectsOverflow && isUsersOverflow)"> or </span>\n        </span>\n        <a v-if="isProjectsOverflow" v-on="click: onHide" href="/app#!/projects">Manage projects</a>\n        <span v-if="isUsersOverflow && isProjectsOverflow"> and </span>\n        <span v-if="!isUpdateSubscriptionErrorMessage">\n          <span v-if="isUsersOverflow && !isProjectsOverflow"> or </span>\n        </span>\n        <a v-if="isUsersOverflow" v-on="click: onHide" href="/app#!/profile/users">Manage users</a>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],301:[function(e,t,n){"use strict";var i=["error.customer.overflow.projects","error.customer.overflow.users","error.customer.overflow","error.project.activate.limit","error.project.archive.limit"],s=["error.customer.activate.overflow","error.customer.activate.overflow.projects","error.customer.activate.overflow.users","error.project.activate.limit","error.project.archive.limit"];t.exports={inherit:!0,template:e("./index.html"),isApplicable:function(e){return i.indexOf(e)>-1||s.indexOf(e)>-1},ready:function(){this.$modal=$(this.$$.modal),this.$on("modal:show:subscription-restrictions-hit",this.handleShowModal)},data:function(){return{message:"",isProjectsOverflow:!1,isUsersOverflow:!1,isShowUpgradeSubscriptionButton:!1,isUpdateSubscriptionErrorMessage:!1,isUnarchiveErrorMessage:!1}},methods:{handleShowModal:function(e,t){this.isUpdateSubscriptionErrorMessage=i.indexOf(t)!==-1,this.isUnarchiveErrorMessage=s.indexOf(t)!==-1,this.isShowUpgradeSubscriptionButton=this.isUnarchiveErrorMessage,(this.isUpdateSubscriptionErrorMessage||this.isUnarchiveErrorMessage)&&(this.reset(),this.message=e,"error.customer.overflow.projects"!==t&&"error.customer.activate.overflow.projects"!==t||(this.isProjectsOverflow=!0),"error.customer.overflow.users"!==t&&"error.customer.activate.overflow.users"!==t||(this.isUsersOverflow=!0),"error.customer.overflow"!==t&&"error.customer.activate.overflow"!==t||(this.isProjectsOverflow=!0,this.isUsersOverflow=!0),this.$modal.modal("show"))},onHide:function(e){this.$modal.modal("hide")},reset:function(){this.message="",this.isProjectsOverflow=!1,this.isUsersOverflow=!1}}}},{"./index.html":300}],302:[function(e,t,n){t.exports='<div class="modal modal-subscription-success fade" v-el="modal" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n\n      <button type="button" class="close" data-dismiss="modal"><span class="sympli-icon icon-alert-close"></span><span class="sr-only">Close</span></button>\n\n      <div class="modal-body text-center" v-if="customer">\n        <div class=\'image\'><span class=\'sympli-icon icon-update_folder\'></span></div>\n        <p v-if="isUpgrade">Thank you!</p>\n        <p>You have updated your subscription successfully.</p>\n        <p v-if="isUpgrade">Now your plan is {{customer.plan.name}}</p>\n        <p v-if="!isUpgrade">Your current plan is {{customer.plan.name}}</p>\n        <br/>\n      </div>\n\n      <div class="modal-footer">\n        <button type="button" class="btn btn-cancel" data-dismiss="modal" >Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],303:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$modal=$(this.$$.modal),this.$on("modal:show:subscription-update-success",this.handleShowModal)},data:function(){return{isUpgrade:!1}},methods:{handleShowModal:function(e){this.isUpgrade=e,this.$modal.modal("show")},onHide:function(e){this.$modal.modal("hide")}}}},{"./index.html":302}],304:[function(e,t,n){t.exports='<div class="watch-tutorial-popup modal fade" v-el="modal" role="dialog" data-keyboard="true">\n  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span class="sympli-icon icon-combined_shape" aria-hidden="true"></span></button>\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h2 class="modal-title">{{title}}</h2>\n      </div>\n      <div class="modal-body">\n        <div class="video-wrapper">\n          <iframe data-url="{{url}}" width="100%" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>\n        </div>\n      </div>\n      <div class="modal-footer">\n        <a href="/download" target="_blank">Download Plugin</a>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],305:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),ready:function(){var e=this;this.$modal=$(this.$$.modal),this.$on("modal:show:watch-tutorial:"+this.id,this.onShow),this.$modal.on("hidden.bs.modal",function(){e.close()}),this.$on("document:esc",function(){e.close()})},data:function(){return{url:null,id:null,title:""}},methods:{close:function(){this.player&&(this.player.api("seekTo",0),this.player.api("pause")),this.$modal.modal("hide")},onShow:function(){var e=this,t=this.$modal.find("iframe"),n=t.get(0);t.load(function(){e.player=$f(n),e.player.addEvent("ready",function(){e.player.addEvent("playProgress",function(){window.focus()})})}),this.$modal.find("iframe").attr("src",this.$modal.find("iframe").data("url")),this.$modal.modal("show")}}}},{"./index.html":304}],306:[function(e,t,n){t.exports='<div class="notify-block">\n  <div v-repeat="notifications">\n    <div class="alert alert-{{type}}" role="alert" v-class="\'alert-dismissible\': options.dismissible">\n      <button type="button" class="close" data-dismiss="alert" aria-label="Close" v-if="options.dismissible"><span class="sympli-icon icon-alert-close" aria-hidden="true">&times;</span></button>\n      <span v-if="title">{{{title}}}</span>\n      <br v-if="message"/>\n      <span v-if="message">{{{message}}}</span>\n    </div>\n  </div>\n</div>\n'},{}],307:[function(e,t,n){"use strict";var i=e("underscore"),s={dismissible:!0,defaultTtl:{notice:1e3,success:1e3,warning:5e3,undefined:1e3}};t.exports={inherit:!0,template:e("./index.html"),data:function(){return{notifications:[]}},ready:function(){this.$on("notify",this.notify)},methods:{notify:function(e,t,n,i){this.pushMessage(e,t,n,i)},pushMessage:function(e,t,n,o){var r=this,a={type:e||"notice",title:t||"",message:n||"",options:i.extend({},s,o)};this.notifications.push(a),i.delay(function(e){r.notifications=i.without(r.notifications,e)},a.options.ttl||a.options.defaultTtl[a.type],a)}}}},{"./index.html":306,underscore:682}],308:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-unavailable">\n    <span class="sympli-icon icon-error_404"></span>\n    <h3>Access denied</h3>\n  </div>\n</section>\n'},{}],309:[function(e,t,n){"use strict";t.exports={template:e("./index.html")}},{"./index.html":308}],310:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-unavailable">\n    <span class="sympli-icon icon-error_404"></span>\n    <h3>Sorry, this page isn\'t available.</h3>\n  </div>\n</section>\n'},{}],311:[function(e,t,n){arguments[4][309][0].apply(n,arguments)},{"./index.html":310,dup:309}],312:[function(e,t,n){t.exports='<div class="empty-list empty-list__no-project">\n  <span class="sympli-icon empty-sympli-icon icon-noprojects"></span>\n  <h4>This project is unavailable</h4>\n  <p>You don’t have access to this project</p>\n  <p class="go-to-project">\n    <a href="#!/projects">Go to projects page</a>\n  </p>\n</div>'},{}],313:[function(e,t,n){arguments[4][309][0].apply(n,arguments)},{"./index.html":312,dup:309}],314:[function(e,t,n){t.exports='<div class="empty-list empty-list__no-project">\n  <span class="sympli-icon empty-sympli-icon icon-noprojects"></span>\n  <h4>This project is unavailable</h4>\n  <p>Looks like this project is not found<br/> or no longer available</p>\n  <p class="go-to-project">\n    <a href="#!/projects">Go to projects page</a>\n  </p>\n</div>'},{}],315:[function(e,t,n){arguments[4][309][0].apply(n,arguments)},{"./index.html":314,dup:309}],316:[function(e,t,n){t.exports='<div v-if="blendOptions && blendOptions.mode && blendOptions.opacity" class="m-details__snippet">\n  <h4>Blend Mode</h4>\n  <div v-component="blending-options" v-with="blendOptions: blendOptions, blendChanges: blendChanges"></div>\n</div>\n\n'},{}],317:[function(e,t,n){t.exports={inherit:!0,template:e("./index.html"),components:{"blending-options":e("../layer-effects/blending-options")}}},{"../layer-effects/blending-options":337,"./index.html":316}],318:[function(e,t,n){t.exports='<div class="m-details__snippet" v-if="resolutionInfo">\n  <h4>DIMENSIONS</h4>\n  <div class="row dimensions-block">\n    <div class="col-xs-6" >\n      <span class="text-field-name">x:</span>\n      <span>{{ left*measureRatio | dru }}{{resolutionInfo.units}}</span>\n    </div>\n    <div class="col-xs-6" >\n      <span class="text-field-name">y:</span>\n      <span>{{ top*measureRatio | dru }}{{resolutionInfo.units}}</span>\n    </div>\n  </div>\n  <div class="row dimensions-block">\n    <div class="col-xs-6">\n      <span class="text-field-name"><span class="small">w:</span><span class="full">Width:</span></span>\n      <span>{{ width*measureRatio | dru }}{{resolutionInfo.units}}</span>\n    </div>\n    <div class="col-xs-6">\n      <span class="text-field-name"><span class="small">h:</span><span class="full">Height:</span></span>\n      <span>{{ height*measureRatio | dru }}{{resolutionInfo.units}}</span>\n    </div>\n  </div>\n  <div class="more_info">\n    <div class="row" v-repeat="rounds">\n      <div class="col-md-12" >\n        <span class="text-field-name">Radius{{type}}: </span>\n        <span>{{ value*measureRatio | dru }}{{resolutionInfo.units}}</span>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],319:[function(e,t,n){"use strict";var i=e("../../../../lib/ShapeTypeEnum"),s=e("../../canvas/canvas_helper"),o=e("sympli-enums").Scopes;t.exports={template:e("./index.html"),data:function(){return{resolutionInfo:null,left:null,top:null,width:null,height:null,measureRatio:null,layer:null,overlay:null,isRuleEnabled:!1,rounds:null,boundsChanges:null}},created:function(){this.$on("select:layers",this.onSelectLayer),this.$on(o.loaded.bundle.data,this.handleLoadedBundle),this.$on("overlay:selection",function(e){this.overlay=e,this.calculatePosition()}),this.$on("isRuleEnabled",function(e){if(this.isRuleEnabled=e,!this.isRuleEnabled&&this.layer){var t=s.getLayerSelection(this.layer);this.calculatePosition(t)}})},methods:{handleLoadedBundle:function(e){this.platform=e.type,this.baseline=e.baseline,this.resolutionInfo=s.getResolutionInfo(this.platform,this.baseline),this.measureRatio=1/this.resolutionInfo.divider},onSelectLayer:function(e){if(e=e||[],e.length&&e[e.length-1]){this.layer=e[e.length-1];var t=s.getLayerSelection(this.layer);this.calculatePosition(t),this.width=t.width,this.height=t.height,this.rounds=null,this.layer.shape&&(this.layer.shape.type==i.rectangle&&this.layer.shape.rounds&&(this.rounds=[],this.layer.shape.rounds[0]==this.layer.shape.rounds[1]&&this.layer.shape.rounds[0]==this.layer.shape.rounds[2]&&this.layer.shape.rounds[0]==this.layer.shape.rounds[3]?this.rounds.push({
type:"",value:this.layer.shape.rounds[0]}):(this.rounds.push({type:" top-left",value:this.layer.shape.rounds[0]}),this.rounds.push({type:" top-right",value:this.layer.shape.rounds[1]}),this.rounds.push({type:" bottom-right",value:this.layer.shape.rounds[2]}),this.rounds.push({type:" bottom-left",value:this.layer.shape.rounds[3]}))),this.layer.shape.type==i.oval&&this.layer.shape.rounds&&(this.rounds=[],this.layer.shape.rounds[0]==this.layer.shape.rounds[1]?this.rounds.push({type:"",value:this.layer.shape.rounds[0]}):(this.rounds.push({type:" horizontal",value:this.layer.shape.rounds[0]}),this.rounds.push({type:" vertical",value:this.layer.shape.rounds[1]}))))}else this.layer=null,this.left=null,this.top=null,this.width=null,this.height=null,this.rounds=null},calculatePosition:function(e){this.overlay&&this.isRuleEnabled?(this.left=this.overlay[0].width,this.top=this.overlay[0].height):(this.left=e.left,this.top=e.top)}}}},{"../../../../lib/ShapeTypeEnum":24,"../../canvas/canvas_helper":162,"./index.html":318,"sympli-enums":524}],320:[function(e,t,n){e("underscore");t.exports={get:function(e){switch(e.type){case"radial":return this._radial(e);case"linear":default:return this._linear(e)}},_radial:function(e){e.reverse&&(e.locations=e.locations.reverse());var t="",n=["background-image: -webkit-radial-gradient(circle, ","background-image: -moz-radial-gradient(circle, ","background-image: -o-radial-gradient(circle, ","background-image: radial-gradient(circle, "];return n.forEach(function(n,i){t+=n+e.locations+");\n"}),t=t+" width: "+2*e.width+"px; height: "+2*e.height+"px;"},_linear:function(e){e.reverse&&(e.locations=e.locations.reverse());var t="",n=["background-image: -webkit-linear-gradient(","background-image: -moz-linear-gradient(","background-image: -o-linear-gradient(","background-image: linear-gradient("],i=e.angle&&void 0!==e.angle.value?e.angle.value:90;return i=-i+90,n.forEach(function(n,s){t+=n+i+"deg, "+e.locations+");\n"}),t=t+" height: "+e.height+"px; width: 100%"}}},{underscore:682}],321:[function(e,t,n){t.exports='<div class="gradient_name" v-if="gradient.name" v-class="getCompareClassGradient(\'name\')">\n  <span class="text-field-name">Gradient: </span>\n  <span>{{gradient | extractName}}</span>\n</div>\n<div class="gradient_name" v-class="getCompareClass(\'type\')">\n  {{type}} Gradient Fill\n</div>\n<div class="option-text" v-if="fill.blendOptions">\n  <span class="blend_mode" v-class="getCompareClassBlends(\'mode\')">\n    {{fill.blendOptions.mode | humanize}}</span>\n  <span v-class="getCompareClassBlends(\'opacity\')">\n    <span class="sympli-icon icon-eye"></span>\n    {{fill.blendOptions.opacity.value}}%\n  </span>\n</div>\n<div class="gradient-preview" v-style="gradientStyle">&nbsp;</div>\n<div v-if="scale" v-class="getCompareClass(\'scale\')">\n  <span class="text-field-name">Scale: </span>\n  <span>{{scale.value}}%</span>\n</div>\n<div v-if="angle" v-class="getCompareClass(\'angle\')">\n  <span class="text-field-name">Angle: </span>\n  <span>{{angle.value}}&deg;</span>\n</div>\n\n<div class="gradient-s-color" v-class="getCompareClassGradient(\'colors\')">\n    <div class="gradient-s-color__block" v-repeat="gradient.colors">\n      <div class="percent">{{location | locationInPercents}}%</div>\n      <div class="s-color"><div class="s_color-box" v-component="color-box-with-hex" v-with="isEditable: true"></div></div>\n    </div>\n</div>\n\n<div class="virtual_gradient " v-if="gradient.from && gradient.to">\n  <span v-class="getCompareClassGradient(\'from\')">\n    (x: {{gradient.from.x * measureRatio | dru}}{{resolutionInfo.units}} y: {{gradient.from.y * measureRatio | dru}}{{resolutionInfo.units}})</span> &rarr;\n  <span v-class="getCompareClassGradient(\'to\')">\n  (x: {{gradient.to.x * measureRatio | dru}}{{resolutionInfo.units}} y: {{gradient.to.y * measureRatio | dru}}{{resolutionInfo.units}})</span>\n</div>\n\n<div v-if="gradient.radius" v-class="getCompareClassGradient(\'radius\')">\n  <span class="text-field-name">Radius: </span>\n  <span>{{gradient.radius * measureRatio | dru}} {{resolutionInfo.units}}</span>\n</div>\n\n<div v-if="reverse != null && reverse != undefined"  v-class="getCompareClass(\'reverse\')">\n  <span class="text-field-name">Reverse: </span>\n  <span>{{reverse}}</span>\n</div>\n'},{}],322:[function(e,t,n){var i=e("../../../../../../lib/color-utils/obj2color"),s=e("./gradient-styles"),o=e("../../../../../../lib/bundle-version-difference/DifferenceHelper"),r=function(e,t){return Math.round(100*e/t)};t.exports={inherit:!0,template:e("./index.html"),date:function(){return{gradient:null,gradientOptions:null,angle:null,reverse:null,dither:null,scale:null}},methods:{getCompareClass:function(e){if(this.fillChanges&&this.fillChanges[e])return o.getCompareClass(this.fillChanges[e])},getCompareClassGradient:function(e){if(this.fillChanges&&this.fillChanges.gradient&&this.fillChanges.gradient[e])return o.getCompareClass(this.fillChanges.gradient[e])},getCompareClassBlends:function(e){if(this.fillChanges&&this.fillChanges.blendsChanges&&this.fillChanges.blendsChanges[e])return o.getCompareClass(this.fillChanges.blendsChanges[e])}},computed:{gradientStyle:function(){if(!this.gradient||!this.gradient.colors||this.gradient.colors.length<=0)return"";var e=[],t=this.gradient.interfaceIconFrameDimmed||4096;this.gradient.colors.forEach(function(n){e.push(i(n.color)+" "+r(n.location,t)+"%")});var n={};return n.reverse=this.reverse,n.locations=e,n.type=this.type,n.height=22,n.width=22,n.angle=this.angle,s.get(n)}},components:{"color-box-with-hex":e("../../../../common/color-box-with-hex"),"blending-options":e("../../../layer-effects/blending-options")},filters:{locationInPercents:function(e){return r(e,this.gradient.interfaceIconFrameDimmed||4096)},extractName:function(e){return e&&e.name?e.name.substr(e.name.lastIndexOf("=")+1):""}}}},{"../../../../../../lib/bundle-version-difference/DifferenceHelper":29,"../../../../../../lib/color-utils/obj2color":36,"../../../../common/color-box-with-hex":179,"../../../layer-effects/blending-options":337,"./gradient-styles":320,"./index.html":321}],323:[function(e,t,n){t.exports='<div v-if="fill.class == \'solidColor\'">\n  <div class="option-text" v-if="fill.blendOptions">\n    <div class="name">Fill</div>\n    <div v-component="blending-options"\n         v-with="blendOptions: fill.blendOptions, blendChanges: fillChanges && fillChanges.blendsChanges"\n         v-if="fill.blendOptions"></div>\n  </div>\n\n  <div class="s-color" v-class="getCompareClass(\'color\')">\n    <div class="s_color-box" v-component="color-box-with-hex" v-with="color: fill.color, isEditable: true"></div>\n  </div>\n</div>\n\n<div class="gradient-fill" v-if="fill.class == \'gradient\'"\n     v-component="gradient-fill"\n     v-with="gradient: fill.gradient, type: fill.type, angle: fill.angle, reverse: fill.reverse, dither: fill.dither, scale: fill.scale, fillChanges:fillChanges">\n</div>\n\n<div v-if="fill.class == \'pattern\'">\n  <div class="option-text">\n    <div class="name">Pattern Fill</div>\n  </div>\n  <div v-component="pattern-fill" v-with="pattern: fill.patternFill"></div>\n</div>\n\n<div v-if="fill.class == \'noise\'">\n  <div class="option-text">\n    <div class="name">Noise Fill</div>\n  </div>\n  <div v-component="noise-fill" v-with="noise: fill.noiseFill"></div>\n</div>\n'},{}],324:[function(e,t,n){var i=e("../../../../../lib/bundle-version-difference/DifferenceHelper");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{fill:null}},components:{"color-box-with-hex":e("../../../common/color-box-with-hex"),"gradient-fill":e("./gradient"),"noise-fill":e("./noise"),"pattern-fill":e("./pattern"),"blending-options":e("../../layer-effects/blending-options")},methods:{getCompareClass:function(e){if(this.fillChanges&&this.fillChanges[e])return i.getCompareClass(this.fillChanges[e])}}}},{"../../../../../lib/bundle-version-difference/DifferenceHelper":29,"../../../common/color-box-with-hex":179,"../../layer-effects/blending-options":337,"./gradient":322,"./index.html":323,"./noise":326,"./pattern":328}],325:[function(e,t,n){t.exports='<div v-if="noise && noise.type" v-class="getCompareClassNoise(\'type\')">\n  <span class="text-field-name">Type: </span>\n  <span>{{noise.type}}</span>\n</div>\n\n<div v-if="noise && noise.intensity" v-class="getCompareClassNoise(\'intensity\')">\n  <span class="text-field-name">Intensity: </span>\n  <span>{{noise.intensity.value}}%</span>\n</div>\n'},{}],326:[function(e,t,n){var i=e("../../../../../../lib/bundle-version-difference/DifferenceHelper");t.exports={inherit:!0,template:e("./index.html"),date:function(){return{noise:null}},methods:{getCompareClassNoise:function(e){if(this.fillChanges&&this.fillChanges.noiseFill&&this.fillChanges.noiseFill[e])return i.getCompareClass(this.fillChanges.noiseFill[e])}}}},{"../../../../../../lib/bundle-version-difference/DifferenceHelper":29,"./index.html":325}],327:[function(e,t,n){t.exports='<div v-if="pattern && pattern.type" v-class="getCompareClassPattern(\'type\')">\n  <span class="text-field-name">Type: </span>\n  <span>{{pattern.type}}</span>\n</div>\n\n<div v-if="pattern && pattern.scale" v-class="getCompareClassPattern(\'scale\')">\n  <span class="text-field-name">Scale: </span>\n  <span>{{pattern.scale.value}}%</span>\n</div>\n\n'},{}],328:[function(e,t,n){var i=e("../../../../../../lib/bundle-version-difference/DifferenceHelper");t.exports={inherit:!0,template:e("./index.html"),date:function(){return{pattern:null}},methods:{getCompareClassPattern:function(e){if(this.fillChanges&&this.fillChanges.patternFill&&this.fillChanges.patternFill[e])return i.getCompareClass(this.fillChanges.patternFill[e])}}}},{"../../../../../../lib/bundle-version-difference/DifferenceHelper":29,"./index.html":327}],329:[function(e,t,n){t.exports='<div class="m-details__snippet" v-if="hasSupportedFills">\n  <h4>Fills</h4>\n  <div class="layer-effect-item-options">\n    <div v-repeat="fill: supportedFills" class="layer-effect-item-options-block">\n      <div v-component="fill" v-with="fill: fill, fillChanges: getFillChanges(fill)">\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],330:[function(e,t,n){var i=e("underscore"),s=e("../../../../lib/bundle-version-difference/ArrayChangesUIDsGenerator").FillsUIDGenerator;t.exports={inherit:!0,template:e("./index.html"),data:function(){return{fills:null}},components:{fill:e("./fill")},methods:{getFillChanges:function(e){if(!this.fillsChanges)return null;if(!e&&!e["class"])return null;var t=s(e),n=i.find(this.fillsChanges,function(e){return i.find(e._uid,function(e){return e==t})});return n}},computed:{hasSupportedFills:function(){return this.supportedFills.length>0},supportedFills:function(){var e=this.fills&&this.fills.items&&this.fills.items.length>0;return e?i.filter(this.fills.items,function(e){return["solidColor","gradient","pattern","noise"].indexOf(e["class"])>=0}):[]}}}},{"../../../../lib/bundle-version-difference/ArrayChangesUIDsGenerator":27,"./fill":324,"./index.html":329,underscore:682}],331:[function(e,t,n){t.exports='<div class="m-details__snippet" v-if="fonts.length" v-on="mouseover: onMouseHoverFonts($event)">\n  <h4>Fonts</h4>\n  <template v-component="font" v-repeat="fonts"></template>\n</div>'},{}],332:[function(e,t,n){t.exports={inherit:!0,template:e("./index.html"),data:function(){return{}},components:{font:e("./../../panel-tree/fonts/font")},methods:{onMouseHoverFonts:function(e){e.stopPropagation(),e.preventDefault(),this.$dispatch("hover:font",null,e)}}}},{"./../../panel-tree/fonts/font":361,"./index.html":331}],333:[function(e,t,n){t.exports={textLayer:"icon-layer_text",shapeLayer:"icon-layer_vector",layer:"icon-layer_vector",asset:"icon-layer_image",layerSection:"icon-layer_vector"}},{}],334:[function(e,t,n){t.exports='<div class="m-panel m-panel__details" v-class="active: panelOpened">\n  <div class="m-panel__header m-panel__details__header" v-class="m-panel__details__header-double: needColorFormat">\n    <span class="sympli-icon icon-main_close_button" v-on="click: panelOpened = false;"></span>\n    <div class="ellipsis" v-if="selectedLayer">\n      <i class="sympli-icon sympli-icon__select" v-class="currentLayerIcon"></i>\n      {{selectedLayer.name}}\n    </div>\n  </div>\n\n  <div class="m-panel__content m-panel__details__content" v-scrollpane="{contentWidth:289}" >\n    <div class="color-format" v-if="needColorFormat">\n      <div class="color-format__block">\n        <div class="color-format__title">Color format</div>\n        <div class="m-tree__download format-switch" v-component="project-color-format-selector" v-with="projectId: bundle.project._id, colorFormat: projectColorFormat"></div>\n      </div>\n    </div>\n    <div class="m-panel__section m-details__details-viewport-wrapper" v-show="hasPreviewImage">\n      <div class="m-panel__details-subheader">\n        <div v-component="zoom-picker" v-with="namespace: \'layer\', viewportId: \'details-viewport\', bounds: selectedBounds, defaultFit: \'Auto\', padding:11"></div>\n        <div v-component="background-picker" v-with="namespace: \'layer\', default: \'light\', bagKey: backgroundBagKey"></div>\n\n        <div v-if="bundle && selectedLayer && selectedLayer.type == \'asset\'" class="dropdown m-tree__download">\n          <span class="badge btn btn-cancel dropdown-toggle" data-toggle="dropdown">Download <span class="sympli-icon icon-arrow"></span></span>\n          <ul class="dropdown-menu dropdown-menu-right">\n            <li class="arrow"></li>\n            <li><a href="{{bundle.blobUrlPrefix}}/{{selectedLayer.name}}-bitmap.zip" title="Download bitmap asset">Bitmap</a></li>\n            <li v-show="selectedLayer.hasVectorAssets"><a href="{{bundle.blobUrlPrefix}}/{{selectedLayer.name}}-vector.zip"  title="Download vector asset">Vector</a></li>\n          </ul>\n        </div>\n      </div>\n\n      <div class="m-panel__details__canvas-wrapper" id="details-viewport" v-scrollpane="{}" v-style="background: background">\n        <div v-component="layer-canvas" v-with="namespace: \'layer\'"></div>\n      </div>\n    </div>\n\n    <div class="m-panel__section">\n      <div class="m-details" v-component="bounds"></div>\n      <div class="m-details" v-component="layer-web-styles" v-if="isWeb"></div>\n      <div class="m-details" v-component="blend-mode" v-with="blendOptions: blendOptions" v-if="blendOptions"></div>\n      <div class="m-details" v-component="fills" v-with="fills: selectedFill"></div>\n      <div class="m-details" v-component="text-layer"></div>\n      <div class="m-details" v-component="layer-effects" v-with="layerEffects, blendingOptions: blendOptions"></div>\n    </div>\n  </div>\n</div>\n\n'},{}],335:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../canvas/canvas_helper"),o=e("../../../lib/bundle-version-difference/DifferenceHelper"),r=e("./iconMap"),a=e("sympli-enums").Scopes;t.exports={inherit:!0,template:e("./index.html"),replace:!0,ready:function(){this.$on("select:layers",this.onSelectLayers),this.$on("layer:background",this.handleBackground),this.$on("select:platform",this.onSelectPlatform),this.$on(a.loaded.bundle.data,this.handleLoadedBundle),this.$on("layer:zoom",function(e,t,n){this.$emit("scrollPane:reInit")}),this.$on("change:bounds",function(e){this.$broadcast("change:bounds",e)})},data:function(){return{selectedLayer:null,selectedType:null,selectedBounds:null,selectedFill:null,panelOpened:!1,imageUrl:null,background:null,backgroundBagKey:"bundlePanelDetailBackgroundBag_"+this.route.params[0],projectColorFormat:void 0}},computed:{needColorFormat:function(){return this.bundle&&("web"===this.bundle.type||"ios"===this.bundle.type)},currentLayerIcon:function(){var e=this.selectedLayer?this.selectedLayer.type:"";return r[e]||"fa-question"},selectedLayerColors:function(){return this.selectedLayer?i.filter(this.bundle.data.colors||[],function(e){return e.usages.indexOf(this.selectedLayer.id)>-1},this):[]},selectedLayerFonts:function(){return this.selectedLayer?i.filter(this.bundle.data.fonts||[],function(e){return e.usages.indexOf(this.selectedLayer.id)>-1},this):[]},selectedFill:function(){return this.selectedLayer?this.selectedLayer.fills:null},blendOptions:function(){return this.selectedLayer?this.selectedLayer.blendOptions:null},layerEffects:function(){return this.selectedLayer?this.selectedLayer.layerEffects:null},hasPreviewImage:function(){return this.selectedLayer&&("asset"===this.selectedLayer.type||this.bundle&&"photoshop"===this.bundle.source&&!this.selectedLayer.fromSmartObject)}},components:{"layer-canvas":e("../canvas/layer"),"zoom-picker":e("../common/zoom-picker"),"background-picker":e("../common/background-picker"),"text-layer":e("./text-layer"),fonts:e("./fonts"),bounds:e("./bounds"),fills:e("./fills"),"layer-effects":e("./layer-effects"),"blend-mode":e("./blend-mode"),"layer-web-styles":e("./layer-web-styles"),"project-color-format-selector":e("../common/project-color-format-selector")},filters:{},methods:{handleLoadedBundle:function(e){this.platform=e.type,this.baseline=e.baseline},onSelectLayers:function(e){e=e||[],e.length?(this.selectedLayer=e[e.length-1],this.selectedType=this.selectedLayer.type,this.selectedBounds=s.getLayerSelectionRecur(this.selectedLayer),this.togglePanel(!0),this.imageUrl=null,this.$broadcast("layer:render",this.selectedLayer)):(this.selectedLayer=null,this.selectedType=null,this.selectedBounds=null,this.togglePanel(!1),this.imageUrl=null,this.$broadcast("layer:render",this.selectedLayer))},handleBackground:function(e,t){this.background=t},onSelectPlatform:function(e){this.platform=e},togglePanel:function(e){void 0!==e&&"boolean"==typeof e?this.panelOpened=e:this.panelOpened=!this.panelOpened},getCompareClass:function(e){return o.getCompareClass(e)}}}},{"../../../lib/bundle-version-difference/DifferenceHelper":29,"../canvas/canvas_helper":162,"../canvas/layer":171,"../common/background-picker":177,"../common/project-color-format-selector":187,"../common/zoom-picker":193,"./blend-mode":317,"./bounds":319,"./fills":330,"./fonts":332,"./iconMap":333,"./index.html":334,"./layer-effects":341,"./layer-web-styles":347,"./text-layer":351,"sympli-enums":524,underscore:682}],336:[function(e,t,n){t.exports='<div class="option-text blend" >\n  <span class="blend_mode" v-class="getCompareClass(\'mode\')">{{blendOptions.mode | humanize}}</span>\n  <span v-class="getCompareClass(\'opacity\')">\n    <span class="sympli-icon icon-eye"></span>\n    {{blendOptions.opacity.value}}%\n  </span>\n</div>\n\n'},{}],337:[function(e,t,n){var i=e("../../../../../lib/bundle-version-difference/DifferenceHelper");t.exports={template:e("./index.html"),methods:{getCompareClass:function(e){return this.blendChanges&&this.blendChanges[e]?i.getCompareClass(this.blendChanges[e]):""}}}},{"../../../../../lib/bundle-version-difference/DifferenceHelper":29,"./index.html":336}],338:[function(e,t,n){t.exports='<div class="m-details__snippet" v-if="borders && borders.items && borders.items.length > 0" v-class="getCompareBaseClass()">\n  <h4>Borders</h4>\n  <div class="layer-effect-item-options">\n    <div v-repeat="border: borders && borders.items" class="layer-effect-item-options-block">\n      <div v-component="fill" v-with="fill: border.fill, fillChanges: getFillChanges($data)"></div>\n      <div  class="more_info">\n        <div v-class="getCompareClass($data, \'position\')">\n          <span class="text-field-name">Position:</span>\n          <span>{{border.position}}</span>\n        </div>\n        <div v-class="getCompareClass($data, \'thickness\')">\n          <span class="text-field-name">Thickness: </span>\n          <span>{{border.thickness | convert-to-platform-units}}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],339:[function(e,t,n){"use strict";var i=e("../../../../../lib/bundle-version-difference/DifferenceHelper"),s=e("../../../../../lib/bundle-version-difference/ArrayChangesUIDsGenerator").BordersUIDGenerator,o=e("underscore");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{borders:null}},methods:{getCompareBaseClass:function(){return this.bordersChanges&&this.bordersChanges&&!o.isObject(this.bordersChanges)?i.getCompareClass(this.bordersChanges):""},getCompareClass:function(e,t){if(!(e&&e.border&&this.bordersChanges&&o.isObject(this.bordersChanges)))return null;var n=s(e.border),r=o.find(this.bordersChanges,function(e){return o.find(e._uid,function(e){return e==n})});return r?i.getCompareClass(r[t]):""},getFillChanges:function(e){if(!(e&&e.border&&this.bordersChanges&&o.isObject(this.bordersChanges)))return null;var t=s(e.border),n=o.find(this.bordersChanges,function(e){return o.find(e._uid,function(e){return e==t})});return n?n.fillChanges:null}},components:{fill:e("../../fills/fill")}}},{"../../../../../lib/bundle-version-difference/ArrayChangesUIDsGenerator":27,"../../../../../lib/bundle-version-difference/DifferenceHelper":29,"../../fills/fill":324,"./index.html":338,underscore:682}],340:[function(e,t,n){t.exports='<div v-if="layerEffects && hasItems">\n  <!--<div v-component="bevel-emboss" v-with="options: bevelEmboss" v-if="bevelEmboss && bevelEmboss.enabled"></div>-->\n  <!--<div v-component="stroke" v-with="options: frameFX" v-if="frameFX && frameFX.enabled"></div>-->\n  <!--<div v-component="inner-glow" v-with="options: innerGlow" v-if="innerGlow && innerGlow.enabled"></div>-->\n  <!--<div v-component="satin" v-with="options: chromeFX" v-if="chromeFX && chromeFX.enabled"></div>-->\n  <!--<div v-component="color-overlay" v-with="options: solidFill" v-if="solidFill && solidFill.enabled"></div>-->\n  <!--<div v-component="gradient-overlay" v-with="options: gradientFill" v-if="gradientFill && gradientFill.enabled"></div>-->\n  <!--<div v-component="pattern-overlay" v-with="options: gradientFill" v-if="gradientFill"></div>-->\n  <!--<div v-component="outer-glow" v-with="options: outerGlow" v-if="outerGlow && outerGlow.enabled"></div>-->\n  <div v-component="shadows" v-with="shadows : shadows, shadowsChanges: effectsChanges && effectsChanges.shadows"></div>\n  <!--<div v-component="drop-shadows" v-with="dropShadows"></div>-->\n  <div v-component="borders" v-with="borders : borders, bordersChanges: effectsChanges && effectsChanges.borders"></div>\n  <!--<div v-component="blur" v-with="blur" v-if="blur"></div>-->\n</div>\n\n'},{}],341:[function(e,t,n){var i=e("../../../../lib/decimel-round-utility");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{bevelEmboss:null,stroke:null,innerShadows:null,dropShadows:null,innerGlow:null,satin:null,platform:null,baseline:null,resolutionInfo:null,measureRatio:null}},components:{shadows:e("./shadows"),borders:e("./borders")},computed:{hasItems:function(){return this.shadows||this.borders&&this.borders.items&&this.borders.items.length>0},borders:function(){return this.layerEffects&&this.layerEffects.borders&&this.layerEffects.borders.items&&this.layerEffects.borders.items.length>0?this.layerEffects.borders:null},shadows:function(){if(!this.layerEffects)return null;var e={};return this.layerEffects.innerShadows&&this.layerEffects.innerShadows.items&&this.layerEffects.innerShadows.items.length>0&&(e.inner=this.layerEffects.innerShadows),this.layerEffects.dropShadows&&this.layerEffects.dropShadows.items&&this.layerEffects.dropShadows.items.length>0&&(e.drop=this.layerEffects.dropShadows),e}},filters:{extractName:function(e){return e&&e.name?e.name.substr(e.name.lastIndexOf("=")+1):""},"convert-to-platform-units":function(e){return this.platform&&this.baseline?i(e*this.measureRatio)+""+this.resolutionInfo.units:e+" px"}}}},{"../../../../lib/decimel-round-utility":38,"./borders":339,"./index.html":340,"./shadows":343}],342:[function(e,t,n){t.exports='<div class="m-details__snippet" v-if="shadows && (shadows.inner || shadows.drop)">\n  <div class="m-details__snippet-block" v-if="filteredInnerShadows.length > 0" v-class="getCompareBaseClass(\'inner\')">\n    <h4>Inner Shadows</h4>\n    <div class="layer-effect-item-options">\n      <div class="layer-effect-item-options-block" v-repeat="shadow: filteredInnerShadows">\n        <div v-component="shadow" v-with="shadow: shadow, isInner: true, shadowChanges: getShadowChanges($data, \'inner\')"></div>\n      </div>\n    </div>\n  </div>\n  <div class="m-details__snippet-block m-details__snippet-block-long" v-if="filteredOuterShadows.length > 0" v-class="getCompareBaseClass(\'drop\')">\n    <h4>Drop Shadows</h4>\n    <div class="layer-effect-item-options">\n      <div class="layer-effect-item-options-block" v-repeat="shadow: filteredOuterShadows">\n        <div v-component="shadow" v-with="shadow: shadow, isInner: false, shadowChanges: getShadowChanges($data, \'drop\')"></div>\n      </div>\n    </div>\n  </div>\n</div>\n\n'},{}],343:[function(e,t,n){"use strict";var i=e("../../../../../lib/bundle-version-difference/ArrayChangesUIDsGenerator").ShadowsUIDGenerator,s=e("../../../../../lib/bundle-version-difference/DifferenceHelper"),o=e("underscore");t.exports={inherit:!0,template:e("./index.html"),components:{shadow:e("./shadow")},methods:{getCompareBaseClass:function(e){return this.shadowsChanges&&this.shadowsChanges[e]&&!o.isObject(this.shadowsChanges[e])?s.getCompareClass(this.shadowsChanges[e]):""},getShadowChanges:function(e,t){if(!(e&&e.shadow&&this.shadowsChanges&&this.shadowsChanges[t]&&o.isObject(this.shadowsChanges[t])))return null;var n=i(e.shadow),s=o.find(this.shadowsChanges[t],function(e){return o.find(e._uid,function(e){return e==n})});return s}},computed:{filteredInnerShadows:function(){return this.shadows.inner&&this.shadows.inner.items&&this.shadows.inner.items.length>0?o.filter(this.shadows.inner.items,function(e){return e.enabled}):[]},filteredOuterShadows:function(){return this.shadows.drop&&this.shadows.drop.items&&this.shadows.drop.items.length>0?o.filter(this.shadows.drop.items,function(e){return e.enabled}):[]}}}},{"../../../../../lib/bundle-version-difference/ArrayChangesUIDsGenerator":27,"../../../../../lib/bundle-version-difference/DifferenceHelper":29,"./index.html":342,"./shadow":345,underscore:682}],344:[function(e,t,n){t.exports='<div class="option-text">\n  <div class="name">Shadow</div>\n  <div v-component="blending-options" v-with="blendOptions: shadow, blendChanges: shadowChanges && shadowChanges.blendChanges"></div>\n</div>\n\n<div class="s-color">\n  <div class="s_color-box" v-component="color-box-with-hex" v-with="color: shadow.color, isEditable: true" v-class="getCompareClass(\'color\')"></div>\n</div>\n\n<div class="info-padding">\n  <div class="row" v-if="shadow.offset !== undefined" >\n    <div class="col-xs-5" v-class="getCompareClass(\'offsetX\')">\n      <span class="text-field-name">X:</span>\n      <span>{{shadow.offset.x | | convert-to-platform-units}}</span>\n    </div>\n    <div class="col-xs-6" v-class="getCompareClass(\'offsetY\')">\n      <span class="text-field-name">Y:</span>\n      <span>{{shadow.offset.y | | convert-to-platform-units}}</span>\n    </div>\n  </div>\n\n  <div class="row" v-if="shadow.offset !== undefined">\n    <div class="col-xs-5" v-if="shadow.blurRadius !== undefined" v-class="getCompareClass(\'blurRadius\')">\n      <span class="text-field-name">Blur:</span>\n      <span>{{shadow.blurRadius | convert-to-platform-units}}</span>\n    </div>\n    <div class="col-xs-6" v-class="getCompareClass(\'spreadRadius\')">\n      <span class="text-field-name">Spread:</span>\n      <span>{{shadow.spreadRadius | convert-to-platform-units}}</span>\n    </div>\n  </div>\n</div>\n<div v-if="shadow !== undefined" class="shadow-preview-rect" v-style="shadowStyle"></div>\n'},{}],345:[function(e,t,n){"use strict";var i=e("../../../../../../lib/bundle-version-difference/DifferenceHelper");e("underscore");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{shadow:null}},methods:{getCompareClass:function(e){return this.shadowChanges&&this.shadowChanges[e]?i.getCompareClass(this.shadowChanges[e]):""}},components:{"color-box-with-hex":e("../../../../common/color-box-with-hex/index"),"blending-options":e("../../../layer-effects/blending-options")},computed:{shadowStyle:function(){var e=3,t=5,n=Math.max(Math.abs(this.shadow.offset.x||0)+(this.shadow.spreadRadius||0),Math.abs(this.shadow.offset.y||0)+(this.shadow.spreadRadius||0)),i=this.shadow.blurRadius||0,s=1,o=1;0!=n&&(s=Math.abs(e/n)),0!=i&&(o=Math.abs(t/i));var r=Math.min(s,o),a=(this.shadow.blurRadius||0)*r,l=(this.shadow.spreadRadius||0)*r,c={x:this.shadow.offset.x*r,y:this.shadow.offset.y*r};return"box-shadow: "+(this.isInner?"inset ":"")+c.x+"px "+c.y+"px "+a+"px "+l+"px rgba(0, 0, 0, 0.5) "}}}},{"../../../../../../lib/bundle-version-difference/DifferenceHelper":29,"../../../../common/color-box-with-hex/index":179,"../../../layer-effects/blending-options":337,"./index.html":344,underscore:682}],346:[function(e,t,n){t.exports='<div v-show="layer" class="m-details__snippet">\n  <div class="m-details__snippet-header m-details__snippet-header__help">\n    <h4>Web styles</h4>\n\n    <div class="m-details__snippet-help-button">\n      <div class="result-type_wrapper">\n        <div class="sympli-switch dropdown dropdown-mini">\n          <div class="options-block__toggle" data-toggle="dropdown">\n            {{options.type}}\n            <span class="sympli-icon icon-main_tab_small_down_for_menus"></span>\n          </div>\n          <ul class="dropdown-menu dropdown-menu-right dropdown-menu-mini">\n            <li class="arrow"></li>\n            <li v-repeat="type: resultTypes">\n              <a v-on="click: onSelectLanguageType($event, type)" href="#">{{type.text}}</a>\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <div class="dropdown" v-class="open: showOptions" v-on-click-away="onClickAway">\n        <i class="sympli-icon icon-setings-menu" class="dropdown-toggle" title="edit settings" role="button" v-on="click: showOptions =! showOptions"></i>\n        <div class="dropdown-menu">\n          <div class="arrow"></div>\n          <div v-component="options"></div>\n        </div>\n      </div>\n\n      <span class="m-details__snippet-help-button__copy" v-clipboard data-clipboard-text="{{webStylesRaw}}" title="copy all styles to clipboard">Copy</span>\n    </div>\n  </div>\n\n  <div class="m-details__snippet-padding" v-class="\'language-\'+options.resultType">\n    {{{webStyles}}}\n  </div>\n</div>\n'},{}],347:[function(e,t,n){"use strict";var i=e("../../../../lib/web-styles/layer-styles-builder"),s=new(e("LocalStorageBag"))("webStyleOptionsBag",i.getDefaults()),o=e("../../../../lib/web-styles/WebStyleResultTypeEnum"),r=e("mousetrap"),a=e("clipboard");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{layer:null,webStyles:null,webStylesRaw:null,options:s.get(),showOptions:!1,resultTypes:[{value:o.css,text:"css"},{value:o.less,text:"less"},{value:o.sass,text:"sass"},{value:o.scss,text:"scss"},{value:o.stylus,text:"stylus"}]}},created:function(){this.$on("select:layers",this.onSelectLayer),this.options.colorFormat=this.projectColorFormat,this.$on("project-color-format:changed",function(e){this.options.colorFormat=e,this.rebuildStyles()}),this.options.type=this.options.type||o.css},ready:function(){var e=this;r.bind(["command+shift+c","ctrl+shift+c"],function(t){if(e.layer&&(!window.getSelection||!window.getSelection().toString())){var n=e.webStylesRaw,i=new a(e.$el,{action:function(){return"copy"},target:function(){return document.body},text:function(){return n}});return i.onClick(t),i.destroy(),!1}})},beforeDestroy:function(){r.unbind(["command+shift+c","ctrl+shift+c"])},methods:{rebuildStyles:function(e,t){if(e&&(s.set(this.options),t||(this.showOptions=!1)),this.options.measureRatio=this.measureRatio,this.layer){var n=this.options.type||o.css,r=i.build(n,this.layer,this.options);this.webStylesRaw=r,this.webStyles=Prism.highlight(r,Prism.languages[n]).replace(/\n/g,"<br/>");
}else this.webStylesRaw=null,this.webStyles=null;this.$emit("scrollPane:reInit")},onSelectLayer:function(e){e=e||[],e.length?this.layer=e[e.length-1]:this.layer=null,this.rebuildStyles()},onSelectLanguageType:function(e,t){e.preventDefault(),this.options.type=t.value,this.rebuildStyles(!0)},onClickAway:function(){this.showOptions=!1}},components:{options:e("./options")}}},{"../../../../lib/web-styles/WebStyleResultTypeEnum":46,"../../../../lib/web-styles/layer-styles-builder":62,"./index.html":346,"./options":349,LocalStorageBag:521,clipboard:583,mousetrap:604}],348:[function(e,t,n){t.exports='<div class="options-block">\n  <div class="sympli-checkbox">\n    <input type="checkbox" id="absoluteCoordinates" name="absoluteCoordinates" class="checkbox" v-model="options.absoluteCoordinates"/>\n    <label for="absoluteCoordinates">\n      <i class="sympli-icon icon-tick-white"></i>\n      Absolute positioning\n    </label>\n  </div>\n</div>\n\n<div class="options-block options-block__padding">\n  <p class="options-block__name">Units</p>\n\n  <div class="sympli-switch" id="unit">\n    <div class="sympli-switch__button" v-class="badge: options.units == unit.value" v-repeat="unit: units" v-on="click: onSelectUnits($event, unit)">{{unit.text}}</div>\n    <span class="background"></span>\n  </div>\n</div>\n\n<div class="options-block options-block__padding block-hide" v-class="block-show: options.units == \'em\'">\n  <p class="options-block__name">Em value</p>\n\n  <div class="sympli-switch sympli-switch__input">\n    <input type="number" id="emAmount" v-model="options.emAmount" class="form-control input-sm" v-validate="validEms: options.units"/>\n  </div>\n</div>\n\n<div class="options-block">\n  <div class="text-danger" v-if="validation.options.emAmount.validEms">Please fill out a valid em amount</div>\n</div>\n'},{}],349:[function(e,t,n){"use strict";var i=e("../../../../../lib/web-styles/layer-styles-builder"),s=(new(e("LocalStorageBag"))("webStyleOptionsBag",i.getDefaults()),e("../../../../../lib/web-styles/WebStyleUnitsEnum"));t.exports={inherit:!0,template:e("./index.html"),data:function(){return{units:[{value:s.px,text:"px"},{value:s.em,text:"em"}]}},ready:function(){this.$watch("options.absoluteCoordinates",function(){this._rebuildIfValid()}),this.$watch("options.emAmount",function(){this._rebuildIfValid(!0)})},validator:{validates:{validEms:function(e,t){return"em"!=t||/^[1-9][0-9]{0,4}$/.test(e)}}},methods:{onSelectUnits:function(e,t){e.preventDefault(),this.options.units=t.value,this._rebuildIfValid(!0)},_rebuildIfValid:function(e){("em"!=this.options.units||"em"==this.options.units&&this.validation.options.emAmount.valid)&&this.rebuildStyles(!0,e)}}}},{"../../../../../lib/web-styles/WebStyleUnitsEnum":47,"../../../../../lib/web-styles/layer-styles-builder":62,"./index.html":348,LocalStorageBag:521}],350:[function(e,t,n){t.exports='<div v-if="isLayerTextNotEmpty" class="m-details__snippet" wait-for="textStyles">\n  <h4>Text</h4>\n  <div class="text-design-block">\n    <div class="name text-muted" v-if="selectedLayer && selectedLayer.text && selectedLayer.text.textStyleName">\n        <div class="ellipsis text-value">{{selectedLayer.text.textStyleName}}</div>\n    </div>\n    <div class="text-design" id="code-{{$index}}" v-repeat="selectedLayer.text && textStyles">\n      <div class="option-text">\n        <div class="name" v-if="fontName($index)" v-class="getCompareClass($data, \'font\')">{{fontName($index)}}</div>\n        <span v-if="textStyle.fontStyleName" v-class="getCompareClass($data, \'fontStyleName\')">{{fontStyles($index)}}</span>\n        <span v-if="textStyle.size.innerValue" v-class="getCompareClass($data, \'size\')">\n          {{textStyle.size.innerValue | dru}}{{unitsPerPlatform}}</span>\n        <span class="parameters-align" v-if="textStyle && textStyle.align" v-class="getCompareClass($data, \'align\')">\n          <span class="sympli-icon icon-align_{{textStyle.align | alignments}}" title="Align {{textStyle.align}}"></span> Align {{textStyle.align | alignments}}</span>\n        <br v-if="textStyle.letterSpacing"/>\n        <span v-if="textStyle.letterSpacing" v-class="getCompareClass($data, \'letterSpacing\')">\n          Letter spacing: {{textStyle.letterSpacing | dru}}%</span>\n        <br v-if="textStyle.lineSpacing"/>\n        <span v-if="textStyle.lineSpacing" v-class="getCompareClass($data, \'lineSpacing\')">\n          Line spacing: {{textStyle.lineSpacing.innerValue | dru}}{{unitsPerPlatform}}</span>\n        <br v-if="textStyle.fontCaps" />\n        <span v-if="textStyle.fontCaps">\n          Text transformation:\n            <span v-if="textStyle.fontCaps === \'allCaps\'">uppercase</span>\n            <span v-if="textStyle.fontCaps === \'smallCaps\'">small caps</span>\n        </span>\n      </div>\n      <div class="s-color">\n        <div class="s_color-box" v-component="color-box-with-hex" v-with="color: textStyle.color, isEditable: true" v-class="getCompareClass($data, \'color\')"></div>\n      </div>\n      <div class="pre-block" v-if="textValue" v-class="getCompareClass($data, \'text\')">\n        <div class="ellipsis text-value">\n          <span id="text-{{$index}}">{{textValue | clean | trim}}</span>\n        </div>\n        <span v-clipboard data-clipboard-target="#text-{{$index}}" class="color-box-copy">Copy</span>\n      </div>\n    </div>\n    <div class="text-design" id="text-{{selectedLayer.id}}" v-show="selectedLayer && selectedLayer.text && textStyles && textStyles.length > 1">\n      <div class="pre-block">\n        <div class="ellipsis text-value"><span id="main-text-source">{{{selectedLayer.text.textKey | nl2br}}}</span></div>\n        <span class="color-box-copy" v-clipboard data-clipboard-target="#main-text-source" title="copy text value to clipboard">Copy</span>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],351:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../../../../lib/fonts/native-fonts-per-platform-list.json"),o=e("../../../../lib/fonts/TextUnitsPerPlatform"),r=e("../../../../lib/bundle-version-difference/DifferenceHelper"),a=e("../../../../lib/bundle-version-difference/ArrayChangesUIDsGenerator").TextUIDGenerator,l=e("../../../../lib/fonts/fontNameMapping").weightToCssValueMap,c=e("../../../../lib/fonts/fontNameMapping").styleToCssValueMap,u=e("mousetrap"),d=e("clipboard");t.exports={inherit:!0,template:e("./index.html"),components:{"color-box-with-hex":e("../../common/color-box-with-hex")},ready:function(){var e=this;u.bind(["command+c","ctrl+c"],function(t){if(e.selectedLayer&&e.selectedLayer.text&&e.selectedLayer.text.textKey&&(!window.getSelection||!window.getSelection().toString())){var n=e.selectedLayer.text.textKey,i=new d(e.$el,{action:function(){return"copy"},target:function(){return document.body},text:function(){return n}});return i.onClick(t),i.destroy(),!1}})},beforeDestroy:function(){u.unbind(["command+c","ctrl+c"])},methods:{findFont:function(e){var t=this,n=this.textStyles[e];if(n){var o=i.find(s[this.bundle.type],function(e){return e==n.textStyle.fontName});if(o)return{name:o,styles:n.textStyle.fontStyleName,family:n.textStyle.fontFamily,style:n.textStyle.fontStyle,weight:n.textStyle.fontWeight};var r=i.find(t.bundle.data.fonts,function(e){return e.info&&e.info.path&&e.info.name==n.textStyle.fontName&&e.info.style==n.textStyle.fontStyleName});return r?{name:r.info.path}:{name:n.textStyle.fontName,styles:n.textStyle.fontStyleName,family:n.textStyle.fontFamily,style:n.textStyle.fontStyle,weight:n.textStyle.fontWeight}}return{name:"",styles:"",family:"",style:"",weight:""}},fontName:function(e){return this.findFont(e).name},fontStyles:function(e){return this.findFont(e).styles},initTextStyles:function(e){if(e&&e.text&&e.text.textStyleRange){this.textStyles=[];var t=this;e.text.textStyleRange.forEach(function(t){t&&(t.textValue=e.text.textKey.substring(t.from,t.to))}),this.textStyles=i.filter(e.text.textStyleRange,function(e){return e&&e.textValue&&!i.isEmpty(e.textValue.trim())}),this.textStyles=i.uniq(this.textStyles,function(e,t,n){return e.from}),i.each(e.text.paragraphStyleRange,function(e){i.each(t.textStyles,function(t){t.from>=e.from&&t.to<=e.to&&(t.align=e.paragraphStyle.align)})})}},getCompareClass:function(e,t){if(!e||!this.textChanges)return"";var n=a(e),s=i.find(this.textChanges,function(e){return i.find(e._uid,function(e){return e==n})});return s?r.getCompareClass(s[t]):""}},computed:{isLayerTextNotEmpty:function(){return this.selectedLayer&&!i.isEmpty(this.selectedLayer.text)&&(this.selectedLayer.text.textStyleName||this.textStyles)},unitsPerPlatform:function(){return o(this.bundle.type)},textStyles:function(){var e=this,t=[];return this.selectedLayer&&this.selectedLayer.text&&this.selectedLayer.text.textStyleRange&&(this.selectedLayer.text.textStyleRange.forEach(function(t){t&&(t.textValue=e.selectedLayer.text.textKey.substring(t.from,t.to))}),t=i.filter(this.selectedLayer.text.textStyleRange,function(e){return e&&e.textValue&&!i.isEmpty(e.textValue.trim())}),t=i.uniq(t,function(e,t,n){return e.from}),i.each(this.selectedLayer.text.paragraphStyleRange,function(e){i.each(t,function(t){t.from>=e.from&&t.to<=e.to&&e.paragraphStyle&&(t.align=e.paragraphStyle.align)})})),t}},filters:{resolveTextStyle:function(e){var t="font-family: "+(e.family||e.name)+";",n="";e.weight&&l[e.weight]&&(n="font-weight: "+l[e.weight]+";");var i="";return e.style&&c[e.style]&&(i="font-style: "+c[e.style]+";"),t+n+i},alignments:function(e){return"fa-align-justifyAll"==e?"fa-align-justify":e}}}},{"../../../../lib/bundle-version-difference/ArrayChangesUIDsGenerator":27,"../../../../lib/bundle-version-difference/DifferenceHelper":29,"../../../../lib/fonts/TextUnitsPerPlatform":40,"../../../../lib/fonts/fontNameMapping":41,"../../../../lib/fonts/native-fonts-per-platform-list.json":43,"../../common/color-box-with-hex":179,"./index.html":350,clipboard:583,mousetrap:604,underscore:682}],352:[function(e,t,n){t.exports='<div class="m-panel__asset-block" v-scroll="layer.scrollTo">\n  <div class="m-panel__asset-block-inner" v-on="click: onClickLayer(layer, $event), mouseover: onHoverLayer(layer, $event)" v-class="m-panel__asset-download: bundle">\n    <div class="m-panel__asset-preview">\n      <img v-attr="src: imgUrl" alt=""/>\n    </div>\n\n    <div class="m-panel__asset-name">\n      <span class="asset-title ellipsis" v-if="searchParams != undefined" v-html="layer.name | escape | highlighted searchString"></span>\n      <span class="asset-title ellipsis" v-if="searchParams == undefined" v-html="layer.name"></span>\n      <span class="asset-size ellipsis">\n        {{(layer.bounds.right-layer.bounds.left)*measureRatio | dru }}{{resolutionInfo.units}} x {{(layer.bounds.bottom-layer.bounds.top)*measureRatio | dru }}{{resolutionInfo.units}}\n      </span>\n    </div>\n  </div>\n\n  <div class="m-panel__asset-right_button">\n    <div v-if="bundle.source != \'sketch\'" class="m-panel__asset-visibility"\n         v-on="click: onToggleVisibility($event, layer)">\n      <i class="sympli-icon " v-class="icon-detail_eye_invisible: layer && !layer.visible, icon-detail_eye: layer && layer.visible"></i>\n    </div>\n\n    <div v-if="layer.bounds && layer.bounds.error" class="m-panel__asset-error">\n      <span class="sympli-icon icon-error" v-attr="title: layer.bounds.error.message"></span>\n    </div>\n\n    <div v-if="bundle && layer.bounds && !layer.bounds.error" class="dropdown m-panel__asset-download button-download">\n      <div class="dropdown-toggle" data-toggle="dropdown"><span class="sympli-icon icon-arrow"></span></div>\n      <ul class="dropdown-menu dropdown-menu-right">\n        <li class="arrow"></li>\n        <li><a href="{{bundle.blobUrlPrefix}}/{{layer.name | encode}}-bitmap.zip" title="Download bitmap asset">Bitmap</a></li>\n        <li v-show="layer.hasVectorAssets"><a href="{{bundle.blobUrlPrefix}}/{{layer.name | encode}}-vector.zip"  title="Download vector asset">Vector</a></li>\n      </ul>\n    </div>\n  </div>\n</div>\n'},{}],353:[function(e,t,n){var i=e("../../../canvas/canvas_helper.js");t.exports={inherit:!0,paramAttributes:["layers"],template:e("./index.html"),data:function(){return{imgUrl:""}},computed:{searchString:function(){return this.searchParams.searchString}},ready:function(){this.imgUrl=i.getLayerImageUrl(this.layer,this.bundle)},methods:{onToggleVisibility:function(e,t){e.preventDefault(),e.stopPropagation(),this.$dispatch("toggle:visibility",t,!t.visible)}},filters:{encode:function(e){return encodeURIComponent(e)}}}},{"../../../canvas/canvas_helper.js":162,"./index.html":352}],354:[function(e,t,n){t.exports='<div class="m-panel__asset">\n  <div class="m-panel__asset-item" v-repeat="asset: assets">\n    <div v-component="asset-item" v-with="layer: asset"></div>\n  </div>\n  <div class="m-panel__section m-panel__section-noassets" v-if="!assets || assets.length == 0">\n    <div v-if="bundle && bundle.source == \'sketch\'">\n      <p>To see the screen\'s assets, just make your layer or layer group exportable:</p>\n      <p class="image"><img src="../../../img/sketch-export-asset-new.png" class="img-responsive sketch-image" alt="sketch"></p>\n      <p><b>Note</b>: you don\'t have to configure export options, any option would be enough.</p>\n      <p class="smallblock">Or create a slice </p>\n      <p class="image smallblock"><img src="../../../img/sketch-create-a-slice-new.png" class="img-responsive sketch-image-slice" alt="sketch"></p>\n      <p>and then upload designs using:<br/> <a href="/download/plugin/sketch/alt/latest">Sympli plugin for Sketch</a></p>\n    </div>\n    <div v-if="bundle && (bundle.source == \'photoshop\' || bundle.source == \'photoshop-flat\')">\n      <p>To see the screen\'s assets mark layer or layer group with "AST:" prefix:</p>\n      <p class="image"><img src="../../../img/photoshop-export-layers-new.png" class="img-responsive photoshop-image" alt="photoshop"></p>\n      <p>and then upload designs using:<br/> <a href="/download/photoshop">Sympli plugin for Photoshop</a>.</p>\n    </div>\n  </div>\n</div>\n'},{}],355:[function(e,t,n){"use strict";var i=e("underscore");t.exports={paramAttributes:["assets"],inherit:!0,template:e("./index.html"),components:{"asset-item":e("./asset")},data:function(){return{assets:[],previewSearchString:"",previewSelectedIndex:0}},ready:function(){this.$on("searchParams:scrollTo",function(){var e=this.searchParams.searchString;if(e!=this.previewSearchString&&(this.previewSelectedIndex=-1,this.previewSearchString=e),this.assets.length>0){var t=this;if(e&&e.length>0){e=e.toLowerCase();var n=i.find(this.assets,function(n,i){return n.name.toLowerCase().indexOf(e)>-1&&i>t.previewSelectedIndex});!n&&t.previewSelectedIndex>-1&&(n=i.find(this.assets,function(t){return t.name.toLowerCase().indexOf(e)>-1})),n&&(t.previewSelectedIndex=i.indexOf(this.assets,n),i.forEach(this.assets,function(e){e.scrollTo=!1}),n&&(n.scrollTo=!0))}}return!1})}}},{"./asset":353,"./index.html":354,underscore:682}],356:[function(e,t,n){t.exports='<div class="s-color" v-class="s-color__brand: isBrandbookColor" v-on="mouseover: onMouseHoverColor($event, false), mouseleave: onMouseHoverColor($event, true)">\n  <div class="s_color-box" v-if="color" v-component="color-box-with-hex" v-with="color: color, isEditable: true"></div>\n</div>\n'},{}],357:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),components:{"color-box-with-hex":e("../../../common/color-box-with-hex")},methods:{onMouseHoverColor:function(e,t){e.stopPropagation(),e.preventDefault(),this.$dispatch("hover:color",t?void 0:this,e)},onMouseClickColor:function(e){e&&(e.stopPropagation(),e.preventDefault()),this.selectedColor?this.selectedColor=void 0:this.selectedColor=this,this.$dispatch("click:color",this.selectedColor,e)}}}},{"../../../common/color-box-with-hex":179,"./index.html":356}],358:[function(e,t,n){t.exports='<template v-component="color" v-repeat="sortedColors"></template>\n<div class="m-panel__section" v-if="!sortedColors || sortedColors.length == 0">\n  <div class="m-panel__section-empty">\n    <span class="sympli-icon icon-new_brandbook"></span>\n    <div>No colors in this design</div>\n  </div>\n</div>'},{}],359:[function(e,t,n){function i(e){return e.color?Math.sqrt(.241*e.color.red+.691*e.color.green+.068*e.color.blue):0}var s=e("underscore");t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.colors&&(this.sortedColors=this.colors),this.$watch("colors",function(e){this.sortedColors=s.sortBy(e,i)})},data:function(){return{sortedColors:[]}},components:{color:e("./color")},methods:{}}},{"./color":357,"./index.html":358,underscore:682}],360:[function(e,t,n){t.exports='<div class="m-font" v-if="fontStyles">\n\t<!--<div class="label label-primary" v-if="isBrandbookFont">brand</div>-->\n\t<div v-on="mouseover: onMouseHoverFont($event, $data), mouseleave: onMouseHoverFont($event, null), click: toggle">\n\n\t\t<span class="m-font-name" v-class="download: brandbook && brandbook.url">\n\t\t\t{{(info && info.name) ? info.name : (name + \' \' + style)}} <span class="m-font-name-length">{{fontStyles.length}}</span>\n\t\t\t<a v-attr="href:brandbook.url" class="m-font__download button-download" target="_blank" v-if="brandbook && brandbook.url"><span class="sympli-icon icon-arrow"></span></a>\n\t\t\t<i class="sympli-icon " v-class="icon-main_tab_small_down_for_menus: !fontOpened, icon-main_tab_small_up: fontOpened"></i>\n\t\t</span>\n\t</div>\n\n\t<div class="m-font__color-block" v-show="fontOpened">\n\t\t<div class="s-color" v-repeat="fontStyles" v-on="mouseover: onMouseHoverFontStyle($event, $data), mouseleave: onMouseHoverFontStyle($event, null)">\n\t\t\t<div class="s_color-box" v-component="color-box-with-hex" v-with="color: color, isEditable: false" show-copy="false" is-text="true"></div>\n      <div class="s-color-size">\n\t\t\t\t<span v-if="align" class="sympli-icon icon-align_{{align}}" title="Align {{align}}"></span>\n\t\t\t\t<span>{{size.innerValue | dru}}{{textUnits}}</span>\n\t\t\t</div>\n    </div>\n\t</div>\n</div>\n\n\n'},{}],361:[function(e,t,n){var i=(e("underscore"),e("../../../../../lib/fonts/getFontId")),s=e("../../../../../lib/fonts/TextUnitsPerPlatform");t.exports={inherit:!0,template:e("./index.html"),paramAttributes:["platform"],data:function(){return{fontOpened:!1}},methods:{onMouseHoverFont:function(e,t){e.stopPropagation(),e.preventDefault(),this.$dispatch("hover:font",t,e)},onMouseHoverFontStyle:function(e,t){e.stopPropagation(),e.preventDefault(),this.$dispatch("hover:font-style",t,e)},toggle:function(){this.fontStyles.length&&(this.fontOpened=!this.fontOpened,this.$dispatch("scrollPane:reInit"))}},components:{"color-box-with-hex":e("../../../common/color-box-with-hex")},computed:{fontStyles:function(){var e=i.getFontIdByFont(this.bundle.source,this);return this.styleGuide?this.styleGuide[e]:[]},textUnits:function(){return s(this.bundle.type)}}}},{"../../../../../lib/fonts/TextUnitsPerPlatform":40,"../../../../../lib/fonts/getFontId":42,"../../../common/color-box-with-hex":179,"./index.html":360,underscore:682}],362:[function(e,t,n){t.exports='<template v-component="font" v-repeat="fonts"></template>\n<div class="m-panel__section" v-if="!fonts || fonts.length == 0">\n  <div class="m-panel__section-empty">\n    <span class="sympli-icon icon-no-fonts"></span>\n    <div>No fonts in this design</div>\n  </div>\n</div>\n'},{}],363:[function(e,t,n){"use strict";function i(e,t){e.text&&e.text.textStyleRange&&o.each(e.text.textStyleRange,function(n){if(n&&n.textStyle){var i=s(e,n);n.textStyle.align=i,e.text.textStyleId&&(n.textStyle.textStyleId=e.text.textStyleId,n.textStyle.textStyleName=e.text.textStyleName),n.textStyle.align=i;var o=JSON.stringify(n.textStyle.color)+n.textStyle.size.innerValue+n.textStyle.fontName+(n.textStyle.fontStyleName||"")+(i||"");t[o]=n.textStyle}}),o.each(e.layers,o.partial(i,o,t))}function s(e,t){var n=o.find(e.text.paragraphStyleRange,function(e){return t&&e&&t.from>=e.from&&t.to<=e.to});return n&&n.paragraphStyle?n.paragraphStyle.align:void 0}var o=e("underscore"),r=e("../../../../lib/fonts/getFontId"),a=e("sympli-enums").Scopes;t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$on(a.loaded.bundle.data,this.handleLoadedBundle)},data:function(){return{currentFont:null,styleGuide:{}}},components:{font:e("./font"),"color-box-with-hex":e("../../common/color-box-with-hex")},methods:{handleLoadedBundle:function(){if(this.bundle&&this.bundle.data&&this.bundle.data.layers){var e={};o.each(this.bundle.data.layers,o.partial(i,o,e)),o.each(e,function(e){var t=r.getFontIdByTextRange(this.bundle.source,e);this.styleGuide[t]?this.styleGuide[t].push(e):this.styleGuide[t]=[e]}.bind(this))}},onMouseHoverFonts:function(e){e.stopPropagation(),e.preventDefault(),this.$dispatch("hover:font",null,e)}}}},{"../../../../lib/fonts/getFontId":42,"../../common/color-box-with-hex":179,"./font":361,"./index.html":362,"sympli-enums":524,underscore:682}],364:[function(e,t,n){t.exports='<div class="m-panel__header">\n  <div class="m-panel__header-inner">\n    <ul class="nav nav-tabs" role="tablist" v-class="\'nav-tabs__five\': tabs.length == 5">\n      <li v-repeat="tabs" v-class="active: currentTab == id" v-show="currentTab != \'\'" style="display:none;">\n        <span v-if="currentTab != id" v-on="click: onSelectBundleTab($event, id)">\n          <i class="sympli-icon icon-main_tab_{{name}}" title="{{name}}"></i>\n        </span>\n        <span v-if="currentTab == id">\n          <i class="sympli-icon icon-main_tab_{{name}}" title="{{name}}"></i>\n        </span>\n      </li>\n      <li class="line"></li>\n    </ul>\n  </div>\n</div>\n\n<div v-show="currentTab == \'assets\'">\n  <div class="m-panel__subheader m-tree__subheader-block" v-show="assets.length">\n    <div class="m-tree__search" v-component="search" v-with="searchParams: searchInfo.assets"></div>\n    <div v-if="bundle" class="dropdown m-tree__download">\n      <span class="badge btn btn-cancel dropdown-toggle" data-toggle="dropdown">Download All <span class="sympli-icon icon-arrow"></span></span>\n      <ul class="dropdown-menu dropdown-menu-right">\n        <li class="arrow"></li>\n        <li><a href="{{bundle.blobUrlPrefix}}/bundle.zip" title="Download bitmap assets">Bitmap</a></li>\n        <li v-show="bundle.data && bundle.data.hasVectorAssets"><a href="{{bundle.blobUrlPrefix}}/bundle_vector.zip"  title="Download vector assets">Vector</a></li>\n      </ul>\n    </div>\n  </div>\n  <div class="m-panel__content m-tree m-panel__content-with-header"\n       v-component="assets-list" v-with="assets: assets, searchParams: searchInfo.assets"\n       v-class="m-panel__content-with-subheader: assets.length" v-scrollpane="{contentWidth:289}"></div>\n</div>\n\n<div v-show="currentTab == \'colors\'">\n  <div class="m-panel__subheader m-tree__subheader-block" v-class="m-panel__subheader__double: bundle && bundle.type ==\'ios\'" v-if="bundle && bundle.data && bundle.data.colors && bundle.data.colors.length > 0">\n    <div class="m-tree-colors_download" v-if="bundle.type==\'android\'">\n      <p>Android color resource file</p>\n      <a class="m-tree__download" href="/download/{{bundleId}}/colors/android" title="Download Android colors schema">\n        <span class="badge btn btn-cancel">xml <span class="sympli-icon icon-arrow"></span></span>\n      </a>\n    </div>\n    <div class="color-format" v-if="bundle && bundle.type==\'ios\'">\n      <div class="color-format__block">\n        <div class="color-format__title">UIColor syntax</div>\n        <div class="m-tree__download" v-component="ios-dialect" v-with="projectId: bundle.project._id"></div>\n      </div>\n    </div>\n    <div class="color-format" v-if="bundle && bundle.type !=\'android\'">\n      <div v-class="color-format__block: bundle && bundle.type == \'ios\', color-format__block-one: bundle && bundle.type ==\'web\'">\n        <div class="color-format__title">Color format</div>\n        <div class="m-tree__download" v-component="project-color-format-selector" v-with="projectId: bundle.project._id, colorFormat: projectColorFormat"></div>\n      </div>\n    </div>\n  </div>\n  <div class="m-panel__content m-panel__content__relative m-tree m-panel__content-with-header"\n       v-class="m-panel__content-with-subheader: bundle && bundle.data && bundle.data.colors && bundle.data.colors.length > 0, m-panel__content-with-subheader-double: bundle && bundle.type ==\'ios\'"\n       v-scrollpane="{contentWidth:289}">\n    <div class="m-tree-colors" v-component="colors" v-with="colors: bundle && bundle.data && bundle.data.colors"></div>\n  </div>\n</div>\n\n<div v-show="currentTab == \'fonts\'">\n  <div class="m-panel__content m-tree m-panel__content-with-header" v-scrollpane="{contentWidth:289}">\n    <div class="m-fonts" v-component="fonts" v-with="fonts: bundle && bundle.data && bundle.data.fonts"></div>\n  </div>\n</div>\n\n<div v-show="currentTab == \'messages\'">\n  <div v-component="messages"></div>\n</div>\n\n<div v-show="currentTab == \'issues\'">\n  <jira-issues></jira-issues>\n</div>\n'},{}],365:[function(e,t,n){"use strict";var i=e("../canvas/canvas_helper"),s=e("../canvas/layer-utility"),o=(e("../../../lib/LayerTypeEnum"),e("sympli-enums").Scopes);t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$on("bundle:render",this.handleBundleRender),this.$on(o.loaded.bundle.data,this.handleLoadedBundle),this.$watch("searchInfo.assets.searchString",function(e){this.$dispatch("search:layers",e)}),this.$on("searchParams:scrollTo",function(){this.$broadcast("searchParams:scrollTo")})},data:function(){return{reverse:!0,assets:[],bundleId:null,projectColorFormat:void 0,searchInfo:{assets:{searchString:""}}}},components:{"assets-list":e("./assets-list"),search:e("../common/layer-search-input"),fonts:e("./fonts"),colors:e("./colors"),messages:e("./messages"),"jira-issues":e("./jira-issues"),"ios-dialect":e("../common/ios-project-dialect"),"project-color-format-selector":e("../common/project-color-format-selector")},methods:{handleBundleRender:function(e){this.resolutionInfo=i.getResolutionInfo(e.type,e.baseline),this.measureRatio=1/this.resolutionInfo.divider,this.bundleId=e.bundle||e.id},handleLoadedBundle:function(e){var t=this;s.forEachLayers(e.data.layers,function(e){"asset"===e.role&&t.assets.push(e)}),this.$emit("scrollPane:reInit")}}}},{"../../../lib/LayerTypeEnum":15,"../canvas/canvas_helper":162,"../canvas/layer-utility":169,"../common/ios-project-dialect":181,"../common/layer-search-input":183,"../common/project-color-format-selector":187,"./assets-list":355,"./colors":359,"./fonts":363,"./index.html":364,"./jira-issues":367,"./messages":373,"sympli-enums":524}],366:[function(e,t,n){t.exports='<div class="m-panel__content m-tree m-panel__content-with-header" v-scrollpane="{contentWidth: 300}">\n  <div class="m-panel__issues">\n    <ul class="jira-issues-list sympli-jira">\n      <li class="jira-issues-list-item" v-repeat="issue: issues" track-by="key">\n        <div class="issue-info">\n          <span class="status-name ellipsis"\n                v-style="getIssueStatusStyle(issue)"\n                v-attr="title: issue.data.fields.resolution ? issue.data.fields.resolution.name : \'Unresolved\'"\n                v-class="getIssueTextClass(issue)">{{issue.data.fields.status.name}}</span>\n          <div class="issue-number ellipsis"><a v-attr="href: issue.data.link">{{issue.key}}</a></div>\n          <!--<span class="resolution-name" v-if="issue.data.fields.resolution">: {{issue.data.fields.resolution.name}}</span>-->\n        </div>\n\n        <div class="jira-user">\n          <span class="jira-user-date ellipsis">{{comment.created | moment spots}}</span>\n          <span class="jira-user-info ellipsis" v-if="issue.data.fields.assignee != null">\n            <img class="avatar" alt="" v-attr="src: comment.author.avatarUrls[\'16x16\']"/>\n            <span class="name">{{issue.data.fields.assignee.displayName}}</span>\n          </span>\n          <span class="jira-user-info ellipsis" v-if="issue.data.fields.assignee == null">\n              <img class="avatar" alt="" src="../../img/nouseravatar.png"/>\n              <span class="name">Unassigned</span>\n          </span>\n        </div>\n\n        <div class="issue-name">\n           {{issue.data.fields.summary}}\n        </div>\n\n        <div class="comments-block">\n          <a class="comments-link" v-if="issue.comments == null" v-on="click: onShowCommentsClick($event, issue)">Show comments</a>\n          <a class="comments-link" v-if="issue.comments != null && issue.comments.length" v-on="click: onHideCommentsClick($event, issue)">Hide comments</a>\n          <a class="comments-link" v-if="issue.comments != null && !issue.comments.length" v-on="click: onShowCommentsClick($event, issue)">Reload comments</a>\n          <div class="comments" v-if="issue.comments != null && issue.comments.length">\n            <div class="comments__item" v-repeat="comment: issue.comments">\n              <div class="jira-user">\n                <span class="jira-user-date ellipsis">{{comment.created | moment spots}}</span>\n                <span class="jira-user-info ellipsis">\n                  <img class="avatar" v-attr="src: comment.author.avatarUrls[\'16x16\']"/>\n                  <span class="name">{{comment.author.displayName}}</span>\n                </span>\n              </div>\n              <div class="comment-body" v-if="renderedBody">{{{comment.renderedBody}}}</div>\n              <div class="comment-body" v-if="!renderedBody">{{comment.body}}</div>\n            </div>\n          </div>\n          <div class="comments" v-if="issue.comments != null && !issue.comments.length">No comments yet.</div>\n        </div>\n      </li>\n      <li class="m-group__messages" v-if="issues.length == 0">\n        <div class="m-panel__section-empty">\n          <span class="sympli-icon icon-no-comments"></span>\n          <div>You don\'t have any linked Jira issues</div>\n        </div>\n      </li>\n    </ul>\n  </div>\n</div>\n'},{}],367:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../../../../lib/jira/jira-helper"),o=e("sympli-enums").Scopes,r=("addon_"+window.config.jira.addon.key).toLowerCase();t.exports={inherit:!0,template:e("./index.html"),data:function(){return{bundle:null,issues:[],renderedBody:!0}},ready:function(){this.$on(o.loaded.bundle.data,this.handleLoadedBundle)},methods:{handleLoadedBundle:function(e){this.bundle=e;var t=e.project.user,n=this;if(t&&t.plan.isJiraEnabled&&t.settings&&t.settings.isJiraConfigured){var s=i.filter(e.project.data.issues,function(e){return e&&e.usages.indexOf(n.bundle.id)>=0});this.issues=s}else this.issues=[];this.$emit("scrollPane:reInit"),this._updateIssues()},_updateIssues:function(){if(this.issues&&this.issues.length){var e=this;this.$api(this.$api.get("/projects/"+e.Project.id+"/issues/bundle/"+e.bundle.id+"/jira?fields=status,resolution,summary").then(function(t){t.data&&(e.issues=s.extendIssues(t.data,{comments:null}),e.$emit("scrollPane:reInit"))}))}},onShowCommentsClick:function(e,t){e.stopPropagation(),e.preventDefault(),t&&this._getIssueComments(t)},onHideCommentsClick:function(e,t){e.stopPropagation(),e.preventDefault(),t&&(t.comments=null)},_getIssueComments:function(e){var t=this,n=this.renderedBody?"?expand=renderedBody":"";t.$api.get("/jira/"+t.Project.id+"/issue/"+e.key+"/comment"+n).then(function(n){n&&n.data&&(e.comments=t._filterComment(n.data.comments),t.$emit("scrollPane:reInit"))})},_filterComment:function(e){return i.filter(e,function(e){return e.author.key.toLowerCase()!==r})},getIssueStatusStyle:function(e){return"background-color: "+e.data.fields.status.statusCategory.colorName+";"},getIssueTextClass:function(e){return s.getTextColorClass(e.data.fields.status.statusCategory.colorName)}},computed:{Project:function(){return this.bundle.project},Company:function(){return this.bundle.project.company;
}}}},{"../../../../lib/jira/jira-helper":44,"./index.html":366,"sympli-enums":524,underscore:682}],368:[function(e,t,n){t.exports='<div class="m-group__messages" v-on="click: onClickGroupMessage">\n  <div class="m-group__messages-title">\n    <div class="m-group__messages-title-spot" v-attr="style: \'background:\' + group.bundleSpot.hex">{{group.bundleSpot.number}}</div>\n  </div>\n\n  <div class="m-group__messages-content">\n    <div v-repeat="message: group.messages" v-component="message"></div>\n  </div>\n</div>\n'},{}],369:[function(e,t,n){e("underscore"),e("linkifyjs/string");t.exports={inherit:!0,replace:!0,template:e("./index.html"),data:function(){return{}},computed:{},methods:{onClickGroupMessage:function(e){e.preventDefault(),e.stopPropagation(),this.$root.$broadcast("select:spot",this.group.bundleSpot.id)}},components:{message:e("./message")}}},{"./index.html":368,"./message":371,"linkifyjs/string":600,underscore:682}],370:[function(e,t,n){t.exports='<div class="m-message" id="message-{{message.id}}" v-class="m-message-my: isMyMessage">\n  <!--\n        <div class="m-message-my__icons" v-if="isMyMessage">\n          <a class="icon-edit js-edit-icon" v-on="click: onSelectMessageEdit($event, message)" href="#">\n            <span class="sympli-icon icon-edit_icon js-edit-icon"></span>\n          </a>\n          <a class="icon-remove" v-on="click: onRemoveMessage" href="#">\n            <span class="sympli-icon icon-menu_delete_icon"></span>\n          </a>\n        </div>\n  -->\n\n  <div class="m-message__title">\n    <span class="m-message__title-date ellipsis">\n      <small v-show="message.createdAt">{{message.createdAt | moment spots}}</small>\n      <small v-show="!message.createdAt">pending...</small>\n    </span>\n    <span class="m-message__title-user ellipsis">\n        <img alt="" class="gravatar-image" v-if="hasPicture" v-attr="src: message.sender.picture"/>\n        <img alt="" class="gravatar-image empty" v-if="!hasPicture" src="../../../img/transparent-tile.png"/>\n        <span class="name">{{message.sender.profile.name || message.sender.email}}</span>\n    </span>\n  </div>\n\n  <div class="m-message__body js-message-textarea" v-html="preparedMessage"></div>\n\n  <div class="m-message-line sympli-icon icon-path"></div>\n</div>\n'},{}],371:[function(e,t,n){var i=e("underscore"),s=e("linkifyjs/string");t.exports={inherit:!0,replace:!0,template:e("./index.html"),data:function(){return{}},computed:{preparedMessage:function(){var e=s(this.message.message,{nl2br:!0}).replace(/[\u2028\u2029]/g,"<br/>");if(!i.isArray(this.message.mentionees))return e;var t=e;if(this.message.mentionees.length){var n=i.chain(this.message.mentionees).pluck("nickname").sortBy(function(e){return-e.length}).value();i.each(n,function(e){var n=new RegExp("(?:^|[^a-zA-Z0-9_＠!@#$%&*])(?:(?:@|＠)(?!/))("+e+")(?:\\b(?!@|＠)|$)","gi");t=t.replace(n,"<i>$&</i>").replace("<i>>","><i>")})}return t},hasPicture:function(){return this.message.sender.picture}},methods:{}}},{"./index.html":370,"linkifyjs/string":600,underscore:682}],372:[function(e,t,n){t.exports='<div class="m-panel__content m-tree m-panel__content-with-header" v-scrollpane="{contentWidth:289}">\n  <div class="m-panel__messages">\n    <div v-repeat="group: groups" v-component="group"></div>\n    <div class="m-panel__section" v-if="messages !== null && messages.length == 0">\n      <div class="m-panel__section-empty">\n        <span class="sympli-icon icon-no-comments"></span>\n        <div>There are no comments in this design</div>\n      </div>\n    </div>\n    <div class="m-panel__section" v-if="messages === null"><div class="m-panel__section-empty">Loading...</div></div>\n  </div>\n</div>\n'},{}],373:[function(e,t,n){"use strict";var i=e("underscore"),s=(e("sympli-enums").Scopes,3);t.exports={inherit:!0,template:e("./index.html"),components:{group:e("./group")},data:function(){return{groups:[]}},ready:function(){this.$on("create:message",this.handleNewMessage),this.$on("sent:message",this.handleNewMessage),this.$on("edit:message",this.handleEditMessage),this.$on("delete:message",this.handleDeleteMessage),this.$watch("messages",this.watchAnnotations),this.$watch("spots",this.watchAnnotations)},methods:{watchAnnotations:function(){this.messages&&this.spots&&this.setGroups()},setGroups:function(){var e={};i.each(this.messages,function(t){var n=t.bundleSpot;if(n)if(e[n])e[n].messages.unshift(t),e[n].createdAt<t.createdAt&&(e[n].createdAt=t.createdAt);else{var s=i.find(this.spots,{id:t.bundleSpot});s&&(e[n]={messages:[t],bundleSpot:s,date:t.createdAt})}},this),i.each(e,function(e){e.messages.length>3&&(e.messages=[e.messages[0]].concat(e.messages.slice(e.messages.length-s)))},this),this.groups=i.values(e)},handleNewMessage:function(e){setTimeout(function(){this.$emit("scrollPane:reInit")}.bind(this),100)},handleDeleteMessage:function(e){setTimeout(function(){this.$emit("scrollPane:reInit")}.bind(this),100)},handleEditMessage:function(e){setTimeout(function(){this.$emit("scrollPane:reInit")}.bind(this),100)}}}},{"./group":369,"./index.html":372,"sympli-enums":524,underscore:682}],374:[function(e,t,n){t.exports='<section class="container profile">\n\n  <div class="page-header page-header__bottom">\n    <h2 class="ellipsis">Profile</h2>\n    <div class="tabs-block subscription_tabs-block animation">\n      <span v-class="active: currentTab == \'settings\'" v-on="click: onClickTab($event, \'settings\')" v-el="settingsTab">Settings</span>\n      <span v-class="active: currentTab == \'users\'" v-on="click: onClickTab($event, \'users\')" v-el="usersTab">Collaborators</span>\n      <span class="line" v-style="headerTabsLineStyle"></span>\n    </div>\n  </div>\n\n  <div v-if="currentTab === \'settings\'" v-component="profile-settings"></div>\n  <div v-if="currentTab === \'users\'" v-component="profile-users"></div>\n</section>\n'},{}],375:[function(e,t,n){"use strict";var i="settings";t.exports={inherit:!0,template:e("./index.html"),components:{"profile-settings":e("./profile-settings"),"profile-users":e("./profile-users")},data:function(){return{currentTab:null}},ready:function(){this.currentTab=this.$root.route.params[1]?this.$root.route.params[1]:i},methods:{onClickTab:function(e,t){event.preventDefault(),this.setHistoryPushState(t),this.currentTab=t},setHistoryPushState:function(e){var t="#!/profile";e!==i&&(t+="/"+e),history.pushState(null,null,t)},getTabWith:function(e){return $(this.$$[e+"Tab"]).outerWidth()},getTabPosition:function(e){return $(this.$$[e+"Tab"]).position().left}},computed:{headerTabsLineStyle:function(){var e=this.currentTab;return e?"width: "+this.getTabWith(e)+"px; margin-left: "+this.getTabPosition(e)+"px;":"display: none;"}}}},{"./index.html":374,"./profile-settings":377,"./profile-users":383}],376:[function(e,t,n){t.exports='<div class="profile-settings">\n\n  <div class="profile-block">\n    <div class="row">\n      <div class="col-xs-6">\n        <h4>Personal Information</h4>\n        <form class="form-horizontal profile-box main-info" v-on="submit: saveProfile" name="prof">\n          <div class="form-group form-group__new">\n            <label class="col-xs-3 control-label" for="user-name">Name</label>\n            <div class="col-xs-9">\n              <input id="user-name" class="form-control" type="text" placeholder=""\n                     v-model="userName"\n                     v-validate="required, username">\n              <div class="tooltip top" v-if="validation && validation.userName && validation.userName.invalid" role="tooltip">\n                <div class="tooltip-arrow"></div>\n                <div class="tooltip-inner">\n                  <span v-if="validation.userName.required">User name is required</span>\n                  <span v-if="!validation.userName.required && validation.userName.username">User name is not valid</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="form-group form-group__new">\n            <label class="col-xs-3 control-label" for="user-email">Email</label>\n            <div class="col-xs-9">\n              <input id="user-email" class="form-control" type="email" placeholder=""\n                     v-model="userEmail"\n                     v-on="focus: setUserEmailDirty(false), blur: setUserEmailDirty(true)"\n                     v-validate="required, pattern: \'/.+@.+..+/i\'"\n                     v-attr="readonly: user.samlProfile">\n              <div class="tooltip top" v-if="(validation && validation.userEmail && validation.userEmail.invalid) || (userEmailDirty && userEmailInvalid)" role="tooltip">\n                <div class="tooltip-arrow"></div>\n                <div class="tooltip-inner">\n                  <span v-if="validation.userEmail.required">Email is required</span>\n                  <span v-if="!validation.userEmail.required && validation.userEmail.pattern">Email is not valid</span>\n                  <span v-if="userEmailInvalid">Account with that email address already taken</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="form-group form-group__new">\n            <label class="col-xs-3 control-label" for="user-nickname">Nickname</label>\n            <div class="col-xs-9">\n              <input id="user-nickname" class="form-control" type="text" placeholder=""\n                     v-model="userNickname"\n                     v-on="focus: setUserNicknameDirty(false), blur: setUserNicknameDirty(true)"\n                     v-validate="required, pattern: \'/(?:^[^._ ])([a-zA-Z0-9_.]{2,60})(?:[^. ]$)/i\'">\n              <div class="tooltip top tooltip-long" v-if="(validation && validation.userNickname && validation.userNickname.invalid) || (userNicknameDirty && userNicknameInvalid)" role="tooltip">\n                <div class="tooltip-arrow"></div>\n                <div class="tooltip-inner">\n                  <span v-if="validation.userNickname.required">Nickname is required</span>\n                  <span class="text-nowrap" v-if="!validation.userNickname.required && validation.userNickname.pattern">Enter at least 4 alphanumeric, underscores or dots symbols (a-z0-9_.)</span>\n                  <span v-if="userNicknameInvalid">Account with that nickname already taken</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="form-group form-group__new">\n            <label class="col-xs-3 control-label">Avatar</label>\n            <div class="col-xs-9 profile__avatar">\n              <img v-attr="src:gravatarUrl" width="30" height="30" alt="Awesome User picture">\n              <a v-if="config.gravatar.isEnabled" class="change_avatar" href="https://gravatar.com/emails/" target="_blank">Change Gravatar</a>\n            </div>\n          </div>\n          <div v-if="isEmailChanged" class="form-group form-group__new">\n            <label class="col-xs-3 control-label" for="currentPassword">Current Password</label>\n            <div class="col-xs-9">\n              <input id="currentPassword" v-model="currentPassword" class="form-control"\n                     type="password" placeholder="" v-validate="required" autocomplete="off">\n              <div class="tooltip top" v-if="validation && validation.currentPassword && validation.currentPassword.invalid" role="tooltip">\n                <div class="tooltip-arrow"></div>\n                <div class="tooltip-inner">\n                  Please fill out the current password\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="form-group form-group-button text-right">\n            <button type="submit" class="btn btn-primary" v-attr="disabled:inProgressInfo">Update info</button>\n          </div>\n        </form>\n      </div>\n      <div class="col-xs-6" v-if="!user.samlProfile">\n        <h4>Password</h4>\n        <form class="form-horizontal profile-box" v-on="submit: savePassword" name="pass" v-if="!user.samlProfile">\n          <div class="form-group form-group__new">\n            <label class="col-md-4 col-xs-5 control-label" for="old-password">Old password</label>\n            <div class="col-md-8 col-xs-7">\n              <input id="old-password" v-model="oldPassword" class="form-control"\n                     type="password" placeholder="" v-validate="required" autocomplete="off">\n              <div class="tooltip top" v-if="inProgressPassword && validation && validation.oldPassword && validation.oldPassword.invalid && (validation.oldPassword.dirty || isPasswordSubmitted)" role="tooltip">\n                <div class="tooltip-arrow"></div>\n                <div class="tooltip-inner">\n                  Please fill out an old password\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="form-group form-group__new">\n            <label class="col-md-4 col-xs-5 control-label" for="new-password">New password</label>\n            <div class="col-md-8 col-xs-7">\n              <input id="new-password" v-model="password" class="form-control"\n                     type="password" placeholder="" v-validate="required, minLength: 4" autocomplete="off">\n              <div class="tooltip top" v-if="inProgressPassword && validation && validation.password && validation.password.invalid && (validation.password.dirty || isPasswordSubmitted)" role="tooltip">\n                <div class="tooltip-arrow"></div>\n                <div class="tooltip-inner">\n                  Password must be at least 4 characters long\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="form-group form-group__new">\n            <label class="col-md-4 col-xs-5 control-label" for="confirmation">Confirm new password</label>\n            <div class="col-md-8 col-xs-7">\n              <input id="confirmation" v-model="confirmation" class="form-control"\n                     type="password" placeholder="" v-validate="required, minLength: 4" autocomplete="off">\n              <div class="tooltip top" v-if="(inProgressPassword && validation && validation.confirmation && validation.confirmation.invalid || passwordUnConfirmed) && (validation.confirmation.dirty || isPasswordSubmitted)" role="tooltip">\n                <div class="tooltip-arrow"></div>\n                <div class="tooltip-inner">\n                  Passwords do not match\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="form-group form-group-button text-right">\n            <button type="submit" class="btn btn-primary" v-attr="disabled:inProgressPassword">Change password</button>\n          </div>\n        </form>\n        <div class="saml-password" v-if="user.samlProfile">\n          <p>Your are using SAML 2 authorization. You cannot change a password across Sympli.</p>\n        </div>\n        <form class="form-horizontal profile-box profile-box-delete">\n          <div class="form-group">\n            <div class="col-xs-7">\n              <p>You can delete your account, but keep in mind this action is irreversible.</p>\n            </div>\n\n            <div class="col-xs-5 text-right">\n              <span class="btn btn-danger" v-on="click: showDeleteAccount">Delete Account</span>\n            </div>\n          </div>\n        </form>\n      </div>\n      <div class="clearfix" v-if="!user.samlProfile"></div>\n      <div class="col-xs-6 profile-block__company" v-if="partOfCompany">\n        <h4>Attached Companies</h4>\n        <ul class="profile-box profile-box-list">\n          <li v-repeat="access: companies" class="profile-box-list__item">\n            <div class="profile-box-list__icon">\n              <span class="sympli-icon icon-company"></span>\n            </div>\n            <div class="profile-box-list__role">{{CompanyUserRolesToString(access.role)}}</div>\n            <div class="profile-box-list__title ellipsis">\n              <a v-if="canManageCompany(access.role)" href="#" v-on="click: onCompanyClick($event, access.company)">{{access.company.name}}</a>\n              <span v-if="!canManageCompany(access.role)">{{access.company.name}}</span>\n            </div>\n          </li>\n        </ul>\n      </div>\n\n      <div class="clearfix" v-if="user.samlProfile"></div>\n      <div class="col-xs-6 profile-block__company" v-show="canConfigureSAML">\n        <h4>SAML settings</h4>\n        <saml-settings></saml-settings>\n      </div>\n\n      <div class="clearfix" v-if="!user.samlProfile"></div>\n      <div class="col-xs-6 profile-block__company" v-show="canConfigureJira">\n        <h4>Jira integration settings</h4>\n        <jira-settings></jira-settings>\n      </div>\n    </div>\n  </div>\n\n  <modal-delete-account></modal-delete-account>\n  <account-sessions-invalidate></account-sessions-invalidate>\n</div>\n'},{}],377:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../../../../enums/CompanyUserRolesEnum"),o=e("../../../../enums/CompanyUserRolesEnum").RoleToString;t.exports={inherit:!0,template:e("./index.html"),components:{"modal-delete-account":e("../../modals/delete-account"),"account-sessions-invalidate":e("../../modals/account-sessions-invalidate"),"saml-settings":e("./saml-settings"),"jira-settings":e("./jira-settings")},ready:function(){this.userName=this.user.profile.name,this.userEmail=this.user.email,this.previousUserEmail=this.userEmail,this.userNickname=this.user.nickname,this.userEmailDirty=!1,this.userEmailInvalid=!1,this.userNicknameDirty=!1,this.userNicknameInvalid=!1},data:function(){return{isPasswordSubmitted:!1,userEmail:"",previousUserEmail:"",currentPassword:"",userNickname:"",userName:"",oldPassword:"",password:"",confirmation:"",userEmailDirty:!1,userEmailInvalid:!1,userNicknameDirty:!1,userNicknameInvalid:!1,CompanyUserRolesToString:o,inProgressInfo:!1,inProgressPassword:!1}},methods:{savePassword:function(e){this.isPasswordSubmitted=!0,e.preventDefault(),e.stopPropagation();var t=this;if(this.validation.oldPassword.valid&&this.validation.password.valid&&this.validation.confirmation.valid&&!this.passwordUnConfirmed){t.inProgressPassword=!0;var n=this.$api.post("/password",{body:{oldPassword:t.oldPassword,password:t.password,confirmation:t.confirmation}}).then(function(e){t.$dispatch("notify","success","Password changed"),t.inProgressPassword=!1,t.oldPassword=void 0,t.password=void 0,t.confirmation=void 0,t.$dispatch("modal:show","account-sessions-invalidate")})["catch"](t.$api.safeCatch(function(){t.inProgressPassword=!1}));this.$api(n)}},saveProfile:function(e){e.preventDefault(),e.stopPropagation();var t=this;if(this.validation.userEmail.valid&&(!this.validation.currentPassword||this.validation.currentPassword.valid)&&this.validation.userName.valid&&this.validation.userNickname.valid){t.inProgressInfo=!0;var n={body:{email:t.userEmail,name:t.userName,nickname:t.userNickname,password:t.currentPassword}};t.userName=$.trim(t.userName);var i=this.$api.post("/profile",n).then(function(e){t.$dispatch("notify","success","Profile updated"),t.user.email=t.userEmail,t.previousUserEmail=t.userEmail,t.user.profile.name=t.userName,t.user.nickname=t.userNickname,t.inProgressInfo=!1})["catch"](t.$api.safeCatch(function(e){400===e.status&&(t.currentPassword=""),t.inProgressInfo=!1}));this.$api(i)}},showDeleteAccount:function(){this.$dispatch("modal:show","delete-account")},setUserEmailDirty:function(e){this.userEmailDirty=e,e&&(this.userEmailInvalid=!1,this.userEmailValidate())},setUserNicknameDirty:function(e){this.userNicknameDirty=e,e&&(this.userNicknameInvalid=!1,this.userNicknameValidate())},userEmailValidate:function(){if(this.userEmailDirty&&!this.validation.userEmail.required&&!this.validation.userEmail.pattern&&this.user.email!==this.userEmail){var e={body:{email:this.userEmail}},t=this,n=this.$api.post("/profile/validate/email",e).then(function(e){t.userEmailInvalid=!e})["catch"](function(){t.userEmailInvalid=!0});this.$api(n)}},userNicknameValidate:function(){if(this.userNicknameDirty&&!this.validation.userNickname.required&&!this.validation.userNickname.pattern&&this.user.nickname!==this.userNickname){var e={body:{nickname:this.userNickname}},t=this,n=this.$api.post("/profile/validate/nickname",e).then(function(e){t.userNicknameInvalid=!e})["catch"](function(){t.userNicknameInvalid=!0});this.$api(n)}},_getCompanies:function(){return i.filter(this.user.accesses,function(e){return e.company&&e.role!=s.companyGuest})},canManageCompany:function(e){return e==s.companyAdmin||e==s.companyOwner},onCompanyClick:function(e,t){e.preventDefault(),e.stopPropagation(),this.$dispatch("lanes:path","companies/"+t.id)},_userCompanyRole:function(e){var t=i.find(this.user.accesses,function(t){return t.company&&t.company.id===e});return t?t.role:null}},computed:{gravatarUrl:function(){return this.user.picture},passwordUnConfirmed:function(){return this.password!=this.confirmation},partOfCompany:function(){return this._getCompanies().length},companies:function(){return this._getCompanies()},canConfigureSAML:function(){var e=this.user.company&&this.user.company.isActive&&this._userCompanyRole(this.user.company.id)===s.companyOwner,t=this.user.company&&this.user.company.settings&&this.user.company.settings.saml;return e&&t},canConfigureJira:function(){return this.user&&this.user.plan&&this.user.plan.isJiraEnabled},isEmailChanged:function(){return this.userEmail!==this.previousUserEmail}},validator:{validates:{username:function(e){return/\S/.test(e)}}}}},{"../../../../enums/CompanyUserRolesEnum":4,"../../modals/account-sessions-invalidate":263,"../../modals/delete-account":281,"./index.html":376,"./jira-settings":379,"./saml-settings":381,underscore:682}],378:[function(e,t,n){t.exports='<div class="saml-settings">\n  <div class="sympli-box">\n    <div class="form-horizontal profile-box">\n      <div class="sympli-box__block email-box email-box__check">\n        <span class="sympli-box__block-left" v-class="enabled: enabled">\n          <span class="sympli-icon icon-tick-set" title=\'{{enabledState}}\'></span>\n        </span>\n        <span class="sympli-box__block-text">\n          <span class="name">Integration {{enabledState}}</span>\n          <span class="description ellipsis">Sympli Jira Add-on for {{company && company.name || \'you\' }}</span>\n        </span>\n      </div>\n\n      <div class="sympli-box__block email-box email-box__check" v-if="enabled">\n        <span class="sympli-box__block-left" v-class="enabled: configured">\n          <span class="sympli-icon icon-tick-set" title=\'{{configuredState}}\'></span>\n        </span>\n        <span class="sympli-box__block-text">\n          <span class="name">Add-on {{configuredState}}</span>\n          <span class="description ellipsis">Add-on configuration in Jira for {{company && company.name || \'you\' }}</span>\n        </span>\n      </div>\n\n      <div class="form-group form-group__new" v-if="enabled && !configured">\n        <label class="col-md-2 col-xs-3 control-label">Add-on url</label>\n        <div class="col-md-10 col-xs-9">\n          <div class="form-control ellipsis">\n            <a v-clipboard data-clipboard-target="#text-sympli-addon-url" id="text-sympli-addon-url">{{addonUrl}}</a>\n          </div>\n        </div>\n      </div>\n      <div class="form-group form-group__hint" v-if="enabled && !configured">\n        <div class="col-xs-12">\n          <p>Click to copy Add-on url and paste it in Manage Jira Add-ons page to install Sympli Add-on.</p>\n        </div>\n      </div>\n\n      <div class="form-group form-group__new" v-if="enabled && !configured">\n        <label class="col-md-2 col-xs-3 control-label">Token</label>\n        <div class="col-md-10 col-xs-9">\n          <div class="form-control ellipsis">\n            <a v-clipboard data-clipboard-target="#text-sympli-token" id="text-sympli-token">{{companyAccessToken}}</a>\n          </div>\n        </div>\n      </div>\n      <div class="form-group form-group__hint" v-if="enabled && !configured">\n        <div class="col-xs-12">\n          <p>Click to copy Token and paste it in Jira Add-on configuration page to complete integration.</p>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>\n'},{}],379:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),data:function(){return{company:null,jira:null,enabled:!1,configured:!1}},ready:function(){this.company=this.user.company,this.user&&(this.enabled=this.user.plan.isJiraEnabled,this.configured=this.user.settings.isJiraConfigured)},computed:{enabledState:function(){return this.enabled?"enabled":"disabled"},configuredState:function(){return this.configured?"configured":"not configured"},companyAccessToken:function(){return window.user.accessToken},addonUrl:function(){return window.location.origin+"/jira"}}}},{"./index.html":378}],380:[function(e,t,n){t.exports='<div class="saml-settings">\n  <div class="sympli-box" v-if="saml">\n    <div class="form-horizontal profile-box">\n      <div class="sympli-box__block email-box email-box__check">\n        <span class="sympli-box__block-left" v-class="enabled: ssoEnabled">\n          <span class="sympli-icon icon-tick-set" title=\'{{ssoState}}\'></span>\n        </span>\n          <span class="sympli-box__block-text">\n          <span class="name">Single Sign On {{ssoState}}</span>\n          <span class="description ellipsis">SAML SSO for {{company.name}}</span>\n        </span>\n      </div>\n\n      <div class="form-group form-group__new" v-if="ssoEnabled">\n        <label class="col-md-4 col-xs-5 control-label">Single Sign On URL</label>\n        <div class="col-md-8 col-xs-7">\n          <div class="form-control ellipsis">\n            <a v-clipboard data-clipboard-target="#text-sympli-sso-url" id="text-sympli-sso-url">{{sympliSsoUrl}}</a>\n          </div>\n        </div>\n      </div>\n\n      <div class="sympli-box__block email-box email-box__check" v-if="ssoEnabled">\n        <span class="sympli-box__block-left" v-class="enabled: sloEnabled">\n          <span class="sympli-icon icon-tick-set" title=\'{{sloState}}\'></span>\n        </span>\n          <span class="sympli-box__block-text">\n          <span class="name">Single Logout {{sloState}}</span>\n          <span class="description ellipsis">SAML SLO for {{company.name}}</span>\n        </span>\n      </div>\n\n      <div class="form-group form-group__new" v-if="ssoEnabled && sloEnabled">\n        <label class="col-md-4 col-xs-5 control-label">Single Logout URL</label>\n        <div class="col-md-8 col-xs-7">\n          <div class="form-control ellipsis">\n            <a v-clipboard data-clipboard-target="#text-sympli-slo-url" id="text-sympli-slo-url">{{sympliSloUrl}}</a>\n          </div>\n        </div>\n      </div>\n\n      <div class="sympli-box__block email-box email-box__check">\n        <span class="sympli-box__block-left" v-class="enabled: sandboxEnabled">\n          <span class="sympli-icon icon-tick-set" title=\'{{sandboxState}}\'></span>\n        </span>\n        <span class="sympli-box__block-text">\n          <span class="name">Sandbox {{sandboxState}}</span>\n          <span class="description ellipsis">Sandbox for {{company.name}}</span>\n        </span>\n      </div>\n\n      <div class="form-group form-group__new" v-if="ssoEnabled">\n        <label class="col-md-4 col-xs-5 control-label">SP Metadata URL</label>\n        <div class="col-md-8 col-xs-7">\n          <div class="form-control ellipsis">\n            <a v-clipboard data-clipboard-target="#text-sp-metadata-url" id="text-sp-metadata-url">{{sympliMetadataUrl}}</a>\n          </div>\n        </div>\n      </div>\n      <div class="form-group form-group__hint" v-if="ssoEnabled">\n        <div class="col-xs-12">\n          <p>Sympli Metadata URL (SAML Service Provider)</p>\n        </div>\n      </div>\n\n      <div class="form-group form-group__new" v-if="ssoEnabled && metadataUrl">\n        <label class="col-md-4 col-xs-5 control-label">IDP Metadata URL</label>\n        <div class="col-md-8 col-xs-7">\n          <div class="form-control ellipsis">\n            <a v-clipboard data-clipboard-target="#text-metadata-url" id="text-metadata-url">{{metadataUrl}}</a>\n          </div>\n        </div>\n      </div>\n      <div class="form-group form-group__hint" v-if="ssoEnabled && metadataUrl">\n        <div class="col-xs-12">\n          <p>Metadata URL from your SAML Identity Provider</p>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>\n'},{}],381:[function(e,t,n){"use strict";function i(e,t){return t?window.config.saml.domainTemplate.replace("{{domain}}",e)+t:window.config.saml.domainTemplate.replace("{{domain}}",e)}function s(e,t){return window.config.baseUrl+t+"/"+e}t.exports={inherit:!0,template:e("./index.html"),data:function(){return{company:null,saml:null,sandboxEnabled:!1,ssoEnabled:!1,domain:"",metadataUrl:"",sloEnabled:!1}},ready:function(){this.company=this.user.company,this.saml=this.user.company&&this.user.company.settings?this.user.company.settings.saml:null,this.saml&&(this.sandboxEnabled=this.saml.sandboxEnabled,this.ssoEnabled=this.saml.ssoEnabled,this.domain=this.saml.domain,this.metadataUrl=this.saml.metadataUrl,this.sloEnabled=this.saml.sloEnabled)},methods:{_buildSamlUrl:function(e,t){return this.domain?this.sandboxEnabled?i(this.domain,e):s(this.domain,t):""}},computed:{sympliSsoUrl:function(){return this._buildSamlUrl(window.config.saml.ssoPath,window.config.saml.ssoUrl)},sympliSloUrl:function(){return this._buildSamlUrl(window.config.saml.sloPath,window.config.saml.sloUrl)},sympliMetadataUrl:function(){return this._buildSamlUrl(window.config.saml.metadataPath,window.config.saml.metadataPath)},ssoState:function(){return this.ssoEnabled?"enabled":"disabled"},ssloState:function(){return this.sloEnabled?"enabled":"disabled"},sandboxState:function(){return this.sandboxEnabled?"enabled":"disabled"}}}},{"./index.html":380}],382:[function(e,t,n){t.exports='<div class="profile-users">\n  <div class="profile-block" v-if="members !== null">\n    <h4>\n      Collaborators\n      <span v-if="members !== null">{{activeMembersCount}}/{{user.plan.usersCount}}</span>\n    </h4>\n\n    <div class="company-management__email">\n      <div class="panel-group">\n        <div v-repeat="member: members"  v-component="member"></div>\n      </div>\n    </div>\n  </div>\n\n  <div class="profile-block" v-if="members === null">\n    Loading...\n  </div>\n</div>\n'},{}],383:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,template:e("./index.html"),created:function(){},ready:function(){this._loadMembers()},data:function(){return{members:null}},computed:{activeMembersCount:function(){if(!this.members)return 0;var e=i.filter(this.members,function(e){return e.isActive});return e.length||0}},methods:{_loadMembers:function(){var e=this;this.$api(this.$api.get("/account/members").then(function(t){e.members=t.data||[]}))}},components:{member:e("./member")}}},{"./index.html":382,"./member":385,underscore:682}],384:[function(e,t,n){t.exports='<div class="panel panel-default">\n  <div class="panel-heading user-table">\n    <div class="user-email column column-1">\n        <img class="gravatar-image user-email__image" v-attr="src: picture" alt="">\n        <span class="user-email__text ellipsis">\n          {{email}}\n          <small class="text-muted ellipsis" v-if="member.isActive">active</small>\n          <small class="text-muted ellipsis" v-if="isMe">(you)</small>\n          <span class="comment ellipsis">{{name}}</span>\n        </span>\n    </div>\n\n    <div class="user-status column column-2">\n      <small class="text-muted ellipsis"><span v-if="!member.isActive">not</span> active</small>\n    </div>\n\n    <div class="user-status column column-3">\n    </div>\n\n\n    <div class="sympli-dialog-block" v-if="!isMe">\n      <a class="icon-remove" href="#" title="Revoke" v-on="click: onShowDeleteMemberPrompt">\n        <span class="sympli-icon icon-menu_delete_icon"></span>\n      </a>\n      <div v-component="popup-prompt-dialog" v-with="title: \'Remove user from account\',\n                            isActive: showDeleteMemberPrompt,\n                            successButtonLabel: \'Remove\',\n                            onSuccess: onDeleteMember">\n        <div class="message">\n          You are about to remove member access for\n          {{email}}\n          <span class="text-muted" v-if="isJoined">({{name}})</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';
},{}],385:[function(e,t,n){"use strict";t.exports={inherit:!0,replace:!0,template:e("./index.html"),data:function(){return{member:null,showDeleteMemberPrompt:!1}},ready:function(){},methods:{onShowDeleteMemberPrompt:function(e){e.preventDefault(),this.showDeleteMemberPrompt=!this.showDeleteMemberPrompt},onDeleteMember:function(e){e.preventDefault();var t=this;this.$api(this.$api["delete"]("/account/members/"+this.member.id).then(t._loadMembers))}},computed:{name:function(){var e=this.member.profile;return e&&e.name?e.name:this.member.email},email:function(){return this.member.email},picture:function(){return this.member.picture},isMe:function(){return!!this.member&&this.member.id==this.user.id}}}},{"./index.html":384}],386:[function(e,t,n){t.exports='<div class="archive-item">\n  <div class="title-block">\n    <div class="title-block__link">\n      <a v-if="canActivateProject" class="ellipsis" href="/app#!/projects/{{project.id}}">{{project.name}}</a>\n      <span v-if="!canActivateProject" class="title-block__name ellipsis" v-text="project.name" v-attr="title: project.name"></span>\n      <span class="title-block__subheader">\n        <span class="label-type"><i class="sympli-icon" v-class="\'icon-web_icon_projects_list\': project.type==\'web\', \'icon-apple_icon_projects_list\': project.type==\'ios\', \'icon-android_icon_projects_list\': project.type==\'android\'"></i> {{project.type | bundleType}}{{project.type!=\'ios\' ? \'@\' : \'\'}}{{project.baseline}}</span>\n        <span class="label-design"><b>{{project.bundlesCount}}</b> {{project.bundlesCount | pluralize design}}</span>\n        <span class="label-clock">{{project.updatedAt | moment updateDateFormat}}</span>\n        <span class="label-share" v-if="!isOwner(project)">\n          owned by\n          <img alt="" class="gravatar-image" v-attr="src: getUserPicture(project)"/>\n          <b>{{getUserName(project)}}</b>\n        </span>\n      </span>\n    </div>\n\n    <div class="icon-menu dropdown">\n      <a class="dropdown-toggle icon-menu__toggle" href=\'#\' role="button" data-toggle=\'dropdown\'>\n        <span class="sympli-icon icon-dots"></span>\n      </a>\n\n      <ul class="dropdown-menu">\n        <li class="arrow"></li>\n\n        <li v-if="canActivateProject">\n          <a href="#" v-on="click: onActivateProject">\n            <span class="sympli-icon icon-archive_small"></span>Unarchive\n          </a>\n        </li>\n\n        <li v-if="canLeaveProject">\n          <a href="#" v-on="click: onLeaveShow" title="Leave">\n            <span class="sympli-icon icon-menu_delete_icon"></span>Leave\n          </a>\n        </li>\n\n        <li v-if="canDeleteProject">\n          <a href="#" v-on="click: onDeleteShow" title="Delete">\n            <span class="sympli-icon icon-menu_delete_icon"></span>Delete\n          </a>\n        </li>\n      </ul>\n    </div>\n\n    <div v-component="popup"\n         v-with="title: \'Delete project\',\n                   successButtonLabel: \'Delete\',\n                   successButtonClass: \'btn-danger\',\n                   onCancel: onDeleteHide,\n                   onSuccess: onDeleteSuccess,\n                   isActive: showDelete">\n      <div class="message">\n        <p class="sympli-text">\n          You\'re about to delete the project <span class="sympli-text__project-name ellipsis">{{project.name}}</span><!--\n        --><span v-if="project.bundlesCount"> with {{project.bundlesCount}} {{project.bundlesCount | pluralize design}}</span><!--\n        --><span v-if="project.accesses && project.accesses.length"> that has been shared with {{project.accesses.length}} {{project.accesses.length | pluralize person people}}</span>.\n        </p>\n      </div>\n    </div>\n\n    <div v-component="popup"\n         v-with="title: \'Unsubscribe from project\',\n                   successButtonLabel: \'Unsubscribe\',\n                   successButtonClass: \'btn-warning\',\n                   onCancel: onLeaveHide,\n                   onSuccess: onLeaveSuccess,\n                   isActive: showLeave">\n      <div class="message">\n        <p class="sympli-text">\n          You\'re about to unsubscribe from the project <span class="sympli-text__project-name ellipsis">{{project.name}}</span><!--\n        --><span v-if="project.bundlesCount"> with {{project.bundlesCount}} {{project.bundlesCount | pluralize design}}</span>.\n        </p>\n      </div>\n    </div>\n\n  </div>\n</div>\n'},{}],387:[function(e,t,n){"use strict";var i=e("./index.html");t.exports=e("../projectItemVueFactory")(i)},{"../projectItemVueFactory":428,"./index.html":386}],388:[function(e,t,n){t.exports='<section class="m-projects container">\n  <div class="page-header">\n    <h2 class="pull-left">Projects Archive</h2>\n  </div>\n\n  <div class="row search-container" v-if="showSearchInput">\n    <div class="col-xs-3 sort-container">\n      <div v-component="order-picker"></div>\n    </div>\n    <div class="col-xs-5 filters">\n      <a v-class="active: (typeFilter == \'\' || typeFilter == null)" href="javascript:void(0)" v-on="click:onFilterOptionClick(\'\', $event)">All</a>\n      <a v-class="active: typeFilter == \'ios\'" href="javascript:void(0)" v-on="click:onFilterOptionClick(\'ios\', $event)">iOS</a>\n      <a v-class="active: typeFilter == \'android\'" href="javascript:void(0)" v-on="click:onFilterOptionClick(\'android\', $event)">Android</a>\n      <a v-class="active: typeFilter == \'web\'" href="javascript:void(0)" v-on="click:onFilterOptionClick(\'web\', $event)">Web</a>\n\n      <span class="sympli-checkbox" v-if="hasCompanyAdminAccess">\n        <input type="checkbox" v-attr="checked: isExtendedSearch" class="checkbox-label checkbox" v-on="click: onToggleExtendedSearch" id="super"/>\n        <label for="super">\n          <i class="sympli-icon icon-tick-white"></i>\n          All Company Projects\n        </label>\n      </span>\n    </div>\n    <div class="col-xs-4 common-search-container">\n      <div v-component="search-input"></div>\n    </div>\n  </div>\n\n  <div class="m-projects__pagination" v-class="row: totalPages && totalPages>1">\n    <div class="col-xs-12">\n      <div v-component="pagination"\n           current-page="{{currentPage}}"\n           per-page="{{perPage}}"\n           total-pages="{{totalPages}}"></div>\n    </div>\n  </div>\n\n  <div class="archive">\n    <div class="row" v-if="projects.length">\n      <div class="col-xs-12 " v-repeat="project: projects" v-component="archive-project-item"></div>\n    </div>\n\n    <div v-if="!isLoading && !projects.length">\n      <div class="empty-list" v-if="(typeFilter == \'\' || typeFilter == null) && (name == \'\' || name == null)">\n        <span class="sympli-icon empty-sympli-icon icon-arch"></span>\n        <h4>Your archive is empty</h4>\n      </div>\n\n      <div class="empty-list">\n        <div v-if="!(typeFilter == \'\' || typeFilter == null) && (name == \'\' || name == null)">\n          <span class="sympli-icon empty-sympli-icon icon-results_folder"></span>\n          <h4>Seems like you don\'t have any<br/> {{typeFilter | bundleType}} archive projects yet.</h4>\n        </div>\n        <div v-if="(typeFilter == \'\' || typeFilter == null) && !(name == \'\' || name == null)">\n          <span class="sympli-icon empty-sympli-icon icon-results_folder"></span>\n          <h4>Seems like you don\'t have any archive projects<br/> where name contains "{{name}}".</h4>\n        </div>\n        <div v-if="!(typeFilter == \'\' || typeFilter == null) && !(name == \'\' || name == null)">\n          <span class="sympli-icon empty-sympli-icon icon-results_folder"></span>\n          <h4>Seems like you don\'t have any<br/> {{typeFilter | bundleType}} archive projects where name contains "{{name}}".</h4>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div v-component="pagination"\n       current-page="{{currentPage}}"\n       per-page="{{perPage}}"\n       total-pages="{{totalPages}}"></div>\n  <subscription-restrictions-hit></subscription-restrictions-hit>\n</section>\n'},{}],389:[function(e,t,n){"use strict";t.exports=e("./projectListVueFactory")(e("./archive.html"),"/projects-archive")},{"./archive.html":388,"./projectListVueFactory":429}],390:[function(e,t,n){t.exports='<div class="project-detail" v-if="project">\n  <bundles-list project-id="{{project.id}}" jira-enabled="{{project && project.user && user && project.user.plan.isJiraEnabled && project.user.settings && project.user.settings.isJiraConfigured}}"></bundles-list>\n</div>\n'},{}],391:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),components:{"bundles-list":e("../../bundles/index")}}},{"../../bundles/index":134,"./index.html":390}],392:[function(e,t,n){t.exports='<section class="m-projects container">\n  <div class="page-header clearfix">\n    <h2 class="pull-left">Projects</h2>\n    <div class="sympli-dialog-layer add-link pull-right">\n      <span class="btn btn-primary" v-on="click: showCreateModal">New Project</span>\n      <modal-project-create></modal-project-create>\n    </div>\n  </div>\n\n  <div class="row search-container">\n    <div class="col-xs-3 sort-container" v-if="showFilterBlock">\n      <div v-component="order-picker"></div>\n    </div>\n    <div class="col-xs-5 filters" v-if="showFilterBlock">\n      <a v-class="active: (typeFilter == \'\' || typeFilter == null)" href="javascript:void(0)" v-on="click:onFilterOptionClick(\'\', $event)">All</a>\n      <a v-class="active: typeFilter == \'ios\'" href="javascript:void(0)" v-on="click:onFilterOptionClick(\'ios\', $event)">iOS</a>\n      <a v-class="active: typeFilter == \'android\'" href="javascript:void(0)" v-on="click:onFilterOptionClick(\'android\', $event)">Android</a>\n      <a v-class="active: typeFilter == \'web\'" href="javascript:void(0)" v-on="click:onFilterOptionClick(\'web\', $event)">Web</a>\n      <span class="sympli-checkbox" v-if="hasCompanyAdminAccess">\n        <input type="checkbox" v-attr="checked: isExtendedSearch" class="checkbox-label checkbox" v-on="click: onToggleExtendedSearch" id="super"/>\n        <label for="super">\n          <i class="sympli-icon icon-tick-white"></i>\n          All Company Projects\n        </label>\n      </span>\n    </div>\n    <div class="common-search-container col-xs-4" v-if="showSearchInput">\n      <div v-component="search-input"></div>\n    </div>\n  </div>\n\n  <div class="m-projects__pagination" v-class="row: totalPages && totalPages>1">\n    <div class="col-xs-12">\n      <div v-component="pagination"\n           current-page="{{currentPage}}"\n           per-page="{{perPage}}"\n           total-pages="{{totalPages}}"></div>\n    </div>\n  </div>\n\n  <div class="projects">\n    <div class="row" v-if="projects.length">\n      <div class="col-xs-12 " v-repeat="project: projects" v-component="project-item"></div>\n    </div>\n\n    <div class="projects-list__empty" v-if="!isLoading && !projects.length">\n      <div class="empty-list empty-list-projects" v-if="(typeFilter == \'\' || typeFilter == null) && (name == \'\' || name == null)">\n        <div class="list-projects-icon">\n          <span id="icon-no_projects" class="sympli-icon icon-no_projects"></span>\n          <span id="icon-st" class="sympli-icon icon-st"></span>\n        </div>\n        <h4>Your project list is empty.</h4>\n        <p>You can start a new project or ask a designer to share one with you. If you need more information on how to use Sympli, check out our <a href="http://help.sympli.io" target="_blank">Help</a> and  <a href="/download" target="_blank">Download</a> pages.</p>\n\n        <div class="sympli-dialog-layer">\n          <a class="btn btn-primary" v-on="click: showCreateModal">Create New Project</a>\n        </div>\n        <!--<p class="archive" v-if="archiveProjectsCount">But you have some projects in<br/> <a href="/app#!/projects-archive">Projects Archive</a>.</p>-->\n      </div>\n\n      <div class="empty-list">\n        <div v-if="!(typeFilter == \'\' || typeFilter == null) && (name == \'\' || name == null)">\n          <span class="sympli-icon empty-sympli-icon icon-results_folder"></span>\n          <h4>Seems like you don\'t have any<br/> {{typeFilter | bundleType}} projects yet.</h4>\n        </div>\n        <div v-if="(typeFilter == \'\' || typeFilter == null) && !(name == \'\' || name == null)">\n          <span class="sympli-icon empty-sympli-icon icon-results_folder"></span>\n          <h4>Seems like you don\'t have any projects<br/> where name contains "{{name}}".</h4>\n        </div>\n        <div v-if="!(typeFilter == \'\' || typeFilter == null) && !(name == \'\' || name == null)">\n          <span class="sympli-icon empty-sympli-icon icon-results_folder"></span>\n          <h4>Seems like you don\'t have any<br/> {{typeFilter | bundleType}} projects where name contains "{{name}}".</h4>\n        </div>\n        <p class="archive" v-if="archiveProjectsCount">But you do have some projects in<br/> <a href="/app#!/projects-archive">Projects Archive</a>.</p>\n      </div>\n    </div>\n  </div>\n\n  <div v-component="pagination"\n       current-page="{{currentPage}}"\n       per-page="{{perPage}}"\n       total-pages="{{totalPages}}"></div>\n  <project-activate-upgrade-plan></project-activate-upgrade-plan>\n  <subscription-restrictions-hit></subscription-restrictions-hit>\n</section>\n'},{}],393:[function(e,t,n){"use strict";t.exports=e("./projectListVueFactory")(e("./index.html"),"/projects","/projects-archive")},{"./index.html":392,"./projectListVueFactory":429}],394:[function(e,t,n){t.exports='<div class="m-activity m-activity__color m-activity-expandable m-activity-color collapsed"\n     data-toggle="collapse"\n     data-parent=".m-activity"\n     data-target="#color-activity-{{$index}}"\n     v-on="click: toggle"\n     v-class="collapsed: collapsed, expanded: !collapsed">\n\n  <i class="sympli-icon icon-spots_icon"></i>\n\n  <div class="m-activity-title">\n    <span class="m-activity-title__active">Named color<span v-if="activity.data.length > 1">s</span></span>\n    <span class="m-activity-title__user-name">{{activity.updatedAt | moment calendar | lowercase}} by {{activity.user.profile.name || activity.user.email}}</span>\n  </div>\n  <div class="m-activity-comment"></div>\n  <div class="m-activity-design-block">\n    <a href="#!/designs/{{activity.bundle.id}}">\n      <span class="m-activity-images">\n        <img v-attr="src: activity.bundle.blobUrlPrefix + \'/bundle/preview.png\'" alt=""/>\n      </span>\n      <span class="m-activity-bundle-name">{{activity.bundle.name}}</span>\n    </a>\n  </div>\n</div>\n\n<div id="color-activity-{{$index}}" class="m-activity-color-list collapse">\n  <div v-repeat="activity.data">\n    <div class="m-color-thumb" style="background-color: {{color}} "></div>\n    <samp class="m-color-color">{{color}} </samp>\n    <span>{{name}}</span>\n  </div>\n</div>\n'},{}],395:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),data:function(){return{collapsed:!0}},ready:function(){},methods:{toggle:function(){this.collapsed=!this.collapsed}}}},{"./index.html":394}],396:[function(e,t,n){t.exports='<div class="m-activity m-activity__create">\n  <i class="sympli-icon icon-new_icon"></i>\n  <div class="m-activity-title">\n    <span class="m-activity-title__active">A new design was added</span>\n    <span class="m-activity-title__user-name">{{activity.updatedAt | moment calendar | lowercase}} by {{activity.user.profile.name || activity.user.email}}</span>\n  </div>\n  <div class="m-activity-comment"></div>\n  <div class="m-activity-design-block">\n    <a class="project-cover" href="#!/designs/{{activity.bundle.id}}">\n      <span v-if="activity.bundle.token && activity.bundle.status == \'ready\'" class="m-activity-images">\n        <img  v-attr="src: imageUrlPrefix + \'/bundle/preview.png\'" alt="bundle" onerror="this.src=\'img/preview.png\'"/>\n      </span>\n      <span v-if="!activity.bundle.token || activity.bundle.status != \'ready\'" class="m-activity-images">\n        <img src="img/preview.png" alt="Preview is not available">\n      </span>\n      <span class="m-activity-bundle-name">{{activity.bundle.name}}</span>\n    </a>\n  </div>\n</div>\n'},{}],397:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),computed:{imageUrlPrefix:function(){return this.activity.data&&this.activity.data.blobUrlPrefix?this.activity.data.blobUrlPrefix:this.activity.bundle.blobUrlPrefix}}}},{"./index.html":396}],398:[function(e,t,n){t.exports='<div class="m-activity m-activity__create">\n  <i class="sympli-icon icon-remove_icon"></i>\n  <div class="m-activity-title">\n    <span class="m-activity-title__active">A design was removed</span>\n    <span class="m-activity-title__user-name">{{activity.updatedAt | moment calendar | lowercase}} by {{activity.user.profile.name || activity.user.email}}</span>\n  </div>\n  <div class="m-activity-comment"></div>\n  <div class="m-activity-design-block m-activity-design-block__nolink">\n    <span v-if="activity.bundle.token && activity.bundle.status == \'ready\'" class="m-activity-images">\n      <img v-attr="src: imageUrlPrefix + \'/bundle/preview.png\'" alt="bundle" onerror="this.src=\'img/preview.png\'"/>\n    </span>\n    <span v-if="!activity.bundle.token || activity.bundle.status != \'ready\'" class="m-activity-images">\n      <img src="img/preview.png" alt="Preview is not available">\n    </span>\n    <span class="m-activity-bundle-name">\n      {{activity.bundle.name}}\n    </span>\n  </div>\n</div>\n'},{}],399:[function(e,t,n){arguments[4][397][0].apply(n,arguments)},{"./index.html":398,dup:397}],400:[function(e,t,n){t.exports='<div class="activity-block" v-if="project && !isArchive">\n  <div class="loading" v-if="loading">\n    Loading activities...\n  </div>\n\n  <div class="activity-block-box" v-if="!loading && activities.length != 0">\n    <div class="activity-block-box__inner" v-repeat="activity: activities | supportedActivities">\n      <div v-component="{{\'activity-\' + activity.action}}"></div>\n    </div>\n  </div>\n\n  <div v-if="!activities || activities.length == 0">\n    <span>No activities</span>\n  </div>\n\n  <div v-component="pagination" current-page="{{currentPage}}" per-page="{{perPage}}" total-pages="{{totalPages}}"></div>\n</div>\n\n'},{}],401:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.load(),this.$on("change:page",function(e){this.currentPage=e,this.load()})},data:function(){return{activities:[],currentPage:0,totalPages:1,loading:!1,perPage:10}},components:{pagination:e("../../common/simple-pagination"),"activity-create":e("./create"),"activity-delete":e("./delete"),"activity-upload":e("./upload"),"activity-color":e("./color")},methods:{load:function(){this.loading=!0;var e={skip:this.currentPage*this.perPage,limit:this.perPage},t="/projects/"+this.id+"/activities",n=this.$api.get(t,{qs:e}).then(function(e){this.activities=e.data,this.totalPages=Math.ceil(e.count/this.perPage),this.loading=!1,this.$api.event("viewed-activities-web")}.bind(this))["catch"](function(e){if(!e)throw e;switch(e.status){case 403:this.$dispatch("lanes:route",{name:"projectsAccessDenied"});break;case 400:case 404:this.$dispatch("lanes:route",{name:"projectsNotFound"});break;default:throw e}}.bind(this));this.$api(n)}}}},{"../../common/simple-pagination":191,"./color":395,"./create":397,"./delete":399,"./index.html":400,"./upload":403}],402:[function(e,t,n){t.exports='<div class="m-activity m-activity__upload">\n  <i class="sympli-icon icon-revision_icon"></i>\n  <div class="m-activity-title">\n    <span class="m-activity-title__active">A new revision was uploaded</span>\n    <span class="m-activity-title__user-name">{{activity.updatedAt | moment calendar | lowercase}} by {{activity.user.profile.name || activity.user.email}}</span>\n  </div>\n  <div class="m-activity-comment"></div>\n  <div class="m-activity-design-block">\n    <a href="#!/designs/{{activity.bundle.id}}">\n      <span v-if="activity.bundle.token" class="m-activity-images">\n        <img v-attr="src: imageUrlPrefix + \'/bundle/preview.png\'" alt="bundle" onerror="this.src=\'img/preview.png\'"/>\n      </span>\n      <span v-if="!activity.bundle.token" class="m-activity-images">\n        <img src="img/preview.png" alt="Preview is not available">\n      </span>\n      <span class="m-activity-bundle-name" v-if="activity.data && activity.data.version">{{activity.bundle.name}}</span>\n      <span class="m-activity-bundle-name" v-if="!activity.data || !activity.data.version">{{activity.bundle.name}}</span>\n    </a>\n  </div>\n</div>\n'},{}],403:[function(e,t,n){arguments[4][397][0].apply(n,arguments)},{"./index.html":402,dup:397}],404:[function(e,t,n){t.exports='<div class="project-detail project-detail__archive" v-if="project">\n  <div class="text-center">\n    <span class="sympli-icon icon-arch"></span>\n\n    <h3>This project is in the archive</h3>\n    <p>It\'s unavailable for all collaborators</p>\n\n    <button v-if="canActivateProject" class="btn btn-primary" v-on="click: onActivateProject">\n      Unarchive\n    </button>\n  </div>\n\n  <subscription-restrictions-hit></subscription-restrictions-hit>\n  <project-users></project-users>\n</div>\n'},{}],405:[function(e,t,n){"use strict";var i=e("../../modals/subscription-restrictions-hit");t.exports={inherit:!0,template:e("./index.html"),components:{"subscription-restrictions-hit":i,"project-users":e("../project-users")},methods:{onActivateProject:function(e){e.preventDefault(),e.stopPropagation();var t=this,n=this.$store.getProjectActivateRequest(this.project.id).then(function(e){window.location.reload()})["catch"](function(e){var n=e&&e.responseJSON&&e.responseJSON.code||"",s=e&&e.responseJSON&&e.responseJSON.message||"";if(!i.isApplicable(n))throw e;t.$dispatch("modal:show","subscription-restrictions-hit",s,n)});this.$api(n)},canActivateProject:function(){return this.$security.checkProjectAccess(this.project,this.$security.permissions.project.activate,!0)}}}},{"../../modals/subscription-restrictions-hit":301,"../project-users":425,"./index.html":404}],406:[function(e,t,n){t.exports='<div class="widget">\n  <div class="widget-body" v-el="widgetBody">\n    <a v-repeat="bundle: displayBundles" class="project-cover"  v-attr="href: \'#!/designs/\' + bundle.id, title: bundle.name">\n      <img alt="" v-style="width: 140 * bundle.bounds.right / bundle.bounds.bottom + \'px\'"\n          v-attr="src: bundle.blobUrlPrefix + \'/bundle/preview.png\'"\n          v-attr="title: name" />\n    </a>\n\n    <div class="widget-notification" v-if="moreBundlesCount">\n      <a v-attr="href: projectUrl">{{moreBundlesCount}} more...</a>\n    </div>\n\n    <div class="widget-notification widget-notification__empty" v-if="!project.bundles.length" >\n      You don’t currently have any designs in this project.<br/>\n      You can upload them using our plugins for Photoshop or Sketch.<br/>\n      Check out our <a href="http://help.sympli.io" target="_blank">Help</a> and <a href="/download" target="_blank">Downloads</a> pages for more details.\n    </div>\n    <a class="widget-body__project-link" v-attr="href: projectUrl"></a>\n  </div>\n\n  <div class="title-block">\n    <a class="title-block__link" v-attr="href: projectUrl">\n      <span class="title-block__name ellipsis" v-text="project.name" v-attr="title: project.name"></span>\n      <span class="title-block__subheader">\n        <span class="label-type"><i class="sympli-icon" v-class="\'icon-web_icon_projects_list\': project.type==\'web\', \'icon-apple_icon_projects_list\': project.type==\'ios\', \'icon-android_icon_projects_list\': project.type==\'android\'"></i> {{project.type | bundleType}}{{project.type!=\'ios\' ? \'@\' : \'\'}}{{project.baseline}}</span>\n        <span class="label-design"><b>{{project.bundlesCount}}</b> {{project.bundlesCount | pluralize design}}</span>\n        <span class="label-clock">{{project.bundlesUpdatedAt | moment updateDateFormat}}</span>\n        <span class="label-demo" v-if="isDemo(project)"><span class="label label-primary"><b>DEMO</b></span></span>\n        <span class="label-share" v-if="!isOwner(project)" class="label label-success">\n          owned by\n          <img alt="" class="gravatar-image" v-attr="src: getUserPicture(project)"/>\n          <b>{{getUserName(project)}}</b>\n        </span>\n\n        <span class="label-users" v-if="nonAnonymous.length" v-on="click:preventLink">\n          <span class="label-users__block dropdown">\n            <span class="dropdown-toggle" data-toggle="dropdown"><i class="sympli-icon icon-shared"></i> {{nonAnonymous.length}}</span>\n            <span class="arrow"></span>\n            <ul class="dropdown-menu scrollable-menu">\n              <li class="label-users__li" v-repeat="nonAnonymous" title="{{user.email}}" style="position: relative;">\n                <img v-attr="src:user.picture"><span class="name ellipsis">{{user.profile.name}} <span class="email">{{user.email}} <small class="text-muted" v-if="role == \'admin\'">power user</small></span></span>\n              </li>\n            </ul>\n          </span>\n        </span>\n\n        <span class="label-archive" v-if="project.role == \'archive\'">{{project.role}}</span>\n      </span>\n    </a>\n    <div class="icon-menu dropdown">\n      <a class="dropdown-toggle icon-menu__toggle" href=\'#\' role="button" data-toggle=\'dropdown\'>\n        <span class="sympli-icon icon-dots"></span>\n      </a>\n\n      <ul class="dropdown-menu">\n        <li class="arrow"></li>\n\n        <li v-if="canLeaveProject">\n          <a href="#" v-on="click: onLeaveShow" title="Leave">\n            <span class="sympli-icon icon-menu_delete_icon"></span>Leave\n          </a>\n        </li>\n        <li v-if="canArchiveProject">\n          <a href="#" v-on="click: onArchiveShow">\n            <span class="sympli-icon icon-archive_small"></span>Archive\n          </a>\n        </li>\n        <li v-if="canDeleteProject">\n          <a href="#" v-on="click: onDeleteShow" title="Delete">\n            <span class="sympli-icon icon-menu_delete_icon"></span>Delete\n          </a>\n        </li>\n\n      </ul>\n    </div>\n\n    <div v-component="popup"\n         v-with="title: \'Delete project\',\n                   successButtonLabel: \'Delete\',\n                   successButtonClass: \'btn-danger\',\n                   onCancel: onDeleteHide,\n                   onSuccess: onDeleteSuccess,\n                   isActive: showDelete,\n                   dialogPosition: \'bottom\'">\n      <div class="message">\n        <p class="sympli-text">\n          You\'re about to delete the project <span class="sympli-text__project-name ellipsis">{{project.name}}</span><!--\n        --><span v-if="project.bundlesCount"> with {{project.bundlesCount}} {{project.bundlesCount | pluralize design}}</span><!--\n        --><span v-if="project.accesses && project.accesses.length"> that has been shared with {{project.accesses.length}} {{project.accesses.length | pluralize person people}}</span>.\n        </p>\n      </div>\n    </div>\n\n    <div v-component="popup"\n         v-with="title: \'Unsubscribe from project\',\n                   successButtonLabel: \'Unsubscribe\',\n                   successButtonClass: \'btn-warning\',\n                   onCancel: onLeaveHide,\n                   onSuccess: onLeaveSuccess,\n                   isActive: showLeave,\n                   dialogPosition: \'bottom\'">\n      <div class="message">\n        <p class="sympli-text">\n          You\'re about to unsubscribe from the project <span class="sympli-text__project-name ellipsis">{{project.name}}</span><!--\n        --><span v-if="project.bundlesCount"> with {{project.bundlesCount}} {{project.bundlesCount | pluralize design}}</span>.\n        </p>\n      </div>\n    </div>\n\n    <div v-component="popup"\n         v-with="title: \'Archive project\',\n                 successButtonLabel: \'Archive\',\n                 successButtonClass: \'btn-primary\',\n                 onCancel: onArchiveHide,\n                 onSuccess: onArchiveSuccess,\n                 isActive: showArchive,\n                 dialogPosition: \'bottom\'">\n      <div class="message">\n        <p class="sympli-text">You are about to archive the project <span class="sympli-text__project-name ellipsis">{{project.name}}</span></p>\n        <p class="sympli-text">Archived projects can not be modified and they are not visible to your team mates.\n          You can always restore it <a href="#!/projects-archive">here</a>.\n        </p>\n      </div>\n    </div>\n\n  </div>\n\n<!--\n  <div class="pull-right">\n    <user-list v-with="users: users, user: user"></user-list>\n  </div>\n-->\n</div>\n'},{}],407:[function(e,t,n){arguments[4][387][0].apply(n,arguments)},{"../projectItemVueFactory":428,"./index.html":406,dup:387}],408:[function(e,t,n){t.exports='<div class="dropdown">\n\t<span class="dropdown-toggle" id="{{forName}}" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" v-on="click: init">\n\t\t<color-box-with-hex v-if="selectedColor" color="{{selectedColor.color}}" platform="android" show-copy="false"></color-box-with-hex>\n\t\t<a href="#"><span v-if="!selectedColor && !isGuest"><h6>Select Color</h6></span><span\n        v-if="!selectedColor && isGuest"><h6>No Color</h6></span></a>\n\t</span>\n  <span class="arrow"></span>\n  <ul v-if="!isGuest" class="dropdown-menu dropdown-menu-left scrollable-menu" aria-labelledby="{{forName}}"\n      v-scrollpane="{}">\n    <li class="color-list-element color-list-element__clear" v-if="selectedColor"\n        v-on="click: selectColor($event, null)">\n      Clear color <span class="sympli-icon icon-menu_delete_icon"></span>\n    </li>\n    <li v-repeat="sortedColorsList" class="color-list-element">\n      <div class="s-color">\n        <div class="s_color-box" v-if="clicked">\n          <color-box-with-hex color="{{color}}" platform="android" show-copy="false" v-on="click: selectColor($event, this)"></color-box-with-hex>\n        </div>\n      </div>\n    </li>\n    <li class="color-list-element color-list-element__empty"\n        v-if="!project.data || !project.data.colors || project.data.colors.length == 0">\n      <span>Colors list is empty</span></li>\n  </ul>\n</div>\n'},{}],409:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,template:e("./index.html"),paramAttributes:["selected-color","for-name"],data:function(){return{color:null,clicked:!1}},components:{"color-box-with-hex":e("../../../../common/color-box-with-hex")},methods:{selectColor:function(e,t){e.preventDefault();var n=this,s=t?i.find(n.project.data.colors,function(e){return e.color.green==t.color.green&&e.color.red==t.color.red&&e.color.blue==t.color.blue}):void 0;i.each(this.mdColorsMapping,function(e){e.mdElementName==n.forName&&(e.selectedColor=s)}),"android:colorPrimaryDark"==n.forName&&i.each(this.mdColorsMapping,function(e){"android:statusBarColor"==e.mdElementName&&(e.selectedColor=s)}),n.selectedColor=s},init:function(){this.clicked=!0},rgb2hue:function(e){return e.red>=e.green&&e.green>=e.blue?60*((e.green-e.blue)/(e.red-e.blue==0?1:e.red-e.blue)):e.green>e.red&&e.red>=e.blue?60*(2-(e.red-e.blue)/(e.green-e.blue)):e.green>=e.blue&&e.blue>e.red?60*(2+(e.blue-e.red)/(e.green-e.red)):e.blue>e.green&&e.green>e.red?60*(4-(e.green-e.red)/(e.blue-e.red)):e.blue>e.red&&e.red>=e.green?60*(4+(e.red-e.green)/(e.blue-e.green)):e.red>=e.blue&&e.blue>e.green?60*(6-(e.blue-e.green)/(e.red-e.green)):void 0}},computed:{sortedColorsList:function(){var e=this;return this.sortedColors||this.project&&this.project.data&&this.project.data.colors&&(this.sortedColors=i.sortBy(this.project.data.colors,function(t){var n=e.rgb2hue(t.color);return n})),this.sortedColors}}}},{"../../../../common/color-box-with-hex":179,"./index.html":408,underscore:682
}],410:[function(e,t,n){t.exports='<div class="material-design-block">\n  <div v-if="!loading && isShown" class="row material-design-border">\n    <div class="col-xs-6 material-design-block__table">\n      <table class="table table__material-design">\n        <thead>\n          <tr>\n            <th>Android Resource ID</th>\n            <th>Color</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-repeat="mdColorsMapping">\n            <td class="material-design-name">{{mdElementName}}</td>\n            <td class="color-selector-with-value">\n              <div class="s-color">\n                <div class="s_color-box">\n                  <color-selector selected-color="{{selectedColor}}" for-name="{{mdElementName}}"></color-selector>\n                </div>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class="col-xs-6 material-design-block__design">\n      <div class="theme-navigation">\n        <div class="sympli-switch">\n          <span v-on="click: lightTheme = true" class="sympli-switch__button" v-class="badge: lightTheme == true">Light</span>\n          <span v-on="click: lightTheme = false" class="sympli-switch__button" v-class="badge: lightTheme == false">Dark</span>\n          <span class="background"></span>\n        </div>\n      </div>\n      <div class="theme shadow theme__dashed-bottom">\n        <div class="theme__status theme__toolbar-navigation" v-style="statusBarColor"></div>\n        <div class="theme__toolbar" v-style="colorPrimary">\n          <div class="theme__toolbar-navigation">\n            <i class="fa fa-bars back" v-style="colorForeground"></i>\n            <i class="fa fa-ellipsis-v more" v-style="colorForeground"></i>\n          </div>\n          <div class="theme__toolbar-headings">\n            <h1 v-style="textColorPrimary">SYMPLI</h1>\n            <h2 v-style="textColorSecondary">Revolution has come</h2>\n          </div>\n          <div class="theme__button" v-style="colorAccent">\n            <i class="fa fa-star" v-style="colorForeground"></i>\n          </div>\n        </div>\n        <div class="theme__top-background" v-style="windowBackground">\n          <div class="theme__body">\n            <ul>\n              <li class="clearfix" v-style="colorBackground">\n                <i class="fa fa-user" v-style="colorForeground"></i>\n                <p v-style="textColorSecondary">For<br>\n                  <em v-style="textColorSecondary">Developers</em>\n                </p>\n              </li>\n              <li class="clearfix" v-style="colorBackground">\n                <i class="fa fa-user" v-style="colorForeground"></i>\n\n                <p v-style="textColorSecondary">For<br>\n                  <em v-style="textColorSecondary">Designers</em>\n                </p>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <div class="theme shadow theme__dashed-top" v-style="navigationBarColor">\n        <div class="theme__navigation-bar">\n          <table border="0" width="100%">\n            <tr style="text-align: center">\n              <td width="40%">\n                <i class="fa fa-chevron-left"></i>\n              </td>\n              <td width="20%">\n                <i class="fa fa-circle-o"></i>\n              </td>\n              <td width="40%">\n                <i class="fa fa-square-o" style="font-weight: bold"></i>\n              </td>\n            </tr>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div v-if="loading || !isShown" class="material-design-loading loading"><span>Loading...</span></div>\n  <div class="action">\n    <button v-if="!isGuest" type="button" class="btn btn-primary" v-on="click: saveColorMapping">Save</button>\n  </div>\n</div>\n'},{}],411:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../../../../../lib/color-utils/obj2color");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{lightTheme:!0,isShown:!0}},components:{"color-box-with-hex":e("../../../common/color-box-with-hex"),"color-selector":e("./color-selector/index")},computed:{statusBarColor:function(){return"background-color:"+this._colorByAndroidResourceId("android:statusBarColor")},colorPrimary:function(){return"background-color:"+(this.lightTheme?this._colorByAndroidResourceId("android:colorPrimary"):this._colorByAndroidResourceId("android:colorPrimaryDark"))},textColorPrimary:function(){return"color:"+(this.lightTheme?this._colorByAndroidResourceId("android:textColorPrimary"):this._colorByAndroidResourceId("android:textColorPrimaryInverse"))},textColorSecondary:function(){return"color:"+(this.lightTheme?this._colorByAndroidResourceId("android:textColorSecondary"):this._colorByAndroidResourceId("android:textColorSecondaryInverse"))},colorAccent:function(){return"background-color: "+this._colorByAndroidResourceId("android:colorAccent")},navigationBarColor:function(){return"background-color: "+this._colorByAndroidResourceId("android:navigationBarColor")},windowBackground:function(){return"background-color: "+this._colorByAndroidResourceId("android:windowBackground")},colorForeground:function(){return"color: "+this._colorByAndroidResourceId("android:colorForeground")},colorBackground:function(){return"background-color: "+this._colorByAndroidResourceId("android:colorBackground")}},methods:{saveColorMapping:function(){var e=this;i.each(e.project.data.colors,function(t){t.materialDesignNames=[],i.each(e.mdColorsMapping,function(e){e.selectedColor&&e.selectedColor.color==t.color&&t.materialDesignNames.push(e.mdElementName)})});var t=this.$api.put("/projects/"+e.project.id+"/colors",{body:e.project}).then(function(t){200==t.status&&($(e.$el.childNodes[0]).modal("hide"),e.$dispatch("project:update"))});this.$api(t)},_colorByAndroidResourceId:function(e){var t=i.find(this.mdColorsMapping,function(t){return t.mdElementName==e});return t.selectedColor?t.selectedColor.hex?t.selectedColor.hex:s(t.selectedColor.color):void 0},_backgroundColor:function(e){return e?"background-color: "+e:""}}}},{"../../../../../lib/color-utils/obj2color":36,"../../../common/color-box-with-hex":179,"./color-selector/index":409,"./index.html":410,underscore:682}],412:[function(e,t,n){t.exports='<div class="project-settings" v-if="loaded">\n  <div class="project-settings__column">\n    <div v-if="hasAnySettingsAccess">\n      <h4>Email Notifications</h4>\n\n      <div class="sympli-box">\n        <div class="sympli-box__block email-box email-box__check" v-on="click: onChangeUserSettings($event, \'isEmailDigestNotificationEnabled\')">\n          <span class="sympli-box__block-left" v-class="enabled: userSettings.isEmailDigestNotificationEnabled">\n            <span class="sympli-icon icon-tick-set" title=\'{{userSettings.isEmailDigestNotificationEnabled ? "Enabled" : "Disabled"}}\'></span>\n          </span>\n          <span class="sympli-box__block-text">\n            <span class="name">Digests</span>\n            <span class="description ellipsis">Summary emails with the project\'s updates</span>\n          </span>\n        </div>\n\n        <div class="sympli-box__block email-box email-box__check" v-on="click: onChangeUserSettings($event, \'isEmailMentionNotificationEnabled\')">\n          <span class="sympli-box__block-left" v-class="enabled: userSettings.isEmailMentionNotificationEnabled">\n            <span class="sympli-icon icon-tick-set" title=\'{{userSettings.isEmailMentionNotificationEnabled ? "Enabled" : "Disabled"}}\'></span>\n          </span>\n          <span class="sympli-box__block-text">\n            <span class="name">Mentions</span>\n            <span class="description ellipsis">Get emailed every time you are mentioned</span>\n          </span>\n        </div>\n      </div>\n    </div>\n\n    <div v-if="project.user.plan.isSlackEnabled && $security.checkProjectAccess(project, $security.permissions.project.settings.slack, true)">\n      <h4>Slack Notifications</h4>\n\n      <div class="sympli-box">\n        <!-- before connection -->\n        <div v-if="project && !project.slackIntegration">\n          <a class="sympli-box__block email-box slack" href="https://slack.com/oauth/authorize?scope=incoming-webhook&client_id={{slackApplicationClientId}}&state={{project.id}}">\n            <span class="sympli-box__block-left icon-settings-slack"></span>\n            <span class="sympli-box__block-text">\n                <span class="name">Slack</span>\n                <span class="description ellipsis">Not Connected</span>\n            </span>\n            <span class="sympli-icon icon-slack_setting"></span>\n          </a>\n        </div>\n\n        <!-- after connection -->\n        <div v-if="project && project.slackIntegration">\n          <a class="sympli-box__block email-box slack" href="https://slack.com/oauth/authorize?scope=incoming-webhook&client_id={{slackApplicationClientId}}&state={{project.id}}" target="_blank">\n            <span class="sympli-box__block-left icon-settings-slack"></span>\n            <span class="sympli-box__block-text">\n              <span class="name">Slack</span>\n              <span class="description ellipsis">{{project.slackIntegration.incoming_webhook.channel}}</span>\n            </span>\n            <span class="sympli-icon icon-slack_setting"></span>\n          </a>\n        </div>\n\n        <div class="sympli-box__block email-box email-box__check" v-if="project && project.slackIntegration" v-on="click: onChangeProjectSettings($event, \'isSlackCommentNotificationEnabled\')">\n          <span class="sympli-box__block-left" v-class="enabled: projectSettings.isSlackCommentNotificationEnabled">\n            <span class="sympli-icon icon-tick-set" title=\'{{projectSettings.isSlackCommentNotificationEnabled ? "Enabled" : "Disabled"}}\'></span>\n          </span>\n          <span class="sympli-box__block-text">\n            <span class="name">Comments</span>\n            <span class="description ellipsis">Notify about any new comments</span>\n          </span>\n        </div>\n\n        <div class="sympli-box__block email-box email-box__check" v-if="project && project.slackIntegration" v-on="click: onChangeProjectSettings($event, \'isSlackDesignNotificationEnabled\')">\n          <span class="sympli-box__block-left" v-class="enabled: projectSettings.isSlackDesignNotificationEnabled">\n            <span class="sympli-icon icon-tick-set" title=\'{{projectSettings.isSlackDesignNotificationEnabled ? "Enabled" : "Disabled"}}\'></span>\n          </span>\n          <span class="sympli-box__block-text">\n            <span class="name">Designs</span>\n            <span class="description ellipsis">Notify about new design and changes</span>\n          </span>\n        </div>\n      </div>\n    </div>\n\n    <div v-if="canEditWebhooks">\n      <h4>Webhooks</h4>\n\n      <div class="sympli-box">\n        <div class="sympli-box__block webhook" v-repeat="webhook: project && project.settings && project.settings.webhooks" v-component="settings-webhook" v-with="project: project"></div>\n        <div class="sympli-box__block email-box webhook webhook-new" v-if="canAddWebhooks" v-on="click: onAddWebhook">\n          <span class="sympli-box__block-left icon-wh_icon"></span>\n          <span class="sympli-box__block-text">\n              <span class="name">Add webhook</span>\n              <span class="description ellipsis">HTTP POST request on selected events</span>\n          </span>\n          <div class="sympli-dialog-block">\n            <div class="icon-plus">\n              <span class="sympli-icon icon-plus_dark"></span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n\n    <div v-if="$security.checkProjectAccess(project, $security.permissions.project.settings.hipchat, true)">\n      <h4>Hip Chat</h4>\n\n      <div class="sympli-box">\n        <div class="sympli-box__block email-box hipchat-box">\n          <span class="sympli-box__block-left icon-settings-hipchat"></span>\n          <span class="sympli-box__block-text">\n            <span class="name">Hip Chat</span>\n            <span class="description ellipsis">Not Connected</span>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="project-settings__column">\n    <h4>Project owner</h4>\n    <div class="sympli-box">\n      <div class="sympli-box__block profile">\n        <img alt="" class="gravatar-image" v-if="getOwnerUser.picture" v-attr="src: getOwnerUser.picture"/>\n        <img alt="" class="gravatar-image empty" v-if="!getOwnerUser.picture" src="../../../img/transparent-tile.png"/>\n        <span class="sympli-box__block-text owner-profile-info">\n          <span class="name ellipsis">{{getOwnerUser.profile.name}}</span>\n          <span class="description ellipsis"><a v-attr="href: \'mailto:\'+ getOwnerUser.email">{{getOwnerUser.email}}</a></span>\n          <span class="company ellipsis" v-if="project.company && canTransfer">\n            <a href="/app#!/companies/{{project.company.id}}">{{project.company.name}}</a>\n          </span>\n          <span class="company ellipsis" v-if="project.company && !canTransfer">\n            {{project.company.name}}\n          </span>\n        </span>\n      </div>\n      <div class="sympli-box__block right-button" v-if="!isDemo && !transfer && canTransfer">\n        <project-ownership-transfer v-with="projectId: id"></project-ownership-transfer>\n      </div>\n\n      <div class="sympli-box__block right-button" v-if="transfer && canTransfer">\n        <span class="sympli-box__block-text">\n          <span class="name">Project transfer to</span>\n          <span class="description ellipsis"><b>{{transfer.data.emailTo}}</b> <span class="status">(Pending)</span></span>\n        </span>\n\n        <span class="sympli-box__block-right">\n          <span class="btn btn-primary btn-settings" v-on="click: onCancelTransfer">Cancel</span>\n        </span>\n      </div>\n\n      <div class="sympli-box__block right-button" v-if="!isDemo && canArchive">\n        <span class="sympli-box__block-text">\n          <span class="name">Archive project</span>\n          <span class="description ellipsis">Move to archive folder</span>\n        </span>\n\n        <span class="sympli-box__block-right">\n          <span class="btn btn-primary btn-settings" v-on="click: onArchiveProject">Archive</span>\n          <modal-project-archive v-with="project: project"></modal-project-archive>\n        </span>\n      </div>\n\n      <div class="sympli-box__block right-button" v-if="!isOwner && project">\n        <span class="sympli-box__block-text">\n          <span class="name">Leave project</span>\n          <span class="description ellipsis">Remove from your project list</span>\n        </span>\n\n        <span class="sympli-box__block-right">\n          <a href="#" class="btn btn-primary btn-settings" v-on="click: onLeaveShow" title="Leave">\n            Leave\n          </a>\n          <div v-component="popup"\n               v-with="title: \'Unsubscribe from project\',\n                   successButtonLabel: \'Unsubscribe\',\n                   successButtonClass: \'btn-primary\',\n                   onCancel: onLeaveHide,\n                   onSuccess: onLeaveSuccess,\n                   isActive: showLeave,\n                   dialogPosition: \'right\'">\n            <div class="message">\n              <p class="sympli-text">\n                You\'re about to unsubscribe from the project <span class="sympli-text__project-name ellipsis">{{project.name}}</span><!--\n              --><span v-if="project.bundlesCount"> with {{project.bundlesCount}} {{project.bundlesCount | pluralize design}}</span>.\n              </p>\n            </div>\n          </div>\n        </span>\n      </div>\n    </div>\n  </div>\n\n  <div class="empty-list" v-if="(!hasAnySettingsAccess && project) && NeverShow">\n    <span class="sympli-icon empty-sympli-icon icon-settings"></span>\n    <h4>This project is owned by {{getUserName()}}</h4>\n    <p>Ask him/her to set up <a href="https://slack.com/" target="_blank">Slack integration</a><br/> and notifications settings.</p>\n  </div>\n\n  <div class="material-block" v-if="isAndroid && $security.checkProjectAccess(project, $security.permissions.project.edit, true)">\n    <h4>Material Design Mapping</h4>\n    <div class="project-settings__block-material">\n      <div class="sympli-box" v-component="as-material-design-colors"></div>\n    </div>\n  </div>\n\n  <div v-if="!project && !hasAnySettingsAccess">\n    <div class="alert alert-info" v-cloak>\n      You don\'t have permissions to edit project\'s settings. You can request them from company\'s administrator (<b>{{getUserName()}}</b>).\n    </div>\n  </div>\n\n  <subscription-restrictions-hit></subscription-restrictions-hit>\n</div>\n\n'},{}],413:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../../modals/subscription-restrictions-hit"),o=e("sympli-enums").Scopes;t.exports={inherit:!0,template:e("./index.html"),components:{"as-material-design-colors":e("./as-material-design-colors"),"project-ownership-transfer":e("./project-owner"),"modal-project-archive":e("../../modals/project-archive"),"settings-webhook":e("./webhook"),"subscription-restrictions-hit":s,popup:e("../../modals/popup-prompt-dialog")},created:function(){this.$on("project:archive",this.handleArchiveProject),this.$on("transfer:sent",this._loadProjectOwnershipTransfer),this.id&&this.project&&(this._loadSlackApplicationId(),this._loadProjectOwnershipTransfer()),this.$on(o.loaded.project.data,function(e){this.transferLoaded||this._loadProjectOwnershipTransfer(),this.slackLoaded||this._loadSlackApplicationId()}),this.$on("reset:webhooks:new",this.handleResetWebhooksNew)},data:function(){return{slackLoaded:!1,transferLoaded:!1,showLeave:!1}},computed:{hasAnySettingsAccess:function(){return!0},userSettings:function(){var e=this,t=i.find(this.user.settings&&this.user.settings.projects,function(t){return t.project==e.project.id});return t||{isEmailNotificationsEnabled:!0,isEmailDigestNotificationEnabled:!0,isEmailMentionNotificationEnabled:!0}},projectSettings:function(){return this.project&&this.project.slackIntegration||{}},canAddWebhooks:function(){return this.project&&this.project.settings&&this.project.settings.webhooks.length<3},canEditWebhooks:function(){var e=this.project.user&&this.project.user.plan&&this.project.user.plan.isWebhooksEnabled,t=this.$security.checkProjectAccess(this.project,this.$security.permissions.project.settings.webhook,!0);return e&&t},canTransfer:function(){return this.$security.checkProjectAccess(this.project,this.$security.permissions.project.transfer.read,!0)},canArchive:function(){return this.$security.checkProjectAccess(this.project,this.$security.permissions.project.archive,!0)}},methods:{authorizeAtSlack:function(e){e.preventDefault(),window.location=this.slackUrl},onArchiveProject:function(){this.$dispatch("modal:show","project-archive",this.project)},onLeaveShow:function(e){e.preventDefault(),this.showLeave=!0},onLeaveHide:function(e){e.preventDefault(),this.showLeave=!1},onLeaveSuccess:function(e){e.preventDefault(),this._leaveProject(this.project)},handleArchiveProject:function(){var e=this,t=this.$api.post("/projects/"+this.id+"/archive",{},!0,!0).then(function(t){e.$dispatch("lanes:path","projects"),e.$dispatch("notify","success","Project archived")})["catch"](function(t){var n=t&&t.responseJSON&&t.responseJSON.code||"",i=t&&t.responseJSON&&t.responseJSON.message||"";if(!s.isApplicable(n))throw t;e.$dispatch("modal:show","subscription-restrictions-hit",i,n)});this.$api(t)},onCancelTransfer:function(){var e=this,t=this.$api["delete"]("/projects/"+this.id+"/transfer",!0,!0).then(function(t){e.transfer=null,e.$dispatch("notify","success","Project ownership transfer was cancelled")});this.$api(t)},onChangeUserSettings:function(e,t){e.preventDefault();var n=this,i={project:this.project.id};i[t]=!this.userSettings[t];var s=this.$api.post("/account/settings",{body:i}).then(function(e){n.user.settings=e.data.settings});this.$api(s)},onChangeProjectSettings:function(e,t){e.preventDefault();var n=this,i={};i[t]=!this.projectSettings[t];var s=this.$api.post("/projects/"+this.project.id+"/settings",{body:i}).then(function(e){n.project.slackIntegration=e.data.slackIntegration});this.$api(s)},onAddWebhook:function(e){e.preventDefault(),e.onAddWebhook=!0;var t=i.find(this.project.settings.webhooks,function(e){return!e.id});return t?void setTimeout(function(){t.isEditing++}.bind(this)):void setTimeout(function(){this.project.settings.webhooks.push({url:"",type:"custom",events:[],isEditing:!0})}.bind(this))},handleResetWebhooksNew:function(){this.project.settings.webhooks=i.filter(this.project.settings.webhooks,function(e){return e.id})},_loadSlackApplicationId:function(){var e=this;this.$api.get("/integration/slack/configuration").then(function(t){200==t.status&&(e.slackApplicationClientId=t.data.clientId,e.slackLoaded=!0)})},_loadProjectOwnershipTransfer:function(){if(this.$security.checkProjectAccess(this.project,this.$security.permissions.project.transfer.read,!0)){var e=this,t=this.$api.get("/projects/"+this.id+"/transfer",{},{isMainRequest:!0}).then(function(t){200==t.status&&(e.transfer=t.data[0],e.transferLoaded=!0)});return this.$api(t)}},_leaveProject:function(e){var t=this;this.$api.post("/projects/"+e.id+"/leave").then(function(n){t.$dispatch("notify","success","You've unsubscribed from project "+e.name),t.$dispatch("lanes:path","projects")})}}}},{"../../modals/popup-prompt-dialog":283,"../../modals/project-archive":287,"../../modals/subscription-restrictions-hit":301,"./as-material-design-colors":411,"./index.html":412,"./project-owner":415,"./webhook":417,"sympli-enums":524,underscore:682}],414:[function(e,t,n){t.exports='<div class="project-owner">\n  <h4 class="sympli-title">Transfer project ownership</h4>\n  <form class="form-horizontal" v-on="submit: onTransferProject($event)">\n    <input class="form-control sympli-dialog__input" type="email" id="emailTo" placeholder="Enter user email"\n            v-model="emailTo" v-validate="required, pattern: \'/.+@.+..+/i\'">\n    <div class="tooltip top" v-if="validation && validation.emailTo.invalid && (validation.emailTo.dirty || isSubmitted)" role="tooltip">\n      <div class="tooltip-arrow"></div>\n      <div class="tooltip-inner">\n        Please fill out a valid email\n      </div>\n    </div>\n    <!--<div class="sympli-checkbox">-->\n      <!--<input id="checkbox-label" class="checkbox-label checkbox" type="checkbox" placeholder="Enter user email" v-model="withBrandbook">-->\n      <!--<label for="checkbox-label">-->\n        <!--<i class="sympli-icon icon-tick"></i>-->\n        <!--Transfer brandbook-->\n      <!--</label>-->\n    <!--</div>-->\n\n    <button type="submit" class="btn btn-primary">Transfer</button>\n  </form>\n</div>\n'},{}],415:[function(e,t,n){"use strict";t.exports={inherit:!1,template:e("./index.html"),data:function(){return{emailTo:"",withBrandbook:!0,isSubmitted:!1}},methods:{onTransferProject:function(e){if(e.stopPropagation(),e.preventDefault(),this.isSubmitted=!0,!this.validation||!this.validation.emailTo.invalid){var t=this.$api.post("/projects/"+this.projectId+"/transfer",{body:{withBrandbook:this.withBrandbook,emailTo:this.emailTo}},!0,!0).then(function(e){var t=e.data;t.transferred?(this.$dispatch("notify","success","Project has been successfully transferred to "+this.emailTo),this.$dispatch("lanes:path","")):(this.$dispatch("notify","success","Project transfer has been sent to "+this.emailTo),this.$dispatch("transfer:sent")),this.isSubmitted=!1}.bind(this));this.$api(t)}}}}},{"./index.html":414}],416:[function(e,t,n){t.exports='<div class="webhook-box" v-on-click-away="onClickAway">\n  <span class="sympli-box__block-left icon-wh_icon_blue" v-if="!webhook.isEditing"></span>\n  <span class="sympli-box__block-left icon-wh_icon" v-if="webhook.isEditing"></span>\n\n  <div class="sympli-box__block-text" v-show="!webhook.isEditing">\n    <span class="name ellipsis" v-if="webhook.method != \'\' ||  webhook.url != \'\'">{{webhook.method}} {{webhook.url}}</span>\n    <span class="name ellipsis" v-if="webhook.url == \'\' || webhook.method == \' \'">No webhooks configured</span>\n    <span class="description ellipsis" v-if="webhook.events != \'\'" v-attr="title: webhook.events">{{webhook.events}}</span>\n    <span class="description ellipsis" v-if="webhook.events == \'\'">Edit webhook</span>\n  </div>\n\n  <div class="sympli-dialog-block">\n    <div class="icon-remove" v-on="click: onWebhookShowDelete" v-show="!webhook.isEditing">\n      <span class="sympli-icon icon-group-delete"></span>\n    </div>\n    <div class="icon-sett" v-on="click: onToggleEdit" v-show="!webhook.isEditing">\n      <span class="sympli-icon icon-slack_setting"></span>\n    </div>\n  </div>\n\n  <form class="sympli-box__block-text webhooks-form" v-show="webhook.isEditing" v-on="submit: onWebhookSave">\n    <div class="webhooks-input-group">\n      <input class="form-control"\n             v-model="webhookUrl"\n             v-validate="required, url"\n             v-focus="webhook.isEditing"\n             type="text" placeholder="URL"/>\n\n      <div class="tooltip top" v-if="validation && validation.webhookUrl && validation.webhookUrl.invalid && (validation.webhookUrl.dirty || isSubmitted)" role="tooltip">\n        <div class="tooltip-arrow"></div>\n        <div class="tooltip-inner">\n          Please fill out an URL\n        </div>\n      </div>\n      <input class="brandbook__item-input" v-model="webhookEvents" v-validate="required" type="hidden"/>\n      <button class="btn btn-primary" type="submit">Add</button>\n    </div>\n\n    <div class="tooltip bottom" v-if="validation && validation.webhookEvents && validation.webhookEvents.invalid && (validation.webhookEvents.dirty || isSubmitted)" role="tooltip">\n      <div class="tooltip-arrow"></div>\n      <div class="tooltip-inner">\n        Please select one event at least\n      </div>\n    </div>\n\n    <span v-repeat="event:supportedEvents">\n      <span class="label label-default" v-if="event" v-class="\'label-primary\': isLabelSelected(event)" v-on="click: toggleEvent(event)">{{event}}</span>\n      <br v-if="!event">\n    </span>\n  </form>\n\n  <div v-component="popup-prompt-dialog" v-with="title: \'Delete webhook\', onSuccess: onWebhookDelete, isActive: showDelete"></div>\n</div>\n\n'},{}],417:[function(e,t,n){"use strict";var i=e("underscore"),s=["project.activated","project.archived","project.deleted",null,"design.uploaded","design.deleted",null,"annotation.created","annotation.updated","annotation.deleted",null,"message.created","message.updated","message.deleted"];t.exports={template:e("./index.html"),components:{"popup-prompt-dialog":e("../../../modals/popup-prompt-dialog")},data:function(){return{isSubmitted:!1,showDelete:!1,webhookUrl:"",webhookEvents:[],supportedEvents:s}},ready:function(){this.$on("document:esc",this.handleHtmlEsc),this.$set("webhook.isEditing",!!this.webhook.isEditing)},methods:{isLabelSelected:function(e){return this.webhookEvents.indexOf(e)>=0},toggleEvent:function(e){var t=this.webhookEvents.indexOf(e);t>=0?this.webhookEvents.$remove(t,1):this.webhookEvents.push(e)},onClickAway:function(e){this.webhook.id?this.hasChanges()?this.saveWebhook():this.webhook.isEditing=!1:e.onAddWebhook||this.$dispatch("reset:webhooks:new",this.webhook)},handleHtmlEsc:function(){this.webhook.isEditing=!1,this.webhook.id||this.$dispatch("reset:webhooks:new",this.webhook)},onToggleEdit:function(e){this.webhook.isEditing=!this.webhook.isEditing,this.webhookUrl=this.webhook.url,this.webhookEvents=i.clone(this.webhook.events)},hasChanges:function(){var e={url:this.webhookUrl,event:this.webhookEvents.sort()},t={url:this.webhook.url,event:this.webhook.events.sort()};return!i.isEqual(e,t)},saveWebhook:function(){if(this.isSubmitted=!0,!this.invalid){var e=this,t=this.webhook.id,n="/projects/"+this.project.id+"/webhooks",i={body:{url:this.webhookUrl,events:this.webhookEvents,type:"custom"}},s="post";t&&(s="put",n=n+"/"+t),this.$api(this.$api[s](n,i).then(function(t){e.webhook.$set("id",t.data.id),e.webhook.$set("url",t.data.url),e.webhook.$set("events",t.data.events),e.$dispatch("notify","success","Webhook saved"),e.webhook.isEditing=!1}))}},onCancelEdit:function(){if(this.webhook.id){var e=i.find(this.project.settings.webhooks,this.webhook);this.webhookUrl=e.url,this.webhookEvents=e.events,this.isSubmitted=!1}else{var t=i.find(this.project.settings.webhooks,this.webhook);this.project.settings.webhooks.$remove(t)}},onWebhookShowDelete:function(e){e.preventDefault(),this.showDelete=!this.showDelete},deleteWebhook:function(){if(this.webhook.id){var e=this;this.$api(this.$api["delete"]("/projects/"+e.project.id+"/webhooks/"+e.webhook.id).then(function(t){e.$dispatch("notify","success","Webhook was deleted");var n=i.findIndex(e.project.settings.webhooks,function(t,n){return t.id===e.webhook.id});~n&&e.project.settings.webhooks.$remove(n)}))}},onWebhookDelete:function(e){e.preventDefault(),e.stopPropagation(),this.deleteWebhook()},onWebhookSave:function(e){e&&e.preventDefault(),this.saveWebhook()}},computed:{},filters:{webhookDisplayName:function(e){return s[e]}}}},{"../../../modals/popup-prompt-dialog":283,"./index.html":416,underscore:682}],418:[function(e,t,n){t.exports='<div class="s-color" v-class="editing: isEditing">\n  <div class="s_color-box">\n    <div class="s_color-box-vertical s_color-box-vertical__color">\n      <span v-style="style"></span>\n    </div>\n    <div class="s_color-box-info">\n      <div class="s_color-box-hex">{{color.value}}</div>\n      <div class="s_color-box-name">\n        <form v-on="submit: onSubmitColorForm" v-if="isEditing">\n          <input class="s_color-box-name-input" type="text" placeholder="" v-model="colorName" v-focus="isEditing"/>\n        </form>\n        <span class="s_color-box-name-title ellipsis" v-if="!isEditing">{{color.name}}</span>\n      </div>\n    </div>\n  </div>\n\n  <span class="btn-brand btn-brand-hoverable"\n        v-class="\'btn-brand-primary\': color.isBrandbookColor"\n        v-if="canEditColor || color.isBrandbookColor"\n        v-on="click: onToggleColorBrand"\n        title="Brand">\n    brand\n  </span>\n\n  <span class="btn btn-xs btn-edit" v-if="canEditColor" v-on="click: onToggleEdit" title="Edit">\n    <i class="sympli-icon" v-class="\'icon-edit_dark\':!isEditing,\'icon-tick_dark\':isEditing"></i>\n  </span>\n</div>\n'},{}],419:[function(e,t,n){"use strict";e("underscore"),e("../../../../../lib/color-utils/ColorConverter");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{isEditing:!1,colorName:""}},ready:function(){this.colorFormat=this.projectColorFormat,this.$on("project-color-format:changed",function(e){this.colorFormat=e}),this.$on("document:esc",function(){this.isEditing&&(this.isEditing=!1)}),this.$on("html:click",function(e){if(this.isEditing){var t=$(e.target).closest(".s-color");t=t&&t.length>0,t||this.onToggleEdit()}})},computed:{style:function(){return"background-color: "+this.color.hex},canEditColor:function(){return this.$security.checkProjectAccess(this.project,this.$security.permissions.project.edit,!0)}},methods:{onSubmitColorForm:function(e){e.preventDefault(),this.saveColor(this.colorName,this.color.isBrandbookColor)},saveColor:function(e,t){var n=this;if(e==this.color.name&&t==this.color.isBrandbookColor)return void(n.isEditing=!1);var i="/projects/"+this.project.id+"/colors/"+this.color.hex.slice(1),s={name:e,isBrandbookColor:t},o=this.$api.put(i,{body:s}).then(function(i){n.color.name=e,n.color.isBrandbookColor=t,n.$dispatch("notify","success","Color saved"),n.isEditing=!1})["catch"](n.$api.safeCatch(function(){n.isEditing=!1}));this.$api(o)},onToggleEdit:function(e){this.isEditing?this.saveColor(this.colorName,this.color.isBrandbookColor):(this.colorName=this.color.name,
this.isEditing=!this.isEditing)},onToggleColorBrand:function(e){if(this.canEditColor){var t=!this.color.isBrandbookColor;this.isEditing?this.saveColor(this.colorName,t):this.saveColor(this.color.name,t)}}}}},{"../../../../../lib/color-utils/ColorConverter":31,"./index.html":418,underscore:682}],420:[function(e,t,n){t.exports='<div class="m-font">\n  <span class="m-font-name" v-class="download: computedFont.isBrandbookFont, error: Error">\n    {{(info && info.name) ? info.name : (name + \' \' + style)}}\n\n    <div class="sympli-dialog-block" v-if="computedFont.isBrandbookFont && canEditFont">\n      <a class="icon-remove" v-on="click: onShowFontRemove" href="#" title="Remove">\n        <span class="sympli-icon icon-menu_delete_icon"></span>\n      </a>\n      <div v-component="popup-prompt-dialog" v-with="title: \'Brandbook font will be deleted\', onSuccess: onFontRemove, isActive: isActive"></div>\n    </div>\n\n    <a v-attr="href:computedFont.brandbookFont.url" class="m-font__download button-download" target="_blank" v-show="!isSaving" v-if="computedFont.isBrandbookFont">\n      <span class="sympli-icon icon-arrow"></span>\n    </a>\n\n    <a class="m-font-error hidden" href="#">\n      <span class="sympli-icon icon-error"></span>\n    </a>\n\n    <span class="icon-file" v-show="!isSaving" v-if="canEditFont && (!computedFont.isBrandbookFont)">\n      <span class="fileinput-button" title="{{fileName}}">\n        <span class="glyphicon glyphicon-paperclip"></span>\n        <input type="file" v-on="change: onFontFileChange"/>\n      </span>\n    </span>\n\n    <div class="tooltip top" role="tooltip" v-if="invalidFontFile" >\n      <div class="tooltip-arrow"></div>\n      <div class="tooltip-inner">Please select valid font file (TTF or OTF)</div>\n    </div>\n  </span>\n</div>\n'},{}],421:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{fileName:"",file:null,isSaving:!1,invalidFontFile:!1,isActive:!1}},computed:{canEditFont:function(){return this.$security.checkProjectAccess(this.project,this.$security.permissions.project.edit,!0)},computedFont:function(){if(this){var e=this.info&&this.info.postScriptName,t=null;return this.project&&this.project.brandbook&&(t=i.find(this.project.brandbook.fonts,function(t){return t.postScriptName==e})),{info:this.info,brandbookFont:t,isBrandbookFont:!!t}}}},methods:{onShowFontRemove:function(e){e.preventDefault(),this.isActive=!this.isActive},onFontRemove:function(e){e.preventDefault(),e.stopPropagation();var t=this;if(t.computedFont.isBrandbookFont){var n="/projects/"+t.project.id+"/fonts/"+t.computedFont.brandbookFont.id,i=this.$api["delete"](n).then(function(e){t.$dispatch("notify","success","Brandbook font was deleted"),t.isActive=!1});t.$api(i)}},onFontFileChange:function(e){var t=e.target.files||e.dataTransfer.files,n=t[0];n&&(this.file=n,this.fileName=n.name,this.onFontSave())},onFontSave:function(){var e=this;if(!/^(.*(\.otf|\.ttf))?$/i.test(this.fileName))return void(this.invalidFontFile=!0);this.invalidFontFile=!1,e.isSaving=!0;var t="/projects/"+this.project.id+"/fonts",n=new FormData;n.append("name",e.info&&e.info.name?e.info.name:e.name+" "+e.style),n.append("postScriptName",e.info&&e.info.postScriptName),this.file&&n.append("file",this.file);var i=this.$api.post(t,{data:n},{maxTimeOut:12e4}).then(function(t){e.$set("brandbook",t.data),e.$set("isBrandbookFont",!0),e.$dispatch("notify","success","Font saved"),e.isSaving=!1})["catch"](e.$api.safeCatch(function(){e.isSaving=!1}));this.$api(i)}}}},{"./index.html":420,underscore:682}],422:[function(e,t,n){t.exports='<div class="summery-block" v-if="project">\n  <div class="row search-container hidden">\n    <div class="sort-container col-xs-4">\n      <div v-component="order-picker"></div>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-xs-9">\n      <div class="row">\n        <div class="col-xs-6">\n          <h4>Colors</h4>\n        </div>\n        <div class="col-xs-6">\n          <div class="format-switch" v-if="!isAndroid">\n            <div v-component="project-color-format-selector" v-with="projectId: project.id, colorFormat: projectColorFormat"></div>\n          </div>\n        </div>\n      </div>\n\n      <div class="sympli-box color_block">\n        <div class="row" v-if="project.data">\n          <div class="summery-block__color col-xs-4" v-repeat="color: resolvedColors | orderBy \'isBrandbookColor\' -1">\n            <div v-component="color" v-with="color: color"></div>\n          </div>\n          <div class="col-xs-12 summery-block__section"\n               v-if="!project.data.colors || project.data.colors.length == 0">\n            No colors provided\n          </div>\n        </div>\n        <div class="row" v-if="!project.data">\n          <div class="col-xs-12 summery-block__section">\n            No colors provided\n          </div>\n        </div>\n      </div>\n      <div v-if="project.data && project.data.colors && isAndroid" class="summery-block-android">\n        <a href="/project/{{project.id}}/colors/android">\n          Download Android Color Schema\n        </a>\n      </div>\n    </div>\n\n    <div class="col-xs-3">\n      <div id="summery-brandbook" class="summery-brandbook summery-brandbook-affix">\n        <h4>Brandbook</h4>\n\n        <div v-show="$security.checkProjectAccess(project, $security.permissions.project.edit, true)" class="brandbook_block">\n          <div class="sympli-box brandbook_block__brandbook dropdown">\n            <div class="dropdown-toggle ellipsis" data-toggle="dropdown" v-attr="title: projectBrandbookName">\n              {{projectBrandbookName}} <span class="sympli-icon sympli-icon__right icon-user_arrow_down"></span>\n            </div>\n            <div class="arrow"></div>\n            <ul class="dropdown-menu dropdown-menu-right scrollable-menu">\n              <li>\n                <span class="nav-link nav-link__empty" v-class="active: !projectBrandbook" title="None"\n                      v-on="click: onBrandbookSelect(\'\')">\n                  <span class="sympli-icon icon-tick_dark"></span>No brandbook\n                </span>\n              </li>\n              <li v-repeat="brandbooks">\n                <span class="nav-link" v-class="active: isActiveBrandbook(text, value)" title="{{text}}"\n                      v-on="click: onBrandbookSelect(value)">\n                  <span class="sympli-icon icon-tick_dark"></span>{{text}}\n                </span>\n              </li>\n            </ul>\n          </div>\n          <div class="brandbook_block__link sympli-dialog-layer">\n            <span v-if="isVirtual" class="btn btn-primary" v-on="click:makeBrandbook">\n              <span class="sympli-icon icon-book_icon"></span>Save as new brandbook\n            </span>\n            <brandbook-from-project v-with="projectId: id"></brandbook-from-project>\n            <div class="bundle-delete-block"\n                 v-component="popup-prompt-dialog"\n                 v-with="title: \'Save current brandbook?\',\n               message: \'Save colors and fonts settings as a reusable brandbook?\',\n               successButtonLabel: \'Save\',\n               successButtonClass: \'btn-primary\',\n               cancelButtonLabel: \'No, drop the settings\',\n               cancelButtonClass: \'btn-white\',\n               onSuccess: openSaveBrandbookDialog,\n               onCancel: onSkipSaving,\n               isActive: showConfirmationDialog,\n               dialogPosition: \'bottom\'"></div>\n          </div>\n        </div>\n\n        <div v-show="!$security.checkProjectAccess(project, $security.permissions.project.edit, true)" class="sympli-box brandbook_block">\n          <div class="brandbook_block__brandbook">\n            <div class="dropdown-toggle ellipsis" v-attr="title: projectBrandbookName">\n              {{projectBrandbookName}}\n            </div>\n          </div>\n        </div>\n\n        <h4>Fonts</h4>\n        <div class="sympli-box fonts_block">\n          <div v-if="project.data">\n            <div class="summery-block-font" v-component="font" platform="{{project.type}}" v-repeat="project.data.fonts"></div>\n            <div class="summery-block__section" v-if="!project.data.fonts || project.data.fonts.length == 0">\n              No fonts provided\n            </div>\n          </div>\n          <div v-if="!project.data">\n            <div class="summery-block__section">\n              No fonts provided\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n'},{}],423:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../../../../lib/color-utils/inner-color-resolver"),o=e("../../../../lib/color-utils/ColorConverter");t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.project&&this._initFontsScrolling(this.project),this.$watch("project",function(e){this._initFontsScrolling(e)}.bind(this))},data:function(){return{showConfirmationDialog:!1,brandbookToSelect:void 0,projectColorFormat:void 0}},methods:{makeBrandbook:function(){this.$dispatch("modal:show","brandbook-from-project",this.projectBrandbookName)},onBrandbookSelect:function(e){this.projectBrandbook&&this.projectBrandbook.id!=e&&"virtual"==this.projectBrandbook.role?(this.showConfirmationDialog=!0,this.brandbookToSelect=e):this.submitProjectBrandbook(e)},openSaveBrandbookDialog:function(){this.showConfirmationDialog=!1,this.brandbookToSelect=void 0,this.makeBrandbook()},onSkipSaving:function(){this.showConfirmationDialog=!1,this.submitProjectBrandbook(this.brandbookToSelect),this.brandbookToSelect=void 0},submitProjectBrandbook:function(e){var t=this,n="/projects/"+this.id,i=this.$api.put(n,{body:{brandbook:e||""}},{isMainRequest:!0}).then(function(e){t.$dispatch("notify","success","Project saved"),t._loadProject()});this.$api(i)},isActiveBrandbook:function(e,t){return"No brandbook"==this.projectBrandbookName?this.projectBrandbookName==e:this.projectBrandbook.id==t},_initFontsScrolling:function(e){e&&e.data&&e.data.fonts&&e.data.fonts.length<7&&$(".summery-brandbook-affix").affix({offset:{top:263,bottom:137}})}},computed:{isVirtual:function(){return!!this.projectBrandbook&&"virtual"==this.projectBrandbook.role},resolvedColors:function(){var e=[];return i.each(this.project&&this.project.data&&this.project.data.colors,function(t){var n,r=o.convertByPlatform(t.color,this.project.type,this.projectColorFormat),a=t.hex,l=a.slice(1),c=this.project&&this.project.brandbook&&this.project.brandbook.colors||[],u=i.findWhere(c,{hex:a});if(u)n=u.name;else if(t.name)n=t.name;else{var d=s.resolve(l);d&&(n=d.name)}e.push({name:n,value:r,hex:a,brandbookColor:u,isBrandbookColor:!!u})}.bind(this)),e},needColorSwitcher:function(){return this.project&&("web"==this.project.type||"ios"==this.project.type)}},components:{"order-picker":e("../../common/order-picker"),color:e("./color"),font:e("./font"),"brandbook-from-project":e("../../modals/brandbook-from-project"),"popup-prompt-dialog":e("../../modals/popup-prompt-dialog"),"project-color-format-selector":e("../../common/project-color-format-selector")}}},{"../../../../lib/color-utils/ColorConverter":31,"../../../../lib/color-utils/inner-color-resolver":35,"../../common/order-picker":185,"../../common/project-color-format-selector":187,"../../modals/brandbook-from-project":265,"../../modals/popup-prompt-dialog":283,"./color":419,"./font":421,"./index.html":422,underscore:682}],424:[function(e,t,n){t.exports='<div class="profile-users">\n  <div class="profile-block" v-if="members !== null">\n    <h3>\n      Users\n    </h3>\n\n    <div class="company-management__email">\n      <div class="panel-group">\n        <div v-repeat="member: members"  v-component="member"></div>\n      </div>\n    </div>\n  </div>\n\n  <div class="profile-block" v-if="members === null">\n    Loading...\n  </div>\n</div>\n'},{}],425:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,template:e("./index.html"),created:function(){},ready:function(){this._loadInvitees()},data:function(){return{members:null}},methods:{_loadInvitees:function(){var e=this.$api.get("/projects/"+this.project.id+"/invitees").then(function(e){this.invitees=e.data;var t=[];this.invitees.accesses&&(t=i.map(this.invitees.accesses,"user")),this.members=t}.bind(this));return this.$api(e)}},components:{member:e("./member/index")}}},{"./index.html":424,"./member/index":427,underscore:682}],426:[function(e,t,n){t.exports='<div class="panel panel-default">\n  <div class="panel-heading user-table">\n    <div class="user-email column column-1">\n        <img class="gravatar-image user-email__image" v-attr="src: picture" alt="">\n        <span class="user-email__text ellipsis">\n          {{email}}\n          <small class="text-muted ellipsis" v-if="isMe">(you)</small>\n          <span class="comment ellipsis">{{name}}</span>\n        </span>\n    </div>\n\n    <div class="user-status column column-3">\n    </div>\n\n\n    <div class="sympli-dialog-block" v-if="!isMe">\n      <a class="icon-remove" href="#" title="Revoke" v-on="click: onShowDeleteMemberPrompt">\n        <span class="sympli-icon icon-menu_delete_icon"></span>\n      </a>\n      <div v-component="popup-prompt-dialog" v-with="title: \'Remove user from account\',\n                            isActive: showDeleteMemberPrompt,\n                            successButtonLabel: \'Remove\',\n                            onSuccess: onDeleteMember">\n        <div class="message">\n          You are about to remove member access for\n          {{email}}\n          <span class="text-muted" v-if="isJoined">({{name}})</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},{}],427:[function(e,t,n){"use strict";t.exports={inherit:!0,replace:!0,template:e("./index.html"),data:function(){return{member:null,showDeleteMemberPrompt:!1}},ready:function(){},methods:{onShowDeleteMemberPrompt:function(e){e.preventDefault(),this.showDeleteMemberPrompt=!this.showDeleteMemberPrompt},onDeleteMember:function(e){e.preventDefault();var t={user:this.member.id};this.$api(this.$api.post("/projects/"+this.project.id+"/accesses/revoke",{body:t}).then(this._loadInvitees))}},computed:{name:function(){var e=this.member.profile;return e&&e.name?e.name:this.member.email},email:function(){return this.member.email},picture:function(){return this.member.picture},isMe:function(){return!!this.member&&this.member.id==this.user.id}}}},{"./index.html":426}],428:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../modals/subscription-restrictions-hit");t.exports=function(t){return{inherit:!0,template:t,ready:function(){this.calculateAvailableWidth(),this.$on("resize",this.calculateAvailableWidth)},data:function(){return{availableWidgetWidth:null,showLeave:!1,showDelete:!1,showArchive:!1}},components:{"user-list":e("./user-list"),popup:e("../modals/popup-prompt-dialog"),"modal-project-archive":e("../modals/project-archive")},computed:{projectUrl:function(){return"#!/projects/"+this.project.id},displayBundles:function(){var e=this.availableWidgetWidth;if(!this.availableWidgetWidth)return 0;var t=65,n=[],s=this.bundlesOrderedForDisplay(),o=this.project.bundles.length;return i.each(s,function(i){if(i){var s=140/i.bounds.bottom;e-i.bounds.right*s-20>0&&(n.push(i),e-=i.bounds.right*s+20,n.length<o&&e-t<=0&&n.pop())}}),n},moreBundlesCount:function(){return this.project.bundles.length-this.displayBundles.length},nonAnonymous:function(){return i.filter(this.project.accesses,function(e){return"anonymous"!=e.user.role})},canLeaveProject:function(){return this.$security.checkProjectAccess(this.project,this.$security.permissions.project.leave,!1)&&!this.$security.projectAccessor.isOwn(this.project,this.user)},canArchiveProject:function(){return this.$security.checkProjectAccess(this.project,this.$security.permissions.project.archive,!0)&&!this.isDemo(this.project)},canDeleteProject:function(){return this.$security.checkProjectAccess(this.project,this.$security.permissions.project["delete"],!0)},canActivateProject:function(){return this.$security.checkProjectAccess(this.project,this.$security.permissions.project.activate,!0)}},methods:{onArchiveProject:function(e){e.preventDefault(),this.$dispatch("modal:show","project-archive",this.project)},onLeaveShow:function(e){e.preventDefault(),this.showLeave=!0},onLeaveHide:function(e){e.preventDefault(),this.showLeave=!1},onLeaveSuccess:function(e){e.preventDefault(),this.leaveProject(this.project)},onDeleteShow:function(e){e.preventDefault(),this.showDelete=!0},onDeleteHide:function(e){e.preventDefault(),this.showDelete=!1},onDeleteSuccess:function(e){e.preventDefault(),this.deleteProject(this.project)},onArchiveShow:function(e){e.preventDefault(),this.showArchive=!0},onArchiveHide:function(e){e.preventDefault(),this.showArchive=!1},onArchiveSuccess:function(e){e.preventDefault();var t=this,n=this.$store.getProjectArchiveRequest(this.project.id).then(function(e){t._loadProjects(),t.$dispatch("notify","success","Project archived")})["catch"](function(e){var n=e&&e.responseJSON&&e.responseJSON.code||"",i=e&&e.responseJSON&&e.responseJSON.message||"";if(!s.isApplicable(n))throw e;t.$dispatch("modal:show","subscription-restrictions-hit",i,n)});this.$api(n)},onActivateProject:function(e){e.preventDefault(),e.stopPropagation();var t=this,n=this.$store.getProjectActivateRequest(this.project.id).then(function(e){t.$dispatch("lanes:path","projects/"+t.project.id),t.$dispatch("notify","success","Project activated")})["catch"](function(e){var n=e&&e.responseJSON&&e.responseJSON.code||"",i=e&&e.responseJSON&&e.responseJSON.message||"";if(!s.isApplicable(n))throw e;t.$dispatch("modal:show","subscription-restrictions-hit",i,n)});this.$api(n)},calculateAvailableWidth:function(){this.availableWidgetWidth=$(this.$$.widgetBody).width()},bundlesOrderedForDisplay:function(){var e=[],t=i.filter(this.project.bundles,{status:"ready"});e=e.concat(i.sortBy(t,"updatedAt").reverse());var n=i.difference(this.bundles,t);return e=e.concat(i.sortBy(n,"updatedAt").reverse())},preventLink:function(e){e.preventDefault()}}}}},{"../modals/popup-prompt-dialog":283,"../modals/project-archive":287,"../modals/subscription-restrictions-hit":301,"./user-list":431,underscore:682}],429:[function(e,t,n){"use strict";var i=e("../../../enums/CompanyUserRolesEnum"),s=e("LocalStorageBag"),o=null;t.exports=function(t,n,r){var a=e("underscore"),l=new s("projectSortOptionsBag",{sortBy:"bundlesUpdatedAt",isReverse:!0}),c=new s("projectFilterOptionsBag",""),u=new s("extendedSearchOptionBag",(!1));return{inherit:!0,template:t,created:function(){this.$on("search:text",function(e,t){this.name=e,this.isLoading=!0,this.filterProjects()}),this.$on("change:page",function(e){this.currentPage=e,this.loadProjects()}),this.$on("project:update",function(e){this._loadProjects()}),this.$on("select:order",function(e,t){l.set({sortBy:e,isReverse:t}),this._loadProjects()}),this.$on("select:super-power",function(e){u.set(e),this._loadProjects()});var e=this.$root.route.params;this.typeFilter=e[2]?e[2]:c.get(),e[3]&&"/super"==e[3]&&(this.isExtendedSearch=!0);var t=[this.$root.route.params[0]];this.typeFilter&&t.push(this.typeFilter),this.isExtendedSearch&&t.push("super");var n=t.join("/");n!=this.$root.route.path&&(history.pushState(null,null,"#!/"+n),this.$dispatch("lanes:path",n))},ready:function(){o&&this.$api.cancel(o),o=this._loadProjects()},data:function(){return{projects:[],isLoading:!0,typeFilter:"",name:"",archiveProjectsCount:0,currentPage:0,totalPages:1,perPage:12,sortFields:[{value:"bundlesUpdatedAt",text:"Date"},{value:"normalizedName",text:"Name"}],sortOptions:l.get(),CompanyUserRolesEnum:i,isExtendedSearch:u.get()}},computed:{orderBy:function(){return(this.sortOptions.isReverse?"-":"")+this.sortOptions.sortBy},hasCompanyAdminAccess:function(){var e=a.find(this.user.accesses,function(e){return this.$security.userAccessor.hasAccess(this.user,e.company,i.companyAdmin)||this.$security.userAccessor.hasAccess(this.user,e.company,i.companyOwner)}.bind(this));return void 0!=e},showSearchInput:function(){return this.hasCompanyAdminAccess||this.inSearch||!this.inSearch&&this.projects.length>1||this.projectFilterSelected},showFilterBlock:function(){return this.hasCompanyAdminAccess||this.projectFilterSelected||!this.projectFilterSelected&&this.projects.length>1||this.inSearch},projectFilterSelected:function(){return""!=this.typeFilter&&null!=this.typeFilter},inSearch:function(){return""!=this.name&&null!=this.name}},components:{"user-list":e("./user-list"),"project-item":e("./project-item"),"archive-project-item":e("./archive-project-item"),pagination:e("../common/simple-pagination"),"modal-project-create":e("../modals/project-create"),"order-picker":e("../common/order-picker"),"search-input":e("../common/search-input"),"subscription-restrictions-hit":e("../modals/subscription-restrictions-hit"),"project-activate-upgrade-plan":e("../modals/project-activate-upgrade-plan")},methods:{onToggleExtendedSearch:function(){this.isExtendedSearch=!this.isExtendedSearch,this.$emit("select:super-power",this.isExtendedSearch)},isOwner:function(e){return e&&e.user.id==this.user.id},isInvited:function(e){return e&&e.users&&a.pluck(e.users,"id").indexOf(this.user.id)!==-1},isDemo:function(e){return e&&"demo"==e.role},resetPaginationParams:function(){this.currentPage=0,this.totalPages=1},_loadProjects:function(){var e=this;e.isLoading=!0;var t={role:"active demo free",skip:e.currentPage*e.perPage,limit:e.perPage,sort:e.orderBy,populate:"company user users bundles.name,origin,storedOn,status,token,updatedAt,bounds accesses.user:*"};e.isExtendedSearch&&(t.all=1),this.name&&this.name.length>0&&(t.name=this.name),this.typeFilter&&this.typeFilter.length>0&&(t.type=this.typeFilter);var i=this.$api.get(n,{qs:t},{isMainRequest:!0}).then(function(t){if(e.projects=t.data||[],e.totalPages=Math.ceil(t.count/e.perPage),0==e.projects.length&&r){var n=e.$api.get(r,{qs:{populate:"id",limit:1}}).then(function(t){e.archiveProjectsCount=t.count||0});e.$api(n)}e.isLoading=!1})["catch"](e.$api.safeCatch(function(){e.isLoading=!1}))["finally"](function(){window.scrollTo(0,0),i=null});return this.$api(i)},loadProjects:a.debounce(function(){this._loadProjects()},500),filterProjects:a.debounce(function(){this.resetPaginationParams(),this._loadProjects()},500),deleteProject:function(e){var t=this;t.$api(this.$api["delete"]("/projects/"+e.id).then(function(n){t.$dispatch("notify","success","Project "+e.name+" was deleted"),t._loadProjects()}))},leaveProject:function(e){var t=this;this.$api(this.$api.post("/projects/"+e.id+"/leave").then(function(n){t.$dispatch("notify","success","You've unsubscribed from project "+e.name),t._loadProjects()}))},showCreateModal:function(){this.$dispatch("modal:show","project-create")},getUserName:function(e){return e.company?e.company.name:e.user?e.user.profile.name.trim()?e.user.profile.name.trim():e.user.email:"user not found"},getUserPicture:function(e){return e.user?e.user.picture:"../../../img/transparent-tile.png"},onFilterOptionClick:function(e,t){t.preventDefault(),c.set(e);var n=[this.$root.route.params[0]];e&&n.push(e),this.isExtendedSearch&&n.push("super"),this.$dispatch("lanes:path",n.join("/"))}}}}},{"../../../enums/CompanyUserRolesEnum":4,"../common/order-picker":185,"../common/search-input":189,"../common/simple-pagination":191,"../modals/project-activate-upgrade-plan":285,"../modals/project-create":289,"../modals/subscription-restrictions-hit":301,"./archive-project-item":387,"./project-item":407,"./user-list":431,LocalStorageBag:521,underscore:682}],430:[function(e,t,n){t.exports='<div class="project-users">\n  <span class="user-box" v-repeat="combinedUsers" >\n    <img class="project-user-image" v-attr="src: picture, alt: profile.name || email, title: profile.name || email" alt="">\n  </span>\n</div>\n'},{}],431:[function(e,t,n){"use strict";var i=e("underscore");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{user:null,users:null}},computed:{combinedUsers:function(){var e=[this.user].concat(this.users);return e=i.uniq(e,function(e){return e.id}),e.slice(0,20)}}}},{"./index.html":430,underscore:682}],432:[function(e,t,n){t.exports='<div class="empty-list empty-list__no-project" v-if="project === null">\n  <span class="sympli-icon empty-sympli-icon icon-noprojects"></span>\n  <h4>This project is unavailable</h4>\n  <p>Looks like this project is not found<br/> or no longer available</p>\n  <p class="go-to-project">\n    <a href="#!/projects">Go to projects page</a>\n  </p>\n</div>\n<section class="container">\n  <div class="trial-message" v-if="isTrialBannerVisible" v-class="trial-message__red: customer.currentPeriodEndDays <= 3">\n    <!--<span class="trial-message__close" v-on="click: onCloseTrialBanner"><span class="sympli-icon icon-discount-close"></span><span class="sr-only">Close</span></span>-->\n    <div class="trial-message__update pull-right"><a href="/app#!/subscription">Upgrade your Plan</a></div>\n    <div class="trial-message__text pull-left">\n      This project will move to the archive when your trial plan ends in\n      {{customer.currentPeriodEndDays}} {{customer.currentPeriodEndDays | pluralize day}}.\n    </div>\n  </div>\n\n  <div class="page-header page-header__edit page-header__bottom" v-class="\'page-header__edit\': $security.checkProjectAccess(project, $security.permissions.project.edit, true)" v-if="project">\n    <div class="page-header__share">\n      <div class="sympli-dialog-layer" v-if="canManageUsers && !isArchive" v-on-click-away="onClickAway">\n        <span class="btn btn-primary" v-on="click: onShareClick" title="Share Project">\n          <span class="sympli-icon icon-share-white-small" title="Share Project"></span> Share Project\n        </span>\n        <modal-project-share></modal-project-share>\n      </div>\n      <form class="form-horizontal" v-on="submit: onNameFormSubmit">\n        <h2 class="ellipsis" v-show="!isProjectNameInEdit" v-on="click: editProjectName" v-doc-subtitle="project.name">{{project && project.name}}</h2>\n        <div class="input-group input-group__edit-form" v-show="isProjectNameInEdit && $security.checkProjectAccess(project, $security.permissions.project.edit, true) && !isArchive">\n          <input class="form-control" v-model="projectName" v-focus="isProjectNameInEdit" v-validate="required" v-on="blur: onBlurNameInput" placeholder="Project name" type="text">\n          <div class="tooltip top" v-if="validation && validation.projectName && validation.projectName.invalid" role="tooltip">\n            <div class="tooltip-arrow"></div>\n            <div class="tooltip-inner">\n              Please fill out a valid project name\n            </div>\n          </div>\n          <div class="input-group-btn">\n            <button class="btn btn-default" type="submit">Done</button>\n          </div>\n        </div>\n      </form>\n    </div>\n\n    <div class="additional-block">\n      <div class="additional-block-subheader">\n        <span class="label-type">\n          <i class="sympli-icon" v-class="\'icon-web_icon_projects_list\': project.type==\'web\', \'icon-apple_icon_projects_list\': project.type==\'ios\', \'icon-android_icon_projects_list\': project.type==\'android\'"></i>\n          {{project.type | bundleType}}{{project.type!=\'ios\' ? \'@\' : \'\'}}{{project.baseline}}</span>\n        <span class="label-demo" v-if="isDemo"><span class="label label-primary"><b>DEMO</b></span></span>\n\n        <span v-if="isArchive" class="label-type">\n          <span class="label-design">{{project.bundlesCount}} {{project.bundlesCount | pluralize design}}</span>\n        </span>\n\n        <span v-if="!isOwner && project">\n          owned by\n          <img alt="" class="gravatar-image" v-attr="src: getUserPicture()"/>\n          <b>{{getUserName()}}</b>\n        </span>\n      </div>\n      <div v-if="!isArchive" class="tabs-block tabs-block-project" v-class="empty: !projectHasBundle" v-el="tabBlockProject">\n        <span v-class="active: projectTab == \'designs\'"    v-on="click: selectProjectTab($event, \'designs\')"    v-el="tabWidthDesign">Designs</span>\n        <span v-class="active: projectTab == \'summary\'"    v-on="click: selectProjectTab($event, \'summary\')"    v-el="tabWidthSummary" v-show="projectHasBundle">Summary</span>\n        <span v-class="active: projectTab == \'activities\'" v-on="click: selectProjectTab($event, \'activities\')" v-el="tabWidthActivities" v-show="projectHasBundle">Activities</span>\n        <span v-class="active: projectTab == \'settings\'"   v-on="click: selectProjectTab($event, \'settings\')"   v-el="tabWidthSettings">Settings</span>\n        <span class="line" v-style="headerTabLineStyle"></span>\n      </div>\n    </div>\n  </div>\n  <div v-if="projectTab === \'designs\' && !isArchive" v-component="designs-list"></div>\n  <div v-if="projectTab === \'summary\' && !isArchive" v-component="project-summary"></div>\n  <div v-if="projectTab === \'activities\' && !isArchive" v-component="project-activities"></div>\n  <div v-if="projectTab === \'settings\' && !isArchive" v-component="project-settings"></div>\n\n  <div v-if="isArchive" v-component="archive-control"></div>\n</section>\n'},{}],433:[function(e,t,n){"use strict";var i,s=e("vue"),o=e("underscore"),r=e("sympli-enums").Scopes,a=e("../../../enums/ProjectTypeEnum"),l=e("../../../lib/color-utils/as-material-design-resource-ids"),c=e("LocalStorageBag");t.exports={inherit:!0,template:e("./view.html"),ready:function(){i=new c("user:"+this.user.id+":trialBannerIsClosed"),this.isTrialBannerClosed=i.get(),this.$on("project-invite",function(){this.isShareInvite=!0,this.onShareClick()})},data:function(){return{isTrialBannerClosed:!0,project:void 0,loaded:!1,projectTab:"designs",projectName:null,isProjectNameInEdit:!1,isSaving:!1,projectBrandbook:"",projectBrandbookName:"",brandbooks:[],slackApplicationClientId:null,transfer:null,tabDesign:null,tabDesignPosition:null,tabSummary:null,tabSummaryPosition:null,tabActivities:null,tabActivitiesPosition:null,tabSettings:null,tabSettingsPosition:null,isShareInvite:!1}},created:function(){this.$on("project:update",this._loadProject),this.$on(r.loaded.project.data,function(){s.nextTick(function(){this._calculateHeaderTabSize()}.bind(this))}),this.id=this.$root.route.params[0],this.projectTab=this.$root.route.params[2]?this.$root.route.params[2]:"designs",this.id&&this._loadProject(),this.$watch("isProjectNameInEdit",function(e){e?this.$broadcast(r.multiSelect.mouse.disable):this.$broadcast(r.multiSelect.mouse.enable)}),this.$on("document:esc",this.onClickAway)},components:{"project-summary":e("./project-summary"),"project-settings":e("./project-settings"),"designs-list":e("./designs-list"),"project-activities":e("./project-activities"),"archive-control":e("./project-archive-control"),"modal-project-share":e("../modals/project-share")},computed:{isTrialBannerVisible:function(){return!this.isTrialBannerClosed&&this.isOwner&&this.customer&&this.customer.plan.isTrial&&this.customer.currentPeriodEndDays<=7&&"demo"!=this.project.role},isOwner:function(){return this.project&&this.$security.projectAccessor.isOwn(this.project,this.user)},isDemo:function(){return this.project&&"demo"==this.project.role},isAndroid:function(){return this.project&&this.project.type==a.android},isIos:function(){return this.project&&this.project.type==a.ios},canManageUsers:function(){return this.$security.checkProjectAccess(this.project,this.$security.permissions.project.manage.users,!0)},projectHasBundle:function(){return this.project&&this.project.bundles&&this.project.bundles.length},headerTabLineStyle:function(){if("designs"==this.projectTab)var e="width: "+this.tabDesign+"px; margin-left: "+this.tabDesignPosition+"px";else if("summary"==this.projectTab)var e="width: "+this.tabSummary+"px; margin-left: "+this.tabSummaryPosition+"px";else if("activities"==this.projectTab)var e="width: "+this.tabActivities+"px; margin-left: "+this.tabActivitiesPosition+"px";else if("settings"==this.projectTab)var e="width: "+this.tabSettings+"px; margin-left: "+this.tabSettingsPosition+"px";else var e="display: none;";
return e},getOwnerUser:function(){return this.project&&this.project.user},isArchive:function(){return this.project&&"archive"===this.project.role}},methods:{onCloseTrialBanner:function(e){this.isTrialBannerClosed=!0,i.set(!0)},onBlurNameInput:function(){this.project.name.trim()==this.projectName.trim()?this.isProjectNameInEdit=!1:this.submitProjectName()},onNameFormSubmit:function(e){e.preventDefault(),this.submitProjectName()},editProjectName:function(){this.$security.checkProjectAccess(this.project,this.$security.permissions.project.edit,!0)&&!this.isArchive&&(this.isProjectNameInEdit=!0,this.projectName=this.project.name)},onShareClick:function(){this.$dispatch("modal:show","project-share")},submitProjectName:function(){var e=this;if(this.validation.projectName.valid&&!this.isSaving){e.isSaving=!0;var t="/projects/"+this.id,n=this.$api.put(t,{body:{name:e.projectName}},{isMainRequest:!0}).then(function(t){e.$dispatch("notify","success","Project saved"),e.project=t.data,e.isProjectNameInEdit=!1,e.isSaving=!1})["catch"](e.$api.safeCatch(function(){e.isProjectNameInEdit=!1,e.isSaving=!1}));this.$api(n)}},selectProjectTab:function(e,t){e.preventDefault(),this.projectTab=t,history.pushState(null,null,"#!/projects/"+this.id+"/"+t),this._calculateHeaderTabSize(),$(this.$$.tabBlockProject).addClass("animation")},_readMaterialDesignColorsMapping:function(){var e=this;return o.map(l,function(t){var n=e.project&&e.project.data&&e.project.data.colors,i=n?o.find(e.project.data.colors,function(e){return e.materialDesignNames&&o.find(e.materialDesignNames,function(e){return e==t})}):null;return{mdElementName:t,selectedColor:i}})},_loadProject:function(){var e=this,t=this.$store.getProjectRequest(this.id).then(function(t){e.project=t.data,e.mdColorsMapping=e._readMaterialDesignColorsMapping(),e.$dispatch(r.loaded.project.data,t.data)})["catch"](function(t){if(!t)throw t;switch(t.status){case 403:e.project=null,e.$dispatch("lanes:route",{name:"projectsAccessDenied"});break;case 400:case 404:e.project=null,e.$dispatch("lanes:route",{name:"projectsNotFound"});break;default:throw t}}).then(function(){if(!e.project)return Promise.resolve();var t={limit:50,sort:"name",select:"id name"};return e.$api.get("/brandbooks",{qs:t}).then(function(t){e.brandbooks=o.map(t.data,function(e){return{text:e.name,value:e.id}});var n=e.project.brandbook;e.projectBrandbook=n?n:null,e.projectBrandbookName=n?n.name:"No brandbook",e.loaded=!0})});return this.$api(t)},getUserName:function(){return this.project.company?this.project.company.name:this.project&&this.project.user?this.project.user.profile.name.trim()?this.project.user.profile.name.trim():this.project.user.email:"user not found"},getUserPicture:function(){return this.project&&this.project.user?this.project.user.picture:"../../../img/transparent-tile.png"},_calculateHeaderTabSize:function(){this.isArchive||(this.tabDesign=$(this.$$.tabWidthDesign).outerWidth(),this.tabDesignPosition=$(this.$$.tabWidthDesign).position().left,this.tabSummary=$(this.$$.tabWidthSummary).outerWidth(),this.tabSummaryPosition=$(this.$$.tabWidthSummary).position().left,this.tabActivities=$(this.$$.tabWidthActivities).outerWidth(),this.tabActivitiesPosition=$(this.$$.tabWidthActivities).position().left,this.tabSettings=$(this.$$.tabWidthSettings).outerWidth(),this.tabSettingsPosition=$(this.$$.tabWidthSettings).position().left)},onClickAway:function(){this.isShareInvite||this.$dispatch("modal:close","project-share"),this.isShareInvite=!1}}}},{"../../../enums/ProjectTypeEnum":6,"../../../lib/color-utils/as-material-design-resource-ids":32,"../modals/project-share":297,"./designs-list":391,"./project-activities":401,"./project-archive-control":405,"./project-settings":413,"./project-summary":423,"./view.html":432,LocalStorageBag:521,"sympli-enums":524,underscore:682,vue:821}],434:[function(e,t,n){t.exports='<div class="subscription-discount" v-if="enabled">\n  <span class="subscription-discount__text">\n    <span class="logo"></span>\n      Use code "30for3" and get 30% off for the next 3 payments on any paid plan. This banner will self destruct at midnight on&nbsp;November&nbsp;30&nbsp;EST.\n  </span>\n</div>\n'},{}],435:[function(e,t,n){var i=e("../../../../lib/cookie"),s=e("moment"),o="main-wrap__subscription",r="discount-thanks2016",a="YYYY-MM-DD HH:mm:ss";t.exports={inherit:!0,template:e("./index.html"),data:function(){return{enabled:!1,startDate:null,endDate:null}},ready:function(){this.$watch("route",function(){this.onRoute()})},methods:{onRoute:function(){"subscription"==this.route.name&&this._checkDates()?(this.enabled=!0,this.route["class"]=""+this.route["class"]+" "+o):(this.onLeaveRoute(),this.enabled=!1)},onLeaveRoute:function(){this.route["class"]&&(this.route["class"]=(""+this.route["class"]).replace(o,"").replace("  "," "))},onClose:function(){this.onLeaveRoute();var e=this.endDate?s(this.endDate,a).toDate():null;i.set(r,"false",{expires:e})},onClick:function(e){e.preventDefault(),e.stopPropagation()},_checkDates:function(){if(i.get(r))return!1;if(!this.startDate||!this.endDate)return!1;var e=s(this.startDate,a),t=s(this.endDate,a),n=s();return!(n.isBefore(e)||n.isAfter(t))}}}},{"../../../../lib/cookie":37,"./index.html":434,moment:603}],436:[function(e,t,n){t.exports="<!--<div v-component=\"discount\" v-with=\"startDate: 'YYYY-MM-DD HH:mm:ss', endDate: 'YYYY-MM-DD HH:mm:ss'\"></div>-->\n<div v-component=\"discount\" v-with=\"startDate: '2016-11-17 12:00:00', endDate: '2016-11-30 23:59:59'\"></div>\n"},{}],437:[function(e,t,n){t.exports={inherit:!0,template:e("./index.html"),data:function(){return{}},components:{discount:e("./discount")}}},{"./discount":435,"./index.html":436}],438:[function(e,t,n){var i={Profile:"Profile",Projects:"Projects",ProjectsArchive:"Projects Archive",Subscription:"Subscription",Brandbooks:"Brandbooks",BrandbooksCreate:"Create - Brandbooks",Invites:"Invites",Logs:"Logs",Mails:"Mails",Errors:"Errors",Statistics:"Statistics",UsersManagement:"Users management",Versions:"Versions",Demos:"Demos",Announcements:"Announcements",Customers:"Customers",Faq:"Faq",CompaniesSettings:"Companies",SamlSettings:"SAML settings",JiraSettings:"Jira settings",Certificates:"Certificates",CertificatesCreate:"Create - Certificates",NotFound:"Not Found",AccessDenied:"Access Denied"};t.exports={profile:{name:"profile",regexp:/^profile(\/(users))?$/,module:e("./profile/index"),title:i.Profile},projects:{name:"projects",regexp:/^(projects)?(\/(ios|android|web))?(\/super)?$/,module:e("./projects/index"),title:i.Projects},projectsView:{name:"projectsView",regexp:/^projects\/([a-z0-9]+)(\/(designs|summary|activities|settings))?(\/(tags|issues)\/.*)?$/,module:e("./projects/view"),rel:"projects"},projectsArchive:{name:"projectsArchive",regexp:/^(projects-archive)?(\/(ios|android|web))?(\/super)?$/,module:e("./projects/archive"),title:i.ProjectsArchive},projectsNotFound:{name:"projectsNotFound",regexp:/^(not-found)?$/,module:e("./pages/project-not-found"),title:i.NotFound},projectsAccessDenied:{name:"projectsAccessDenied",regexp:/^(access-denied)?$/,module:e("./pages/project-access-denied"),title:i.AccessDenied},company:{name:"company",regexp:/^companies\/([a-z0-9]+)(\?r=(true|false|first))?$/,module:e("./company/index")},bundles:{name:"bundles",regexp:/^designs$/,module:e("./bundles/index")},bundleView:{name:"bundleView",regexp:/^designs\/([a-z0-9]+)(\/(messages|fonts|colors|assets))?$/,module:e("./bundles/bundle-view"),rel:"bundles","class":"main-wrap__view"},bundleVersionView:{name:"bundleVersionView",regexp:/^designs\/([a-z0-9]+)\/versions\/([0-9]+)(\/(messages|fonts|colors|assets))?$/,module:e("./bundles/bundle-view"),rel:"bundles","class":"main-wrap__view"},bundleSpecs:{name:"bundleSpecs",regexp:/^designs\/([a-z0-9]+)\/specs(\/(messages|fonts|colors|assets))?(\/(tags|issues)\/.*)?$/,module:e("./bundles/bundle-view"),rel:"bundles","class":"main-wrap__view"},bundleVersionSpecs:{name:"bundleVersionSpecs",regexp:/^designs\/([a-z0-9]+)\/versions\/([0-9]+)\/specs(\/(messages|fonts|colors|assets))?(\/(tags|issues)\/.*)?$/,module:e("./bundles/bundle-view"),rel:"bundles","class":"main-wrap__view"},bundleReview:{name:"bundleReview",regexp:/^designs\/([a-z0-9]+)\/review(\/(tags|issues)\/[\[].*[\]])?$/,module:e("./bundles/bundle-view"),rel:"bundles","class":"main-wrap__review"},bundleVersionReview:{name:"bundleVersionReview",regexp:/^designs\/([a-z0-9]+)\/versions\/([0-9]+)\/review(\/(tags|issues)\/.*)?$/,module:e("./bundles/bundle-view"),rel:"bundles","class":"main-wrap__review"},bundleVersionsDiff:{name:"bundleVersionsDiff",regexp:/^design-diff\/([a-z0-9]+)(\/[0-9]+\/[0-9]+)?$/,module:e("./bundles/bundle-view/changes/changes-plugin-redirect"),rel:"bundles"},bundleChanges:{name:"bundleChanges",regexp:/^designs\/([a-z0-9]+)\/changes(\/[0-9]+\/[0-9]+)?$/,module:e("./bundles/bundle-view"),rel:"bundles","class":"main-wrap__diff"},brandbooks:{name:"brandbooks",regexp:/^(brandbooks)?$/,module:e("./brandbooks/index"),rel:"brandbooks",title:i.Brandbooks},brandbookCreate:{name:"brandbookCreate",regexp:/^brandbooks\/create$/,module:e("./brandbooks/brandbook"),rel:"brandbooks",title:i.BrandbooksCreate,"class":"main-wrap__brandbook"},brandbookView:{name:"brandbookView",regexp:/^brandbooks\/(.+)$/,module:e("./brandbooks/brandbook"),rel:"brandbooks","class":"main-wrap__brandbook-view"},subscription:{name:"subscription",regexp:/^subscription(\?r=(upgrade|payment))?/,module:e("./subscription/index"),rel:"subscription",title:i.Subscription},invites:{name:"invites",regexp:/^(invites)?$/,module:e("./invites/index"),rel:"invites",role:"admin",isEnabled:config.admin.isInvitesEnabled,title:i.Invites},invitesCreate:{name:"invitesCreate",regexp:/^invites\/create$/,module:e("./invites/form"),rel:"invites",role:"admin",isEnabled:config.admin.isInvitesEnabled,title:i.Invites},invitesView:{name:"invitesView",regexp:/^invites\/(.+)$/,module:e("./invites/view"),rel:"invites",role:"admin",isEnabled:config.admin.isInvitesEnabled,title:i.Invites},logs:{name:"logs",regexp:/^(logs)?$/,module:e("./logs/index"),rel:"logs",role:"admin",isEnabled:config.admin.isLogsEnabled,title:i.Logs},mails:{name:"mails",regexp:/^(mails)?$/,module:e("./mails/index"),rel:"mails",role:"admin",isEnabled:config.admin.isMailsEnabled,title:i.Mails},mailsView:{name:"mailsView",regexp:/^mails\/(.+)$/,module:e("./mails/view"),rel:"mails",role:"admin",isEnabled:config.admin.isMailsEnabled,title:i.Mails},errors:{name:"errors",regexp:/^(errors)?$/,module:e("./errors/index"),rel:"errors",role:"admin",isEnabled:config.admin.isErrorsEnabled,title:i.Errors},errorView:{name:"errorView",regexp:/^errors\/(.+)$/,module:e("./errors/view"),rel:"errors",role:"admin",isEnabled:config.admin.isErrorsEnabled,title:i.Errors},stats:{name:"stats",regexp:/^(stats)?$/,module:e("./stats/index"),rel:"stats",role:"admin",isEnabled:config.admin.isStatsEnabled,title:i.Statistics},usersMgmt:{name:"usersMgmt",regexp:/^(users)?$/,module:e("./users/index"),rel:"users",role:"admin",isEnabled:config.admin.isUsersEnabled,title:i.UsersManagement},usersMgmtPassword:{name:"usersMgmtPassword",regexp:/^users\/password\/(.+)$/,module:e("./users/passwordForm"),rel:"users",role:"admin",isEnabled:config.admin.isUsersEnabled,title:i.UsersManagement},usersMgmtEmail:{name:"usersMgmtEmail",regexp:/^users\/email\/(.+)$/,module:e("./users/emailForm"),rel:"users",role:"admin",isEnabled:config.admin.isUsersEnabled,title:i.UsersManagement},usersMgmtView:{name:"usersMgmtView",regexp:/^users\/(.+)$/,module:e("./users/view"),rel:"users",role:"admin",isEnabled:config.admin.isUsersEnabled,title:i.UsersManagement},versions:{name:"versions",regexp:/^(versions)?$/,module:e("./versions/index"),rel:"versions",role:"admin",isEnabled:config.admin.isVersionsEnabled,title:i.Versions},versionsCreate:{name:"versionsCreate",regexp:/^versions\/create$/,module:e("./versions/form"),rel:"versions",role:"admin",isEnabled:config.admin.isVersionsEnabled,title:i.Versions},versionsEdit:{name:"versionsEdit",regexp:/^versions\/(.+)\/edit$/,module:e("./versions/form"),rel:"versions",role:"admin",isEnabled:config.admin.isVersionsEnabled,title:i.Versions},announcements:{name:"announcements",regexp:/^(announcements)?$/,module:e("./announcements/index"),rel:"announcements",role:"admin",isEnabled:config.admin.isAnnouncementsEnabled,title:i.Announcements},announcementsCreate:{name:"announcementsCreate",regexp:/^announcements\/create$/,module:e("./announcements/form"),rel:"announcements",role:"admin",isEnabled:config.admin.isAnnouncementsEnabled,title:i.Announcements},announcementsEdit:{name:"announcementsEdit",regexp:/^announcements\/(.+)\/edit$/,module:e("./announcements/form"),rel:"announcements",role:"admin",isEnabled:config.admin.isAnnouncementsEnabled,title:i.Announcements},demos:{name:"demos",regexp:/^(demos)?$/,module:e("./demos/index"),rel:"demos",role:"admin",isEnabled:config.admin.isDemosEnabled,title:i.Demos},demosCreate:{name:"demosCreate",regexp:/^demos\/create$/,module:e("./demos/form"),rel:"demos",role:"admin",isEnabled:config.admin.isDemosEnabled,title:i.Demos},demosEdit:{name:"demosEdit",regexp:/^demos\/(.+)\/edit$/,module:e("./demos/form"),rel:"demos",role:"admin",isEnabled:config.admin.isDemosEnabled,title:i.Demos},customers:{name:"customers",regexp:/^(customers)?$/,module:e("./customers/index"),rel:"customers",role:"admin",isEnabled:config.admin.isCustomersEnabled,title:i.Customers},customersEdit:{name:"customersEdit",regexp:/^customers\/(.+)\/edit$/,module:e("./customers/form"),rel:"customers",role:"admin",isEnabled:config.admin.isCustomersEnabled,title:i.Customers},faq:{name:"faq",regexp:/^(faq)?$/,module:e("./faq/index"),rel:"faq",role:"admin",isEnabled:config.admin.isFAQEnabled,title:i.Faq},companiesSettings:{name:"companiesSettings",regexp:/^companies-settings?$/,module:e("./administrator/companies"),rel:"companiesSettings",role:"admin",isEnabled:config.admin.isCompaniesEnabled,title:i.CompaniesSettings},samlSettings:{name:"samlSettings",regexp:/^companies-settings\/(.+)\/saml/,module:e("./administrator/companies/saml-settings"),rel:"companiesSettings",role:"admin",isEnabled:config.admin.isCompaniesEnabled&&config.saml.enabled,title:i.SamlSettings},certificates:{name:"certificates",regexp:/^certificates$/,module:e("./administrator/certificates"),rel:"certificates",role:"admin",isEnabled:!0,title:i.Certificates},certificatesEdit:{name:"certificatesEdit",regexp:/^certificates\/(.+)\/edit$/,module:e("./administrator/certificates/certificate-form"),rel:"certificates",role:"admin",isEnabled:!0,title:i.Certificates},certificatesCreate:{name:"certificatesCreate",regexp:/^certificates\/create$/,module:e("./administrator/certificates/certificate-form"),rel:"certificates",role:"admin",isEnabled:!0,title:i.CertificatesCreate},notFound:{name:"notFound",regexp:/^(not-found)?$/,module:e("./pages/not-found"),title:i.NotFound},accessDenied:{name:"accessDenied",regexp:/^(access-denied)?$/,module:e("./pages/access-denied"),title:i.AccessDenied}}},{"./administrator/certificates":67,"./administrator/certificates/certificate-form":65,"./administrator/companies":69,"./administrator/companies/saml-settings":71,"./announcements/form":73,"./announcements/index":75,"./brandbooks/brandbook":79,"./brandbooks/index":85,"./bundles/bundle-view":124,"./bundles/bundle-view/changes/changes-plugin-redirect":108,"./bundles/index":134,"./company/index":197,"./customers/form":201,"./customers/index":203,"./demos/form":205,"./demos/index":207,"./errors/index":212,"./errors/view":214,"./faq/index":216,"./invites/form":220,"./invites/index":222,"./invites/view":224,"./logs/index":238,"./mails/index":240,"./mails/view":242,"./pages/access-denied":309,"./pages/not-found":311,"./pages/project-access-denied":313,"./pages/project-not-found":315,"./profile/index":375,"./projects/archive":389,"./projects/index":393,"./projects/view":433,"./stats/index":441,"./subscription/index":445,"./users/emailForm":463,"./users/index":465,"./users/passwordForm":467,"./users/view":469,"./versions/form":473,"./versions/index":475}],439:[function(e,t,n){"use strict";function i(e,t){var n={host:e+":"+t,transports:["websocket"]},i={host:e,transports:["polling"]},s=e.split(".");if(3===s.length){var o=s[1]+"."+s[2];"sympli.io"===o&&(i.host=s[0]+"-lp."+o+":"+t)}else i.host=e+":"+t;return[n,i]}var s="AWSELB",o=3,r=(e("underscore"),e("../../enums/SocketEventsEnum")),a=e("../../lib/cookie");t.exports=function(t,n){function l(){function i(e){if(e){a["delete"](s,{domain:"."+e});var t=e.indexOf(".");t>=0&&i(e.substr(t+1))}}function h(e,t){}var p=d[u],f=e("socket.io-client")(p.host,{reconnectionDelayMax:12e4,transports:p.transports});f.on("connect",function(){c=0}),f.on("reconnect_attempt",function(){c++,c>=o&&(c=0,u++,u>1&&(u=0),a["delete"](s),i(window.location.hostname),f.disconnect(),f.destroy(),l())});var m;m=t.profile.name||t.email,f.emit(r.authenticate,{token:t.accessToken}),f.emit(r.user.add,m),f.on(r.login,function(e){}),f.on(r.announcement.publish,function(e){n.$broadcast("announcement:publish",e)}),f.on(r.announcement["delete"],function(e){n.$broadcast("announcement:delete",e)}),f.on(r.message.create,function(e){n.$broadcast("create:message",e)}),f.on(r.message["delete"],function(e){n.$broadcast("delete:message",e)}),f.on(r.message.update,function(e){n.$broadcast("edit:message",e)}),f.on(r.bundleSpot.create,function(e){n.$broadcast("create:bundleSpot",e)}),f.on(r.bundleSpot.update,function(e){n.$broadcast("update:bundleSpot",e)}),f.on(r.bundleSpot["delete"],function(e){n.$broadcast("delete:bundleSpot",e)}),f.on(r.user.joined,function(e){n.$broadcast("user:joined",e)}),f.on(r.user.left,function(e){h(e.username+" left"),n.$broadcast("user:left",e)}),f.on(r.typing.start,function(e){n.$broadcast("typing",e)}),f.on(r.typing.stop,function(e){n.$broadcast("stop:typing",e)}),f.on(r.message.list,function(e){n.$broadcast("list:message",e)}),f.on(r.bundle.create,function(e){n.$broadcast(r.bundle.create,e)}),f.on(r.bundle.update,function(e){n.$broadcast(r.bundle.update,e)}),f.on(r.bundle.ready,function(e){n.$broadcast(r.bundle.ready,e)}),f.on(r.bundle["delete"],function(e){n.$broadcast(r.bundle["delete"],e)}),f.on(r.project.tags.update,function(e){n.$broadcast(r.project.tags.update,e)}),f.on(r.project.update,function(e){n.$broadcast(r.project.update,e)}),f.on(r.mentionees.refresh,function(e){n.$broadcast(r.mentionees.refresh,e)}),f.on(r.customer.update,function(e){n.$broadcast(r.customer.update,e),n.$emit(r.customer.update,e)}),f.on(r.account.update,function(e){n.$broadcast(r.account.update,e),n.$emit(r.account.update,e)}),f.on(r.account["delete"],function(e){n.$broadcast(r.account["delete"],e),n.$emit(r.account["delete"],e)}),f.on(r.company.inactive,function(e){n.$broadcast(r.company.inactive,e),n.$emit(r.company.inactive,e)}),n.$on(r.message.list,function(e){f.emit(r.message.list,e)}),n.$on(r.message.create,function(e){f.emit(r.message.create,e)}),n.$on(r.message["delete"],function(e){f.emit(r.message["delete"],e)}),n.$on(r.message.update,function(e){f.emit(r.message.update,e)}),n.$on(r.typing.start,function(e){f.emit(r.typing.start,e)}),n.$on(r.project.tags.create,function(e){f.emit(r.project.tags.create,e)}),n.$on(r.project.tags["delete"],function(e){f.emit(r.project.tags["delete"],e)})}var c=0,u=0,d=i(window.location.hostname,window.location.port);l()}},{"../../enums/SocketEventsEnum":8,"../../lib/cookie":37,"socket.io-client":622,underscore:682}],440:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h3>Statistics</h3>\n  </div>\n  <div class="row">\n    <div class="col-xs-4">\n      <h4>Designs</h4>\n      <div class="logs">\n        <table class="table table-hover table-condensed">\n          <thead>\n          <tr>\n            <td>Month</td>\n            <td>Week</td>\n            <td>Day</td>\n          </tr>\n          </thead>\n          <tbody>\n          <tr>\n            <td>{{bundles.month}}</td>\n            <td>{{bundles.week}}</td>\n            <td>{{bundles.day}}</td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <div class="col-xs-4">\n      <h4>Downloads</h4>\n      <div class="logs">\n        <table class="table table-hover table-condensed">\n          <thead>\n          <tr>\n            <td>Month</td>\n            <td>Week</td>\n            <td>Day</td>\n          </tr>\n          </thead>\n          <tbody>\n          <tr>\n            <td>{{downloads.month}}</td>\n            <td>{{downloads.week}}</td>\n            <td>{{downloads.day}}</td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <div class="col-xs-4">\n      <h4>Users</h4>\n      <div class="logs">\n        <table class="table table-hover table-condensed">\n          <thead>\n          <tr>\n            <td>Month</td>\n            <td>Week</td>\n            <td>Day</td>\n          </tr>\n          </thead>\n          <tbody>\n          <tr>\n            <td>{{users.month}}</td>\n            <td>{{users.week}}</td>\n            <td>{{users.day}}</td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</section>\n'},{}],441:[function(e,t,n){"use strict";e("underscore");t.exports={inherit:!0,template:e("./index.html"),created:function(){this._loadStats()},data:function(){return{loading:!1,bundles:[],users:[],downloads:[]}},methods:{_loadStats:function(){var e=this.$api.get("/stats/bundles").then(function(e){this.bundles=e.data||[],this.loading=!1}.bind(this));e=this.$api.get("/stats/users").then(function(e){this.users=e.data||[],this.loading=!1}.bind(this)),e=this.$api.get("/stats/downloads").then(function(e){this.downloads=e.data||[],this.loading=!1}.bind(this)),this.$api(e)}}}},{"./index.html":440,underscore:682}],442:[function(e,t,n){t.exports='<div class="comparison comparison-show" v-class="comparison-show-less: !hasExtraOptions">\n  <h3>Compare Plans</h3>\n\n  <div class="Rtable Rtable--collapse">\n    <div class="Rtable-cell Rtable-cell--head Rtable-cell--first"></div>\n    <div class="Rtable-cell Rtable-cell--head">Individual</div>\n    <div class="Rtable-cell Rtable-cell--head">Startup</div>\n    <div class="Rtable-cell Rtable-cell--head">Business</div>\n    <div class="Rtable-cell Rtable-cell--head">Enterprise</div>\n    <div class="Rtable-cell Rtable-cell--head">Custom</div>\n\n    <div class="Rtable-cell Rtable-cell--first">Price (monthly)</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span> Free</div>\n    <div class="Rtable-cell">\n      <span class="mobile-only">Startup</span>\n      <div v-show="selectedTab == \'month\'">\n        $40\n      </div>\n      <div v-show="selectedTab == \'year\'">\n        $36\n      </div>\n    </div>\n    <div class="Rtable-cell">\n      <span class="mobile-only">Business</span>\n      <div v-show="selectedTab == \'month\'">\n        $100\n      </div>\n\n      <div v-show="selectedTab == \'year\'">\n        $90\n      </div>\n    </div>\n    <div class="Rtable-cell">\n      <span class="mobile-only">Enterprise</span>\n      <div v-show="selectedTab == \'month\'">\n        $1000\n      </div>\n\n      <div v-show="selectedTab == \'year\'">\n        $900\n      </div>\n    </div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><a href="mailto:contact@sympli.io" target="_blank" class="dark">Contact Us</a></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Collaborators</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span> 3</div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span>12</div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span>30</div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span>200</div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span>Unlimited</div>\n\n    <div class="Rtable-cell Rtable-cell--first">Projects</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span> 1</div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span>12</div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span>24</div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span>100</div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span>Unlimited</div>\n\n    <div class="Rtable-cell Rtable-cell--title" class="title">Features</div>\n\n    <div class="Rtable-cell Rtable-cell--first">Sketch, Photoshop, Xcode, and Android Studio plugins</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span> <span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Design Versioning</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span> <span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Visual Difference Tool</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span> <span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Tagging, Collaboration, and Annotation</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span> <span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Design Review Mode</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span> <span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Unlimited Archived Projects</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">User and Team Management</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--title" class="title">Integrations</div>\n\n    <div class="Rtable-cell Rtable-cell--first">Slack</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span> <span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Jira</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Webhooks</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--title" class="title">Hosting Options</div>\n\n    <div class="Rtable-cell Rtable-cell--first">Public Cloud</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span> <span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Private Cloud</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">On Premise</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--title" class="title">Support</div>\n\n    <div class="Rtable-cell Rtable-cell--first">Chat and Email Support</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span> <span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Priority Support</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Dedicated Account Representative</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--title" class="title">Security</div>\n\n    <div class="Rtable-cell Rtable-cell--first">PCI Compliance</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span> <span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Third Party Security Audits</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span> <span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Single Sign On (SSO), SAML</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Custom Domains</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span><span class="icon"></span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Two-Factor Authentication</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">VPN Access</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Customizable Keys</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n    <div class="Rtable-cell Rtable-cell--first">Segregated Environment</div>\n    <div class="Rtable-cell"><span class="mobile-only">Individual</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Startup</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Business</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Enterprise</span></div>\n    <div class="Rtable-cell"><span class="mobile-only">Custom</span><span class="icon"></span></div>\n\n  </div>\n</div>\n';
},{}],443:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),data:function(){return{}},methods:{},computed:{}}},{"./index.html":442}],444:[function(e,t,n){t.exports='<section class="container">\n\n  <div class="page-header page-header__bottom">\n    <h2 class="ellipsis">Subscription</h2>\n    <div class="tabs-block subscription_tabs-block animation">\n      <span v-show="customer && customer.currentPeriodStart" v-class="active: currentTab == \'subscription\'" v-on="click: setCurrentTab(\'subscription\')" v-el="itemPlans">Plans</span>\n      <span v-show="customer && customer.currentPeriodStart" v-class="active: currentTab == \'invoices\'" v-on="click: setCurrentTab(\'invoices\')" v-el="itemInvoices">Invoices</span>\n      <span class="line" v-style="headerTabsLineStyle"></span>\n    </div>\n  </div>\n\n  <div v-if="currentTab === \'subscription\'" v-component="customer-subscription"></div>\n  <div v-if="currentTab === \'invoices\'" v-component="customer-invoices"></div>\n</section>\n'},{}],445:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),components:{"customer-subscription":e("./subscription"),"customer-invoices":e("./invoices")},data:function(){return{currentTab:"subscription",subscription:null,paymentMethod:null,clientToken:null,plans:[],currentPlan:null,subscriptionCoupon:null,selectedPlan:null,isPlansLoaded:!1,isCustomerLoaded:!1,hasPaymentMethod:!1,isPaymentRequired:!1,editPaymentMethod:!1,selectedTab:"year",tabSubscription:null,tabSubscriptionPosition:null,tabInvoice:null,tabInvoicePosition:null,otherOptionValue:!1}},created:function(){var e=this,t=5e3;this.user.isSubscriptionEnabled||(this.$dispatch("notify","warning","Subscription feature is disabled","Redirecting...",{ttl:t}),setTimeout(function(){e.$dispatch("lanes:path","projects")},t)),this._getCustomer(),this._getPlans()},methods:{_getCustomer:function(){var e=this;return this.$api.get("/customer").then(function(t){var n=t.data;return e.setCustomer(n),e.setupCustomer(n),n})},_getPlans:function(){var e=this;return this.$api.get("/plans/active").then(function(t){return e.plans=t.data,e.isPlansLoaded=!0,e.plans})},setCurrentTab:function(e){this.currentTab=e,this._calculateHeaderTabsSize()},setupCustomer:function(){var e=this.customer;this.isCustomerLoaded=!0,this.currentPlan=e.plan,this.subscriptionCoupon=e.subscriptionCoupon,this.paymentMethod=e.paymentMethod,this.hasPaymentMethod=!!this.paymentMethod,this.isPaymentRequired=!(!this.customer||!e.plan)&&!!parseFloat(e.plan.amount),this.editPaymentMethod=!this.hasPaymentMethod,this.selectedTab=0==this.currentPlan.amount?this.selectedTab:this.currentPlan.interval,this._calculateHeaderTabsSize()},onSelectTab:function(e,t){e.preventDefault(),this.selectedTab=t},otherOptions:function(){this.otherOptionValue=!this.otherOptionValue},_calculateHeaderTabsSize:function(){this.tabSubscription=$(this.$$.itemPlans).outerWidth(),this.tabSubscriptionPosition=$(this.$$.itemPlans).position().left,this.tabInvoice=$(this.$$.itemInvoices).outerWidth(),this.tabInvoicePosition=$(this.$$.itemInvoices).position().left}},computed:{headerTabsLineStyle:function(){if("subscription"==this.currentTab)var e="width: "+this.tabSubscription+"px; margin-left: "+this.tabSubscriptionPosition+"px;";else if("invoices"==this.currentTab)var e="width: "+this.tabInvoice+"px; margin-left: "+this.tabInvoicePosition+"px;";else var e="display: none;";return this.customer&&this.customer.currentPeriodStart||(e+=" display: none;"),e}}}},{"./index.html":444,"./invoices":447,"./subscription":457}],446:[function(e,t,n){t.exports='<div class="subscription-info clearfix">\n  <div class="row">\n    <div class="col-xs-6 col-xs-offset-6 text-right">\n      <div class="sympli-dialog-layer customer-change">\n        <span class="btn-link s-link" v-on="click: onShowBillAddress">Change billing address</span>\n        <customer-change-bill-address></customer-change-bill-address>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="invoices">\n  <div class="loading" v-if="loading">\n    Loading invoices...\n  </div>\n\n  <div class="simply-table" v-if="!loading">\n    <div class="simply-table__header simply-table__block">\n      <div class="simply-column simply-column-1"></div>\n      <div class="simply-column simply-column-2"></div>\n      <div class="simply-column simply-column-3">Date</div>\n      <div class="simply-column simply-column-4">Period</div>\n      <div class="simply-column simply-column-5">Total</div>\n      <div class="simply-column simply-column-6"></div>\n      <div class="simply-column simply-column-7"></div>\n    </div>\n    <div class="simply-table__body box">\n      <div class="simply-table__block" v-repeat="invoice: invoices">\n        <div v-component="invoice-item" v-with="invoice: invoice"></div>\n      </div>\n      <div class="simply-table__block" v-if="!invoices || invoices.length == 0">\n        <div class="simply-table__box">\n          <div class="simply-column">\n            No invoices\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div v-component="pagination" current-page="{{currentPage}}" per-page="{{perPage}}" total-pages="{{totalPages}}"></div>\n</div>\n\n'},{}],447:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.load(),this.$on("change:page",function(e){this.currentPage=e,this.load()}),this.$on("submit:customer-change-bill-address",this.handleCustomerChangeBillAddress)},data:function(){return{invoices:[],currentPage:0,totalPages:1,loading:!1,perPage:10}},components:{pagination:e("../../common/simple-pagination"),"invoice-item":e("./invoice-item"),"customer-change-bill-address":e("../../modals/customer-change-bill-address")},methods:{load:function(){this.loading=!0;var e={skip:this.currentPage*this.perPage,limit:this.perPage},t="/customer/invoices",n=this.$api.get(t,{qs:e}).then(function(e){this.invoices=e.data,this.totalPages=Math.ceil(e.data.length/this.perPage),this.loading=!1,this.$api.event("viewed-invoices-web")}.bind(this));this.$api(n)},onShowBillAddress:function(e){e.preventDefault(),this.$dispatch("modal:show","bill-address")},handleCustomerChangeBillAddress:function(e){var t=this,n={body:{billTo:e}},i=this.$api.put("/customer",n,{isMainRequest:!0}).then(function(e){t.$dispatch("notify","success","Bill address saved")});this.$api(i)}}}},{"../../common/simple-pagination":191,"../../modals/customer-change-bill-address":275,"./index.html":446,"./invoice-item":449}],448:[function(e,t,n){t.exports='<div class="simply-table__box">\n  <div class="simply-column simply-column-1">\n    <span class="sympli-icon icon-paid" v-if="invoice.paid"></span>\n    <span class="sympli-icon icon-paid-fail" v-if="!invoice.paid"></span>\n  </div>\n  <div class="simply-column simply-column-2">\n    <h4>Invoice</h4>\n    <div class="number ellipsis">#{{invoice.id}}</div>\n  </div>\n  <div class="simply-column simply-column-3">\n    {{invoice.date * 1000 | moment short}}\n  </div>\n  <div class="simply-column simply-column-4">\n    {{invoice.periodStart * 1000 | moment short}} — {{invoice.periodEnd * 1000 | moment short}}\n  </div>\n  <div class="simply-column simply-column-5">\n    {{invoice.total | cents 2}} USD\n  </div>\n  <div class="simply-column simply-column-6">\n    <a class="invoice-link" href="/customer/invoice/{{invoice.id}}" target="_blank">\n      <span class="sympli-icon icon-invoice"></span>\n      View invoice\n    </a>\n  </div>\n  <div class="simply-column simply-column-7">\n    <a href="#" class="show-more" v-on="click: onShowMore">\n      Details\n      <span class="sympli-icon " v-class="icon-main_tab_small_down_for_menus: !isShowMore, icon-main_tab_small_up: isShowMore"></span>\n    </a>\n  </div>\n</div>\n\n<div class="simply-table__box additional" v-show="isShowMore">\n  <div class="simply-table__box small" v-repeat="line: invoice.lines.data">\n    <div class="simply-column simply-column-1"></div>\n    <div class="simply-column simply-column-2-col">\n      <span v-if="line.description">{{line.description}}</span>\n      <span v-if="line.type == \'subscription\' && line.plan">Subscription to {{line.plan.name}} (${{line.plan.amount | cents 2}}/{{line.plan.interval}})</span>\n    </div>\n    <div class="simply-column simply-column-4">\n      {{line.period.start * 1000 | moment short}} — {{line.period.end * 1000 | moment short}}\n    </div>\n    <div class="simply-column simply-column-5">\n      {{line.amount | cents 2}} USD\n    </div>\n    <div class="simply-column simply-column-6"></div>\n    <div class="simply-column simply-column-7"></div>\n  </div>\n\n  <div class="simply-table__box small" v-if="invoice.discount">\n    <div class="simply-column simply-column-1"></div>\n    <div class="simply-column simply-column-2-col">\n      {{invoice.discount.coupon.id}}\n      <span v-if="invoice.discount.coupon.percentOff">{{invoice.discount.coupon.percentOff}}% off</span>\n      <span v-if="invoice.discount.coupon.amountOff">{{invoice.discount.coupon.amountOff | cents 2}} USD off</span>\n    </div>\n    <div class="simply-column simply-column-4">\n    </div>\n    <div class="simply-column simply-column-5">\n      {{invoice.total - invoice.subtotal | cents 2}} USD\n    </div>\n    <div class="simply-column simply-column-6"></div>\n    <div class="simply-column simply-column-7"></div>\n  </div>\n</div>\n'},{}],449:[function(e,t,n){"use strict";var i=e("accounting");t.exports={inherit:!0,template:e("./index.html"),paramAttributes:["invoice"],data:function(){return{isShowMore:!1,invoice:null}},ready:function(){},methods:{onShowMore:function(e){e.preventDefault(),this.isShowMore=!this.isShowMore}},computed:{descriptionComputed:function(){var e=this.invoice;if(e.description)return e.description;if("Subscription"==e.type){var t=i.formatNumber(e.plan.price/100,2);return"Subscription to "+e.plan.name+" ($"+t+"/ NaN"}return""}}}},{"./index.html":448,accounting:538}],450:[function(e,t,n){t.exports='<div class="payment-form">\n  <div class="text-center text-muted" v-show="!isReady">\n    Please wait...\n  </div>\n\n  <form class="form-horizontal" v-show="isReady" v-on="submit: onSubmit">\n    <input type="submit" class="hidden" />\n\n    <div class="form-group form-group__new first-block">\n      <label class="col-xs-4 control-label" for="card-number">Card Number</label>\n      <div class="col-xs-8">\n        <input class="form-control" id="card-number" type="tel" size="20" maxlength="19" placeholder="Card Number" autofocus\n               v-focus="focus"\n               v-model="cardNumber"\n               v-validate="required, cardNumber"\n               v-on="blur: setCardNumberDirty(true), focus: setCardNumberDirty(false)"\n               wait-for="stripe">\n\n        <div class="tooltip top" v-if="validation.cardNumber.invalid && validation.cardNumber.dirty && cardNumberDirty" role="tooltip">\n          <div class="tooltip-arrow"></div>\n          <div class="tooltip-inner">\n\n            <span v-if="validation.cardNumber.required">Card number is required.</span>\n            <span v-if="!validation.cardNumber.required && validation.cardNumber.cardNumber">Card number is not a valid credit card number.</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="form-group form-group__new">\n      <label class="col-xs-4 control-label" for="card-cvc">Security code (CVC)</label>\n      <div class="col-xs-8">\n        <input class="form-control" id="card-cvc" type="text" size="4" maxlength="4" placeholder="CVC"\n               v-model="cardCvc"\n               v-validate="required, cardCvc"\n               v-on="blur: setCardCvcDirty(true), focus: setCardCvcDirty(false)"\n               wait-for="stripe">\n        <div class="tooltip top" v-if="validation.cardCvc.invalid && validation.cardCvc.dirty && cardCvcDirty" role="tooltip">\n          <div class="tooltip-arrow"></div>\n          <div class="tooltip-inner">\n            <span v-if="validation.cardCvc.required">CVC is required.</span>\n            <span v-if="!validation.cardCvc.required && validation.cardCvc.cardCvc">CVC year is not valid.</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="form-group form-group__new">\n      <label class="col-xs-4 control-label" for="card-exp">Expiration (MM/YY)</label>\n      <div class="col-xs-8">\n        <input class="form-control" id="card-exp" type="text" size="5" maxlength="5" placeholder="MM/YY"\n               v-model="cardExp"\n               v-validate="required, cardExp"\n               v-on="keyup: onChangeExp, blur: setCardExpDirty(true), focus: setCardExpDirty(false)"\n               wait-for="stripe">\n        <div class="tooltip top" v-if="validation.cardExp.invalid && validation.cardExp.dirty && cardExpDirty" role="tooltip">\n          <div class="tooltip-arrow"></div>\n          <div class="tooltip-inner">\n            <span v-if="validation.cardExp.required">Expiration is required.</span>\n            <span v-if="!validation.cardExp.required && validation.cardExp.cardExp">Expiration is not valid.</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div>\n      <span class="form-error" v-if="error">{{error}}</span>\n    </div>\n  </form>\n</div>\n'},{}],451:[function(e,t,n){"use strict";function i(e){var t=e.$api.get("/payments/token");return r.resolve(t).then(function(e){return e.data})}function s(){var e=$.ajax({url:"https://js.stripe.com/v2/",dataType:"script",cache:!0});return r.resolve(e)}function o(e){return l||(l=r.all([i(e),s()]).spread(function(e){Stripe.setPublishableKey(e)})),l}var r=(e("underscore"),e("bluebird")),a=e("vue");t.exports={inherit:!0,template:e("./index.html"),data:function(){return{focus:!1,isReady:!1,isPaymentFormSubmitted:!1,isPaymentFormProcess:!1,cardNumber:"",cardCvc:"",cardExp:"",error:"",cardNumberDirty:!1,cardCvcDirty:!1,cardExpDirty:!1}},created:function(){this.$on("submit:payment-form",this.handleSubmitPaymentForm),this.$on("show:payment-form",this.handleShowPaymentForm);var e=this;o(e).then(function(){e.$emit("stripe"),e.isReady=!0}),this.cardNumberDirty=!1,this.cardCvcDirty=!1,this.cardExpDirty=!1},ready:function(){var e=this;a.nextTick(function(){e.focus=!0})},methods:{handleShowPaymentForm:function(){this.reset()},handleSubmitPaymentForm:function(){this.submit()},onSubmit:function(e){e.preventDefault(),this.submit()},submit:function(){if(this.isPaymentFormSubmitted=!0,!this.isPaymentFormProcess&&!this.invalid){this.isPaymentFormProcess=!0;var e=this,t={number:this.cardNumber,cvc:this.cardCvc,exp:this.cardExp};Stripe.card.createToken(t,function(t,n){if(e.isPaymentFormProcess=!1,n.error)e.error=n.error.message;else{var i=n.id;e.$dispatch("nonce:payment-form",i),e.reset()}})}},reset:function(){this.cardNumber="",this.cardCvc="",this.cardExp="",this.isPaymentFormSubmitted=!1,this.isPaymentFormProcess=!1,this.error="",this.cardNumberDirty=!1,this.cardCvcDirty=!1,this.cardExpDirty=!1,this.focus=!0},onChangeExp:function(e){if(8!=e.keyCode&&46!=e.keyCode){var t=this.cardExp||"",n=t.split("/"),i=t.indexOf("/");i>0?t=n[0]+"/"+n[1]:0==i?t=n[1]:t.length>=2&&(t=t.substr(0,2)+"/"+t.substr(2)),this.cardExp=t}},setCardNumberDirty:function(e){this.cardNumberDirty=e},setCardCvcDirty:function(e){this.cardCvcDirty=e},setCardExpDirty:function(e){this.cardExpDirty=e}},validator:{validates:{cardNumber:function(e){return window.Stripe&&Stripe.card.validateCardNumber(e)},cardCvc:function(e){return window.Stripe&&Stripe.card.validateCVC(e)},cardExp:function(e){e=e||"";var t=e.split("/");return window.Stripe&&Stripe.card.validateExpiry(t[0],t[1])}}}};var l=null},{"./index.html":450,bluebird:539,underscore:682,vue:821}],452:[function(e,t,n){t.exports='<span class="payment-method" v-if="paymentMethod">\n  Payment info:\n  <img v-attr="src: paymentMethod.imageUrl, alt: paymentMethod.cardType">\n  <span>{{paymentMethod.brand}} ****{{ paymentMethod.last4}}</span>\n</span>\n'},{}],453:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./index.html"),ready:function(){this.$on("submit:payment-method",this.handleSubmitPaymentMethod)},data:function(){return{paymentMethod:null}},methods:{handleSubmitPaymentMethod:function(){this.onSaveChanges(null)}}}},{"./index.html":452}],454:[function(e,t,n){t.exports='<div class="plan-item"\n     v-class="current: customer && (customer.planId == plan.id || currentPlan && currentPlan.isTrial && plan.isFree),\n              recommended: isPopularPlan,\n              disabled: isNotProvidedPlan"\n     v-on="click: onSelectPlan($event, plan)">\n\n  <div class="plan-header">\n    <h3 v-if="plan.isFree && currentPlan && currentPlan.isTrial">{{currentPlan.name}}</h3>\n    <h3 v-if="!(plan.isFree && currentPlan && currentPlan.isTrial)">{{plan.name}}</h3>\n    <span class="sympli-icon icon-start"></span>\n  </div>\n\n  <div class="plan-item__price">\n    <div v-show="plan && plan.amount == 0 && currentPlan && !currentPlan.isTrial">\n      <div v-if="plan.isCustom">\n        <a href="mailto:contact@sympli.io" target="_blank" class="dark">Contact Us</a>\n      </div>\n      <div v-if="!plan.isCustom">$0 month</div>\n    </div>\n\n    <div v-show="plan.amount != 0 && plan.interval == \'month\'">\n      ${{plan.discountPrice | amount }} {{plan.interval}}\n    </div>\n\n    <div v-show="plan.amount != 0 && plan.interval == \'year\'">\n      ${{plan.discountPrice | amount }} month\n    </div>\n  </div>\n\n  <div class="plan-item__project">\n    <ul>\n      <li v-repeat="featureDescription: plan.featureDescriptions">{{{featureDescription}}}</li>\n    </ul>\n  </div>\n\n  <p class="plan-item__active" v-if="paymentMethod && customer && plan && customer.planId == plan.id && subscription && !subscription.cancelAtPeriodEnd">\n    Next billing date:<br> {{ customer.currentPeriodEnd | moment short}}\n  </p>\n\n  <p class="plan-item__cancel" v-if="customer && plan && !plan.isTrial && customer.planId == plan.id && customer.cancelAtPeriodEnd">\n    Canceled.<br> Active until {{ customer.currentPeriodEnd | moment calendar}}\n  </p>\n\n  <a class="btn btn-plan" v-if="!isNotProvidedPlan && !plan.isCustom" href="#"\n     v-class="\'current\': customer && (customer.planId == plan.id && customer.cancelAtPeriodEnd || currentPlan && currentPlan.isTrial && plan.isFree),\n              \'disabled\': customer && customer.planId == plan.id && !customer.cancelAtPeriodEnd">\n    {{customer && (customer.planId == plan.id || currentPlan && currentPlan.isTrial && plan.isFree) ? \'Current\': \'Select\'}}\n  </a>\n\n  <a v-if="plan.isCustom" class="btn btn-plan" href="mailto:contact@sympli.io?Subject=Sympli%20Custom%20Subscription%20Options">Contact us</a>\n</div>\n'},{}],455:[function(e,t,n){"use strict";var i=["plan-business-month","plan-business-year"],s=["plan-business-month","plan-business-year","plan-enterprise-2017-month","plan-enterprise-2017-year"];t.exports={inherit:!0,template:e("./index.html"),data:function(){return{}},computed:{isPopularPlan:function(){var e=this.plan.id,t=this.customer&&this.customer.planId,n=~i.indexOf(e),o=~s.indexOf(t);return n&&!o},isNotProvidedPlan:function(){return!this.plan.isCustom&&(!(!this.customer||!this.customer.plan||"year"!=this.customer.plan.interval)&&(!this.plan.isFree&&this.plan.id!=this.customer.planId&&("month"==this.plan.interval||this.customer.plan.amount>this.plan.amount||void 0)))}}}},{"./index.html":454}],456:[function(e,t,n){t.exports='<div class="subscription-info clearfix" v-if="currentPlan">\n  <div class="row">\n    <div class="col-xs-7 your-plan">\n      <div class="current-plan">\n        Your current plan:\n        <span v-if="currentPlan.interval == \'month\' && !currentPlan.isTrial">\n          <strong>{{currentPlan.name}}</strong> <strong v-if="!subscriptionCoupon">(${{currentPlan.discountPrice/100}} / month)</strong><!--\n            --><span v-if="subscriptionCoupon"> <strong>(${{(currentPlan.amount*(100-subscriptionCoupon.percentOff)/100) | amount}} / month)</strong> with coupon\n                <span v-if="subscriptionCoupon.duration == \'repeating\'"> for first {{subscriptionCoupon.durationInMonths}} {{subscriptionCoupon.durationInMonths | pluralize month}} and then <strong>${{currentPlan.discountPrice/100}} / month</strong>.</span>\n                <span v-if="subscriptionCoupon.duration == \'once\'"> for the first month and then <strong>${{currentPlan.discountPrice/100}}/month</strong>.</span>\n                <span v-if="subscriptionCoupon.duration == \'forever\'"> until subscription canceled or you changed the plan.</span><!--\n            --></span>\n        </span>\n\n        <span v-if="currentPlan.interval == \'month\' && currentPlan.isTrial && customer.currentPeriodEndDays">\n          <strong>{{currentPlan.name}}</strong>\n          <strong>({{customer.currentPeriodEndDays}} active {{customer.currentPeriodEndDays | pluralize day}})</strong>\n        </span>\n\n\n        <span v-if="currentPlan.interval == \'year\'">\n          <strong>{{currentPlan.name}}</strong> <strong v-if="!subscriptionCoupon">(${{currentPlan.discountPrice*12/100}} / year)</strong><!--\n            --><span v-if="subscriptionCoupon"> <strong>(${{(currentPlan.amount*(100-subscriptionCoupon.percentOff)/100) | amount}} / year)</strong> with coupon\n                <span v-if="subscriptionCoupon.duration == \'repeating\'"> for first {{Math.ceil(subscriptionCoupon.durationInMonths/12) == 1 ? \'\' : Math.ceil(subscriptionCoupon.durationInMonths/12)}} {{Math.ceil(subscriptionCoupon.durationInMonths/12) | pluralize year}} and then <strong>${{currentPlan.discountPrice*12/100}} / year</strong>.</span>\n                <span v-if="subscriptionCoupon.duration == \'once\'"> for the first year and then <strong>${{currentPlan.discountPrice*12/100}} / year</strong>.</span>\n                <span v-if="subscriptionCoupon.duration == \'forever\'"> until subscription canceled or you changed the plan.</span><!--\n            --></span>\n        </span>\n      </div>\n      <div class="current-plan" v-if="paymentMethod && !currentPlan.isFree">Active until: <strong>{{ customer.currentPeriodEnd | moment calendar}}</strong></div>\n\n      <div class="current-plan current-plan__company" v-if="partOfCompany">You\'re a member of: <strong>{{companiesNames}}</strong> </div>\n\n      <div class="m-plan__trial" v-if="customer.plan.amount == 0 && currentPlan && currentPlan.isTrial">\n        <span class="m-plan__trial-time">Your trial period ends in {{customer.currentPeriodEndDays}} {{customer.currentPeriodEndDays | pluralize day}}</span>\n        <span class="m-plan__trial-after">After that you’ll be switched to a Individual plan with 1 active project.</span>\n      </div>\n\n    </div>\n    <div class="col-xs-5 text-right">\n      <div class="payment-method-block">\n        <payment-method v-show="paymentMethod" v-with="paymentMethod: paymentMethod"></payment-method>\n        <div class="sympli-dialog-layer">\n          <span class="s-link" v-show="paymentMethod"><a href="#" v-on="click: onChangePaymentMethod">Change</a></span>\n          <modal-customer-change-payment-method></modal-customer-change-payment-method>\n          <modal-customer-change-plan></modal-customer-change-plan>\n        </div>\n      </div>\n      <span v-if="DEBUG" class="s-link"><a href="#" v-on="click: onSyncCustomer">Sync</a></span>\n    </div>\n  </div>\n</div>\n\n<p class="loading" v-if="subscriptionLoading">\n  Loading ...\n</p>\n\n<div class="subscription">\n  <div class="subscription__nav">\n    <div>\n      <span class="subscription__nav-item month-item" v-on="click: onSelectTab($event, \'month\')" v-class="active: selectedTab == \'month\'">Monthly</span>\n      <span class="subscription__nav-item year-item" v-on="click: onSelectTab($event, \'year\')" v-class="active: selectedTab == \'year\'">Annual (save 10%)</span>\n    </div>\n    <div class="extra-options" v-on="click: otherOptions" v-if="hasExtraOptions">\n      <div v-if="!otherOptionValue">More</div>\n      <div v-if="otherOptionValue">Less</div>\n    </div>\n  </div>\n\n  <div class="subscription-block subscription__plans" v-show="selectedTab == \'month\'" track-by="id" v-class="subscription-block__free: otherOptionValue">\n    <div class="plan-block" v-repeat="plan: monthlyPlans" v-component="plan-item"></div>\n  </div>\n\n  <div class="subscription-block subscription__plans" v-show="selectedTab == \'year\'" v-class="subscription-block__free: otherOptionValue">\n    <div class="plan-block" v-repeat="plan: yearlyPlans" track-by="id" v-component="plan-item"></div>\n  </div>\n\n  <div v-component="comparison-table"></div>\n\n  <subscription-restrictions-hit></subscription-restrictions-hit>\n  <subscription-update-success></subscription-update-success>\n</div>\n'},{}],457:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../../modals/subscription-restrictions-hit"),o=e("../../../../enums/CompanyUserRolesEnum"),r=["plan-100-month","plan-100-year","plan-enterprise-month","plan-enterprise-year","plan-enterprise-2017-month","plan-enterprise-2017-year","plan-custom-month","plan-custom-year"];t.exports={inherit:!0,components:{"payment-method":e("../payment-method"),"plan-item":e("../plan-item"),"comparison-table":e("../comparison-table"),"modal-customer-change-plan":e("../../modals/customer-change-plan"),"modal-customer-change-payment-method":e("../../modals/customer-change-payment-method"),"subscription-restrictions-hit":s,"subscription-update-success":e("../../modals/subscription-update-success")},template:e("./index.html"),data:function(){return{}},created:function(){if(this.$root.route.params[1]){var e=this,t=!1;"upgrade"==this.$root.route.params[1]&&(t=!0),setTimeout(function(){e.$dispatch("modal:show","subscription-update-success",t)},1)}},ready:function(){this.$on("submit:customer-change-plan",this.handleCustomerChangePlan),this.$on("submit:customer-change-payment-method",this.handleCustomerChangePaymentMethod),this.$api.event("opened-subscription-page-web")},methods:{test:function(e){e.preventDefault(),e.stopPropagation(),this.$dispatch("modal:show","subscription-update-success")},handleCustomerChangePlan:function(e,t){this.changeCustomerSubscription(e,t)},handleCustomerChangePaymentMethod:function(e){this.changeCustomerSubscription(e)},onSyncCustomer:function(e){e.preventDefault(),e.stopPropagation();var t=this;return this.$api.get("/customer/sync").then(function(e){t.setCustomer(e.data)})},changeCustomerSubscription:function(e,t){var n=this,i={nonce:e,coupon:t};this.selectedPlan&&(i.plan=this.selectedPlan.id);var o=this.customer.plan.id,r=this.$api.put("/customer/subscribe",{body:i},{isMainRequest:!0}).then(function(e){n.setCustomer(e.data);var t="#!/subscription";o!==e.data.plan.id&&(t+="?r=upgrade",window.history.replaceState(null,null,t)),window.location.reload()})["catch"](function(e){var t=e&&e.responseJSON&&e.responseJSON.code||"",i=e&&e.responseJSON&&e.responseJSON.message||"";if(!s.isApplicable(t))throw e;n.$dispatch("modal:show","subscription-restrictions-hit",i,t)});this.$api(r)},onSelectPlan:function(e,t){t.isCustom||(e.preventDefault(),t.isTrial||this.customer.plan.id==t.id&&t.isFree||(this.selectedPlan=t,t?this.isPaymentRequired=!!parseFloat(t.price):this.isPaymentRequired=!(!this.customer||!this.customer.plan)&&!!parseFloat(this.customer.plan.price),this.$api.event("selected-plan-web",{plan_id:t.id,plan_name:t.name}),this.$dispatch("modal:show","customer-change-plan")))},onChangePaymentMethod:function(e){e.preventDefault(),this.editPaymentMethod=!this.editPaymentMethod,this.$dispatch("modal:show","customer-change-payment-method")},onCancelChangePaymentMethod:function(e){e.preventDefault(),e.stopPropagation(),this.editPaymentMethod=!this.editPaymentMethod},_getCompanies:function(){return i.filter(this.user.accesses,function(e){return e.company&&e.role!=o.companyGuest})}},computed:{monthlyPlans:function(){var e=null,t=[];return i.each(this.plans,function(n){"month"!=n.interval||n.isFree||t.push(n),n.isFree&&(e=n)}),this.currentPlan&&this.currentPlan.isTrial?t.unshift(this.currentPlan):e&&t.unshift(e),t},yearlyPlans:function(){var e=null,t=[];return i.each(this.plans,function(n){"year"!=n.interval||n.isFree||t.push(n),n.isFree&&(e=n)}),this.currentPlan&&this.currentPlan.isTrial?t.unshift(this.currentPlan):e&&t.unshift(e),t},freePlan:function(){return i.find(this.plans,function(e){return e.isFree})},amountPerMonth:function(){return this.currentPlan.discountPrice/100},partOfCompany:function(){return this._getCompanies().length},companiesNames:function(){var e=i.map(this._getCompanies(),function(e){return e.company.name});return e.join(", ")},hasExtraOptions:function(){return!!this.currentPlan&&r.indexOf(this.currentPlan.id)===-1}}}},{"../../../../enums/CompanyUserRolesEnum":4,"../../modals/customer-change-payment-method":277,"../../modals/customer-change-plan":279,"../../modals/subscription-restrictions-hit":301,"../../modals/subscription-update-success":303,"../comparison-table":443,"../payment-method":453,"../plan-item":455,"./index.html":456,underscore:682}],458:[function(e,t,n){t.exports='<div v-el="tagsPanel" class="popup-with-input" id="tagsPanel">\n  <div class="arrow"></div>\n  <ul class="sympli-dialog active" v-if="project && project.id && (bundle || multiSelect)" v-style="maxHeight">\n    <li class="tag-name">\n      <div class="form-horizontal">\n        <input type="submit" class="hidden"/>\n        <input autocomplete="off" name="inputTagValue" class="form-control" type="text" placeholder="Type a tag name here"\n               v-model="inputTagValue"\n               v-on="keyup: onTagKeyUp"\n               v-focus="tagsShown"\n               v-el="tagName">\n      </div>\n    </li>\n    <li class="labels-block">\n      <span class="label label-primary" v-repeat="tag : tagsForSelectedBundles" v-on="click: onTagRemove($event, tag)"\n          v-show="tagsForSelectedBundles.length > 0"><i class="sympli-icon icon-delete_tag"></i><span class="ellipsis">{{tag}}</span></span>\n      <span class="labels-block__empty" v-if="(!project || tagsForSelectedBundles.length == 0) && selectedCount == 1">This design doesn\'t have any tags. Choose tags from the list below or type a new one.</span>\n      <span class="labels-block__empty" v-if="(!project || tagsForSelectedBundles.length == 0) && selectedCount > 1">These designs do not have any tags. Choose tags from the list below or type a new one.</span>\n      <span class="labels-block__empty" v-if="(!project || tagsForSelectedBundles.length == 0) && isBundleView">This design doesn\'t have any tags. Choose tags from the list below or type a new one.</span>\n    </li>\n    <li>\n      <div class="tags-list" v-if="allProjectTags.length > 0">\n        <p class="tags-item tags-item__inline" v-repeat="commonTag: allProjectTags" v-on="click: onTagAdd($event, commonTag)"><span\n          class="sympli-icon icon-tag"></span><span class="ellipsis">{{commonTag}}</span></p>\n      </div>\n      <div class="tags-list" v-if="allProjectTags.length == 0 && tagsForSelectedBundles.length == 0">\n        <p class="tags-item tags-item__empty">\n          <span class="sympli-icon icon-tag"></span>\n          You don\'t have any tags. Please, create them.\n        </p>\n      </div>\n\n      <div class="tags-list" v-if="allProjectTags.length == 0 && tagsForSelectedBundles.length > 0">\n        <p class="tags-item tags-item__empty">\n          <span class="sympli-icon icon-tag"></span>\n          You\'ve selected all tags. Well done!\n        </p>\n      </div>\n    </li>\n    <li class="extra-text">\n      To select multiple designs use Shift + Click\n    </li>\n  </ul>\n</div>\n'},{}],459:[function(e,t,n){"use strict";var i=e("underscore"),s=e("../../../../enums/SocketEventsEnum"),o=e("sympli-enums").Scopes,r=["bundleView","bundleVersionView","bundleSpecs","bundleVersionSpecs","bundleReview","bundleVersionReview"];t.exports={inherit:!0,template:e("./index.html"),ready:function(){
this.$on("selected-bundles:updated",function(e){this.selectedBundles=e?e:[],this._updateTagsListForSelectedBundles(),this._hideIfNotSelected()}.bind(this)),this.$on(s.project.tags.update,this._updateTagsListForSelectedBundles),this.$watch("bundle",function(){this._updateTagsListForSelectedBundles(),this._hideIfNotSelected()}),this.$watch("tagsShown",function(e){e&&($(this.$$.tagName).focus(),this._updateTagsListForSelectedBundles())}),this._updateTagsListForSelectedBundles()},data:function(){return{bundle:{},project:null,tagsShown:!1,selectedBundles:[],inputTagValue:"",bundleMetadata:{tags:[]},tagsForSelectedBundles:[],allProjectTags:[],tagsToRemove:[],tagsToUnSelect:[],panelStyle:{left:!1,height:250,bottomOffset:23,overflowStyles:""},multiSelect:!1}},methods:{onTagKeyUp:function(e){13==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.inputTagValue.trim()?this.onTagAdd(e):this.inputTagValue="")},onTagAdd:function(e,t){e.preventDefault();var n=t&&t.trim()?[t]:this.inputTagValue&&this.inputTagValue.trim()?this.inputTagValue.trim().split(","):void 0;if(n){var s=[];i.each(n,function(e){var t=e.trim();t&&s.push(t)});var r=[];i.each(this._withCurrentBundle(),function(e){var t=this._getBundleId(e);t&&(r.push({artboardId:e.artboardId,bundleId:t}),this._localUpdateTags(s,t,!0))}.bind(this)),this._updateTagsListForSelectedBundles(),this.$dispatch("project:tags:updated:local",this.tagsForSelectedBundles);var a=this.$api.post("/projects/"+this.project.id+"/tags",{body:{bundles:r,tags:s}});this.$api(a)}this.inputTagValue="",this.$sympliTrigger(o.cache.bundle.reset)},onTagRemove:function(e,t){e.preventDefault(),i.each(this._withCurrentBundle(),function(e){this._localUpdateTags([t],this._getBundleId(e))}.bind(this)),this._updateTagsListForSelectedBundles(),this.tagsToRemove.push(t),this.$dispatch("project:tags:updated:local",this.tagsForSelectedBundles),this.tagsToUnSelect.push(t),this._sendRemoveRequest(),this.$sympliTrigger(o.cache.bundle.reset)},_sendRemoveRequest:i.throttle(function(){var e=[];i.each(this._withCurrentBundle(),function(t){e.push({artboardId:t.artboardId,bundleId:this._getBundleId(t)})}.bind(this));var t=i.uniq([].concat(this.tagsToUnSelect));this.tagsToUnSelect=[],this.$sympliTrigger("project:tags:remove",t,e);var n=this,s=this.$api["delete"]("/projects/"+this.project.id+"/tags",{body:{bundles:e,tags:this.tagsToRemove}}).then(function(){n.tagsToRemove=[]});this.$api(s)},500),_localUpdateTags:function(e,t,n){var s=this._getMetadataByBundleId(t,this.project);n?s.tags=i.chain(s.tags).union(e).unique().value():s.tags=i.chain(s.tags).reject(function(t){return e.indexOf(t)>=0}).unique().value(),this.project.tagsMap[t]=s},_updateTagsListForSelectedBundles:function(){if(this.tagsShown){var e=[],t=this;i.each(this._withCurrentBundle(),function(n){var i=t._getTagsByBundleId(t._getBundleId(n),t.project);e.push(i)}),this.tagsForSelectedBundles=i.chain(e).flatten().unique().value(),this.allProjectTags=this._recalcAllProjectTags()}},_getMetadataByBundleId:function(e,t){if(t&&e&&t.tagsMap){var n=t.tagsMap[e];return n?n:{tags:[]}}return{tags:[]}},_getTagsByBundleId:function(e,t){var n=this._getMetadataByBundleId(e,t);return n?n.tags:[]},_recalcAllProjectTags:function(){if(this.project&&this.project.tagsMap&&this.tagsForSelectedBundles){var e=[];i.mapObject(this.project.tagsMap,function(t){e.push(t.tags)});var t=i.chain(e).flatten().unique().filter(function(e){return 0!=this.selectedBundles.length||this.tagsForSelectedBundles.indexOf(e)<0}.bind(this)).sort().value(),n=this.bundle?this._getTagsByBundleId(this._getBundleId(this.bundle),this.project):[];return i.each(this.selectedBundles,function(e){var t=this._getTagsByBundleId(this._getBundleId(e),this.project);n=i.intersection(n,t)}.bind(this)),t=i.reject(t,function(e){return n.indexOf(e)>=0})}return[]},_getBundleId:function(e){return e.bundle?e.bundle:e.id},_withCurrentBundle:function(){return this.bundle?i.union(this.selectedBundles,[this.bundle]):this.selectedBundles},_hideIfNotSelected:function(){this.bundle||this.selectedBundles&&0!=this.selectedBundles.length||(this.tagsShown=!1)}},computed:{maxHeight:function(){var e=$(window).height(),t=$(this.$el).closest(".bundle-inner").offset(),n=t?e-t.top-this.panelStyle.bottomOffset+this.panelStyle.height:e-120;return n=n>0?n:e,"max-height: "+n+"px; overflow-y: auto"},isBundleView:function(){return r.indexOf(this.$root.route.name)>=0}}}},{"../../../../enums/SocketEventsEnum":8,"./index.html":458,"sympli-enums":524,underscore:682}],460:[function(e,t,n){t.exports='<span class="bundle-tag" v-repeat="tagsWithCounts" v-on="click: toggleTag(tag)" v-class="active: active"><span class="key-ellipsis ellipsis">{{tag}}</span><i class="number">{{count}}</i></span>\n<span class="bundle-tag clear" v-if="isShowUnselectTagsButton" v-on="click: unselectAll">Unselect tags</span>\n\n<span class="bundle-tag" v-if="tagsWithCounts.length" v-on="click: showUntagged" v-class="active: untagged"><span class="ellipsis">Untagged</span><i class="number">{{untaggedCount}}</i></span>\n'},{}],461:[function(e,t,n){"use strict";var i=e("underscore"),s=e("LocalStorageBag"),o=e("../../../../enums/SocketEventsEnum"),r=e("../../../../lib/FiltersInUrlHelper").Tags,a=e("sympli-enums").Scopes;t.exports={inherit:!0,template:e("./index.html"),data:function(){return{tagsWithCounts:[],activeTags:[],untaggedBundles:[],project:null,untagged:!1}},ready:function(){this.$on(o.project.tags.update,this._updateTags),this.$on("project:tags:updated:local",function(){this._recalcTags()}),this.$on(o.bundle["delete"],this._onBundleDelete),this.$on(o.project.update,this._reloadTags),this.$on("project:tags:remove",function(e,t){var n=i.intersection(this.activeTags,e);n&&n.length&&(t=i.pluck(i.filter(t,function(e){return e&&e.bundleId}),"bundleId"),this.$sympliTrigger("bundle:unselect:ids",t));var s=r.browserHistoryPush(this.activeTags);this.$sympliTrigger("changed:share-filter",s)}),this.$on("toggle:active-issues-filter",function(){this.untagged=!1,i.each(this.tagsWithCounts,function(e){e.active=!1}),this._recalcActiveTags()}),this.$on("save:active-tags",function(t){e.set(t),this.activeTags=t}),this.$watch("project",function(){this._buildTagsMap()});var e=new s("activeTagsBag_"+this.projectId||"default",{}),t=r.getFromUrlSafeByRoute(this.route),n=!0,a=!1;if(null!==t?1===t.length&&"Untagged"===t[0]?(this.showUntagged(null,!0),n=!1):this.activeTags=t||e.get():(this.activeTags=e.get(),this.route.path.indexOf("/issues/")>0&&(this.$emit("toggle:active-issues-filter"),n=!1,a=!0)),this.activeTags=this.activeTags.tags?this.activeTags.tags:this.activeTags,n){var l=r.browserHistoryPush(this.activeTags),c=!0;this.$sympliTrigger("changed:share-filter",l,c)}this._buildTagsMap(),this._recalcTags(a)},methods:{toggleTag:function(e){this.untagged=!1,i.each(this.tagsWithCounts,function(t){t.tag===e&&(t.active=!t.active)}),this._recalc(),this.$dispatch("toggle:active-tags-filter"),this.$sympliTrigger("toggle:tags-filter");var t=r.browserHistoryPush(this.activeTags);this.$sympliTrigger("changed:share-filter",t)},unselectAll:function(){i.each(this.tagsWithCounts,function(e){e.active=!1}),this._recalc()},showUntagged:function(e,t){this.untagged=!this.untagged,i.each(this.tagsWithCounts,function(e){e.active=!1}),this._recalc(),this.untagged&&this.$dispatch("updated:active-tags-filter",this.untaggedBundles),this.$dispatch("toggle:active-tags-filter"),this.$sympliTrigger("toggle:tags-filter");var n=r.browserHistoryPush(this.untagged?["Untagged"]:null);this.$sympliTrigger("changed:share-filter",n,t)},_buildTagsMap:function(){if(this.project.metadata){this.project.tagsMap={};var e=this;i.each(this.project.metadata.bundles,function(t){t.id&&(e.project.tagsMap[t.id]=t)})}this.$sympliTrigger(a.project.tags.map.builded,this.project.tagsMap)},_updateTags:function(e){if(this.project&&e.id&&this.project.id===e.projectId){var t=this.project.tagsMap[e.id]?this.project.tagsMap[e.id].tags:void 0,n=e.tags;this.project.tagsMap[e.id]=e,i.isEqual(t,n)||this._recalcTags()}},_recalcTags:i.throttle(function(e){if(this&&this.project&&this.project.tagsMap){var t=this,n=[],s={},o=[];i.mapObject(this.project.tagsMap,function(e,t){t&&e.tags.length&&(o.push(t),i.each(e.tags,function(e){s[e]?s[e]++:s[e]=1}))}),i.mapObject(s,function(e,s){var o={tag:s,count:e,active:!0};o.active=void 0!=i.find(t.activeTags,function(e){return o.tag===e}),n.push(o)}),n=i.sortBy(n,function(e){return e.tag}),this.$set("tagsWithCounts",n),this.untaggedBundles=i.difference(this.project.bundles,o),this._recalc(e)}},500),_recalcActiveTags:function(){this.activeTags=i.pluck(i.filter(this.tagsWithCounts,function(e){return e.active}.bind(this)),"tag"),this.$emit("save:active-tags",this.activeTags),this.$dispatch("save:active-tags",this.activeTags)},_filterDesigns:function(){var e=this.untagged?[]:void 0;this.activeTags.length&&(e=[],this.project.tagsMap||this._buildTagsMap(),i.mapObject(this.project.tagsMap,function(t,n){var s=i.intersection(t.tags,this.activeTags);s.length>=this.activeTags.length&&e.push(n)}.bind(this))),this.untagged?this.$dispatch("updated:active-tags-filter",this.untaggedBundles):this.$dispatch("updated:active-tags-filter",e)},_recalc:function(e){this._recalcActiveTags(),e||this._filterDesigns()},_onBundleDelete:function(e){delete this.project.tagsMap[e.id],this.project.bundles=i.filter(this.project.bundles,function(t){return e.id!=t}),this._recalcTags()},_reloadTags:function(e){e._id==this.project.id&&(this.project.metadata=e.metadata,this.project.bundles=e.bundles,this._buildTagsMap(),this._recalcTags())}},computed:{isShowUnselectTagsButton:function(){return this.activeTags&&this.activeTags&&this.activeTags.length>4},untaggedCount:function(){return this.untaggedBundles&&this.untaggedBundles.length}}}},{"../../../../enums/SocketEventsEnum":8,"../../../../lib/FiltersInUrlHelper":11,"./index.html":460,LocalStorageBag:521,"sympli-enums":524,underscore:682}],462:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h1>Change email</h1>\n  </div>\n\n  <form class="form-horizontal" v-on="submit: changeEmail">\n    <div class="form-group">\n      <label class="col-xs-3 control-label" for="email">\n        Email\n      </label>\n      <div class="col-xs-6">\n        <input id="email" class="form-control " v-model="email" type="email" placeholder="">\n      </div>\n    </div>\n    <div class="form-group">\n      <div class="col-xs-offset-3 col-xs-4">\n        <button class="btn btn-primary">Change</button>\n      </div>\n    </div>\n  </form>\n</section>'},{}],463:[function(e,t,n){"use strict";e("underscore");t.exports={inherit:!0,template:e("./emailForm.html"),ready:function(){this.id=this.$root.route.params[0]},data:function(){return{id:null,email:""}},components:{},methods:{changeEmail:function(e){e.preventDefault();var t=this,n=this.$api.post("/users/email",{body:{email:this.email,userId:this.id}}).then(function(e){t._reset(),t.$dispatch("notify","success","Email changed successfully"),t.$dispatch("lanes:path","users")});this.$api(n)},_reset:function(){this.email=""}}}},{"./emailForm.html":462,underscore:682}],464:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h3>Users management</h3>\n  </div>\n\n  <div class="filter filter-invites clearfix">\n    <form class="form-inline pull-right" v-on="submit: filter">\n      <select class="form-control input-sm" v-model="role">\n        <option value="" selected>All roles</option>\n        <option value="user">users</option>\n        <option value="admin">admins</option>\n      </select>\n      <input id="filter-invite-token" class="form-control input-sm" v-model="id" type="id" placeholder="Id">\n      <input id="filter-invite-email" class="form-control input-sm" v-model="email" type="text" placeholder="Email">\n      <button type="submit" class="btn btn-sm btn-default">Filter</button>\n    </form>\n  </div>\n\n  <hr/>\n\n  <div class="invites">\n    <table class="table table-hover">\n      <thead>\n      <tr>\n        <td>Id</td>\n        <td>Email</td>\n        <td>Signed up</td>\n        <td></td>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-repeat="user: users">\n        <td><a href="#!/users/{{user.id}}">{{user.id}}</a></td>\n        <td>{{user.email}}</td>\n        <td>{{user.createdAt | moment short}}</td>\n        <td>\n          <a class="btn btn-sm btn-default pull-right" href="#!/users/password/{{user.id}}">Reset password</a>\n          <a class="btn btn-sm btn-default pull-right" href="#!/users/email/{{user.id}}" style="margin: 0 5px 0 0;">Change email</a>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n    <p v-if="!users.length">\n      no users to be displayed...\n    </p>\n  </div>\n\n  <hr/>\n  <div class="text-left pull-left"\n     v-component="pagination"\n     current-page="{{currentPage}}"\n     per-page="{{perPage}}"\n     total-pages="{{totalPages}}"></div>\n</section>\n'},{}],465:[function(e,t,n){"use strict";e("underscore");t.exports={inherit:!0,template:e("./index.html"),created:function(){this._loadUsers(),this.$on("change:page",function(e){this.currentPage=e,this._loadUsers()})},data:function(){return{users:[],email:"",id:"",role:"",currentPage:0,totalPages:1,perPage:10}},methods:{filter:function(e){e.preventDefault(),this.resetPaginationParams(),this._loadUsers()},resetPaginationParams:function(){this.currentPage=0,this.totalPages=1},_loadUsers:function(){var e=this,t={skip:this.currentPage*this.perPage,limit:this.perPage};this.email&&(t.email=this.email),this.id&&(t.id=this.id),this.role&&(t.role=this.role);var n=this.$api.get("/users",{qs:t}).then(function(t){e.users=t.data||[],this.totalPages=Math.ceil(t.count/this.perPage),this.loading=!1}.bind(this));this.$api(n)},resetPassword:function(e,t){e.preventDefault();var n=this;bootbox.confirm("Are you sure?",function(e){e&&this.$api(this.$api.post("/users/:id/password",{params:{id:t.id}}).then(function(e){n.$dispatch("notify","success","Password reset instruction sent to user")}))}.bind(this))}},components:{pagination:e("../common/simple-pagination")}}},{"../common/simple-pagination":191,"./index.html":464,underscore:682}],466:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h1>Reset password</h1>\n  </div>\n\n  <form class="form-horizontal" v-on="submit: resetPassword">\n    <div class="form-group">\n      <label class="col-xs-3 control-label" for="password">\n        Password\n      </label>\n      <div class="col-xs-6">\n        <input id="password" class="form-control " v-model="password" type="password" placeholder="">\n      </div>\n    </div>\n    <div class="form-group">\n      <div class="col-xs-offset-3 col-xs-10">\n        <div class="checkbox">\n          <label>\n            <input type="checkbox" v-model="sendEmail"> Send email\n          </label>\n        </div>\n      </div>\n    </div>\n    <div class="form-group">\n      <div class="col-xs-offset-3 col-xs-4">\n        <button class="btn btn-primary">Reset</button>\n      </div>\n    </div>\n  </form>\n</section>'},{}],467:[function(e,t,n){"use strict";e("underscore");t.exports={inherit:!0,template:e("./passwordForm.html"),ready:function(){this.id=this.$root.route.params[0]},data:function(){return{id:null,password:"",sendEmail:!0}},components:{},methods:{resetPassword:function(e){e.preventDefault();var t=this,n=this.$api.post("/users/password",{body:{password:this.password,userId:this.id,sendEmail:this.sendEmail}}).then(function(e){t._reset(),t.$dispatch("notify","success","Password reset instruction sent to user"),t.$dispatch("lanes:path","users")});this.$api(n)},_reset:function(){this.password="",this.sendEmail=!1}}}},{"./passwordForm.html":466,underscore:682}],468:[function(e,t,n){t.exports='<div v-if="model">\n  <div class="container">\n    <div class="page-header">\n      <h1>\n        User:{{model.email}}\n        <small>{{model.id}}</small>\n      </h1>\n    </div>\n    <p class="text-right">\n      <a href="#!/customers/{{model.id}}/edit">Customer</a>\n      <a class="btn btn-primary btn-sm" href="#" v-on="click: onSync"><i class="fa fa-exchange"></i> Sync</a>\n    </p>\n    <dl class="dl-horizontal">\n      <dt>Id</dt>\n      <dd>{{model.id}}</dd>\n      <dt>Role</dt>\n      <dd>{{model.role}}</dd>\n      <dt>Email</dt>\n      <dd>{{model.email}}</dd>\n      <dt>Signed Up</dt>\n      <dd>{{model.createdAt | moment short}}</dd>\n      <dt>Plan</dt>\n      <dd>\n        {{model.plan.name}}\n        <br>\n        <a data-toggle="collapse" href="#plan-details" aria-expanded="false" aria-controls="plan-details">Show details...</a>\n        <div class="collapse" id="plan-details">\n          <pre>{{model.plan | json}}</pre>\n        </div>\n      </dd>\n    </dl>\n  </div>\n\n  <section class="container">\n    <h1 class="page-header">Settings <small>overrides</small></h1>\n\n    <form class="form-horizontal" v-on="submit: onSettingsSubmit">\n      <div class="form-group">\n        <label class="col-xs-3 control-label" for="projectsCount">\n          projectsCount\n        </label>\n        <div class="col-xs-6">\n          <input id="projectsCount" class="form-control" v-model="model.settings.projectsCount" type="number">\n        </div>\n      </div>\n\n      <div class="form-group">\n        <label class="col-xs-3 control-label" for="usersCount">\n          usersCount\n        </label>\n        <div class="col-xs-6">\n          <input id="usersCount" class="form-control" v-model="model.settings.usersCount" type="number">\n        </div>\n      </div>\n\n      <div class="form-group">\n        <div class="col-xs-offset-3 col-xs-6 checkbox">\n          <label>\n            <input v-model="model.settings.isArchiveEnabled" type="checkbox">\n            isArchiveEnabled\n          </label>\n        </div>\n      </div>\n\n\n      <div class="form-group">\n        <div class="col-xs-offset-3 col-xs-6 checkbox">\n          <label>\n            <input v-model="model.settings.isTransferEnabled" type="checkbox">\n            isTransferEnabled\n          </label>\n        </div>\n      </div>\n\n      <div class="form-group">\n        <div class="col-xs-offset-3 col-xs-6 checkbox">\n          <label>\n            <input v-model="model.settings.isSlackEnabled" type="checkbox">\n            isSlackEnabled\n          </label>\n        </div>\n      </div>\n\n      <div class="form-group">\n        <div class="col-xs-offset-3 col-xs-6 checkbox">\n          <label>\n            <input v-model="model.settings.isWebhooksEnabled" type="checkbox">\n            isWebhooksEnabled\n          </label>\n        </div>\n      </div>\n\n      <div class="form-group">\n        <div class="col-xs-offset-3 col-xs-6 checkbox">\n          <label><input v-model="model.settings.isJiraEnabled" type="checkbox">isJiraEnabled</label>\n          &nbsp;&nbsp;&nbsp;&nbsp;\n          <label><input v-model="model.settings.isJiraConfigured" type="checkbox">isJiraConfigured (auto-checked when Jira applies accessToken)</label>\n        </div>\n      </div>\n\n      <div class="form-group">\n        <div class="col-xs-offset-3 col-xs-6 checkbox">\n          <label>\n            <input v-model="model.settings.isCompanyEnabled" type="checkbox">\n            isCompanyEnabled\n          </label>\n        </div>\n      </div>\n\n      <div class="form-group">\n        <div class="col-xs-offset-3 col-xs-6 checkbox">\n          <label>\n            <input v-model="model.settings.isSamlEnabled" type="checkbox">\n            isSamlEnabled (not in use for now)\n          </label>\n        </div>\n      </div>\n\n      <h1 class="page-header">Settings <small>other</small></h1>\n\n      <div class="form-group">\n        <label class="col-xs-3 control-label" for="activateShots">\n          activateShots\n        </label>\n        <div class="col-xs-6">\n          <input id="activateShots" class="form-control" v-model="model.settings.activateShots" type="number">\n        </div>\n      </div>\n\n      <div class="form-group">\n        <div class="col-xs-offset-3 col-xs-6 checkbox">\n          <label><input v-model="model.settings.isVersionsEnabled" type="checkbox">isVersionsEnabled</label>\n        </div>\n      </div>\n\n      <div class="form-group">\n        <div class="col-xs-offset-3 col-xs-4">\n          <button class="btn btn-primary">Save Settings</button>\n        </div>\n      </div>\n\n    </form>\n  </section>\n</div>\n'},{}],469:[function(e,t,n){"use strict";t.exports={inherit:!0,template:e("./view.html"),created:function(){this.id=this.$root.route.params[0],this.id&&this._loadUser()},data:function(){return{id:null,model:null}},components:{},methods:{_loadUser:function(){var e=this,t=this.$api.get("/users/"+this.id).then(function(t){e.model=t.data});this.$api(t)},onSettingsSubmit:function(e){e.preventDefault();var t=this,n={isWebhooksEnabled:!!this.model.settings.isWebhooksEnabled,isSlackEnabled:!!this.model.settings.isSlackEnabled,isSamlEnabled:!!this.model.settings.isSamlEnabled,isJiraEnabled:!!this.model.settings.isJiraEnabled,isJiraConfigured:!!this.model.settings.isJiraConfigured,isTransferEnabled:!!this.model.settings.isTransferEnabled,isArchiveEnabled:!!this.model.settings.isArchiveEnabled,isCompanyEnabled:!!this.model.settings.isCompanyEnabled,projectsCount:this.model.settings.projectsCount,usersCount:this.model.settings.usersCount,isVersionsEnabled:!!this.model.settings.isVersionsEnabled,activateShots:this.model.settings.activateShots},i=this.$api.post("/users/"+this.id+"/settings",{body:n}).then(function(e){t.model=e.data,t.$dispatch("notify","success","User settings saved")});this.$api(i)},onSync:function(e){e.preventDefault();var t=this;this.$api(this.$api.post("/customers/"+t.model.id+"/sync").then(function(e){t.$dispatch("notify","success","Customer synced ("+t.model.id+" "+t.model.email+")")}))}}}},{"./view.html":468}],470:[function(e,t,n){t.exports='<div class="form-group">\n  <label class="col-xs-3 control-label" >\n    {{title}}\n  </label>\n\n  <div class="col-xs-4" >\n    <input type="file" class="form-control {{class}}"/>\n  </div>\n  <div class="col-xs-5" v-if="file && file.updatedAt">\n    \n    <span>uploaded {{file.updatedAt | moment short}}</span> on <b>{{file.storedOn}}</b><br/>\n\n    <span>md5: {{file.md5}}</span><br/>\n    <span>file name: <a href="{{file.blobUrlPrefix}}{{file.name}}">{{file.name}}</a></span>\n\n    <div class="btn btn-danger btn-xs" v-on="click: onDeleteVersionFile($event, type)"><i class="fa fa-trash"></i></div>\n\n  </div>\n</div>\n'},{}],471:[function(e,t,n){t.exports={inherit:!0,template:e("./index.html"),data:function(){return{title:"","class":"",file:null}}}},{"./index.html":470}],472:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h1 v-if="!id">Create version</h1>\n\n    <h1 v-if="id">Update version</h1>\n  </div>\n  <form class="form-horizontal" v-on="submit: saveVersion">\n    <div class="form-group">\n      <label class="col-xs-3 control-label" for="version-type">\n        Type\n      </label>\n\n      <div class="col-xs-6">\n        <select class="form-control" id="version-type" v-model="versionType" v-validate="required"\n                v-attr="disabled: platformDefaultUpdate|| platformWin64Update || platformMacUpdate">\n          <option value="androidstudio" selected="selected">androidstudio</option>\n          <option value="xcode">xcode</option>\n          <option value="photoshop">photoshop</option>\n          <option value="sketch">sketch</option>\n          <option value="web">web</option>\n        </select>\n        <div class="tooltip top" v-if="validation.versionType.required" role="tooltip">\n          <div class="tooltip-arrow"></div>\n          <div class="tooltip-inner">\n            Please fill out a valid version type\n          </div>\n        </div>\n      </div>\n\n    </div>\n    <div class="form-group">\n      <label class="col-xs-3 control-label" for="version-number">\n        Number\n      </label>\n\n      <div class="col-xs-6">\n        <input id="version-number" class="form-control" v-model="versionNumber" type="text" placeholder="ex. 0.0.1"\n               v-attr="disabled: platformDefaultUpdate || platformWin64Update || platformMacUpdate"\n               v-validate="required, pattern: semverRegExp">\n        <div class="tooltip top" v-if="validation.versionNumber.required || validation.versionNumber.pattern"\n             role="tooltip">\n          <div class="tooltip-arrow"></div>\n          <div class="tooltip-inner">\n            Please fill out a valid version number\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="col-xs-3 control-label" for="version-notes">\n        Notes\n      </label>\n\n      <div class="col-xs-6">\n        <textarea id="version-notes" class="form-control" v-model="versionNotes" rows="10"></textarea>\n      </div>\n    </div>\n    <div v-if="id && versionType != \'web\'">\n      <div class="form-group" v-show="versionType==\'photoshop\'">\n        <div class="checkbox col-xs-offset-3" >\n          <label >\n            <input type="checkbox" v-model="singlePSWinVersion"> Use single version for windows platform\n          </label>\n        </div>\n      </div>\n\n      <div v-if="versionType!=\'photoshop\' && versionType!=\'sketch\'" v-component="file-upload"\n           v-with="class:\'version-file-default\', title:\'Default File all platforms\', file:model.files && model.files.default, type: \'default\'"></div>\n\n      <div v-if="versionType!=\'photoshop\'  && versionType!=\'sketch\'" v-component="file-upload"\n           v-with="class:\'version-file-alt\', title:\'Alt Version File all platforms\', file:model.files && model.files.alt, type: \'alt\'"></div>\n\n      <div v-if="versionType==\'sketch\'" v-component="file-upload"\n           v-with="class:\'version-file-default\', title:\'Sketch .dmg version\', file:model.files && model.files.default, type: \'default\'"></div>\n\n      <div v-if="versionType==\'sketch\'" v-component="file-upload"\n           v-with="class:\'version-file-alt\', title:\'Sketch .sketchplugin version\', file:model.files && model.files.alt, type: \'alt\'"></div>\n\n      <div v-if="versionType==\'photoshop\' && !singlePSWinVersion" v-component="file-upload"\n           v-with="class:\'version-file-win32\', title:\'Version File Win 32 platform\', file:model.files && model.files.win32, type: \'win32\'"></div>\n      <div v-if="versionType==\'photoshop\' && !singlePSWinVersion" v-component="file-upload"\n           v-with="class:\'version-file-win64\', title:\'Version File Win 64 platform\', file:model.files && model.files.win64, type: \'win64\'"></div>\n\n      <div v-if="versionType==\'photoshop\' && singlePSWinVersion" v-component="file-upload"\n           v-with="class:\'version-file-win\', title:\'Version File Windows platform\', file:model.files && model.files.win, type: \'win\'"></div>\n      <div v-if="versionType==\'photoshop\'" v-component="file-upload"\n           v-with="class:\'version-file-mac\', title:\'Version File Mac OS platform\', file:model.files && model.files.mac, type: \'mac\'"></div>\n\n    </div>\n    <div class="form-group">\n      <div class="col-xs-offset-3 col-xs-4">\n        <button class="btn btn-primary" v-if="!id">Create</button>\n        <button class="btn btn-primary" v-if="id">Update</button>\n      </div>\n      <div class="col-xs-offset-1 col-xs-4">\n        <a class="btn btn-warning" href="#!/versions">Back</a>\n      </div>\n    </div>\n  </form>\n</section>\n'},{}],473:[function(e,t,n){"use strict";var i=(e("underscore"),e("semver-regex"));t.exports={inherit:!0,template:e("./form.html"),components:{"file-upload":e("./file-upload")},ready:function(){this.id=this.$root.route.params[0],this.id&&this.loadVersion()},data:function(){return{id:null,model:{},singlePSWinVersion:!0,versionType:"",versionNumber:"",versionNotes:"",semverRegExp:i().toString()}},methods:{loadVersion:function(){var e=this,t=this.$api.get("/versions/"+this.$root.route.params[0]).then(function(t){e.model=t.data,e.versionType=e.model.type,e.versionNumber=e.model.version,e.versionNotes=e.model.notes,e.singlePSWinVersion=!(e.model.files&&(e.model.files.win32||e.model.files.win64))});this.$api(t)},saveVersion:function(e){e.preventDefault();var t=this;if(this.valid){if(this.id&&this.$el.getElementsByClassName("version-file-default").length>0&&this.$el.getElementsByClassName("version-file-alt").length>0){var n=this.$el.getElementsByClassName("version-file-default")[0].files[0],i=this.$el.getElementsByClassName("version-file-alt")[0].files[0];if(n&&i&&n.name.substring(n.name.length-3)==i.name.substring(i.name.length-3)||!i&&n&&t.model.files&&t.model.files.alt&&n.name.substring(n.name.length-3)==t.model.files.alt.name.substring(t.model.files.alt.name.length-3)||!n&&i&&t.model.files&&t.model.files["default"]&&i.name.substring(i.name.length-3)==t.model.files["default"].name.substring(t.model.files["default"].name.length-3))return void alert("Щас перетрещь основной файл установки альтернативным")}var s=this.id?"put":"post",o=this.id?"/versions/"+this.id:"/versions",r=void 0;if(this.id){var a=new FormData;switch(this.versionType){case"androidstudio":case"xcode":case"sketch":n&&a.append("default",n),i&&a.append("alt",i);break;case"photoshop":this.$el.getElementsByClassName("version-file-win32").length>0&&this.$el.getElementsByClassName("version-file-win32")[0].files[0]&&a.append("win32",this.$el.getElementsByClassName("version-file-win32")[0].files[0]),this.$el.getElementsByClassName("version-file-win").length>0&&this.$el.getElementsByClassName("version-file-win")[0].files[0]&&a.append("win",this.$el.getElementsByClassName("version-file-win")[0].files[0]),this.$el.getElementsByClassName("version-file-win64").length>0&&this.$el.getElementsByClassName("version-file-win64")[0].files[0]&&a.append("win64",this.$el.getElementsByClassName("version-file-win64")[0].files[0]),this.$el.getElementsByClassName("version-file-mac").length>0&&this.$el.getElementsByClassName("version-file-mac")[0].files[0]&&a.append("mac",this.$el.getElementsByClassName("version-file-mac")[0].files[0])}a.append("version",this.versionNumber),a.append("type",this.versionType),a.append("notes",this.versionNotes),r={data:a}}else{var l={version:this.versionNumber,type:this.versionType,notes:this.versionNotes};r={body:l}}var c=this.$api[s](o,r).then(function(e){t.$dispatch("notify","success","Version saved"),t.id||"web"==t.versionType?t.$dispatch("lanes:path","versions"):(t._reset(),t.$dispatch("lanes:path","versions/"+e.data.id+"/edit"))});this.$api(c)}},_reset:function(){this.versionType="",this.versionNumber="",this.versionNotes=""},onDeleteVersionFile:function(e,t){e.preventDefault(),bootbox.confirm("Are you sure you want to delete version file "+t+" ?",function(e){e&&this.deleteVersionFile(t)}.bind(this))},deleteVersionFile:function(e){var t=this,n="/versions/"+this.id+"/file",i={type:e},s=this.$api.post(n,{body:i}).then(function(n){t.$dispatch("notify","success","Version file "+e+" deleted"),t._reset(),t.loadVersion()});this.$api(s)}}}},{"./file-upload":471,"./form.html":472,"semver-regex":605,underscore:682}],474:[function(e,t,n){t.exports='<section class="container">\n  <div class="page-header">\n    <h3>Versions</h3>\n  </div>\n  <div class="filter filter-invites clearfix">\n    <div class="form-inline pull-right" >\n      <label for="typeFilter">Plugin type</label>\n      <select class="form-control input-sm" id="typeFilter" v-model="typeFilter">\n        <option value="" selected>All types</option>\n        <option value="androidstudio">androidstudio</option>\n        <option value="xcode">xcode</option>\n        <option value="photoshop">photoshop</option>\n        <option value="sketch">sketch</option>\n        <option value="web">web</option>\n      </select>\n      <label for="statusFilter">Plugin status</label>\n      <select class="form-control input-sm" id="statusFilter" v-model="statusFilter">\n        <option value="" selected>All statuses</option>\n        <option value="new">new</option>\n        <option value="ready">ready</option>\n      </select>\n    </div>\n  </div>\n\n  <hr/>\n  <div class="invites">\n    <table class="table table-hover">\n      <thead>\n      <tr>\n        <td>Type</td>\n        <td>Status</td>\n        <td>Version</td>\n        <td></td>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-repeat="version: versions">\n        <td>{{version.type}}</td>\n        <td>{{version.status}}</td>\n        <td><a href="#!/versions/{{version.id}}/edit">{{version.version }}</a></td>\n        <td class="text-right">\n          <a class="btn btn-danger" href="#!/versions/{{version.id}}/edit"><i class="fa fa-pencil "></i> Edit</a>\n          <a class="btn btn-danger" href="#" v-on="click: deleteVersion($event, version)"><i class="fa fa-remove"></i> Delete</a>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n\n    <p v-if="!versions.length">\n      no versions to be displayed...\n    </p>\n  </div>\n\n  <hr/>\n  <div class="text-left pull-left"\n     v-component="pagination"\n     current-page="{{currentPage}}"\n     per-page="{{perPage}}"\n     total-pages="{{totalPages}}"></div>\n  <a class="btn btn-default pull-right" href="#!/versions/create">Create version</a>\n</section>\n';
},{}],475:[function(e,t,n){"use strict";var i=(e("underscore"),e("semver"));t.exports={inherit:!0,template:e("./index.html"),created:function(){this._loadVersions(),this.$on("change:page",function(e){this.currentPage=e,this._loadVersions()}),this.$watch("typeFilter",function(){this.filter()}),this.$watch("statusFilter",function(){this.filter()})},data:function(){return{versions:[],typeFilter:"",statusFilter:"",currentPage:0,totalPages:1,perPage:10}},methods:{filter:function(){this.resetPaginationParams(),this._loadVersions()},resetPaginationParams:function(){this.currentPage=0,this.totalPages=1},_loadVersions:function(){var e=this,t={skip:this.currentPage*this.perPage,limit:this.perPage};this.typeFilter&&(t.type=this.typeFilter),this.statusFilter&&(t.status=this.statusFilter),t.sort="-version";var n=this.$api.get("/versions",{qs:t}).then(function(t){var n=t.data||[];e.versions=n.sort(function(e,t){return-i.rcompare(t.version,e.version)}),e.totalPages=Math.ceil(t.count/e.perPage)});this.$api(n)},deleteVersion:function(e,t){e.preventDefault();var n=this;bootbox.confirm("Are you sure?",function(e){e&&this.$api(this.$api["delete"]("/versions/"+t.id).then(function(e){n.$dispatch("notify","success","Version was deleted"),n._loadVersions()}))}.bind(this))}},components:{pagination:e("../common/simple-pagination")}}},{"../common/simple-pagination":191,"./index.html":474,semver:606,underscore:682}],476:[function(e,t,n){function i(e){var e=o.map(e,function(e){return{id:e.id,name:e.profile.name||e.email,nickname:e.nickname,email:e.email,picture:e.picture}}),t={at:"@",data:e,headerTpl:'<div class="atwho-header" onClick="if(event && event.stopPropagation){event.stopPropagation()}">Member List</div>',insertTpl:"@${nickname}",displayTpl:"<li class='ellipsis'><img src='${picture}' alt='' class='gravatar-image'> ${name} <small>${email}</small></li>",limit:200,callbacks:{filter:function(e,t,n){var i=[],s=e.toLowerCase();return o.each(t,function(e){var t=new String(e.name).toLowerCase(),n=new String(e.email).toLowerCase(),o=new String(e.nickname).toLowerCase();(~t.indexOf(s)||~n.indexOf(s)||~o.indexOf(s))&&i.push(e)}),i},sorter:function(e,t,n){var i=[],r=e.toLowerCase();return o.each(t,function(e){e.orderIndex1=s(e.name,r,1e3),e.orderIndex2=s(e.email,r,1e3),e.orderIndex3=s(e.nickname,r,1e3),i.push(e)}),i.sort(function(e,t){return e.orderIndex1!=t.orderIndex1?e.orderIndex1-t.orderIndex1:e.orderIndex2!=t.orderIndex2?e.orderIndex2-t.orderIndex2:e.orderIndex3-t.orderIndex3})}}};return t}function s(e,t,n){var i=new String(e).toLowerCase().indexOf(t);return i===-1?n:i}var o=e("underscore");t.exports={bind:function(){},unbind:function(){this.reset()},update:function(e){this.reset();var t=$(this.el),n=this.vm,s=this;t.atwho(i(e)),this.onInsertAtwho=function(e,i,s){s.stopPropagation(),t.trigger("change"),t.trigger("input");var o=["inserted.atwho"].concat([].slice.call(arguments,0));n.$emit.apply(n,o)},this.onShownAtwho=function(){var e=["shown.atwho"].concat([].slice.call(arguments,0));n.$emit.apply(n,e),$(document).on("scroll",s.onDocumentScroll)},this.onHiddenAtwho=function(){var e=["hidden.atwho"].concat([].slice.call(arguments,0));n.$emit.apply(n,e),$(document).off("scroll",s.onDocumentScroll)},this.onDocumentScroll=function(){t.atwho("reposition")},t.on("inserted.atwho",this.onInsertAtwho),t.on("shown.atwho",this.onShownAtwho),t.on("hidden.atwho",this.onHiddenAtwho)},reset:function(){var e=$(this.el);this.onInsertAtwho&&e.off("inserted.atwho",this.onInsertAtwho),this.onShownAtwho&&e.off("shown.atwho",this.onShownAtwho),this.onHiddenAtwho&&e.off("hidden.atwho",this.onHiddenAtwho),e.atwho("destroy")}}},{underscore:682}],477:[function(e,t,n){"use strict";function i(e){var t=$(e),n={minRows:t.data("autoresizeMinRows")||0,maxRows:t.data("autoresizeMaxRows")||8,canShrink:!0},i=s.getTextareaStyle(e,n);e.style.height=i.height,e.style.overflowY=i.overflowY}var s=(e("underscore"),e("textarea-autoresize"));t.exports={bind:function(){this.el.addEventListener("keyup",this._onKeyup=this._autoresire.bind(this)),setTimeout(this._autoresire.bind(this))},_autoresire:function(){this.el&&i(this.el)},unbind:function(){this._onKeyup&&this.el.removeEventListener("keyup",this._onKeyup)}}},{"textarea-autoresize":671,underscore:682}],478:[function(e,t,n){"use strict";var i=e("sympli-enums").Scopes,s={mouseover:"mouseover",mouseout:"mouseout"},o={expanded:"expanded",collapsed:"collapsed"};t.exports={initialized:!1,options:{},maxWidth:null,allowedMaxWidth:null,bind:function(){this.el.addEventListener(s.mouseover,this._onMouseover.bind(this)),this.el.addEventListener(s.mouseout,this._onMouseout.bind(this)),$(this.el).addClass(o.collapsed),this.initialized=!1},update:function(e){this.initialized||(this.options=e,this._bindEvents(),this.initialized=!0)},unbind:function(){this.el.removeEventListener(s.mouseover,this._onMouseover.bind(this)),this.el.removeEventListener(s.mouseout,this._onMouseout.bind(this))},_bindEvents:function(){var e=this.options.namespace?this.options.namespace+":":"";this.vm.$on(e+i.breadcrumbs.item.collapse,this._handleBreadcrumbMaxWidthChange.bind(this)),this.vm.$on(e+i.breadcrumbs.item.expand,this._handleBreadcrumbMaxWidthChange.bind(this))},_handleBreadcrumbMaxWidthChange:function(e,t){this.maxWidth=e===!1?"none":e+"px",this.allowedMaxWidth=t===!1?"none":t+"px",$(this.el).css("max-width",this.maxWidth)},_onMouseover:function(){$(this.el).css("max-width",this.allowedMaxWidth).removeClass(o.collapsed).addClass(o.expanded),this.vm&&this.vm.$sympliTrigger(i.breadcrumbs.item.expanded)},_onMouseout:function(){$(this.el).css("max-width",this.maxWidth).removeClass(o.expanded).addClass(o.collapsed),this.vm&&this.vm.$sympliTrigger(i.breadcrumbs.item.collapsed)}}},{"sympli-enums":524}],479:[function(e,t,n){var i=e("underscore");t.exports={bind:function(){this.reset()},unbind:function(){this.reset()},update:function(e){this.isShown=e,this.carusel=new GeminiScrollbar({element:this.el,createElements:!1,autoshow:!1,forceGemini:!0}).create();var t=this,n=this.carusel.getViewElement();this.vm.$on("carusel:reInit",function(e){t.carusel&&i.delay(function(){t.carusel.update();var e=$(n).find(".active").get(0);e&&$(n).scrollLeft($(e).offset().left)})}),this.vm.$on("document:left",function(){t.isShown&&$(n).scrollLeft($(n).scrollLeft()-50)}),this.vm.$on("document:right",function(){t.isShown&&$(n).scrollLeft($(n).scrollLeft()+50)}),$(this.el).on("mousewheel",function(e){var t=50,i=e.deltaY+e.deltaX;if(navigator.platform.toLowerCase().indexOf("mac")>-1){var s=Math.abs(i);t=s<t?s:10}i>0?$(n).scrollLeft($(n).scrollLeft()-t):$(n).scrollLeft($(n).scrollLeft()+t),e.preventDefault()})},reset:function(){this.carusel&&this.carusel.destroy()}}},{underscore:682}],480:[function(e,t,n){var i=e("clipboard");t.exports={bind:function(){var e=this;this.reset();var t=this.clipboard=new i(this.el),n=this.el;t.on("success",function(e){n.classList.add("clipboard-is-copied"),setTimeout(function(){n.classList.remove("clipboard-is-copied")},2e3)}),t.on("error",function(t){var n="",i="cut"===t.action?"X":"C";n=/iPhone|iPad/i.test(navigator.userAgent)?"No support :(":/Mac/i.test(navigator.userAgent)?"Press ⌘-"+i+" to "+t.action:"Press Ctrl-"+i+" to "+t.action;var s=$(e.el);s.popover({content:n,container:"body",placement:"auto"}).click(function(){setTimeout(function(){s.popover("hide")},7e3)})})},unbind:function(){this.reset()},reset:function(){this.clipboard&&this.clipboard.destroy()}}},{clipboard:583}],481:[function(e,t,n){var i="_vue_v-close-non-canvas_handler";t.exports={twoWay:!0,bind:function(){this.el[i]=function(e){!e.isOnLayer&&this&&this.vm&&(this.set(!1),this.vm.$off("html:click",this.el[i]),this.vm[i]=!1)}.bind(this),this.el.addEventListener("click",this.stopPropagation)},unbind:function(){delete this.el[i],this.el.removeEventListener("click",this.stopPropagation)},update:function(e,t){t!=e&&e===!0?this.vm.$once("html:click",function(){this.vm.$on("html:click",this.el[i]),this.vm[i]=!0}.bind(this)):this.vm[i]===!0&&(this.vm.$off("html:click",this.el[i]),this.vm[i]=!1)},stopPropagation:function(e){e.stopPropagation()}}},{}],482:[function(e,t,n){var i="_vue_v-close_handler";t.exports={twoWay:!0,bind:function(){this.el[i]=function(){this&&this.vm&&(this.set(!1),this.vm.$off("html:click",this.el[i]),this.vm.$off("document:esc",this.el[i]),this.vm[i]=!1)}.bind(this),this.el.addEventListener("click",this.stopPropagation)},unbind:function(){delete this.el[i],this.el.removeEventListener("click",this.stopPropagation)},update:function(e,t){t!=e&&e===!0?this.vm.$once("html:click",function(){this.vm.$once("html:click",this.el[i]),this.vm.$once("document:esc",this.el[i]),this.vm[i]=!0}.bind(this)):this.vm[i]===!0&&(this.vm.$off("html:click",this.el[i]),this.vm.$off("document:esc",this.el[i]),this.vm[i]=!1)},stopPropagation:function(e){e.stopPropagation()}}},{}],483:[function(e,t,n){(function(e){t.exports={documentTitle:null,bind:function(){this.documentTitle=e.document.title},update:function(t){t&&this.documentTitle&&this.documentTitle.indexOf(t)<0&&(e.document.title=t+" - "+this.documentTitle)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],484:[function(e,t,n){t.exports={twoWay:!0,deep:!0,update:function(e){if(this._reset(),e&&e.dragEnabled!==!1){this.options=e,this.options.moveClass=this.options.moveClass||!1;var t,n,i;this.el.addEventListener("mousedown",this.onMouseDown=function(e){t=!0,n=e.clientX,i=e.clientY,this.options.moveClass&&$(this.el).addClass(this.options.moveClass),this.el.style.setProperty("cursor","all-scroll","important")}.bind(this)),this.el.addEventListener("mousemove",this.onMouseMove=function(e){t&&(this._setState(!0),this.el.scrollLeft-=e.clientX-n,this.el.scrollTop-=e.clientY-i,n=e.clientX,i=e.clientY)}.bind(this)),this.el.addEventListener("mouseup",this.onMouseUp=function(e){t&&(t=!1,this.options.moveClass&&$(this.el).removeClass(this.options.moveClass),$(this.el).css("cursor",""))}.bind(this)),this.el.addEventListener("click",this.onClick=function(e){this._setState(!1)}.bind(this))}},unbind:function(){this._reset()},_reset:function(){this.onMouseDown&&this.el.removeEventListener("mousedown",this.onMouseDown),this.onMouseMove&&this.el.removeEventListener("mousemove",this.onMouseMove),this.onMouseUp&&this.el.removeEventListener("mouseup",this.onMouseUp),this.onClick&&this.el.removeEventListener("click",this.onClick),this.options.moveClass&&$(this.el).removeClass(this.options.moveClass),$(this.el).css("cursor",""),this._setState(!1)},_setState:function(e){this.options.dragState=e,this.set(this.options)}}},{}],485:[function(e,t,n){var i=e("underscore");t.exports={twoWay:!0,deep:!0,bind:function(){this.scrollPaneInited=!1,this.dragToInited=!1},update:function(e){return this._initOptions(e),this.scrollPaneInited||(this._resetScrollPane(),this.jscrollpane=$(this.el).jScrollPane(this._getScrollPaneOptions(e)),this._bindScrollPaneEvents(),this.scrollPaneInited=!0),e.dragEnabled===!1?(this._resetDragTo(),void(this.dragToInited=!1)):void(this.dragToInited||(this._resetDragTo(),this.dragto={clicked:!1,lastClientX:0,lastClientY:0},this._bindDragToEvents(),this.dragToInited=!0))},unbind:function(){this._resetScrollPane(),this._resetDragTo()},_resetScrollPane:function(){this.jscrollpane&&this.jscrollpane.data("jsp")&&(this.jscrollpane.data("jsp").destroy(),this.jscrollpane=null)},_resetDragTo:function(){this.onMouseDown&&this.el.removeEventListener("mousedown",this.onMouseDown),this.onMouseMove&&this.el.removeEventListener("mousemove",this.onMouseMove),this.onMouseUp&&this.el.removeEventListener("mouseup",this.onMouseUp),this.onClick&&this.el.removeEventListener("click",this.onClick),this.onMouseleave&&this.el.removeEventListener("mouseleave",this.onMouseleave),this.options.moveClass&&$(this.el).removeClass(this.options.moveClass),$(this.el).css("cursor",""),this._setState(!1)},_setState:function(e){this.options.dragState=e,this.set(this.options)},_initOptions:function(e){this.options=e||{},this.options.moveClass=this.options.moveClass||"drag-to-scroll",this.parent=$(this.el).parent()},_getScrollPaneOptions:function(e){return e?(e.verticalGutter=0,e.horizontalGutter=0):e={verticalGutter:0,horizontalGutter:0},e},_bindScrollPaneEvents:function(){this.jscrollpane.bind("jsp-initialised",function(){this.vm.$emit("scrollPane:init")}.bind(this)),this.jscrollpane.bind("jsp-scroll-y",function(){this.vm.$dispatch("scrollPane:scroll")}.bind(this)),this.jscrollpane.bind("jsp-scroll-x",function(){this.vm.$dispatch("scrollPane:scroll")}.bind(this)),this.vm.$on("jsp-scroll:aimzoom",function(e){if(e){var t=this.jscrollpane.data("jsp"),n=t.getContentPositionX()+e.x,i=t.getContentPositionY()+e.y;t.scrollTo(n,i)}}.bind(this)),this.vm.$on("scrollPane:reInit",function(e){var t=this;this.jscrollpane&&this.jscrollpane.data("jsp")?i.delay(function(){t.jscrollpane&&t.jscrollpane.data("jsp").reinitialise(t._getScrollPaneOptions(e))}):i.delay(function(){t.jscrollpane=t.parent.children(":first").jScrollPane(t._getScrollPaneOptions(e))})}.bind(this)),this.vm.$on("scrollPane:scrollBottom",function(e){this.jscrollpane&&this.jscrollpane.data("jsp")&&this.jscrollpane.data("jsp").scrollToBottom(!1)}.bind(this)),this.vm.$on("scrollPane:scrollTopLeft",function(e){this.jscrollpane&&this.jscrollpane.data("jsp")&&this.jscrollpane.data("jsp").scrollTo(0,0,!1)}.bind(this)),this.vm.$on("scrollPane:destroy",function(){this._resetScrollPane(),this._resetDragTo()}.bind(this))},_bindDragToEvents:function(){var e=this;this.el.addEventListener("mousedown",this.onMouseDown=i.debounce(function(e){this.dragto.clicked=!0,this.dragto.lastClientX=e.clientX,this.dragto.lastClientY=e.clientY,this.options.moveClass&&$(this.el).addClass(this.options.moveClass)}.bind(this),10)),this.el.addEventListener("mousemove",this.onMouseMove=i.throttle(function(e){if(this.dragto.clicked){this._setState(!0);var t=this.jscrollpane.data("jsp"),n=t.getIsScrollableH(),i=t.getIsScrollableV();this._setCursorClass(n,i),n&&t.scrollByX(this.dragto.lastClientX-e.clientX),i&&t.scrollByY(this.dragto.lastClientY-e.clientY),this.dragto.lastClientX=e.clientX,this.dragto.lastClientY=e.clientY}}.bind(e),10)),this.el.addEventListener("mouseup",this.onMouseUp=function(e){this._dragstop()}.bind(this)),this.el.addEventListener("click",this.onClick=function(e){this._setState(!1)}.bind(this)),this.el.addEventListener("mouseleave",this.onMouseleave=function(e){this._dragstop()}.bind(this))},_setCursorClass:function(e,t){e&&t?this.cursor="all-scroll":e?this.cursor="ew-resize":t?this.cursor="ns-resize":this.cursor=!1,this.cursor?this.el.style.setProperty("cursor",this.cursor,"important"):$(this.el).css("cursor","")},_dragstop:function(){this.dragto.clicked&&(this.dragto.clicked=!1,this.options.moveClass&&$(this.el).removeClass(this.options.moveClass),$(this.el).css("cursor","")),this.vm.$emit("scrollPane:scroll")}}},{underscore:682}],486:[function(e,t,n){var i=e("underscore");t.exports={bind:function(){var e=this;this.vm.$on("resize",i.debounce(function(){e.fitText()},300))},update:function(e){this.origText=e||"",this.fitText()},origText:"",fitText:function(){var e=$(this.el),t=e.parent();e.text(this.origText);var n=!1;setTimeout(function(){for(;e.height()>t.height();)e.text(e.text().substring(0,e.text().length-1)),n=!0;n&&e.text(e.text().substring(0,e.text().length-2)+"...")})}}},{underscore:682}],487:[function(e,t,n){t.exports={bind:function(){},update:function(e){if(e){var t=this.el;setTimeout(function(){t.focus()},250)}}}},{}],488:[function(e,t,n){t.exports={update:function(e){var t=this;this.reset(),this.el.addEventListener("click",this.onclick=function(n){n.preventDefault(),t.vm.$dispatch("lanes:path",e)})},unbind:function(){this.reset()},reset:function(){this.onclick&&this.el.removeEventListener("click",this.onclick)}}},{}],489:[function(e,t,n){t.exports={bind:function(){this.el.addEventListener("wheel",this.onScroll)},unbind:function(){this.reset()},reset:function(){this.el.removeEventListener("wheel",this.onScroll)},onScroll:function(e){var t=$(this),n=this.scrollTop,i=this.scrollHeight,s=t.innerHeight(),o=e.originalEvent?e.originalEvent:e,r=o.deltaY,a=r>0,l=function(){return e.stopPropagation(),e.preventDefault(),e.returnValue=!1,!1};return!a&&-r>i-s-n?(t.scrollTop(i),l()):a&&r>n?(t.scrollTop(0),l()):void 0}}},{}],490:[function(e,t,n){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,i){var s,o,r,a=t.nodeName.toLowerCase();return"area"===a?(s=t.parentNode,o=s.name,!(!t.href||!o||"map"!==s.nodeName.toLowerCase())&&(r=e("img[usemap='#"+o+"']")[0],!!r&&n(r))):(/^(input|select|textarea|button|object)$/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),i="absolute"===n,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!i||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var i=e.attr(n,"tabindex"),s=isNaN(i);return(s||i>=0)&&t(n,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function i(t,n,i,o){return e.each(s,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var s="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?r["inner"+n].call(this):this.each(function(){e(this).css(o,i(this,t)+"px")})},e.fn["outer"+n]=function(t,s){return"number"!=typeof t?r["outer"+n].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,s)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,i,s=e(this[0]);s.length&&s[0]!==document;){if(n=s.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(s.css("zIndex"),10),!isNaN(i)&&0!==i))return i;s=s.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){var s,o=e.ui[t].prototype;for(s in i)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([n,i[s]])},call:function(e,t,n,i){var s,o=e.plugins[t];if(o&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(s=0;o.length>s;s++)e.options[o[s][0]]&&o[s][1].apply(e.element,n)}};var i=0,s=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,s,o;for(o=0;null!=(s=n[o]);o++)try{i=e._data(s,"events"),i&&i.remove&&e(s).triggerHandler("remove")}catch(r){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var s,o,r,a,l={},c=t.split(".")[0];return t=t.split(".")[1],s=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[c]=e[c]||{},o=e[c][t],r=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},e.extend(r,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),a=new n,a.options=e.widget.extend({},a.options),e.each(i,function(t,i){return e.isFunction(i)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},s=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=s,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(l[t]=i)}),r.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||t:t},l,{constructor:r,namespace:c,widgetName:t,widgetFullName:s}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,r,n._proto)}),delete o._childConstructors):n._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var n,i,o=s.call(arguments,1),r=0,a=o.length;a>r;r++)for(n in o[r])i=o[r][n],o[r].hasOwnProperty(n)&&void 0!==i&&(t[n]=e.isPlainObject(i)?e.isPlainObject(t[n])?e.widget.extend({},t[n],i):e.widget.extend({},i):i);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(o){var r="string"==typeof o,a=s.call(arguments,1),l=this;return r?this.each(function(){var n,s=e.data(this,i);return"instance"===o?(l=s,!1):s?e.isFunction(s[o])&&"_"!==o.charAt(0)?(n=s[o].apply(s,a),n!==s&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=e.widget.extend.apply(null,[o].concat(a))),this.each(function(){var t=e.data(this,i);t?(t.option(o||{}),t._init&&t._init()):e.data(this,i,new n(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,s,o,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},i=t.split("."),t=i.shift(),i.length){for(s=r[t]=e.widget.extend({},this.options[t]),o=0;i.length-1>o;o++)s[i[o]]=s[i[o]]||{},s=s[i[o]];if(t=i.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=n}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var s,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=s=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,s=this.widget()),e.each(i,function(i,r){function a(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?o[r]:r).apply(o,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?s.delegate(u,c,a):n.bind(c,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var s,o,r=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(s in o)s in n||(n[s]=o[s]);return this.element.trigger(n,i),!(e.isFunction(r)&&r.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?s===!0||"number"==typeof s?n:s.effect||n:t;s=s||{},"number"==typeof s&&(s={duration:s}),r=!e.isEmptyObject(s),s.complete=o,s.delay&&i.delay(s.delay),r&&e.effects&&e.effects.effect[a]?i[t](s):a!==t&&i[a]?i[a](s.duration,s.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}}),e.widget;var o=!1;e(document).mouseup(function(){o=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,i=1===t.which,s=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(i&&!s&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),o=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),o=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",s=!1;return t[i]>0||(t[i]=1,s=t[i]>0,t[i]=0,s)},_create:function(){var t,n,i,s,o,r=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;t.length>n;n++)i=e.trim(t[n]),o="ui-resizable-"+i,s=e("<div class='ui-resizable-handle "+o+"'></div>"),
s.css({zIndex:a.zIndex}),"se"===i&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(s);this._renderAxis=function(t){var n,i,s,o;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),s=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(s,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=s&&s[1]?s[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){a.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,i,s=!1;for(n in this.handles)i=e(this.handles[n])[0],(i===t.target||e.contains(i,t.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var n,i,s,o=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,i+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===s?this.axis+"-resize":s),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,s=this.originalMousePosition,o=this.axis,r=t.pageX-s.left||0,a=t.pageY-s.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,r,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,s,o,r,a,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),s=i&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,o=i?0:u.sizeDiff.width,r={width:u.helper.width()-o,height:u.helper.height()-s},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(r,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,s,o,r=this.options;o={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,s=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),i>o.minHeight&&(o.minHeight=i),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>s&&(o.maxHeight=s)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,r=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),r&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),s&&(e.height=t.maxHeight),o&&c&&(e.left=a-t.minWidth),i&&c&&(e.left=a-t.maxWidth),r&&u&&(e.top=l-t.minHeight),s&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],s=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)n[t]=parseInt(i[t],10)||0,n[t]+=parseInt(s[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,s=this.originalPosition;return{top:s.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,s=n._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),r=o&&n._hasScroll(s[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-r},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,s,o,r,a,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,h=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){n[e]=l._num(t.css("padding"+i))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,s=l.containerSize.height,o=l.containerSize.width,r=l._hasScroll(h,"left")?h.scrollWidth:o,a=l._hasScroll(h)?h.scrollHeight:s,l.parentData={element:h,left:i.left,top:i.top,width:r,height:a}))},resize:function(t){var n,i,s,o,r=e(this).resizable("instance"),a=r.options,l=r.containerOffset,c=r.position,u=r._aspectRatio||t.shiftKey,d={top:0,left:0},h=r.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-d.left),u&&(r.size.height=r.size.width/r.aspectRatio,p=!1),r.position.left=a.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),u&&(r.size.width=r.size.height*r.aspectRatio,p=!1),r.position.top=r._helper?l.top:0),s=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css("position")),s&&o?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),n=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-d.left:r.offset.left-l.left)),i=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-d.top:r.offset.top-l.top)),n+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-n,u&&(r.size.height=r.size.width/r.aspectRatio,p=!1)),i+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-i,u&&(r.size.width=r.size.height*r.aspectRatio,p=!1)),p||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,s=t.containerPosition,o=t.containerElement,r=e(t.helper),a=r.offset(),l=r.outerWidth()-t.sizeDiff.width,c=r.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-s.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-s.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,n){var i=e(this).resizable("instance"),s=i.options,o=i.originalSize,r=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-r.top||0,left:i.position.left-r.left||0};e(s.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),s={},o=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&n>=0&&(s[t]=n||null)}),t.css(s)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,s=n.size,o=n.originalSize,r=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,d=Math.round((s.width-o.width)/c)*c,h=Math.round((s.height-o.height)/u)*u,p=o.width+d,f=o.height+h,m=i.maxWidth&&p>i.maxWidth,v=i.maxHeight&&f>i.maxHeight,g=i.minWidth&&i.minWidth>p,b=i.minHeight&&i.minHeight>f;i.grid=l,g&&(p+=c),b&&(f+=u),m&&(p-=c),v&&(f-=u),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.top=r.top-h):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.left=r.left-d):((0>=f-u||0>=p-c)&&(t=n._getPaddingPlusBorderDimensions(this)),f-u>0?(n.size.height=f,n.position.top=r.top-h):(f=u-t.height,n.size.height=f,n.position.top=r.top+o.height-f),p-c>0?(n.size.width=p,n.position.left=r.left-d):(p=c-t.width,n.size.width=p,n.position.left=r.left+o.width-p))}}),e.ui.resizable})},{}],491:[function(e,t,n){t.exports={twoWay:!0,bind:function(){this.handler=function(){var e=this.el.value,t=e.trim();t||(e=t),this.set(e)}.bind(this),this.el.addEventListener("input",this.handler)},unbind:function(){this.el.removeEventListener("input",this.handler)}}},{}],492:[function(e,t,n){"use strict";var i=e("underscore"),s=e("sympli-enums").Scopes,o="ghost-select",r="ghost-active",a="noselect",l='<div class="'+o+'"><span></span></div>';t.exports={ghostWrapper:null,ghostContainer:null,initialX:0,initialY:0,down:!1,move:!1,stopClick:!1,isActive:!1,enabled:!0,options:{},bind:function(){this.enabled=!0},update:function(e){this._reset(),e&&e.selector&&(this._initOptions(e),this.ghostWrapper=$(e.selector).prepend(l)[0],this.ghostContainer=$("."+o),this.ghostWrapper.addEventListener("mousedown",this.onMouseDown=this._onMouseDown.bind(this)),this.ghostWrapper.addEventListener("mouseup",this.onMouseUp=this._onMouseUp.bind(this)),this.ghostWrapper.addEventListener("mousemove",this.onMouseMove=this._onMouseMove.bind(this)),this.ghostWrapper.addEventListener("click",this.onClick=this._onClick.bind(this)),this.vm.$on(s.multiSelect.mouse.disable,function(){this.down=!1,this.enabled=!1,this._clearGhost()}.bind(this)),this.vm.$on(s.multiSelect.mouse.enable,function(){this.down=!1,this.enabled=!0,this._clearGhost()}.bind(this)))},unbind:function(){this._reset()},_initOptions:function(e){this.options=e,this.options.offset=i.extend({left:0,top:0},this.options.offset)},_reset:function(){this.ghostContainer&&this.ghostContainer.remove(),this.ghostWrapper&&(this.ghostWrapper.removeEventListener("mousedown",this.onMouseDown),this.ghostWrapper.removeEventListener("mouseup",this.onMouseUp),this.ghostWrapper.removeEventListener("mousemove",this.onMouseMove),this.ghostWrapper.removeEventListener("click",this.onClick)),this.ghostWrapper=null,this.ghostContainer=null,this.initialX=0,this.initialY=0,this.down=!1,this.move=!1,this.enabled=!0},_clearGhost:function(){this.initialX=0,this.initialY=0,this.ghostContainer.removeClass(r),this.ghostContainer.css({width:0,height:0,left:0,top:0})},_onMouseDown:function(e){this.enabled&&(this.down=!0,this.initialX=e.pageX,this.initialY=e.pageY,this._triggerEvents(s.multiSelect.mouse.start,{left:e.pageX,top:e.pageY}))},_onMouseMove:function(e){if(this.enabled&&this.down){this.move=!0,this.isActive||(this.ghostContainer.css({width:0,height:0,left:this.initialX,top:this.initialY-this.options.offset.top}),this.ghostContainer.addClass(r),$(this.ghostWrapper).addClass(a),this.isActive=!0);var t=Math.abs(this.initialX-e.pageX),n=Math.abs(this.initialY-e.pageY),i={width:t,height:n};e.pageX<=this.initialX&&e.pageY>=this.initialY?i.left=e.pageX:e.pageY<=this.initialY&&e.pageX>=this.initialX?i.top=e.pageY-this.options.offset.top:e.pageY<this.initialY&&e.pageX<this.initialX&&(i.left=e.pageX,i.top=e.pageY-this.options.offset.top),this.ghostContainer.css(i)}},_onMouseUp:function(e){if(this.enabled&&this.down){var t={};this.initialX>e.pageX?(t.left=e.pageX,t.right=this.initialX):(t.left=this.initialX,t.right=e.pageX),this.initialY>e.pageY?(t.top=e.pageY,t.bottom=this.initialY):(t.top=this.initialY,t.bottom=e.pageY),this.move&&(this._triggerEvents(s.multiSelect.mouse.end,t),this.stopClick=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),this._clearGhost(),this.down=!1,this.move=!1,this.isActive=!1}},_onClick:function(e){this.stopClick&&(e.preventDefault(),e.stopPropagation(),this.stopClick=!1),this.down=!1,this.move=!1,this.isActive=!1},_triggerEvents:function(e,t){this.vm.$emit(e,t,this.ghostContainer),this.vm.$broadcast(e,t,this.ghostContainer)}}},{"sympli-enums":524,underscore:682}],493:[function(e,t,n){"use strict";var i=(e("underscore"),e("../components/canvas/layer-utility"));t.exports={bind:function(){var e=this;"viewport"==e.expression&&$(document).on("mousewheel",function(t,n){if(t.ctrlKey)return n>0?e.vm.$broadcast("increment:zoom:ratio",t,e.expression,.07):e.vm.$broadcast("decrement:zoom:ratio",t,e.expression,.07),t.preventDefault(),t.stopPropagation(),!1}),$(this.el).on("mousewheel",function(t,n){if(t.ctrlKey){var s=$(e.el).find(".m-canvas")[0],o=i.getOffset(s),r={};return r.x=t.pageX-o.left,r.y=t.pageY-o.top,n>0?e.vm.$broadcast("increment:zoom:ratio",t,e.expression,.03,r):e.vm.$broadcast("decrement:zoom:ratio",t,e.expression,.03,r),t.preventDefault(),t.stopPropagation(),!1}}),$.touchyOptions.useDelegation=!0,$(this.el).on("touchy-pinch",function(t,n,i){return i.scale-i.previousScale>0?e.vm.$broadcast("increment:zoom:ratio",t,e.expression,.03):e.vm.$broadcast("decrement:zoom:ratio",t,e.expression,.03),t.preventDefault(),t.stopPropagation(),!1}),$(this.el).data("touchyPinch").settings.pxThresh=50},unbind:function(){"viewport"==this.expression&&$(document).off("mousewheel"),$(this.el).off("mousewheel"),$(this.el).off("touchy-pinch")}}},{"../components/canvas/layer-utility":169,underscore:682}],494:[function(e,t,n){t.exports={update:function(e){if(e){var t,n=!1,i=5;"object"==typeof e?(t=e.scrollTo,n=e.navbar||!1,i=e.delta||5):(t=e,n=!1,i=5),this._reset();var s=this;this.el.addEventListener("click",this.onClick=function(e){if(!n||!s._isNavbarOnTop(i)){e.preventDefault();var o=$(t);o&&o.length&&o[0].scrollIntoView()}})}},unbind:function(){this._reset()},_reset:function(){this.onClick&&this.el.removeEventListener("click",this.onClick)},_isNavbarOnTop:function(e){var t=$(window).scrollTop();return t>=0&&t<=e}}},{}],495:[function(e,t,n){"use strict";var i=e("underscore");t.exports={bind:function(){},update:function(e){var t=this;if(e){var n=$(t.el).closest(".jspContainer").parent().data("jsp");n&&i.delay(function(){n.scrollToElement(t.el,!0)},200)}}}},{underscore:682}],496:[function(e,t,n){var i=e("underscore");t.exports={bind:function(){this.reset()},unbind:function(){this.reset()},update:function(e){var t=this,n=$(this.el).parent();this.jscrollpane=$(this.el).jScrollPane(this._getDefaultOptions(e)),this._bindEvents(),this.vm.$on("scrollPane:reInit",function(e){t.jscrollpane&&t.jscrollpane.data("jsp")?i.delay(function(){if(t.jscrollpane&&t.jscrollpane.data("jsp").reinitialise(t._getDefaultOptions(e)),e&&t.jscrollpane){var n=t.jscrollpane.data("jsp");e.scrollTo&&(i.isNumber(e.scrollTo.x)&&n.scrollToX(e.scrollTo.x),i.isNumber(e.scrollTo.y)&&n.scrollToX(e.scrollTo.y)),e.scrollBy&&(i.isNumber(e.scrollBy.x)&&n.scrollByX(e.scrollBy.x),i.isNumber(e.scrollBy.y)&&n.scrollByX(e.scrollBy.y))}}):i.delay(function(){t.jscrollpane=n.children(":first").jScrollPane(t._getDefaultOptions(e))})}),this.vm.$on("scrollPane:scrollBottom",function(e){t.jscrollpane&&t.jscrollpane.data("jsp")&&t.jscrollpane.data("jsp").scrollToBottom(!1)}),this.vm.$on("scrollPane:scrollTopLeft",function(e){t.jscrollpane&&t.jscrollpane.data("jsp")&&t.jscrollpane.data("jsp").scrollTo(0,0,!1)}),this.vm.$on("scrollPane:destroy",function(){t.reset()}),this.vm.$on("scrollPane:scrollByX",function(e){this.jscrollpane.data("jsp").scrollByX(e.shift)}.bind(this)),this.vm.$on("scrollPane:scrollByY",function(e){this.jscrollpane.data("jsp").scrollByY(e.shift)}.bind(this)),this.vm.$on("scrollPane:scrollToX",function(e){this.jscrollpane.data("jsp").scrollToX(e.shift)}.bind(this)),this.vm.$on("scrollPane:scrollToY",function(e){this.jscrollpane.data("jsp").scrollToY(e.shift)}.bind(this))},reset:function(){this.jscrollpane&&this.jscrollpane.data("jsp")&&(this.jscrollpane.data("jsp").destroy(),this.jscrollpane=null)},_getDefaultOptions:function(e){return e?(e.verticalGutter=0,e.horizontalGutter=0):e={verticalGutter:0,horizontalGutter:0},e},_bindEvents:function(){var e=this;this.jscrollpane.bind("jsp-initialised",function(){e.vm.$emit("scrollPane:init")}),this.jscrollpane.bind("jsp-scroll-y",function(){e.vm.$dispatch("scrollPane:scroll")}),this.jscrollpane.bind("jsp-scroll-x",function(){e.vm.$dispatch("scrollPane:scroll")})}}},{underscore:682}],497:[function(e,t,n){t.exports={twoWay:!0,bind:function(){this.el.addEventListener("click",this._handleSelection.bind(this)),this.selected=!1,this.aLive=!0},update:function(e){this.selected=e},unbind:function(){this.aLive=!1,this.el.removeEventListener("click",this._handleSelection)},_handleSelection:function(e){e&&(e.altKey||e.metaKey||e.ctrlKey||e.shiftKey)&&(e.stopPropagation(),e.preventDefault(),this.selected=!this.selected),this&&this.aLive&&this.set(this.selected)}}},{}],498:[function(e,t,n){var i=e("underscore");t.exports={deep:!0,bind:function(){this.scrollPaneInited=!1,this.sync=!0},update:function(e){this._initOptions(e),this.scrollPaneInited||(this._resetScrollPane(),this.jscrollpane=$(this.el).jScrollPane(this._getScrollPaneOptions(e)),this._bindScrollPaneEvents(),this.scrollPaneInited=!0,this.sync=!1)},unbind:function(){this._resetScrollPane()},_resetScrollPane:function(){this.jscrollpane&&this.jscrollpane.data("jsp")&&(this.jscrollpane.data("jsp").destroy(),this.jscrollpane=null)},_initOptions:function(e){this.options=e||{},this.parent=$(this.el).parent()},_getScrollPaneOptions:function(e){return e?(e.verticalGutter=0,e.horizontalGutter=0):e={verticalGutter:0,horizontalGutter:0},e},_bindScrollPaneEvents:function(){this.jscrollpane.bind("jsp-initialised",function(){this.vm.$emit("scrollPane:init")}.bind(this)),this.jscrollpane.bind("jsp-scroll-y",function(e,t,n,i){this.vm.$dispatch("scrollPane:scroll"),this.options.isSyncEnabled&&this.options.syncState&&!this.sync&&this.vm.$sympliTrigger("sync:jsp-scroll-y",{context:this.options.context,position:t})}.bind(this)),this.jscrollpane.bind("jsp-scroll-x",function(e,t,n,i){this.vm.$dispatch("scrollPane:scroll"),this.options.isSyncEnabled&&this.options.syncState&&!this.sync&&this.vm.$sympliTrigger("sync:jsp-scroll-x",{context:this.options.context,position:t})}.bind(this)),this.vm.$on("sync:jsp-scroll-y",function(e){this.options.isSyncEnabled&&this.options.syncState&&this.options.context!=e.context&&(this.sync=!0,this.jscrollpane.data("jsp").scrollToY(e.position),this.sync=!1)}.bind(this)),this.vm.$on("sync:jsp-scroll-x",function(e){this.options.isSyncEnabled&&this.options.syncState&&this.options.context!=e.context&&(this.sync=!0,this.jscrollpane.data("jsp").scrollToX(e.position),this.sync=!1)}.bind(this)),this.vm.$on("sync:jsp-scroll:start",function(e){this.sync=!0}.bind(this)),this.vm.$on("sync:jsp-scroll:stop",function(e){this.sync=!1}.bind(this)),this.vm.$on("sync:jsp-scroll:send",function(e){if(this.options.context==e){var t=this.jscrollpane.data("jsp"),n={context:e,position:{x:t.getContentPositionX(),y:t.getContentPositionY()}};this.vm.$sympliTrigger("sync:jsp-scroll:scroll",n)}}.bind(this)),this.vm.$on("sync:jsp-scroll:scroll",function(e){this.options.context!=e.context&&this.jscrollpane.data("jsp").scrollTo(e.position.x,e.position.y)}.bind(this)),this.vm.$on("scrollPane:reInit",function(e,t){if(!t||t!=this.options.context){var n=this;this.jscrollpane&&this.jscrollpane.data("jsp")?i.delay(function(){n.jscrollpane&&n.jscrollpane.data("jsp").reinitialise(n._getScrollPaneOptions(e))}):i.delay(function(){n.jscrollpane=n.parent.children(":first").jScrollPane(n._getScrollPaneOptions(e))})}}.bind(this)),this.vm.$on("scrollPane:scrollBottom",function(e){this.jscrollpane&&this.jscrollpane.data("jsp")&&this.jscrollpane.data("jsp").scrollToBottom(!1)}.bind(this)),this.vm.$on("scrollPane:scrollTopLeft",function(e){this.jscrollpane&&this.jscrollpane.data("jsp")&&this.jscrollpane.data("jsp").scrollTo(0,0,!1)}.bind(this)),this.vm.$on("scrollPane:destroy",function(){this._resetScrollPane()}.bind(this))}}},{underscore:682}],499:[function(e,t,n){t.exports=function(e,t){return parseFloat(e)/100}},{}],500:[function(e,t,n){"use strict";t.exports=function(e){var t="";return"@"!==e[0]&&(t="@"),t+e}},{}],501:[function(e,t,n){"use strict";var i=e("string");t.exports=function(e){return e&&"ios"==e.toLowerCase()?"iOS":i(e||"").capitalize().s}},{string:670}],502:[function(e,t,n){var i=e("accounting");t.exports=function(e,t){return t=t||0,i.formatNumber(e/100,t)}},{accounting:538}],503:[function(e,t,n){t.exports=function(e){return e.replace(/[\u2028\u2029]/g," ").trim()}},{}],504:[function(e,t,n){t.exports=function(e){return e}},{}],505:[function(e,t,n){var i=e("string");t.exports=function(e){return i(e||"").dasherize().s}},{string:670}],506:[function(e,t,n){t.exports=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'\/]/g,function(e){return t[e]})}},{}],507:[function(e,t,n){t.exports=function(e){e=e||"";var t=400;switch(e.toLowerCase()){case"black":t=900;case"semibold":t=600;case"light":t=300}return t}},{}],508:[function(e,t,n){var i=e("./escape");t.exports=function(e,t){var n,s=i(this[t].toLowerCase()),o=e.toLowerCase(),r=0;if(s)for(;(n=o.indexOf(s,r))>-1;)e=e.slice(0,n+s.length)+"</span>"+e.slice(n+s.length),e=e.slice(0,n)+'<span class="highlighted-text">'+e.slice(n),r=n+38,o=e.toLowerCase();return e}},{"./escape":506}],509:[function(e,t,n){var i=e("string");t.exports=function(e){return i(e||"").humanize().s}},{string:670}],510:[function(e,t,n){var i=(e("string"),e("../../lib/IosProjectDialect"));t.exports=function(e){switch(e){case i.swift:return"Swift";case i.objective_c:return"Obj-C";default:return"Unsupported dialect"}}},{"../../lib/IosProjectDialect":13,string:670}],511:[function(e,t,n){var i=e("moment");t.exports=function(e,t){var n,s="format";switch(t){case"short":n="MM/DD/YY h:mm a";break;case"full":n="MMMM DD YYYY, h:mm:ss a";break;case"fromNow":n="",s="fromNow";break;case"calendar":n="",s="calendar";break;case"mixed":case"updateDateFormat":var o=i(new Date);o.diff(e,"hours")<=22?(n="",s="fromNow"):o.diff(e,"days")>=7?(n="",s="calendar"):n="dddd [at] h:mm";break;case"spots":var o=i(new Date);n=o.diff(e,"hours")<=22?"hh:mm":"MM/DD/YY";break;default:n=t}return i(e)[s](n)}},{moment:603}],512:[function(e,t,n){t.exports=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>").replace(/[\u2028\u2029]/g,"<br/>")}},{}],513:[function(e,t,n){var i=e("../../lib/color-utils/obj2color");t.exports=function(e){return e?i(e):"?undefined?"}},{"../../lib/color-utils/obj2color":36}],514:[function(e,t,n){t.exports=function(e){var t=e||"";return t.replace("\r","<br>")}},{}],515:[function(e,t,n){var i=e("underscore");t.exports=function(e){return e?i.filter(e,function(e){switch(e.action){case"create":case"color":case"upload":case"delete":return!0;default:return!1}}):e}},{underscore:682}],516:[function(e,t,n){t.exports=function(e,t){return e.toFixed(t)}},{}],517:[function(e,t,n){t.exports=function(e){return e.trim()}},{}],518:[function(e,t,n){t.exports=function(e,t){return e.length<t?e:(t-=3,e.substring(0,t)+"...")}},{}],519:[function(e,t,n){"use strict";function i(e,t){this._key=e,this._defaultValue=t;var n=this.get();"undefined"!=typeof n&&null!=n||!t||this.set(t)}var s=e("./MemoryStorage"),o=function(e){if(!e)return new s;try{return e.setItem("_storage_test_","true"),e.removeItem("_storage_test_"),e}catch(t){return new s}}(window.localStorage);i.prototype.set=function(e){o.setItem(this._key,JSON.stringify(e))},i.prototype.get=function(){var e=o.getItem(this._key);try{return JSON.parse(e)}catch(t){return this._defaultValue}},i.prototype.setKey=function(e,t){var n=this.get();n[e]=t,this.set(n)},i.prototype.getKey=function(e,t){var n=this.get();return n[e]||t},t.exports=i},{"./MemoryStorage":520}],520:[function(e,t,n){"use strict";function i(e){e=e||{},this.prefix=e.prefix||"_sympli_"}var s={};i.prototype.setItem=function(e,t){s[this.prefix+e]=t},i.prototype.getItem=function(e){return void 0===s[this.prefix+e]?null:s[this.prefix+e]},i.prototype.removeItem=function(e){delete s[this.prefix+e]},i.prototype.clear=function(){s={}},t.exports=i},{}],521:[function(e,t,n){t.exports=e("./LocalStorageBag")},{"./LocalStorageBag":519}],522:[function(e,t,n){"use strict";t.exports={menu:{notifications:"event:menu:notifications",errors:"event:menu:errors",share:"event:menu:share",tags:"event:menu:tags",usermenu:"event:menu:usermenu",subscription:"event:menu:usermenu:subscription"},document:{layer:"event:document:layer"}}},{}],523:[function(e,t,n){"use strict";t.exports={lanes:{path:"lanes:path",route:"lanes:route"},loaded:{bundle:{model:"loaded:bundle:model",data:"loaded:bundle:data",users:"loaded:bundle:users",spots:"loaded:bundle:spots",messages:"loaded:bundle:messages",annotations:"loaded:bundle:annotations",versions:"loaded:bundle:versions"},project:{data:"loaded:project"
},company:{data:"loaded:company"},brandbook:{data:"loaded:brandbook"}},cache:{bundle:{reset:"reset:bundle:cache"}},menu:{popups:{close:"scope:menu:popups:close",open:"scope:menu:popups:open"},bundleView:{ready:"menu:bundle-view:ready",show:"menu:bundle-view:show",hide:"menu:bundle-view:hide",changed:"menu:bundle-view:changed"}},breadcrumbs:{collapse:"collapse",expand:"expand",item:{expand:"breadcrumbs:expand",collapse:"breadcrumbs:collapse",expanded:"breadcrumbs:expanded",collapsed:"breadcrumbs:collapsed"}},multiSelect:{mouse:{start:"multiselect:mouse:start",end:"multiselect:mouse:end",enable:"multiselect:mouse:enable",disable:"multiselect:mouse:disable"}},project:{tags:{map:{builded:"project:tags:map:builded"}}},bundle:{changes:{visual:{nav:{select:"bundle:changes:visual:nav:select"},list:{select:"bundle:changes:visual:list:select"}}}}}},{}],524:[function(e,t,n){"use strict";var i=e("./SympliScopesEnum"),s=e("./SympliEventsEnum");t.exports.Scopes=i,t.exports.Events=s},{"./SympliEventsEnum":522,"./SympliScopesEnum":523}],525:[function(e,t,n){"use strict";var i={};e("bluebird");i.getProjectRequest=function(e){var t={populate:"user brandbook company"};return this.$api.get("/projects/"+e,{qs:t},{isMainRequest:!0,catchable:!1})},i.getProjectArchiveRequest=function(e){return this.$api.post("/projects/"+e+"/archive",{},{isMainRequest:!0})},i.getProjectActivateRequest=function(e){return this.$api.post("/projects/"+e+"/activate",{},{isMainRequest:!0})},i.getProjectUsersRequest=function(e){return this.$api.get("/projects/"+e+"/users")},i.getBundlesRequest=function(e){var t={limit:"*",project:e};return this.$api.get("/bundles",{qs:t},{isMainRequest:!0})},i.getBundleSpotsRequest=function(e){var t={limit:9999,bundle:e};return this.$api.get("/spots",{qs:t})},i.getBundleMessagesRequest=function(e){var t={populate:"sender mentionees",bundle:e,limit:9999};return this.$api.get("/messages",{qs:t})},i.getBundleVersionsRequest=function(e){var t={skip:0,limit:"*",select:"id name status token updatedAt version project bounds hasHiResPreview",populate:"project:name"};return this.$api.get("/bundles/"+e+"/versions",{qs:t})},i.getShortBundleRequest=function(e,t){var n={id:e,project:t,skip:0,limit:1,select:"id name status token updatedAt version storedOn shareToken"};return this.$api.get("/bundles",{qs:n})},i.getBundleRequest=function(e,t){var n="/bundles/"+e,i={select:"-data"};return t&&(n+="/versions/"+t),this.$api.get(n,{qs:i},{isMainRequest:!0})},i.getBundleDataRequest=function(e){return this.$api.createRequest("get",e.blobUrlPrefix+"/bundle/data.json")},i.getCompanyRequest=function(e){var t={};return this.$api.get("/companies/"+e,{qs:t},{isMainRequest:!0})},i.putCompanyRequest=function(e,t){return this.$api.put("/companies/"+e,{body:t},{isMainRequest:!0})},i.getCompanyInviteesRequest=function(e){return this.$api.get("/companies/"+e+"/invitees")},i.postSpotRequest=function(e){return this.$api.post("/spots",{body:e})},i.putSpotRequest=function(e){return this.$api.put("/spots/"+e.id,{body:e})},t.exports=i},{bluebird:539}],526:[function(e,t,n){"use strict";function i(e){var t=this.$root;return e["catch"](d.CancellationError,function(){console.warn("request was canceled")})["catch"](l.bind(t))}function s(e,t,n,i){var s=u.extend({},g,i);if(s.cache){var l=p.buildSettings(e,t,n,s.cache);if(p.exist(l))return a(this,d.resolve(p.get(l)),s)}var c=o(t)?m:v,f=c.create()[e](t,n);return s.cancelable&&(f=h.add(r(this.route),t,f)),s.cache&&(f=p.add(f,l)),a(this,f,s)}function o(e){return e=e||"",0!==e.indexOf("http")}function r(e){return e?e.path:window.location.hash.replace("#!/","")}function a(e,t,n){var i=e.$root;i.requestCount++,n.isMainRequest&&i.mainRequestCount++;var s=setTimeout(function(){t.isPending()&&i.longRequestCount++,s=null},n.warnTimeOut),o=setTimeout(function(){t.isPending()&&(i.longRequestCount&&i.longRequestCount--,i.longRequestFail=!0,t.cancel()),o=null},n.maxTimeOut);return t["catch"](function(e){if("Unauthorized"==e.statusText&&(window.location="/logout"),!n.catchable)throw e;l.bind(i)})["finally"](function(){s?(clearTimeout(s),s=null):i.longRequestCount&&i.longRequestCount--,o&&(clearTimeout(o),o=null),i.requestCount--,n.isMainRequest&&i.mainRequestCount--})}function l(e){if("Unauthorized"==e.statusText&&(window.location="/logout"),void 0==e.status)throw e;var t="Oops, looks like some error just happened. We are already on it, please retry your last action.";e&&e.responseJSON&&e.responseJSON.message&&(t=e.responseJSON.message),403==e.status&&["error.read.denied","error.project.read.denied","error.project.denied","error.bundle.read.denied"].indexOf(e.responseJSON.code)>=0?this.$emit("lanes:route",{name:"projectsAccessDenied"}):(400==e.status||404==e.status)&&["error.project.archived","error.project.notfound","error.bundle.notfound"].indexOf(e.responseJSON.code)>=0?this.$emit("lanes:route",{name:"projectsNotFound"}):this.$broadcast("notify","warning",t,null,{ttl:1e4})}function c(){return"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)}var u=e("underscore"),d=e("bluebird"),h=e("./cancelable"),p=e("./cacheable"),f=e("./request").RequestDefaults,m={},v={},g={cancelable:!0,catchable:!1,isMainRequest:!1,maxTimeOut:6e4,warnTimeOut:15e3,cache:!1};i.initialize=function(e){m=new f(e.prefix),e.headers&&u.each(e.headers,function(e){m.headers(e)}),v=new f,p.initialize(e)},i.get=function(e,t,n){return c()&&(t=u.extend(t||{},{query:{_ts:Date.now()}})),s.call(this,"get",e,t,n)},i.post=function(e,t,n){return s.call(this,"post",e,t,n)},i.put=function(e,t,n){return s.call(this,"put",e,t,n)},i["delete"]=function(e,t,n){return s.call(this,"delete",e,t,n)},i.event=function(e,t,n){var i="/event",o={eventName:e,metadata:t};return s.call(this,"post",i,{body:o},n)},i.safeCatch=function(e){return function(t){throw"CancellationError"!=t.name&&e(t),t}},i.cancel=function(e){h.cancel(e)},i.cancelAll=function(e){h.cancelAll(r(e))},i.clear=function(e){p.clear(e)},i.clearAll=function(){p.clearAll()},i.addCancellable=function(e,t){return h.add(r(this.route),e,t)},i.createRequest=s,t.exports=i},{"./cacheable":527,"./cancelable":528,"./request":530,bluebird:539,underscore:682}],527:[function(e,t,n){"use strict";function i(e,t){s.each(e,function(n,i){n.expires<t&&(console.log("!cleanup cache key `"+i+"`"),delete e[i])})}var s=e("underscore"),o=3e5,r="__default_cache_group__",a=1e3,l={group:r,ttl:o},c={},u={};u.initialize=function(e){e&&e.cacheable&&s.extend(l,e.cacheable)},u.buildSettings=function(e,t,n,i){var o={},r=null;return i===!0?s.extend(o,l):s.isObject(i)?(s.extend(o,l,i),r=o.key):(s.extend(o,l),r=""+i),r||(r=e.concat(t,JSON.stringify(n))),o.key=r,o},u.exist=function(e){var t=c[e.group];return!(!t||!t[e.key])},u.get=function(e){var t=c[e.group];if(t){var n=t[e.key];return n?(console.log("!from cache `"+e.key+"`"),n.result):(console.warn("!cache key `"+e.key+"` not found in cache"),null)}return console.error("!cache group `"+e.group+"` not found in cache"),null},u.add=function(e,t){c[t.group]||(c[t.group]={});var n=c[t.group];return e.then(function(e){return n[t.key]={result:e,expires:Date.now()+t.ttl},console.log("!added to cache `"+t.key+"` ttl: "+t.ttl),e})},u.clear=function(e){e&&s.isObject(e)&&!s.isEmpty(e)||(e={group:r});var t=e.group||r,n=c[t];return n?void(e.key?n[e.key]?(delete n[e.key],console.log("!clear cache key `"+e.key+"`")):console.log("!cache key `"+e.key+"` not found in cache"):(delete c[t],console.log("!clear cache group `"+t+"`"))):void console.log("!cache group `"+t+"` not found in cache")},u.clearAll=function(){c={},console.log("!clear all cache")},u.all=function(){return c},window.$cache=u,t.exports=u,setInterval(function(){var e=Date.now();s.each(c,function(t){i(t,e)})},a)},{underscore:682}],528:[function(e,t,n){"use strict";var i=e("bluebird"),s=e("underscore"),o={},r={};t.exports={add:function(e,t,n){var s=n["catch"](i.CancellationError,function(e){throw console.log("request '"+t+"' was canceled"),e});return o[e]?(o[e].push(s),r[e].push(t)):(o[e]=[s],r[e]=[t]),s},cancel:function(e){return e?e.cancel():e},cancelAll:function(e){o[e]&&(s.each(o[e],function(e){e.cancel()}),delete o[e])}}},{bluebird:539,underscore:682}],529:[function(e,t,n){"use strict";var i=e("./api");t.exports.install=function(e,t){e.api=i,Object.defineProperties(e.prototype,{$api:{get:function(){return i.initialize(t),e.api.get=i.get.bind(this),e.api.post=i.post.bind(this),e.api.put=i.put.bind(this),e.api["delete"]=i["delete"].bind(this),e.api.cancel=i.cancel.bind(this),e.api.cancelAll=i.cancelAll.bind(this),e.api.event=i.event.bind(this),e.api.clear=i.clear.bind(this),e.api.clearAll=i.clearAll.bind(this),e.api.safeCatch=i.safeCatch.bind(this),e.api.createRequest=i.createRequest.bind(this),e.api.bind(this),e.api}}})}},{"./api":526}],530:[function(e,t,n){function i(e,t){this._parent=e,this._uri=t||"",this._params={},this._query={},this._body={},this._headers={},this._data=null}function s(e){this._uriPrefix=e||"",this._params={},this._query={},this._body={},this._headers={}}var o=e("underscore"),r=e("bluebird");i.prototype.uri=function(e){return this._uri=e||"",this},i.prototype.params=function(e){return o.extend(this._params,e),this},i.prototype.query=i.prototype.qs=function(e){return o.extend(this._query,e),this},i.prototype.headers=function(e){return o.extend(this._headers,e),this},i.prototype.body=function(e){return o.extend(this._body,e),this},i.prototype.data=function(e){return this._data=e,this},i.prototype.json=function(e){return this._json=e,this},i.prototype.method=function(e){return this._method=e,this},i.prototype.exec=function(e,t){"object"==typeof e?t=e:e&&this.uri(e),t=t||{};var n=this;["uri","params","query","qs","headers","body","data","json","method"].forEach(function(e){t[e]&&n[e](t[e])});var i=o.extend({},this._parent._params,this._params),s=(this._parent._uriPrefix+this._uri).replace(/\:(\w+)/gim,function(e,t){return void 0===i[t]?":"+t:encodeURIComponent(i[t])});if(!o.isEmpty(this._query)){var l="string"==typeof this._query?this._query:a(this._query);s=s.indexOf("?")!==-1?s+"&"+l:s+"?"+l}var t={method:this._method,url:s,headers:o.extend({},this._parent._headers,this._headers),responseType:"json"};return this._data instanceof FormData?(t.contentType=!1,t.processData=!1,t.data=this._data):o.isEmpty(this._body)||(t.headers=o.extend(t.headers,{"Content-Type":"application/json"}),t.data=JSON.stringify(o.extend({},this._parent._body,this._body)),t.dataType="json"),r.resolve($.ajax(t)).cancellable()},i.prototype.post=function(e,t){return this._method="post",this.exec.apply(this,arguments)},i.prototype.put=function(e,t){return this._method="put",this.exec.apply(this,arguments)},i.prototype.get=function(e,t){return this._method="get",this.exec.apply(this,arguments)},i.prototype["delete"]=i.prototype.del=function(e,t){return this._method="delete",this.exec.apply(this,arguments)},s.prototype.uriPrefix=function(e){return this._uriPrefix=e||"",this},s.prototype.params=function(e){return e?o.extend(this._params,e):this._params={},this},s.prototype.headers=function(e){return e?o.extend(this._headers,e):this._headers={},this},s.prototype.query=s.prototype.qs=function(e){return e?o.extend(this._query,e):this._query={},this},s.prototype.body=function(e){return e?o.extend(this._body,e):this._body={},this},s.prototype.create=function(e){return new i(this,e)},t.exports={RequestDefaults:s,Request:i};var a=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}},{bluebird:539,underscore:682}],531:[function(e,t,n){"use strict";function i(e,t,n){return e?(e.sympliType=t,e.sympliId=n,e):e}i.isMine=function(e,t,n){if(!e)return!1;var i=e.originalEvent||e;return i.sympliType==t&&(!i.sympliId||i.sympliId==n)},i.getId=function(e){if(e){var t=e.originalEvent||e;return t.sympliId}},i.getType=function(e){if(e){var t=e.originalEvent||e;return t.sympliType}},i.handler=function(e,t,n){var s=this;return function(o){i.isMine(o,t,n)||"function"==typeof e&&e.apply(s,arguments)}},t.exports=i},{}],532:[function(e,t,n){"use strict";function i(e){var t=this.$root||this;return t.$broadcast.apply(t,Array.prototype.slice.call(arguments))}t.exports=i},{}],533:[function(e,t,n){"use strict";var i=e("./SympliTrigger"),s=e("./SympliEvent");t.exports.install=function(e,t){e.sympliTrigger=i,e.sympliEvent=s,Object.defineProperties(e.prototype,{$sympliTrigger:{get:function(){return e.sympliTrigger.bind(this),e.sympliTrigger}},$sympliEvent:{get:function(){return e.sympliEvent.isMine=s.isMine.bind(this),e.sympliEvent.handler=s.handler.bind(this),e.sympliEvent.getId=s.getId.bind(this),e.sympliEvent.getType=s.getType.bind(this),e.sympliEvent.bind(this),e.sympliEvent}}})}},{"./SympliEvent":531,"./SympliTrigger":532}],534:[function(e,t,n){"use strict";var i=e("../../lib/Security"),s=e("underscore");n.install=function(e,t){e.prototype.$security={checkProjectAccess:function(e,t,n){return s.isArray(t)||(t=[t]),!!s.find(t,function(t){return e&&user&&i.checkProjectAccess(e,user,t,n)})},checkCompanyAccess:function(e,t,n){return e&&user&&i.checkCompanyAccess(e,user,t,n)},permissions:i.Permissions,projectAccessor:i.projectAccessor,userAccessor:i.userAccessor}}},{"../../lib/Security":23,underscore:682}],535:[function(e,t,n){"use strict";function i(e){var t=r.extend({},u,e),n={};return r.each(this.$store,function(e,i){"initialize"!=i&&(n[i]=s(i,e,this,t))}),n.reset=i.reset.bind(this),n.resetDefault=i.resetDefault.bind(this),n}function s(e,t,n,i){return function(){h[i.group]||(h[i.group]={});var s,o=h[i.group],r=e+JSON.stringify(arguments);return o[r]?(console.log("from cache store `"+r+"`"),s=o[r]):(s={request:t.apply(n,arguments),expires:Date.now()+i.ttl},o[r]=s),s.request}}function o(e,t){r.each(e,function(n,i){n.expires<t&&(console.log("cleanup store `"+i+"`"),delete e[i])})}var r=e("underscore"),a=3e5,l="__default_cache_group__",c=1e3,u={group:l,ttl:a},d={},h={};i.reset=function(e){delete h[e]},i.resetDefault=function(){delete h[u.group]},i.initialize=function(e,t,n,o){o&&r.extend(u,o),r.each(t,function(t,i){"initialize"!=i&&(d[i]=s(i,t,n,u),e[i]=d[i].bind(n))}),e.reset=i.reset.bind(n),e.resetDefault=i.resetDefault.bind(n)},t.exports=i,setInterval(function(){var e=Date.now();r.each(h,function(t){o(t,e)})},c)},{underscore:682}],536:[function(e,t,n){"use strict";var i=e("./store"),s=e("./cache-store");t.exports.install=function(e,t){e.store=i,e.cache=s,Object.defineProperties(e.prototype,{$store:{get:function(){return i.initialize(e.store,this,t),e.store}},$cache:{get:function(){return s.initialize(e.cache,e.store,this,t),e.cache.bind(this),e.cache}}})}},{"./cache-store":535,"./store":537}],537:[function(e,t,n){"use strict";var i=e("underscore"),s={};s.initialize=function(e,t,n){s=n?n.store||{}:{},i.each(s,function(n,i){"initialize"!=i&&(e[i]=n.bind(t))})},t.exports=s},{underscore:682}],538:[function(e,t,n){!function(e,i){function s(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function o(e){return p?p(e):"[object Array]"===f.call(e)}function r(e){return e&&"[object Object]"===f.call(e)}function a(e,t){var n;e=e||{},t=t||{};for(n in t)t.hasOwnProperty(n)&&null==e[n]&&(e[n]=t[n]);return e}function l(e,t,n){var i,s,o=[];if(!e)return o;if(h&&e.map===h)return e.map(t,n);for(i=0,s=e.length;i<s;i++)o[i]=t.call(n,e[i],i,e);return o}function c(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function u(e){var t=d.settings.currency.format;return"function"==typeof e&&(e=e()),s(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:e&&e.pos&&e.pos.match("%v")?e:s(t)?d.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t}var d={};d.version="0.4.1",d.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var h=Array.prototype.map,p=Array.isArray,f=Object.prototype.toString,m=d.unformat=d.parse=function(e,t){if(o(e))return l(e,function(e){return m(e,t)});if(e=e||0,"number"==typeof e)return e;t=t||d.settings.number.decimal;var n=new RegExp("[^0-9-"+t+"]",["g"]),i=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(n,"").replace(t,"."));return isNaN(i)?0:i},v=d.toFixed=function(e,t){t=c(t,d.settings.number.precision);var n=Math.pow(10,t);return(Math.round(d.unformat(e)*n)/n).toFixed(t)},g=d.formatNumber=d.format=function(e,t,n,i){if(o(e))return l(e,function(e){return g(e,t,n,i)});e=m(e);var s=a(r(t)?t:{precision:t,thousand:n,decimal:i},d.settings.number),u=c(s.precision),h=e<0?"-":"",p=parseInt(v(Math.abs(e||0),u),10)+"",f=p.length>3?p.length%3:0;return h+(f?p.substr(0,f)+s.thousand:"")+p.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+s.thousand)+(u?s.decimal+v(Math.abs(e),u).split(".")[1]:"")},b=d.formatMoney=function(e,t,n,i,s,h){if(o(e))return l(e,function(e){return b(e,t,n,i,s,h)});e=m(e);var p=a(r(t)?t:{symbol:t,precision:n,thousand:i,decimal:s,format:h},d.settings.currency),f=u(p.format),v=e>0?f.pos:e<0?f.neg:f.zero;return v.replace("%s",p.symbol).replace("%v",g(Math.abs(e),c(p.precision),p.thousand,p.decimal))};d.formatColumn=function(e,t,n,i,h,p){if(!e)return[];var f=a(r(t)?t:{symbol:t,precision:n,thousand:i,decimal:h,format:p},d.settings.currency),v=u(f.format),b=v.pos.indexOf("%s")<v.pos.indexOf("%v"),y=0,w=l(e,function(e,t){if(o(e))return d.formatColumn(e,f);e=m(e);var n=e>0?v.pos:e<0?v.neg:v.zero,i=n.replace("%s",f.symbol).replace("%v",g(Math.abs(e),c(f.precision),f.thousand,f.decimal));return i.length>y&&(y=i.length),i});return l(w,function(e,t){return s(e)&&e.length<y?b?e.replace(f.symbol,f.symbol+new Array(y-e.length+1).join(" ")):new Array(y-e.length+1).join(" ")+e:e})},"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=d),n.accounting=d):"function"==typeof define&&define.amd?define([],function(){return d}):(d.noConflict=function(t){return function(){return e.accounting=t,d.noConflict=i,d}}(e.accounting),e.accounting=d)}(this)},{}],539:[function(e,t,n){(function(e,i){!function(e){if("object"==typeof n&&"undefined"!=typeof t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var s;"undefined"!=typeof window?s=window:"undefined"!=typeof i?s=i:"undefined"!=typeof self&&(s=self),s.Promise=e()}}(function(){var t,n,s;return function o(e,t,n){function i(r,a){if(!t[r]){if(!e[r]){var l="function"==typeof _dereq_&&_dereq_;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=t[r]={exports:{}};e[r][0].call(u.exports,function(t){var n=e[r][1][t];return i(n?n:t)},u,u.exports,o,e,t,n)}return t[r].exports}for(var s="function"==typeof _dereq_&&_dereq_,r=0;r<n.length;r++)i(n[r]);return i}({1:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=new n(e),i=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),i}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,t,n){"use strict";function i(){this._isTickUsed=!1,this._lateQueue=new u(16),this._normalQueue=new u(16),this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=c.isStatic?c(this.drainQueues):c}function s(e,t,n){var i=this._getDomain();void 0!==i&&(e=i.bind(e)),this._lateQueue.push(e,t,n),this._queueTick()}function o(e,t,n){var i=this._getDomain();void 0!==i&&(e=i.bind(e)),this._normalQueue.push(e,t,n),this._queueTick()}function r(e){var t=this._getDomain();if(void 0!==t){var n=t.bind(e._settlePromises);this._normalQueue.push(n,e,void 0)}else this._normalQueue._pushOne(e);this._queueTick()}var a;try{throw new Error}catch(l){a=l}var c=e("./schedule.js"),u=e("./queue.js"),d=e("./util.js");i.prototype.disableTrampolineIfNecessary=function(){d.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.enableTrampoline=function(){this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(e){setTimeout(e,0)})},i.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},i.prototype.throwLater=function(e,t){1===arguments.length&&(t=e,e=function(){throw t});var n=this._getDomain();if(void 0!==n&&(e=n.bind(e)),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(i){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},i.prototype._getDomain=function(){};d.hasDevTools?(i.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?s.call(this,e,t,n):setTimeout(function(){e.call(t,n)},100)},i.prototype.invoke=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):setTimeout(function(){e.call(t,n)},0)},i.prototype.settlePromises=function(e){this._trampolineEnabled?r.call(this,e):setTimeout(function(){e._settlePromises()},0)}):(i.prototype.invokeLater=s,i.prototype.invoke=o,i.prototype.settlePromises=r),i.prototype.invokeFirst=function(e,t,n){var i=this._getDomain();void 0!==i&&(e=i.bind(e)),this._normalQueue.unshift(e,t,n),this._queueTick()},i.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),i=e.shift();t.call(n,i)}else t._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},t.exports=new i,t.exports.firstLineError=a},{"./queue.js":28,"./schedule.js":31,"./util.js":38,events:39}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n){var i=function(e,t){this._reject(t)},s=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(i,i,null,this,e)},o=function(e,t){this._setBoundTo(e),this._isPending()&&this._resolveCallback(t.target)},r=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(i){var a=n(i),l=new e(t);l._propagateFrom(this,1);var c=this._target();if(a instanceof e){var u={promiseRejectionQueued:!1,promise:l,target:c,bindingPromise:a};c._then(t,s,l._progress,l,u),a._then(o,r,l._progress,l,u)}else l._setBoundTo(i),l._resolveCallback(c);return l},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=131072|this._bitField,this._boundTo=e):this._bitField=this._bitField&-131073},e.prototype._isBound=function(){return 131072===(131072&this._bitField)},e.bind=function(i,s){var o=n(i),r=new e(t);return o instanceof e?o._then(function(e){r._setBoundTo(e),r._resolveCallback(s)},r._reject,r._progress,r,null):(r._setBoundTo(i),r._resolveCallback(s)),r}}},{}],4:[function(e,t,n){"use strict";function i(){try{Promise===o&&(Promise=s)}catch(e){}return o}var s;"undefined"!=typeof Promise&&(s=Promise);var o=e("./promise.js")();o.noConflict=i,t.exports=o},{"./promise.js":23}],5:[function(e,t,n){"use strict";var i=Object.create;if(i){var s=i(null),o=i(null);s[" size"]=o[" size"]=0}t.exports=function(t){function n(e,n){var i;if(null!=e&&(i=e[n]),"function"!=typeof i){var s="Object "+a.classString(e)+" has no method '"+a.toString(n)+"'";throw new t.TypeError(s)}return i}function i(e){var t=this.pop(),i=n(e,t);return i.apply(e,this)}function s(e){return e[this]}function o(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var r,a=e("./util.js"),l=a.canEvaluate;a.isIdentifier;t.prototype.call=function(e){for(var t=arguments.length,n=new Array(t-1),s=1;s<t;++s)n[s-1]=arguments[s];return n.push(e),this._then(i,void 0,void 0,n,void 0)},t.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=o;else if(l){var i=r(e);t=null!==i?i:s}else t=s;return this._then(t,void 0,void 0,e,void 0)}}},{"./util.js":38}],6:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./errors.js"),i=e("./async.js"),s=n.CancellationError;t.prototype._cancel=function(e){if(!this.isCancellable())return this;for(var t,n=this;void 0!==(t=n._cancellationParent)&&t.isCancellable();)n=t;this._unsetCancellable(),n._target()._rejectCallback(e,!1,!0)},t.prototype.cancel=function(e){return this.isCancellable()?(void 0===e&&(e=new s),i.invokeLater(this._cancel,this,e),this):this},t.prototype.cancellable=function(){return this._cancellable()?this:(i.enableTrampoline(),this._setCancellable(),this._cancellationParent=void 0,this)},t.prototype.uncancellable=function(){var e=this.then();return e._unsetCancellable(),e},t.prototype.fork=function(e,t,n){var i=this._then(e,t,n,void 0,void 0);return i._setCancellable(),i._cancellationParent=void 0,i}}},{"./async.js":2,"./errors.js":13}],7:[function(t,n,i){"use strict";n.exports=function(){function n(e){this._parent=e;var t=this._length=1+(void 0===e?0:e._length);x(this,n),t>32&&this.uncycle()}function i(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function s(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function o(e){for(var t=e[0],n=1;n<e.length;++n){for(var i=e[n],s=t.length-1,o=t[s],r=-1,a=i.length-1;a>=0;--a)if(i[a]===o){r=a;break}for(var a=r;a>=0;--a){var l=i[a];if(t[s]!==l)break;t.pop(),s--}t=i}}function r(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],s=m.test(i)||"    (No stack trace)"===i,o=s&&b(i);s&&!o&&(g&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t}function a(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||m.test(i))break}return n>0&&(t=t.slice(n)),t}function l(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e.toString();var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t))try{var i=JSON.stringify(e);t=i}catch(s){}0===t.length&&(t="(empty array)")}return"(<"+c(t)+">, no stack trace)"}function c(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function u(e){var t=e.match(y);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}var d,h=t("./async.js"),p=t("./util.js"),f=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,m=null,v=null,g=!1;p.inherits(n,Error),n.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},i=0,s=this;void 0!==s;++i)t.push(s),s=s._parent;e=this._length=i;for(var i=e-1;i>=0;--i){var o=t[i].stack;void 0===n[o]&&(n[o]=i)}for(var i=0;i<e;++i){var r=t[i].stack,a=n[r];if(void 0!==a&&a!==i){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var l=i>0?t[i-1]:this;a<e-1?(l._parent=t[a+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var c=l._length+1,u=i-2;u>=0;--u)t[u]._length=c,c++;return}}}},n.prototype.parent=function(){return this._parent},n.prototype.hasParent=function(){return void 0!==this._parent},n.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=n.parseStackAndMessage(e),a=t.message,l=[t.stack],c=this;void 0!==c;)l.push(r(c.stack.split("\n"))),c=c._parent;o(l),s(l),p.notEnumerableProp(e,"stack",i(a,l)),p.notEnumerableProp(e,"__stackCleaned__",!0)}},n.parseStackAndMessage=function(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?a(e):["    (No stack trace)"],{message:n,stack:r(t)}},n.formatAndLogError=function(e,t){if("undefined"!=typeof console){var n;if("object"==typeof e||"function"==typeof e){var i=e.stack;n=t+v(i,e)}else n=t+String(e);"function"==typeof d?d(n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(n)}},n.unhandledRejection=function(e){n.formatAndLogError(e,"^--- With additional stack trace: ")},n.isSupported=function(){return"function"==typeof x},n.fireRejectionEvent=function(e,t,i,s){var o=!1;try{"function"==typeof t&&(o=!0,"rejectionHandled"===e?t(s):t(i,s))}catch(r){h.throwLater(r)}var a=!1;try{a=_(e,i,s)}catch(r){a=!0,h.throwLater(r)}var l=!1;if(w)try{l=w(e.toLowerCase(),{reason:i,promise:s})}catch(r){l=!0,h.throwLater(r)}a||o||l||"unhandledRejection"!==e||n.formatAndLogError(i,"Unhandled rejection ")};var b=function(){return!1},y=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;n.setBounds=function(e,t){if(n.isSupported()){for(var i,s,o=e.stack.split("\n"),r=t.stack.split("\n"),a=-1,l=-1,c=0;c<o.length;++c){var d=u(o[c]);if(d){i=d.fileName,a=d.line;break}}for(var c=0;c<r.length;++c){var d=u(r[c]);if(d){s=d.fileName,l=d.line;break}}a<0||l<0||!i||!s||i!==s||a>=l||(b=function(e){if(f.test(e))return!0;var t=u(e);return!!(t&&t.fileName===i&&a<=t.line&&t.line<=l)})}};var w,x=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():l(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,m=e,v=t;var n=Error.captureStackTrace;return b=function(e){return f.test(e)},function(e,t){Error.stackTraceLimit=Error.stackTraceLimit+6,n(e,t),Error.stackTraceLimit=Error.stackTraceLimit-6}}var i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return m=/@/,v=t,g=!0,function(e){e.stack=(new Error).stack};var s;try{throw new Error}catch(o){s="stack"in o}return"stack"in i||!s?(v=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?l(t):t.toString()},null):(m=e,v=t,function(e){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}([]),_=function(){if(p.isNode)return function(t,n,i){return"rejectionHandled"===t?e.emit(t,i):e.emit(t,n,i)};var t=!1,n=!0;try{var i=new self.CustomEvent("test");t=i instanceof CustomEvent}catch(s){}if(!t)try{var o=document.createEvent("CustomEvent");o.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(o)}catch(s){n=!1}n&&(w=function(e,n){var i;return t?i=new self.CustomEvent(e,{detail:n,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!1,!0,n)),!!i&&!self.dispatchEvent(i)});var r={};return r.unhandledRejection="onunhandledRejection".toLowerCase(),r.rejectionHandled="onrejectionHandled".toLowerCase(),function(e,t,n){var i=r[e],s=self[i];return!!s&&("rejectionHandled"===e?s.call(self,n):s.call(self,t,n),!0)}}();return"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(d=function(e){console.warn(e)},p.isNode&&e.stderr.isTTY?d=function(t){e.stderr.write("[31m"+t+"[39m\n")}:p.isNode||"string"!=typeof(new Error).stack||(d=function(e){console.warn("%c"+e,"color: red")})),n}},{"./async.js":2,"./util.js":38}],8:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t,n){this._instances=e,this._callback=t,this._promise=n}function i(e,t){var n={},i=r(e).call(n,t);if(i===a)return i;var s=l(n);return s.length?(a.e=new c("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),a):i}var s=e("./util.js"),o=e("./errors.js"),r=s.tryCatch,a=s.errorObj,l=e("./es5.js").keys,c=o.TypeError;return n.prototype.doFilter=function(e){for(var n=this._callback,s=this._promise,o=s._boundTo,l=0,c=this._instances.length;l<c;++l){var u=this._instances[l],d=u===Error||null!=u&&u.prototype instanceof Error;if(d&&e instanceof u){var h=r(n).call(o,e);return h===a?(t.e=h.e,t):h}if("function"==typeof u&&!d){var p=i(u,e);if(p===a){e=a.e;break}if(p){var h=r(n).call(o,e);return h===a?(t.e=h.e,t):h}}}return t.e=e,t},n}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(e,t,n){"use strict";t.exports=function(e,t,n){function i(){this._trace=new t(o())}function s(){if(n())return new i}function o(){var e=r.length-1;if(e>=0)return r[e]}var r=[];return i.prototype._pushContext=function(){n()&&void 0!==this._trace&&r.push(this._trace)},i.prototype._popContext=function(){n()&&void 0!==this._trace&&r.pop()},e.prototype._peekContext=o,e.prototype._pushContext=i.prototype._pushContext,e.prototype._popContext=i.prototype._popContext,s}},{}],10:[function(t,n,i){"use strict";n.exports=function(n,i){
var s,o,r=t("./async.js"),a=t("./errors.js").Warning,l=t("./util.js"),c=l.canAttachTrace,u=l.isNode&&(!!e.env.BLUEBIRD_DEBUG||"development"===e.env.NODE_ENV);return u&&r.disableTrampolineIfNecessary(),n.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0)},n.prototype._notifyUnhandledRejectionIsHandled=function(){i.fireRejectionEvent("rejectionHandled",s,void 0,this)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),i.fireRejectionEvent("unhandledRejection",o,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-524289},n.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-2097153,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},n.prototype._setCarriedStackTrace=function(e){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=e},n.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},n.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},n.prototype._captureStackTrace=function(){return u&&(this._trace=new i(this._peekContext())),this},n.prototype._attachExtraTrace=function(e,t){if(u&&c(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var s=i.parseStackAndMessage(e);l.notEnumerableProp(e,"stack",s.message+"\n"+s.stack.join("\n")),l.notEnumerableProp(e,"__stackCleaned__",!0)}}},n.prototype._warn=function(e){var t=new a(e),n=this._peekContext();if(n)n.attachExtraTrace(t);else{var s=i.parseStackAndMessage(t);t.stack=s.message+"\n"+s.stack.join("\n")}i.formatAndLogError(t,"")},n.onPossiblyUnhandledRejection=function(e){o="function"==typeof e?e:void 0},n.onUnhandledRejectionHandled=function(e){s="function"==typeof e?e:void 0},n.longStackTraces=function(){if(r.haveItemsQueued()&&u===!1)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");u=i.isSupported(),u&&r.disableTrampolineIfNecessary()},n.hasLongStackTraces=function(){return u&&i.isSupported()},i.isSupported()||(n.longStackTraces=function(){},u=!1),function(){return u}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(e,t,n){"use strict";var i=e("./util.js"),s=i.isPrimitive,o=i.wrapsPrimitiveReceiver;t.exports=function(e){var t=function(){return this},n=function(){throw this},i=function(e,t){return 1===t?function(){throw e}:2===t?function(){return e}:void 0};e.prototype["return"]=e.prototype.thenReturn=function(e){return o&&s(e)?this._then(i(e,2),void 0,void 0,void 0,void 0):this._then(t,void 0,void 0,e,void 0)},e.prototype["throw"]=e.prototype.thenThrow=function(e){return o&&s(e)?this._then(i(e,1),void 0,void 0,void 0,void 0):this._then(n,void 0,void 0,e,void 0)}}},{"./util.js":38}],12:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.reduce;e.prototype.each=function(e){return n(this,e,null,t)},e.each=function(e,i){return n(e,i,null,t)}}},{}],13:[function(e,t,n){"use strict";function i(e,t){function n(i){return this instanceof n?(d(this,"message","string"==typeof i?i:t),d(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(i)}return u(n,Error),n}function s(e){return this instanceof s?(d(this,"name","OperationalError"),d(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(d(this,"message",e.message),d(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new s(e)}var o,r,a=e("./es5.js"),l=a.freeze,c=e("./util.js"),u=c.inherits,d=c.notEnumerableProp,h=i("Warning","warning"),p=i("CancellationError","cancellation error"),f=i("TimeoutError","timeout error"),m=i("AggregateError","aggregate error");try{o=TypeError,r=RangeError}catch(v){o=i("TypeError","type error"),r=i("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),b=0;b<g.length;++b)"function"==typeof Array.prototype[g[b]]&&(m.prototype[g[b]]=Array.prototype[g[b]]);a.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),m.prototype.isOperational=!0;var y=0;m.prototype.toString=function(){var e=Array(4*y+1).join(" "),t="\n"+e+"AggregateError of:\n";y++,e=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",s=i.split("\n"),o=0;o<s.length;++o)s[o]=e+s[o];i=s.join("\n"),t+=i+"\n"}return y--,t},u(s,Error);var w=Error.__BluebirdErrorTypes__;w||(w=l({CancellationError:p,TimeoutError:f,OperationalError:s,RejectionError:s,AggregateError:m}),d(Error,"__BluebirdErrorTypes__",w)),t.exports={Error:Error,TypeError:o,RangeError:r,CancellationError:w.CancellationError,OperationalError:w.OperationalError,TimeoutError:w.TimeoutError,AggregateError:w.AggregateError,Warning:h}},{"./es5.js":14,"./util.js":38}],14:[function(e,t,n){var i=function(){"use strict";return void 0===this}();if(i)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var s={}.hasOwnProperty,o={}.toString,r={}.constructor.prototype,a=function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t},l=function(e,t){return{value:e[t]}},c=function(e,t,n){return e[t]=n.value,e},u=function(e){return e},d=function(e){try{return Object(e).constructor.prototype}catch(t){return r}},h=function(e){try{return"[object Array]"===o.call(e)}catch(t){return!1}};t.exports={isArray:h,keys:a,names:a,defineProperty:c,getDescriptor:l,freeze:u,getPrototypeOf:d,isES5:i,propertyIsWritable:function(){return!0}}}},{}],15:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,i){return n(this,e,i,t)},e.filter=function(e,i,s){return n(e,i,s,t)}}},{}],16:[function(e,t,n){"use strict";t.exports=function(t,n,i){function s(){return this}function o(){throw this}function r(e){return function(){return e}}function a(e){return function(){throw e}}function l(e,t,n){var i;return i=h&&p(t)?n?r(t):a(t):n?s:o,e._then(i,f,void 0,t,void 0)}function c(e){var s=this.promise,o=this.handler,r=s._isBound()?o.call(s._boundTo):o();if(void 0!==r){var a=i(r,s);if(a instanceof t)return a=a._target(),l(a,e,s.isFulfilled())}return s.isRejected()?(n.e=e,n):e}function u(e){var n=this.promise,s=this.handler,o=n._isBound()?s.call(n._boundTo,e):s(e);if(void 0!==o){var r=i(o,n);if(r instanceof t)return r=r._target(),l(r,e,!0)}return e}var d=e("./util.js"),h=d.wrapsPrimitiveReceiver,p=d.isPrimitive,f=d.thrower;t.prototype._passThroughHandler=function(e,t){if("function"!=typeof e)return this.then();var n={promise:this,handler:e};return this._then(t?c:u,t?c:void 0,void 0,n,void 0)},t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThroughHandler(e,!0)},t.prototype.tap=function(e){return this._passThroughHandler(e,!1)}}},{"./util.js":38}],17:[function(e,t,n){"use strict";t.exports=function(t,n,i,s){function o(e,n,i){for(var o=0;o<n.length;++o){i._pushContext();var r=d(n[o])(e);if(i._popContext(),r===u){i._pushContext();var a=t.reject(u.e);return i._popContext(),a}var l=s(r,i);if(l instanceof t)return l}return null}function r(e,n,s,o){var r=this._promise=new t(i);r._captureStackTrace(),this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof s?[s].concat(h):h}var a=e("./errors.js"),l=a.TypeError,c=e("./util.js"),u=c.errorObj,d=c.tryCatch,h=[];r.prototype.promise=function(){return this._promise},r.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},r.prototype._continue=function(e){if(e===u)return this._promise._rejectCallback(e.e,!1,!0);var n=e.value;if(e.done===!0)this._promise._resolveCallback(n);else{var i=s(n,this._promise);if(!(i instanceof t)&&(i=o(i,this._yieldHandlers,this._promise),null===i))return void this._throw(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));i._then(this._next,this._throw,void 0,this,null)}},r.prototype._throw=function(e){this._promise._attachExtraTrace(e),this._promise._pushContext();var t=d(this._generator["throw"]).call(this._generator,e);this._promise._popContext(),this._continue(t)},r.prototype._next=function(e){this._promise._pushContext();var t=d(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},t.coroutine=function(e,t){if("function"!=typeof e)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var n=Object(t).yieldHandler,i=r,s=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new i((void 0),(void 0),n,s);return o._generator=t,o._next(void 0),o.promise()}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new l("fn must be a function\n\n    See http://goo.gl/916lJJ\n");h.push(e)},t.spawn=function(e){if("function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var i=new r(e,this),s=i.promise();return i._run(t.spawn),s}}},{"./errors.js":13,"./util.js":38}],18:[function(e,t,n){"use strict";t.exports=function(t,n,i,s){var o=e("./util.js");o.canEvaluate,o.tryCatch,o.errorObj;t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var i}for(var s=arguments.length,o=new Array(s),r=0;r<s;++r)o[r]=arguments[r];e&&o.pop();var i=new n(o).promise();return void 0!==e?i.spread(e):i}}},{"./util.js":38}],19:[function(e,t,n){"use strict";t.exports=function(t,n,i,s,o){function r(e,t,n,i){this.constructor$(e),this._promise._captureStackTrace(),this._callback=t,this._preservedValues=i===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:f,c.invoke(a,this,void 0)}function a(){this._init$(void 0,-2)}function l(e,t,n,i){var s="object"==typeof n&&null!==n?n.concurrency:0;return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new r(e,t,s,i)}var c=e("./async.js"),u=e("./util.js"),d=u.tryCatch,h=u.errorObj,p={},f=[];u.inherits(r,n),r.prototype._init=function(){},r.prototype._promiseFulfilled=function(e,n){var i=this._values,o=this.length(),r=this._preservedValues,a=this._limit;if(i[n]===p){if(i[n]=e,a>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(a>=1&&this._inFlight>=a)return i[n]=e,void this._queue.push(n);null!==r&&(r[n]=e);var l=this._callback,c=this._promise._boundTo;this._promise._pushContext();var u=d(l).call(c,e,n,o);if(this._promise._popContext(),u===h)return this._reject(u.e);var f=s(u,this._promise);if(f instanceof t){if(f=f._target(),f._isPending())return a>=1&&this._inFlight++,i[n]=p,f._proxyPromiseArray(this,n);if(!f._isFulfilled())return this._reject(f._reason());u=f._value()}i[n]=u}var m=++this._totalResolved;m>=o&&(null!==r?this._filter(i,r):this._resolve(i))},r.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}},r.prototype._filter=function(e,t){for(var n=t.length,i=new Array(n),s=0,o=0;o<n;++o)e[o]&&(i[s++]=t[o]);i.length=s,this._resolve(i)},r.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return"function"!=typeof e?i("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):l(this,e,t,null).promise()},t.map=function(e,t,n,s){return"function"!=typeof t?i("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):l(e,t,n,s).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(e,t,n){"use strict";t.exports=function(t,n,i,s){var o=e("./util.js"),r=o.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var i=new t(n);i._captureStackTrace(),i._pushContext();var s=r(e).apply(this,arguments);return i._popContext(),i._resolveFromSyncValue(s),i}},t.attempt=t["try"]=function(e,i,a){if("function"!=typeof e)return s("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var l=new t(n);l._captureStackTrace(),l._pushContext();var c=o.isArray(i)?r(e).apply(a,i):r(e).call(a,i);return l._popContext(),l._resolveFromSyncValue(c),l},t.prototype._resolveFromSyncValue=function(e){e===o.errorObj?this._rejectCallback(e.e,!1,!0):this._resolveCallback(e,!0)}}},{"./util.js":38}],21:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t){var n=this;if(!o.isArray(e))return i.call(n,e,t);var s=a(t).apply(n._boundTo,[null].concat(e));s===l&&r.throwLater(s.e)}function i(e,t){var n=this,i=n._boundTo,s=void 0===e?a(t).call(i,null):a(t).call(i,null,e);s===l&&r.throwLater(s.e)}function s(e,t){var n=this;if(!e){var i=n._target(),s=i._getCarriedStackTrace();s.cause=e,e=s}var o=a(t).call(n._boundTo,e);o===l&&r.throwLater(o.e)}var o=e("./util.js"),r=e("./async.js"),a=o.tryCatch,l=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=i;void 0!==t&&Object(t).spread&&(o=n),this._then(o,s,void 0,this,e)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(e,t,n){"use strict";t.exports=function(t,n){var i=e("./util.js"),s=e("./async.js"),o=i.tryCatch,r=i.errorObj;t.prototype.progressed=function(e){return this._then(void 0,void 0,e,void 0,void 0)},t.prototype._progress=function(e){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(e)},t.prototype._progressHandlerAt=function(e){return 0===e?this._progressHandler0:this[(e<<2)+e-5+2]},t.prototype._doProgressWith=function(e){var n=e.value,s=e.handler,a=e.promise,l=e.receiver,c=o(s).call(l,n);if(c===r){if(null!=c.e&&"StopProgressPropagation"!==c.e.name){var u=i.canAttachTrace(c.e)?c.e:new Error(i.toString(c.e));a._attachExtraTrace(u),a._progress(c.e)}}else c instanceof t?c._then(a._progress,null,null,a,void 0):a._progress(c)},t.prototype._progressUnchecked=function(e){for(var i=this._length(),o=this._progress,r=0;r<i;r++){var a=this._progressHandlerAt(r),l=this._promiseAt(r);if(l instanceof t)"function"==typeof a?s.invoke(this._doProgressWith,this,{handler:a,promise:l,receiver:this._receiverAt(r),value:e}):s.invoke(o,l,e);else{var c=this._receiverAt(r);"function"==typeof a?a.call(c,e,l):c instanceof n&&!c._isResolved()&&c._promiseProgressed(e,l)}}}}},{"./async.js":2,"./util.js":38}],23:[function(e,t,n){"use strict";t.exports=function(){function t(e){if("function"!=typeof e)throw new c("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==t)throw new c("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,e!==u&&this._resolveFromResolver(e)}function n(e){var n=new t(u);n._fulfillmentHandler0=e,n._rejectionHandler0=e,n._progressHandler0=e,n._promise0=e,n._receiver0=e,n._settledValue=e}var i=function(){return new c("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},s=function(){return new t.PromiseInspection(this._target())},o=function(e){return t.reject(new c(e))},r=e("./util.js"),a=e("./async.js"),l=e("./errors.js"),c=t.TypeError=l.TypeError;t.RangeError=l.RangeError,t.CancellationError=l.CancellationError,t.TimeoutError=l.TimeoutError,t.OperationalError=l.OperationalError,t.RejectionError=l.OperationalError,t.AggregateError=l.AggregateError;var u=function(){},d={},h={e:null},p=e("./thenables.js")(t,u),f=e("./promise_array.js")(t,u,p,o),m=e("./captured_trace.js")(),v=e("./debuggability.js")(t,m),g=e("./context.js")(t,m,v),b=e("./catch_filter.js")(h),y=e("./promise_resolver.js"),w=y._nodebackForPromise,x=r.errorObj,_=r.tryCatch;return t.prototype.toString=function(){return"[object Promise]"},t.prototype.caught=t.prototype["catch"]=function(e){var n=arguments.length;if(n>1){var i,s=new Array(n-1),o=0;for(i=0;i<n-1;++i){var r=arguments[i];if("function"!=typeof r)return t.reject(new c("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));s[o++]=r}s.length=o,e=arguments[i];var a=new b(s,e,this);return this._then(void 0,a.doFilter,void 0,a,void 0)}return this._then(void 0,e,void 0,void 0,void 0)},t.prototype.reflect=function(){return this._then(s,s,void 0,this,void 0)},t.prototype.then=function(e,t,n){if(v()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var i=".then() only accepts functions but was passed: "+r.classString(e);arguments.length>1&&(i+=", "+r.classString(t)),this._warn(i)}return this._then(e,t,n,void 0,void 0)},t.prototype.done=function(e,t,n){var i=this._then(e,t,n,void 0,void 0);i._setIsFinal()},t.prototype.spread=function(e,t){return this.all()._then(e,t,void 0,d,void 0)},t.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},t.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},t.prototype.all=function(){return new f(this).promise()},t.prototype.error=function(e){return this.caught(r.originatesFromRejection,e)},t.is=function(e){return e instanceof t},t.fromNode=function(e){var n=new t(u),i=_(e)(w(n));return i===x&&n._rejectCallback(i.e,!0,!0),n},t.all=function(e){return new f(e).promise()},t.defer=t.pending=function(){var e=new t(u);return new y(e)},t.cast=function(e){var n=p(e);if(!(n instanceof t)){var i=n;n=new t(u),n._fulfillUnchecked(i)}return n},t.resolve=t.fulfilled=t.cast,t.reject=t.rejected=function(e){var n=new t(u);return n._captureStackTrace(),n._rejectCallback(e,!0),n},t.setScheduler=function(e){if("function"!=typeof e)throw new c("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var t=a._schedule;return a._schedule=e,t},t.prototype._then=function(e,n,i,s,o){var r=void 0!==o,l=r?o:new t(u);r||(l._propagateFrom(this,5),l._captureStackTrace());var c=this._target();c!==this&&(void 0===s&&(s=this._boundTo),r||l._setIsMigrated());var d=c._addCallbacks(e,n,i,l,s);return c._isResolved()&&!c._isSettlePromisesQueued()&&a.invoke(c._settlePromiseAtPostResolution,c,d),l},t.prototype._settlePromiseAtPostResolution=function(e){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(e)},t.prototype._length=function(){return 131071&this._bitField},t.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},t.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},t.prototype._setLength=function(e){this._bitField=this._bitField&-131072|131071&e},t.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},t.prototype._setRejected=function(){this._bitField=134217728|this._bitField},t.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},t.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},t.prototype._isFinal=function(){return(33554432&this._bitField)>0},t.prototype._cancellable=function(){return(67108864&this._bitField)>0},t.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},t.prototype._unsetCancellable=function(){this._bitField=this._bitField&-67108865},t.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},t.prototype._unsetIsMigrated=function(){this._bitField=this._bitField&-4194305},t.prototype._isMigrated=function(){return(4194304&this._bitField)>0},t.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[5*e-5+4];return void 0===t&&this._isBound()?this._boundTo:t},t.prototype._promiseAt=function(e){return 0===e?this._promise0:this[5*e-5+3]},t.prototype._fulfillmentHandlerAt=function(e){return 0===e?this._fulfillmentHandler0:this[5*e-5+0]},t.prototype._rejectionHandlerAt=function(e){return 0===e?this._rejectionHandler0:this[5*e-5+1]},t.prototype._migrateCallbacks=function(e,n){var i=e._fulfillmentHandlerAt(n),s=e._rejectionHandlerAt(n),o=e._progressHandlerAt(n),r=e._promiseAt(n),a=e._receiverAt(n);r instanceof t&&r._setIsMigrated(),this._addCallbacks(i,s,o,r,a)},t.prototype._addCallbacks=function(e,t,n,i,s){var o=this._length();if(o>=131066&&(o=0,this._setLength(0)),0===o)this._promise0=i,void 0!==s&&(this._receiver0=s),"function"!=typeof e||this._isCarryingStackTrace()||(this._fulfillmentHandler0=e),"function"==typeof t&&(this._rejectionHandler0=t),"function"==typeof n&&(this._progressHandler0=n);else{var r=5*o-5;this[r+3]=i,this[r+4]=s,"function"==typeof e&&(this[r+0]=e),"function"==typeof t&&(this[r+1]=t),"function"==typeof n&&(this[r+2]=n)}return this._setLength(o+1),o},t.prototype._setProxyHandlers=function(e,t){var n=this._length();if(n>=131066&&(n=0,this._setLength(0)),0===n)this._promise0=t,this._receiver0=e;else{var i=5*n-5;this[i+3]=t,this[i+4]=e}this._setLength(n+1)},t.prototype._proxyPromiseArray=function(e,t){this._setProxyHandlers(e,t)},t.prototype._resolveCallback=function(e,n){if(!this._isFollowingOrFulfilledOrRejected()){if(e===this)return this._rejectCallback(i(),!1,!0);var s=p(e,this);if(!(s instanceof t))return this._fulfill(e);var o=1|(n?4:0);this._propagateFrom(s,o);var r=s._target();if(r._isPending()){for(var a=this._length(),l=0;l<a;++l)r._migrateCallbacks(this,l);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else r._isFulfilled()?this._fulfillUnchecked(r._value()):this._rejectUnchecked(r._reason(),r._getCarriedStackTrace())}},t.prototype._rejectCallback=function(e,t,n){n||r.markAsOriginatingFromRejection(e);var i=r.ensureErrorObject(e),s=i===e;this._attachExtraTrace(i,!!t&&s),this._reject(e,s?void 0:i)},t.prototype._resolveFromResolver=function(e){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,i=_(e)(function(e){null!==t&&(t._resolveCallback(e),t=null)},function(e){null!==t&&(t._rejectCallback(e,n),t=null)});n=!1,this._popContext(),void 0!==i&&i===x&&null!==t&&(t._rejectCallback(i.e,!0,!0),t=null)},t.prototype._settlePromiseFromHandler=function(e,t,n,s){if(!s._isRejected()){s._pushContext();var o;if(o=t!==d||this._isRejected()?_(e).call(t,n):_(e).apply(this._boundTo,n),s._popContext(),o===x||o===s||o===h){var r=o===s?i():o.e;s._rejectCallback(r,!1,!0)}else s._resolveCallback(o)}},t.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},t.prototype._followee=function(){return this._rejectionHandler0},t.prototype._setFollowee=function(e){this._rejectionHandler0=e},t.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},t.prototype._propagateFrom=function(e,t){(1&t)>0&&e._cancellable()&&(this._setCancellable(),this._cancellationParent=e),(4&t)>0&&e._isBound()&&this._setBoundTo(e._boundTo)},t.prototype._fulfill=function(e){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(e)},t.prototype._reject=function(e,t){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(e,t)},t.prototype._settlePromiseAt=function(e){var n=this._promiseAt(e),i=n instanceof t;if(i&&n._isMigrated())return n._unsetIsMigrated(),a.invoke(this._settlePromiseAt,this,e);var s=this._isFulfilled()?this._fulfillmentHandlerAt(e):this._rejectionHandlerAt(e),o=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,r=this._settledValue,l=this._receiverAt(e);this._clearCallbackDataAtIndex(e),"function"==typeof s?i?this._settlePromiseFromHandler(s,l,r,n):s.call(l,r,n):l instanceof f?l._isResolved()||(this._isFulfilled()?l._promiseFulfilled(r,n):l._promiseRejected(r,n)):i&&(this._isFulfilled()?n._fulfill(r):n._reject(r,o)),e>=4&&4===(31&e)&&a.invokeLater(this._setLength,this,0)},t.prototype._clearCallbackDataAtIndex=function(e){if(0===e)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var t=5*e-5;this[t+3]=this[t+4]=this[t+0]=this[t+1]=this[t+2]=void 0}},t.prototype._isSettlePromisesQueued=function(){return(this._bitField&-1073741824)===-1073741824},t.prototype._setSettlePromisesQueued=function(){this._bitField=this._bitField|-1073741824},t.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},t.prototype._queueSettlePromises=function(){a.settlePromises(this),this._setSettlePromisesQueued()},t.prototype._fulfillUnchecked=function(e){if(e===this){var t=i();return this._attachExtraTrace(t),this._rejectUnchecked(t,void 0)}this._setFulfilled(),this._settledValue=e,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},t.prototype._rejectUncheckedCheckError=function(e){var t=r.ensureErrorObject(e);this._rejectUnchecked(e,t===e?void 0:t)},t.prototype._rejectUnchecked=function(e,t){if(e===this){var n=i();return this._attachExtraTrace(n),this._rejectUnchecked(n)}return this._setRejected(),this._settledValue=e,this._cleanValues(),this._isFinal()?void a.throwLater(function(e){throw"stack"in e&&a.invokeFirst(m.unhandledRejection,void 0,e),e},void 0===t?e:t):(void 0!==t&&t!==e&&this._setCarriedStackTrace(t),void(this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()))},t.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var e=this._length(),t=0;t<e;t++)this._settlePromiseAt(t)},t._makeSelfResolutionError=i,e("./progress.js")(t,f),e("./method.js")(t,u,p,o),e("./bind.js")(t,u,p),e("./finally.js")(t,h,p),e("./direct_resolve.js")(t),e("./synchronous_inspection.js")(t),e("./join.js")(t,f,p,u),t.Promise=t,e("./map.js")(t,f,o,p,u),e("./cancel.js")(t),e("./using.js")(t,o,p,g),e("./generators.js")(t,o,u,p),e("./nodeify.js")(t),e("./call_get.js")(t),e("./props.js")(t,f,p,o),e("./race.js")(t,u,p,o),e("./reduce.js")(t,f,o,p,u),e("./settle.js")(t,f),e("./some.js")(t,f,o),e("./promisify.js")(t,u),e("./any.js")(t),e("./each.js")(t,u),e("./timers.js")(t,u),e("./filter.js")(t,u),r.toFastProperties(t),r.toFastProperties(t.prototype),n({a:1}),n({b:2}),n({c:3}),n(1),n(function(){}),n(void 0),n(!1),n(new t(u)),m.setBounds(a.firstLineError,r.lastLineError),t}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(e,t,n){"use strict";t.exports=function(t,n,i,s){function o(e){switch(e){case-2:return[];case-3:return{}}}function r(e){var i,s=this._promise=new t(n);e instanceof t&&(i=e,s._propagateFrom(i,5)),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var a=e("./util.js"),l=a.isArray;return r.prototype.length=function(){return this._length},r.prototype.promise=function(){return this._promise},r.prototype._init=function c(e,n){var r=i(this._values,this._promise);if(r instanceof t){if(r=r._target(),this._values=r,!r._isFulfilled())return r._isPending()?void r._then(c,this._reject,void 0,this,n):void this._reject(r._reason());if(r=r._value(),!l(r)){var a=new t.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(a)}}else if(!l(r))return void this._promise._reject(s("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===r.length)return void(n===-5?this._resolveEmptyArray():this._resolve(o(n)));var u=this.getActualLength(r.length);this._length=u,this._values=this.shouldCopyValues()?new Array(u):this._values;for(var d=this._promise,h=0;h<u;++h){var p=this._isResolved(),f=i(r[h],d);f instanceof t?(f=f._target(),p?f._unsetRejectionIsUnhandled():f._isPending()?f._proxyPromiseArray(this,h):f._isFulfilled()?this._promiseFulfilled(f._value(),h):this._promiseRejected(f._reason(),h)):p||this._promiseFulfilled(f,h)}},r.prototype._isResolved=function(){return null===this._values},r.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},r.prototype.__hardReject__=r.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1,!0)},r.prototype._promiseProgressed=function(e,t){this._promise._progress({index:t,value:e})},r.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},r.prototype._promiseRejected=function(e,t){this._totalResolved++,this._reject(e)},r.prototype.shouldCopyValues=function(){return!0},r.prototype.getActualLength=function(e){return e},r}},{"./util.js":38}],25:[function(e,t,n){"use strict";function i(e){return e instanceof Error&&p.getPrototypeOf(e)===Error.prototype}function s(e){var t;if(i(e)){t=new d(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=p.keys(e),s=0;s<n.length;++s){var o=n[s];f.test(o)||(t[o]=e[o])}return t}return a.markAsOriginatingFromRejection(e),e}function o(e){return function(t,n){if(null!==e){if(t){var i=s(l(t));e._attachExtraTrace(i),e._reject(i)}else if(arguments.length>2){for(var o=arguments.length,r=new Array(o-1),a=1;a<o;++a)r[a-1]=arguments[a];e._fulfill(r)}else e._fulfill(n);e=null}}}var r,a=e("./util.js"),l=a.maybeWrapAsError,c=e("./errors.js"),u=c.TimeoutError,d=c.OperationalError,h=a.haveGetters,p=e("./es5.js"),f=/^(?:name|message|stack|cause)$/;if(r=h?function(e){this.promise=e}:function(e){this.promise=e,this.asCallback=o(e),this.callback=this.asCallback},h){var m={get:function(){return o(this.promise)}};p.defineProperty(r.prototype,"asCallback",m),p.defineProperty(r.prototype,"callback",m)}r._nodebackForPromise=o,r.prototype.toString=function(){return"[object PromiseResolver]"},r.prototype.resolve=r.prototype.fulfill=function(e){if(!(this instanceof r))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(e)},r.prototype.reject=function(e){if(!(this instanceof r))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(e)},r.prototype.progress=function(e){if(!(this instanceof r))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(e)},r.prototype.cancel=function(e){this.promise.cancel(e)},r.prototype.timeout=function(){this.reject(new u("timeout"));
},r.prototype.isResolved=function(){return this.promise.isResolved()},r.prototype.toJSON=function(){return this.promise.toJSON()},t.exports=r},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e){return!x.test(e)}function s(e){try{return e.__isPromisified__===!0}catch(t){return!1}}function o(e,t,n){var i=p.getDataPropertyOrDefault(e,t+n,w);return!!i&&s(i)}function r(e,t,n){for(var i=0;i<e.length;i+=2){var s=e[i];if(n.test(s))for(var o=s.replace(n,""),r=0;r<e.length;r+=2)if(e[r]===o)throw new b("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",t))}}function a(e,t,n,i){for(var a=p.inheritedDataKeys(e),l=[],c=0;c<a.length;++c){var u=a[c],d=e[u],h=i===_||_(u,d,e);"function"!=typeof d||s(d)||o(e,u,t)||!i(u,d,e,h)||l.push(u,d)}return r(l,t,n),l}function l(e,i,s,o){function r(){var s=i;i===h&&(s=this);var o=new t(n);o._captureStackTrace();var r="string"==typeof l&&this!==a?this[l]:e,c=f(o);try{r.apply(s,m(arguments,c))}catch(u){o._rejectCallback(v(u),!0,!0)}return o}var a=function(){return this}(),l=e;return"string"==typeof l&&(e=o),r.__isPromisified__=!0,r}function c(e,t,n,i){for(var s=new RegExp(k(t)+"$"),o=a(e,t,s,n),r=0,l=o.length;r<l;r+=2){var c=o[r],u=o[r+1],d=c+t;e[d]=i===S?S(c,h,c,u,t):i(u,function(){return S(c,h,c,u,t)})}return p.toFastProperties(e),e}function u(e,t){return S(e,t,void 0,e)}var d,h={},p=e("./util.js"),f=e("./promise_resolver.js")._nodebackForPromise,m=p.withAppended,v=p.maybeWrapAsError,g=p.canEvaluate,b=e("./errors").TypeError,y="Async",w={__isPromisified__:!0},x=/^(?:length|name|arguments|caller|callee|prototype|__isPromisified__)$/,_=function(e,t){return p.isIdentifier(e)&&"_"!==e.charAt(0)&&!p.isClass(t)},k=function(e){return e.replace(/([$])/,"\\$")},S=g?d:l;t.promisify=function(e,t){if("function"!=typeof e)throw new b("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(s(e))return e;var n=u(e,arguments.length<2?h:t);return p.copyDescriptors(e,n,i),n},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new b("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");t=Object(t);var n=t.suffix;"string"!=typeof n&&(n=y);var i=t.filter;"function"!=typeof i&&(i=_);var s=t.promisifier;if("function"!=typeof s&&(s=S),!p.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var o=p.inheritedDataKeys(e),r=0;r<o.length;++r){var a=e[o[r]];"constructor"!==o[r]&&p.isClass(a)&&(c(a.prototype,n,i,s),c(a,n,i,s))}return c(e,n,i,s)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(e,t,n){"use strict";t.exports=function(t,n,i,s){function o(e){for(var t=c.keys(e),n=t.length,i=new Array(2*n),s=0;s<n;++s){var o=t[s];i[s]=e[o],i[s+n]=o}this.constructor$(i)}function r(e){var n,r=i(e);return l(r)?(n=r instanceof t?r._then(t.props,void 0,void 0,void 0,void 0):new o(r).promise(),r instanceof t&&n._propagateFrom(r,4),n):s("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}var a=e("./util.js"),l=a.isObject,c=e("./es5.js");a.inherits(o,n),o.prototype._init=function(){this._init$(void 0,-3)},o.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){for(var i={},s=this.length(),o=0,r=this.length();o<r;++o)i[this._values[o+s]]=this._values[o];this._resolve(i)}},o.prototype._promiseProgressed=function(e,t){this._promise._progress({key:this._values[t+this.length()],value:e})},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return r(this)},t.props=function(e){return r(e)}}},{"./es5.js":14,"./util.js":38}],28:[function(e,t,n){"use strict";function i(e,t,n,i,s){for(var o=0;o<s;++o)n[o+i]=e[o+t],e[o+t]=void 0}function s(e){this._capacity=e,this._length=0,this._front=0}s.prototype._willBeOverCapacity=function(e){return this._capacity<e},s.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},s.prototype._unshiftOne=function(e){var t=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,i=(n-1&t-1^t)-t;this[i]=e,this._front=i,this._length=this.length()+1},s.prototype.unshift=function(e,t,n){this._unshiftOne(n),this._unshiftOne(t),this._unshiftOne(e)},s.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var s=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[s+0&o]=e,this[s+1&o]=t,this[s+2&o]=n,this._length=i},s.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},s.prototype.length=function(){return this._length},s.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},s.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,s=this._length,o=n+s&t-1;i(this,0,this,t,o)},t.exports=s},{}],29:[function(e,t,n){"use strict";t.exports=function(t,n,i,s){function o(e,o){var l=i(e);if(l instanceof t)return a(l);if(!r(e))return s("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var c=new t(n);void 0!==o&&c._propagateFrom(o,5);for(var u=c._fulfill,d=c._reject,h=0,p=e.length;h<p;++h){var f=e[h];(void 0!==f||h in e)&&t.cast(f)._then(u,d,void 0,c,null)}return c}var r=e("./util.js").isArray,a=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util.js":38}],30:[function(e,t,n){"use strict";t.exports=function(t,n,i,s,o){function r(e,n,i,r){this.constructor$(e),this._promise._captureStackTrace(),this._preservedValues=r===o?[]:null,this._zerothIsAccum=void 0===i,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var l=s(i,this._promise),u=!1,d=l instanceof t;d&&(l=l._target(),l._isPending()?l._proxyPromiseArray(this,-1):l._isFulfilled()?(i=l._value(),this._gotAccum=!0):(this._reject(l._reason()),u=!0)),d||this._zerothIsAccum||(this._gotAccum=!0),this._callback=n,this._accum=i,u||c.invoke(a,this,void 0)}function a(){this._init$(void 0,-5)}function l(e,t,n,s){if("function"!=typeof t)return i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var o=new r(e,t,n,s);return o.promise()}var c=e("./async.js"),u=e("./util.js"),d=u.tryCatch,h=u.errorObj;u.inherits(r,n),r.prototype._init=function(){},r.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},r.prototype._promiseFulfilled=function(e,n){var i=this._values;i[n]=e;var o,r=this.length(),a=this._preservedValues,l=null!==a,c=this._gotAccum,u=this._valuesPhase;if(!u)for(u=this._valuesPhase=new Array(r),o=0;o<r;++o)u[o]=0;if(o=u[n],0===n&&this._zerothIsAccum?(this._accum=e,this._gotAccum=c=!0,u[n]=0===o?1:2):n===-1?(this._accum=e,this._gotAccum=c=!0):0===o?u[n]=1:(u[n]=2,this._accum=e),c){for(var p,f=this._callback,m=this._promise._boundTo,v=this._reducingIndex;v<r;++v)if(o=u[v],2!==o){if(1!==o)return;if(e=i[v],this._promise._pushContext(),l?(a.push(e),p=d(f).call(m,e,v,r)):p=d(f).call(m,this._accum,e,v,r),this._promise._popContext(),p===h)return this._reject(p.e);var g=s(p,this._promise);if(g instanceof t){if(g=g._target(),g._isPending())return u[v]=4,g._proxyPromiseArray(this,v);if(!g._isFulfilled())return this._reject(g._reason());p=g._value()}this._reducingIndex=v+1,this._accum=p}else this._reducingIndex=v+1;this._resolve(l?a:this._accum)}},t.prototype.reduce=function(e,t){return l(this,e,t,null)},t.reduce=function(e,t,n,i){return l(e,t,n,i)}}},{"./async.js":2,"./util.js":38}],31:[function(t,n,s){"use strict";var o,r=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")};if(t("./util.js").isNode){var a=e.versions.node.split(".").map(Number);o=0===a[0]&&a[1]>10||a[0]>0?i.setImmediate:e.nextTick,o||(o="undefined"!=typeof setImmediate?setImmediate:"undefined"!=typeof setTimeout?setTimeout:r)}else"undefined"!=typeof MutationObserver?(o=function(e){var t=document.createElement("div"),n=new MutationObserver(e);return n.observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}},o.isStatic=!0):o="undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:r;n.exports=o},{"./util.js":38}],32:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e){this.constructor$(e)}var s=t.PromiseInspection,o=e("./util.js");o.inherits(i,n),i.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},i.prototype._promiseFulfilled=function(e,t){var n=new s;n._bitField=268435456,n._settledValue=e,this._promiseResolved(t,n)},i.prototype._promiseRejected=function(e,t){var n=new s;n._bitField=134217728,n._settledValue=e,this._promiseResolved(t,n)},t.settle=function(e){return new i(e).promise()},t.prototype.settle=function(){return new i(this).promise()}}},{"./util.js":38}],33:[function(e,t,n){"use strict";t.exports=function(t,n,i){function s(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return i("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var n=new s(e),o=n.promise();return n.setHowMany(t),n.init(),o}var r=e("./util.js"),a=e("./errors.js").RangeError,l=e("./errors.js").AggregateError,c=r.isArray;r.inherits(s,n),s.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=c(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},s.prototype.init=function(){this._initialized=!0,this._init()},s.prototype.setUnwrap=function(){this._unwrap=!0},s.prototype.howMany=function(){return this._howMany},s.prototype.setHowMany=function(e){this._howMany=e},s.prototype._promiseFulfilled=function(e){this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values))},s.prototype._promiseRejected=function(e){if(this._addRejected(e),this.howMany()>this._canPossiblyFulfill()){for(var t=new l,n=this.length();n<this._values.length;++n)t.push(this._values[n]);this._reject(t)}},s.prototype._fulfilled=function(){return this._totalResolved},s.prototype._rejected=function(){return this._values.length-this.length()},s.prototype._addRejected=function(e){this._values.push(e)},s.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},s.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},s.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new a(t)},s.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=s}},{"./errors.js":13,"./util.js":38}],34:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValue=e._settledValue):(this._bitField=0,this._settledValue=void 0)}t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},t.prototype.isFulfilled=e.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},t.prototype.isRejected=e.prototype._isRejected=function(){return(134217728&this._bitField)>0},t.prototype.isPending=e.prototype._isPending=function(){return 0===(402653184&this._bitField)},t.prototype.isResolved=e.prototype._isResolved=function(){return(402653184&this._bitField)>0},e.prototype.isPending=function(){return this._target()._isPending()},e.prototype.isRejected=function(){return this._target()._isRejected()},e.prototype.isFulfilled=function(){return this._target()._isFulfilled()},e.prototype.isResolved=function(){return this._target()._isResolved()},e.prototype._value=function(){return this._settledValue},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},e.prototype.value=function(){var e=this._target();if(!e.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return e._settledValue},e.prototype.reason=function(){var e=this._target();if(!e.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return e._unsetRejectionIsUnhandled(),e._settledValue},e.PromiseInspection=t}},{}],35:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e,i){if(c(e)){if(e instanceof t)return e;if(o(e)){var u=new t(n);return e._then(u._fulfillUnchecked,u._rejectUncheckedCheckError,u._progressUnchecked,u,null),u}var d=a.tryCatch(s)(e);if(d===l){i&&i._pushContext();var u=t.reject(d.e);return i&&i._popContext(),u}if("function"==typeof d)return r(e,d,i)}return e}function s(e){return e.then}function o(e){return u.call(e,"_promise0")}function r(e,i,s){function o(n){u&&(e===n?u._rejectCallback(t._makeSelfResolutionError(),!1,!0):u._resolveCallback(n),u=null)}function r(e){u&&(u._rejectCallback(e,h,!0),u=null)}function c(e){u&&"function"==typeof u._progress&&u._progress(e)}var u=new t(n),d=u;s&&s._pushContext(),u._captureStackTrace(),s&&s._popContext();var h=!0,p=a.tryCatch(i).call(e,o,r,c);return h=!1,u&&p===l&&(u._rejectCallback(p.e,!0,!0),u=null),d}var a=e("./util.js"),l=a.errorObj,c=a.isObject,u={}.hasOwnProperty;return i}},{"./util.js":38}],36:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e){var t=this;return t instanceof Number&&(t=+t),clearTimeout(t),e}function s(e){var t=this;throw t instanceof Number&&(t=+t),clearTimeout(t),e}var o=e("./util.js"),r=t.TimeoutError,a=function(e,t){if(e.isPending()){"string"!=typeof t&&(t="operation timed out");var n=new r(t);o.markAsOriginatingFromRejection(n),e._attachExtraTrace(n),e._cancel(n)}},l=function(e){return c(+this).thenReturn(e)},c=t.delay=function(e,i){if(void 0===i){i=e,e=void 0;var s=new t(n);return setTimeout(function(){s._fulfill()},i),s}return i=+i,t.resolve(e)._then(l,null,null,i,void 0)};t.prototype.delay=function(e){return c(this,e)},t.prototype.timeout=function(e,t){e=+e;var n=this.then().cancellable();n._cancellationParent=this;var o=setTimeout(function(){a(n,t)},e);return n._then(i,s,void 0,o,void 0)}}},{"./util.js":38}],37:[function(e,t,n){"use strict";t.exports=function(t,n,i,s){function o(e){for(var n=e.length,i=0;i<n;++i){var s=e[i];if(s.isRejected())return t.reject(s.error());e[i]=s._settledValue}return e}function r(e){setTimeout(function(){throw e},0)}function a(e){var t=i(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function l(e,n){function s(){if(o>=l)return c.resolve();var u=a(e[o++]);if(u instanceof t&&u._isDisposable()){try{u=i(u._getDisposer().tryDispose(n),e.promise)}catch(d){return r(d)}if(u instanceof t)return u._then(s,r,null,null,null)}s()}var o=0,l=e.length,c=t.defer();return s(),c.promise}function c(e){var t=new v;return t._settledValue=e,t._bitField=268435456,l(this,t).thenReturn(e)}function u(e){var t=new v;return t._settledValue=e,t._bitField=134217728,l(this,t).thenThrow(e)}function d(e,t,n){this._data=e,this._promise=t,this._context=n}function h(e,t,n){this.constructor$(e,t,n)}function p(e){return d.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}var f=e("./errors.js").TypeError,m=e("./util.js").inherits,v=t.PromiseInspection;d.prototype.data=function(){return this._data},d.prototype.promise=function(){return this._promise},d.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},d.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=null!==t?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},d.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},m(h,d),h.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var s=arguments[e-1];if("function"!=typeof s)return n("fn must be a function\n\n    See http://goo.gl/916lJJ\n");e--;for(var r=new Array(e),a=0;a<e;++a){var l=arguments[a];if(d.isDisposer(l)){var h=l;l=l.promise(),l._setDisposable(h)}else{var f=i(l);f instanceof t&&(l=f._then(p,null,null,{resources:r,index:a},void 0))}r[a]=l}var m=t.settle(r).then(o).then(function(e){m._pushContext();var t;try{t=s.apply(void 0,e)}finally{m._popContext()}return t})._then(c,u,void 0,r,void 0);return r.promise=m,m},t.prototype._setDisposable=function(e){this._bitField=262144|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(262144&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-262145,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new h(e,this,s());throw new f}}},{"./errors.js":13,"./util.js":38}],38:[function(t,n,i){"use strict";function s(){try{return T.apply(this,arguments)}catch(e){return j.e=e,j}}function o(e){return T=e,s}function r(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function a(e){return!r(e)}function l(e){return r(e)?new Error(g(e)):e}function c(e,t){var n,i=e.length,s=new Array(i+1);for(n=0;n<i;++n)s[n]=e[n];return s[n]=t,s}function u(e,t,n){if(!k.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var i=Object.getOwnPropertyDescriptor(e,t);return null!=i?null==i.get&&null==i.set?i.value:n:void 0}function d(e,t,n){if(r(e))return e;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return k.defineProperty(e,t,i),e}function h(e){throw e}function p(e){try{if("function"==typeof e){var t=k.names(e.prototype);return k.isES5?t.length>1:t.length>0&&!(1===t.length&&"constructor"===t[0])}return!1}catch(n){return!1}}function f(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e}function m(e){return $.test(e)}function v(e,t,n){for(var i=new Array(e),s=0;s<e;++s)i[s]=t+s+n;return i}function g(e){try{return e+""}catch(t){return"[no string representation]"}}function b(e){try{d(e,"isOperational",!0)}catch(t){}}function y(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0)}function w(e){return e instanceof Error&&k.propertyIsWritable(e,"stack")}function x(e){return{}.toString.call(e)}function _(e,t,n){for(var i=k.names(e),s=0;s<i.length;++s){var o=i[s];n(o)&&k.defineProperty(t,o,k.getDescriptor(e,o))}}var k=t("./es5.js"),S="undefined"==typeof navigator,C=function(){try{var e={};return k.defineProperty(e,"f",{get:function(){return 3}}),3===e.f}catch(t){return!1}}(),j={e:{}},T,E=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)i.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var i={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},A=function(){return"string"!==this}.call("string"),P=function(){if(k.isES5){var e=Object.prototype,t=Object.getOwnPropertyNames;return function(n){for(var i=[],s=Object.create(null);null!=n&&n!==e;){var o;try{o=t(n)}catch(r){return i}for(var a=0;a<o.length;++a){var l=o[a];if(!s[l]){s[l]=!0;var c=Object.getOwnPropertyDescriptor(n,l);null!=c&&null==c.get&&null==c.set&&i.push(l)}}n=k.getPrototypeOf(n)}return i}}return function(e){var t=[];for(var n in e)t.push(n);return t}}(),$=/^[a-z$_][a-z$_0-9]*$/i,L=function(){return"stack"in new Error?function(e){return w(e)?e:new Error(g(e))}:function(e){if(w(e))return e;try{throw new Error(g(e))}catch(t){return t}}}(),R={isClass:p,isIdentifier:m,inheritedDataKeys:P,getDataPropertyOrDefault:u,thrower:h,isArray:k.isArray,haveGetters:C,notEnumerableProp:d,isPrimitive:r,isObject:a,canEvaluate:S,errorObj:j,tryCatch:o,inherits:E,withAppended:c,maybeWrapAsError:l,wrapsPrimitiveReceiver:A,toFastProperties:f,filledRange:v,toString:g,canAttachTrace:w,ensureErrorObject:L,originatesFromRejection:y,markAsOriginatingFromRejection:b,classString:x,copyDescriptors:_,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:"undefined"!=typeof e&&"[object process]"===x(e).toLowerCase()};try{throw new Error}catch(D){R.lastLineError=D}n.exports=R},{"./es5.js":14}],39:[function(e,t,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(e){return"function"==typeof e}function o(e){return"number"==typeof e}function r(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,i,o,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(s(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,o=new Array(i-1),l=1;l<i;l++)o[l-1]=arguments[l];n.apply(this,o)}else if(r(n)){for(i=arguments.length,o=new Array(i-1),l=1;l<i;l++)o[l-1]=arguments[l];for(c=n.slice(),i=c.length,l=0;l<i;l++)c[l].apply(this,o)}return!0},i.prototype.addListener=function(e,t){var n;if(!s(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,s(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned){var n;n=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!s(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},i.prototype.removeListener=function(e,t){var n,i,o,a;if(!s(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,i=-1,n===t||s(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(n)){for(a=o;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],s(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?s(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?s(e._events[t])?1:e._events[t].length:0}},{}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:550}],540:[function(e,t,n){},{}],541:[function(e,t,n){arguments[4][540][0].apply(n,arguments)},{dup:540}],542:[function(e,t,n){(function(t){"use strict";function i(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function s(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=r.prototype):(null===e&&(e=new r(t)),e.length=t),e}function r(e,t,n){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return a(this,e,t,n)}function a(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,n,i):"string"==typeof t?d(e,t,n):f(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,n,i){return l(t),t<=0?o(e,t):void 0!==n?"string"==typeof i?o(e,t).fill(n,i):o(e,t).fill(n):o(e,t)}function u(e,t){if(l(t),e=o(e,t<0?0:0|m(t)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!r.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|g(t,n);e=o(e,i);var s=e.write(t,n);return s!==i&&(e=e.slice(0,s)),e}function h(e,t){var n=t.length<0?0:0|m(t.length);e=o(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function p(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),r.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=r.prototype):e=h(e,t),e}function f(e,t){if(r.isBuffer(t)){var n=0|m(t.length);return e=o(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||X(t.length)?o(e,0):h(e,t);if("Buffer"===t.type&&Q(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),r.alloc(+e)}function g(e,t){if(r.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(i)return W(e).length;t=(""+t).toLowerCase(),i=!0}}function b(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return $(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function y(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function w(e,t,n,i,s){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof t&&(t=r.from(t,i)),r.isBuffer(t))return 0===t.length?-1:x(e,t,n,i,s);if("number"==typeof t)return t=255&t,r.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):x(e,[t],n,i,s);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,i,s){function o(e,t){return 1===r?e[t]:e.readUInt16BE(t*r)}var r=1,a=e.length,l=t.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;r=2,a/=2,l/=2,n/=2}var c;if(s){var u=-1;for(c=n;c<a;c++)if(o(e,c)===o(t,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===l)return u*r}else u!==-1&&(c-=c-u),u=-1}else for(n+l>a&&(n=a-l),c=n;c>=0;c--){for(var d=!0,h=0;h<l;h++)if(o(e,c+h)!==o(t,h)){d=!1;break}if(d)return c}return-1}function _(e,t,n,i){n=Number(n)||0;var s=e.length-n;i?(i=Number(i),i>s&&(i=s)):i=s;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var r=0;r<i;++r){var a=parseInt(t.substr(2*r,2),16);if(isNaN(a))return r;e[n+r]=a}return r}function k(e,t,n,i){return K(W(t,e.length-n),e,n,i)}function S(e,t,n,i){return K(q(t),e,n,i)}function C(e,t,n,i){return S(e,t,n,i)}function j(e,t,n,i){return K(G(t),e,n,i)}function T(e,t,n,i){return K(Y(t,e.length-n),e,n,i)}function E(e,t,n){return 0===t&&n===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var i=[],s=t;s<n;){var o=e[s],r=null,a=o>239?4:o>223?3:o>191?2:1;if(s+a<=n){var l,c,u,d;switch(a){case 1:o<128&&(r=o);break;case 2:l=e[s+1],128===(192&l)&&(d=(31&o)<<6|63&l,d>127&&(r=d));break;case 3:l=e[s+1],c=e[s+2],128===(192&l)&&128===(192&c)&&(d=(15&o)<<12|(63&l)<<6|63&c,d>2047&&(d<55296||d>57343)&&(r=d));break;case 4:l=e[s+1],c=e[s+2],u=e[s+3],128===(192&l)&&128===(192&c)&&128===(192&u)&&(d=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&u,d>65535&&d<1114112&&(r=d))}}null===r?(r=65533,a=1):r>65535&&(r-=65536,i.push(r>>>10&1023|55296),r=56320|1023&r),i.push(r),s+=a}return P(i)}function P(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=ee));return n}function $(e,t,n){var i="";n=Math.min(e.length,n);for(var s=t;s<n;++s)i+=String.fromCharCode(127&e[s]);return i}function L(e,t,n){var i="";n=Math.min(e.length,n);for(var s=t;s<n;++s)i+=String.fromCharCode(e[s]);return i}function R(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var s="",o=t;o<n;++o)s+=H(e[o]);return s}function D(e,t,n){for(var i=e.slice(t,n),s="",o=0;o<i.length;o+=2)s+=String.fromCharCode(i[o]+256*i[o+1]);return s}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length");
}function O(e,t,n,i,s,o){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function M(e,t,n,i){t<0&&(t=65535+t+1);for(var s=0,o=Math.min(e.length-n,2);s<o;++s)e[n+s]=(t&255<<8*(i?s:1-s))>>>8*(i?s:1-s)}function I(e,t,n,i){t<0&&(t=4294967295+t+1);for(var s=0,o=Math.min(e.length-n,4);s<o;++s)e[n+s]=t>>>8*(i?s:3-s)&255}function B(e,t,n,i,s,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,i,s){return s||B(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,n,i,23,4),n+4}function U(e,t,n,i,s){return s||B(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,n,i,52,8),n+8}function z(e){if(e=V(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function V(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){t=t||1/0;for(var n,i=e.length,s=null,o=[],r=0;r<i;++r){if(n=e.charCodeAt(r),n>55295&&n<57344){if(!s){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(r+1===i){(t-=3)>-1&&o.push(239,191,189);continue}s=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),s=n;continue}n=(s-55296<<10|n-56320)+65536}else s&&(t-=3)>-1&&o.push(239,191,189);if(s=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Y(e,t){for(var n,i,s,o=[],r=0;r<e.length&&!((t-=2)<0);++r)n=e.charCodeAt(r),i=n>>8,s=n%256,o.push(s),o.push(i);return o}function G(e){return J.toByteArray(z(e))}function K(e,t,n,i){for(var s=0;s<i&&!(s+n>=t.length||s>=e.length);++s)t[s+n]=e[s];return s}function X(e){return e!==e}var J=e("base64-js"),Z=e("ieee754"),Q=e("isarray");n.Buffer=r,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),n.kMaxLength=s(),r.poolSize=8192,r._augment=function(e){return e.__proto__=r.prototype,e},r.from=function(e,t,n){return a(null,e,t,n)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(e,t,n){return c(null,e,t,n)},r.allocUnsafe=function(e){return u(null,e)},r.allocUnsafeSlow=function(e){return u(null,e)},r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==t[s]){n=e[s],i=t[s];break}return n<i?-1:i<n?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return r.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=r.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){var o=e[n];if(!r.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i},r.byteLength=g,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},r.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):b.apply(this,arguments)},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===r.compare(this,e)},r.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},r.prototype.compare=function(e,t,n,i,s){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===s&&(s=this.length),t<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&t>=n)return 0;if(i>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var o=s-i,a=n-t,l=Math.min(o,a),c=this.slice(i,s),u=e.slice(t,n),d=0;d<l;++d)if(c[d]!==u[d]){o=c[d],a=u[d];break}return o<a?-1:a<o?1:0},r.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},r.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},r.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},r.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0)}var s=this.length-t;if((void 0===n||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return j(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;r.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var i;if(r.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=r.prototype;else{var s=t-e;i=new r(s,(void 0));for(var o=0;o<s;++o)i[o]=this[o+e]}return i},r.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var i=this[e],s=1,o=0;++o<t&&(s*=256);)i+=this[e+o]*s;return i},r.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var i=this[e+--t],s=1;t>0&&(s*=256);)i+=this[e+--t]*s;return i},r.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var i=this[e],s=1,o=0;++o<t&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i},r.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var i=t,s=1,o=this[e+--i];i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o},r.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},r.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),Z.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),Z.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),Z.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),Z.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=0|t,n=0|n,!i){var s=Math.pow(2,8*n)-1;O(this,e,t,n,s,0)}var o=1,r=0;for(this[t]=255&e;++r<n&&(o*=256);)this[t+r]=e/o&255;return t+n},r.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=0|t,n=0|n,!i){var s=Math.pow(2,8*n)-1;O(this,e,t,n,s,0)}var o=n-1,r=1;for(this[t+o]=255&e;--o>=0&&(r*=256);)this[t+o]=e/r&255;return t+n},r.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},r.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=0|t,!i){var s=Math.pow(2,8*n-1);O(this,e,t,n,s-1,-s)}var o=0,r=1,a=0;for(this[t]=255&e;++o<n&&(r*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/r>>0)-a&255;return t+n},r.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=0|t,!i){var s=Math.pow(2,8*n-1);O(this,e,t,n,s-1,-s)}var o=n-1,r=1,a=0;for(this[t+o]=255&e;--o>=0&&(r*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/r>>0)-a&255;return t+n},r.prototype.writeInt8=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},r.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var s,o=i-n;if(this===e&&n<t&&t<i)for(s=o-1;s>=0;--s)e[s+t]=this[s+n];else if(o<1e3||!r.TYPED_ARRAY_SUPPORT)for(s=0;s<o;++s)e[s+t]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},r.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var s=e.charCodeAt(0);s<256&&(e=s)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!r.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e=255&e);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=r.isBuffer(e)?e:W(new r(e,i).toString()),l=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%l]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":543,ieee754:544,isarray:545}],543:[function(e,t,n){"use strict";function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function s(e){return 3*e.length/4-i(e)}function o(e){var t,n,s,o,r,a=e.length;o=i(e),r=new d(3*a/4-o),n=o>0?a-4:a;var l=0;for(t=0;t<n;t+=4)s=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],r[l++]=s>>16&255,r[l++]=s>>8&255,r[l++]=255&s;return 2===o?(s=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,r[l++]=255&s):1===o&&(s=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,r[l++]=s>>8&255,r[l++]=255&s),r}function r(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function a(e,t,n){for(var i,s=[],o=t;o<n;o+=3)i=(e[o]<<16)+(e[o+1]<<8)+e[o+2],s.push(r(i));return s.join("")}function l(e){for(var t,n=e.length,i=n%3,s="",o=[],r=16383,l=0,u=n-i;l<u;l+=r)o.push(a(e,l,l+r>u?u:l+r));return 1===i?(t=e[n-1],s+=c[t>>2],s+=c[t<<4&63],s+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],s+=c[t>>10],s+=c[t>>4&63],s+=c[t<<2&63],s+="="),o.push(s),o.join("")}n.byteLength=s,n.toByteArray=o,n.fromByteArray=l;for(var c=[],u=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,f=h.length;p<f;++p)c[p]=h[p],u[h.charCodeAt(p)]=p;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},{}],544:[function(e,t,n){n.read=function(e,t,n,i,s){var o,r,a=8*s-i-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?s-1:0,h=n?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+e[t+d],d+=h,u-=8);for(r=o&(1<<-u)-1,o>>=-u,u+=i;u>0;r=256*r+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return r?NaN:(p?-1:1)*(1/0);r+=Math.pow(2,i),o-=c}return(p?-1:1)*r*Math.pow(2,o-i)},n.write=function(e,t,n,i,s,o){var r,a,l,c=8*o-s-1,u=(1<<c)-1,d=u>>1,h=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,r=u):(r=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-r))<1&&(r--,l*=2),t+=r+d>=1?h/l:h*Math.pow(2,1-d),t*l>=2&&(r++,l/=2),r+d>=u?(a=0,r=u):r+d>=1?(a=(t*l-1)*Math.pow(2,s),r+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,s),r=0));s>=8;e[n+p]=255&a,p+=f,a/=256,s-=8);for(r=r<<s|a,c+=s;c>0;e[n+p]=255&r,p+=f,r/=256,c-=8);e[n+p-f]|=128*m}},{}],545:[function(e,t,n){var i={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},{}],546:[function(e,t,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(e){return"function"==typeof e}function o(e){return"number"==typeof e}function r(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,i,o,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(n=this._events[e],a(n))return!1;if(s(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(r(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,l=0;l<i;l++)c[l].apply(this,o);return!0},i.prototype.addListener=function(e,t){var n;if(!s(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,s(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!s(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},i.prototype.removeListener=function(e,t){var n,i,o,a;if(!s(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,i=-1,n===t||s(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(n)){for(a=o;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],s(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?s(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(s(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},{}],547:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],548:[function(e,t,n){function i(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function s(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&i(e.slice(0,0))}t.exports=function(e){return null!=e&&(i(e)||s(e)||!!e._isBuffer)}},{}],549:[function(e,t,n){(function(e){function t(e,t){for(var n=0,i=e.length-1;i>=0;i--){var s=e[i];"."===s?e.splice(i,1):".."===s?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}var s=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return s.exec(e).slice(1)};n.resolve=function(){for(var n="",s=!1,o=arguments.length-1;o>=-1&&!s;o--){var r=o>=0?arguments[o]:e.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(n=r+"/"+n,s="/"===r.charAt(0))}return n=t(i(n.split("/"),function(e){return!!e}),!s).join("/"),(s?"/":"")+n||"."},n.normalize=function(e){var s=n.isAbsolute(e),o="/"===r(e,-1);return e=t(i(e.split("/"),function(e){return!!e}),!s).join("/"),e||s||(e="."),e&&o&&(e+="/"),(s?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var s=i(e.split("/")),o=i(t.split("/")),r=Math.min(s.length,o.length),a=r,l=0;l<r;l++)if(s[l]!==o[l]){a=l;break}for(var c=[],l=a;l<s.length;l++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=o(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},n.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o(e)[3]};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:550}],550:[function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function r(e){if(h===clearTimeout)return clearTimeout(e);if((h===s||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){v&&f&&(v=!1,f.length?m=f.concat(m):g=-1,m.length&&l())}function l(){if(!v){var e=o(a);v=!0;for(var t=m.length;t;){for(f=m,m=[];++g<t;)f&&f[g].run();g=-1,t=m.length}f=null,v=!1,r(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var d,h,p=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{h="function"==typeof clearTimeout?clearTimeout:s}catch(e){h=s}}();var f,m=[],v=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||v||o(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],551:[function(e,t,n){(function(e){!function(i){function s(e){throw new RangeError(R[e])}function o(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function r(e,t){var n=e.split("@"),i="";n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(L,".");var s=e.split("."),r=o(s,t).join(".");return i+r}function a(e){for(var t,n,i=[],s=0,o=e.length;s<o;)t=e.charCodeAt(s++),t>=55296&&t<=56319&&s<o?(n=e.charCodeAt(s++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),s--)):i.push(t);return i}function l(e){return o(e,function(e){var t="";return e>65535&&(e-=65536,t+=O(e>>>10&1023|55296),e=56320|1023&e),t+=O(e)}).join("")}function c(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:_}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,n){var i=0;for(e=n?N(e/j):e>>1,e+=N(e/t);e>D*S>>1;i+=_)e=N(e/D);return N(i+(D+1)*e/(e+C))}function h(e){var t,n,i,o,r,a,u,h,p,f,m=[],v=e.length,g=0,b=E,y=T;for(n=e.lastIndexOf(A),n<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&s("not-basic"),m.push(e.charCodeAt(i));for(o=n>0?n+1:0;o<v;){for(r=g,a=1,u=_;o>=v&&s("invalid-input"),h=c(e.charCodeAt(o++)),(h>=_||h>N((x-g)/a))&&s("overflow"),g+=h*a,p=u<=y?k:u>=y+S?S:u-y,!(h<p);u+=_)f=_-p,a>N(x/f)&&s("overflow"),a*=f;t=m.length+1,y=d(g-r,t,0==r),N(g/t)>x-b&&s("overflow"),b+=N(g/t),g%=t,m.splice(g++,0,b)}return l(m)}function p(e){var t,n,i,o,r,l,c,h,p,f,m,v,g,b,y,w=[];for(e=a(e),v=e.length,t=E,n=0,r=T,l=0;l<v;++l)m=e[l],m<128&&w.push(O(m));for(i=o=w.length,o&&w.push(A);i<v;){for(c=x,l=0;l<v;++l)m=e[l],m>=t&&m<c&&(c=m);for(g=i+1,c-t>N((x-n)/g)&&s("overflow"),n+=(c-t)*g,t=c,l=0;l<v;++l)if(m=e[l],m<t&&++n>x&&s("overflow"),m==t){for(h=n,p=_;f=p<=r?k:p>=r+S?S:p-r,!(h<f);p+=_)y=h-f,b=_-f,w.push(O(u(f+y%b,0))),h=N(y/b);w.push(O(u(h,0))),r=d(n,g,i==o),n=0,++i}++n,++t}return w.join("")}function f(e){return r(e,function(e){return P.test(e)?h(e.slice(4).toLowerCase()):e})}function m(e){return r(e,function(e){return $.test(e)?"xn--"+p(e):e})}var v="object"==typeof n&&n&&!n.nodeType&&n,g="object"==typeof t&&t&&!t.nodeType&&t,b="object"==typeof e&&e;b.global!==b&&b.window!==b&&b.self!==b||(i=b);var y,w,x=2147483647,_=36,k=1,S=26,C=38,j=700,T=72,E=128,A="-",P=/^xn--/,$=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=_-k,N=Math.floor,O=String.fromCharCode;if(y={version:"1.4.1",ucs2:{decode:a,encode:l},decode:h,encode:p,toASCII:m,toUnicode:f},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return y});else if(v&&g)if(t.exports==v)g.exports=y;else for(w in y)y.hasOwnProperty(w)&&(v[w]=y[w]);else i.punycode=y}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],552:[function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var a=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,h,p,f,m=e[u].replace(a,"%20"),v=m.indexOf(n);v>=0?(d=m.substr(0,v),h=m.substr(v+1)):(d=m,h=""),p=decodeURIComponent(d),f=decodeURIComponent(h),i(r,p)?s(r[p])?r[p].push(f):r[p]=[r[p],f]:r[p]=f}return r};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],553:[function(e,t,n){"use strict";function i(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var s=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(r(e),function(r){var a=encodeURIComponent(s(r))+n;return o(e[r])?i(e[r],function(e){return a+encodeURIComponent(s(e))}).join(t):a+encodeURIComponent(s(e[r]))}).join(t):a?encodeURIComponent(s(a))+n+encodeURIComponent(s(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],554:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":552,"./encode":553}],555:[function(e,t,n){"use strict";function i(e){return this instanceof i?(c.call(this,e),u.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",s)):new i(e)}function s(){this.allowHalfOpen||this._writableState.ended||r(o,this)}function o(e){e.end()}var r=e("process-nextick-args"),a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=i;var l=e("core-util-is");l.inherits=e("inherits");var c=e("./_stream_readable"),u=e("./_stream_writable");l.inherits(i,c);for(var d=a(u.prototype),h=0;h<d.length;h++){var p=d[h];i.prototype[p]||(i.prototype[p]=u.prototype[p])}Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),i.prototype._destroy=function(e,t){this.push(null),this.end(),r(t,e)}},{"./_stream_readable":557,"./_stream_writable":559,"core-util-is":563,inherits:547,"process-nextick-args":565}],556:[function(e,t,n){"use strict";function i(e){return this instanceof i?void s.call(this,e):new i(e)}t.exports=i;var s=e("./_stream_transform"),o=e("core-util-is");o.inherits=e("inherits"),o.inherits(i,s),i.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":558,"core-util-is":563,inherits:547}],557:[function(e,t,n){(function(n,i){"use strict";function s(e){return M.from(e)}function o(e){return M.isBuffer(e)||e instanceof I}function r(e,t,n){return"function"==typeof e.prependListener?e.prependListener(t,n):void(e._events&&e._events[t]?D(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n))}function a(t,n){R=R||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,n instanceof R&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new V,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(z||(z=e("string_decoder/").StringDecoder),this.decoder=new z(t.encoding),this.encoding=t.encoding)}function l(t){return R=R||e("./_stream_duplex"),this instanceof l?(this._readableState=new a(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),void O.call(this)):new l(t)}function c(e,t,n,i,o){var r=e._readableState;if(null===t)r.reading=!1,m(e,r);else{var a;o||(a=d(r,t)),a?e.emit("error",a):r.objectMode||t&&t.length>0?("string"==typeof t||r.objectMode||Object.getPrototypeOf(t)===M.prototype||(t=s(t)),i?r.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):u(e,r,t,!0):r.ended?e.emit("error",new Error("stream.push() after EOF")):(r.reading=!1,r.decoder&&!n?(t=r.decoder.write(t),r.objectMode||0!==t.length?u(e,r,t,!1):b(e,r)):u(e,r,t,!1))):i||(r.reading=!1)}return h(r)}function u(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&v(e)),b(e,t)}function d(e,t){var n;return o(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function h(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function p(e){return e>=q?e=q:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function f(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=p(e)),
e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function m(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,v(e)}}function v(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(U("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?L(g,e):g(e))}function g(e){U("emit readable"),e.emit("readable"),S(e)}function b(e,t){t.readingMore||(t.readingMore=!0,L(y,e,t))}function y(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(U("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function w(e){return function(){var t=e._readableState;U("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&N(e,"data")&&(t.flowing=!0,S(e))}}function x(e){U("readable nexttick read 0"),e.read(0)}function _(e,t){t.resumeScheduled||(t.resumeScheduled=!0,L(k,e,t))}function k(e,t){t.reading||(U("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),S(e),t.flowing&&!t.reading&&e.read(0)}function S(e){var t=e._readableState;for(U("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=j(e,t.buffer,t.decoder),n}function j(e,t,n){var i;return e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?T(e,t):E(e,t),i}function T(e,t){var n=t.head,i=1,s=n.data;for(e-=s.length;n=n.next;){var o=n.data,r=e>o.length?o.length:e;if(s+=r===o.length?o:o.slice(0,e),e-=r,0===e){r===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(r));break}++i}return t.length-=i,s}function E(e,t){var n=M.allocUnsafe(e),i=t.head,s=1;for(i.data.copy(n),e-=i.data.length;i=i.next;){var o=i.data,r=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,r),e-=r,0===e){r===o.length?(++s,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(r));break}++s}return t.length-=s,n}function A(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,L(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function $(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}var L=e("process-nextick-args");t.exports=l;var R,D=e("isarray");l.ReadableState=a;var N=(e("events").EventEmitter,function(e,t){return e.listeners(t).length}),O=e("./internal/streams/stream"),M=e("safe-buffer").Buffer,I=i.Uint8Array||function(){},B=e("core-util-is");B.inherits=e("inherits");var F=e("util"),U=void 0;U=F&&F.debuglog?F.debuglog("stream"):function(){};var z,V=e("./internal/streams/BufferList"),H=e("./internal/streams/destroy");B.inherits(l,O);var W=["error","close","destroy","pause","resume"];Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),l.prototype.destroy=H.destroy,l.prototype._undestroy=H.undestroy,l.prototype._destroy=function(e,t){this.push(null),t(e)},l.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&(t=t||i.defaultEncoding,t!==i.encoding&&(e=M.from(e,t),t=""),n=!0),c(this,e,t,!1,n)},l.prototype.unshift=function(e){return c(this,e,null,!0,!1)},l.prototype.isPaused=function(){return this._readableState.flowing===!1},l.prototype.setEncoding=function(t){return z||(z=e("string_decoder/").StringDecoder),this._readableState.decoder=new z(t),this._readableState.encoding=t,this};var q=8388608;l.prototype.read=function(e){U("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return U("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?A(this):v(this),null;if(e=f(e,t),0===e&&t.ended)return 0===t.length&&A(this),null;var i=t.needReadable;U("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,U("length less than watermark",i)),t.ended||t.reading?(i=!1,U("reading or ended",i)):i&&(U("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=f(n,t)));var s;return s=e>0?C(e,t):null,null===s?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&A(this)),null!==s&&this.emit("data",s),s},l.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},l.prototype.pipe=function(e,t){function i(e,t){U("onunpipe"),e===h&&t&&t.hasUnpiped===!1&&(t.hasUnpiped=!0,o())}function s(){U("onend"),e.end()}function o(){U("cleanup"),e.removeListener("close",c),e.removeListener("finish",u),e.removeListener("drain",v),e.removeListener("error",l),e.removeListener("unpipe",i),h.removeListener("end",s),h.removeListener("end",d),h.removeListener("data",a),g=!0,!p.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function a(t){U("ondata"),b=!1;var n=e.write(t);!1!==n||b||((1===p.pipesCount&&p.pipes===e||p.pipesCount>1&&$(p.pipes,e)!==-1)&&!g&&(U("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,b=!0),h.pause())}function l(t){U("onerror",t),d(),e.removeListener("error",l),0===N(e,"error")&&e.emit("error",t)}function c(){e.removeListener("finish",u),d()}function u(){U("onfinish"),e.removeListener("close",c),d()}function d(){U("unpipe"),h.unpipe(e)}var h=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=e;break;case 1:p.pipes=[p.pipes,e];break;default:p.pipes.push(e)}p.pipesCount+=1,U("pipe count=%d opts=%j",p.pipesCount,t);var f=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,m=f?s:d;p.endEmitted?L(m):h.once("end",m),e.on("unpipe",i);var v=w(h);e.on("drain",v);var g=!1,b=!1;return h.on("data",a),r(e,"error",l),e.once("close",c),e.once("finish",u),e.emit("pipe",h),p.flowing||(U("pipe resume"),h.resume()),e},l.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var i=t.pipes,s=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<s;o++)i[o].emit("unpipe",this,n);return this}var r=$(t.pipes,e);return r===-1?this:(t.pipes.splice(r,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},l.prototype.on=function(e,t){var n=O.prototype.on.call(this,e,t);if("data"===e)this._readableState.flowing!==!1&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&v(this):L(x,this))}return n},l.prototype.addListener=l.prototype.on,l.prototype.resume=function(){var e=this._readableState;return e.flowing||(U("resume"),e.flowing=!0,_(this,e)),this},l.prototype.pause=function(){return U("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(U("pause"),this._readableState.flowing=!1,this.emit("pause")),this},l.prototype.wrap=function(e){var t=this._readableState,n=!1,i=this;e.on("end",function(){if(U("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&i.push(e)}i.push(null)}),e.on("data",function(s){if(U("wrapped data"),t.decoder&&(s=t.decoder.write(s)),(!t.objectMode||null!==s&&void 0!==s)&&(t.objectMode||s&&s.length)){var o=i.push(s);o||(n=!0,e.pause())}});for(var s in e)void 0===this[s]&&"function"==typeof e[s]&&(this[s]=function(t){return function(){return e[t].apply(e,arguments)}}(s));for(var o=0;o<W.length;o++)e.on(W[o],i.emit.bind(i,W[o]));return i._read=function(t){U("wrapped _read",t),n&&(n=!1,e.resume())},i},l._fromList=C}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":555,"./internal/streams/BufferList":560,"./internal/streams/destroy":561,"./internal/streams/stream":562,_process:550,"core-util-is":563,events:546,inherits:547,isarray:564,"process-nextick-args":565,"safe-buffer":566,"string_decoder/":567,util:541}],558:[function(e,t,n){"use strict";function i(e){this.afterTransform=function(t,n){return s(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function s(e,t,n){var i=e._transformState;i.transforming=!1;var s=i.writecb;if(!s)return e.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!==n&&void 0!==n&&e.push(n),s(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e),this._transformState=new i(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){r(t,e,n)}):r(t)})}function r(e,t,n){if(t)return e.emit("error",t);null!==n&&void 0!==n&&e.push(n);var i=e._writableState,s=e._transformState;if(i.length)throw new Error("Calling transform done when ws.length != 0");if(s.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}t.exports=o;var a=e("./_stream_duplex"),l=e("core-util-is");l.inherits=e("inherits"),l.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var s=this._readableState;(i.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;a.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},{"./_stream_duplex":555,"core-util-is":563,inherits:547}],559:[function(e,t,n){(function(n,i){"use strict";function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){j(t,e)}}function o(e){return R.from(e)}function r(e){return R.isBuffer(e)||e instanceof D}function a(){}function l(t,n){E=E||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,n instanceof E&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var r=t.decodeStrings===!1;this.decodeStrings=!r,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){g(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function c(t){return E=E||e("./_stream_duplex"),O.call(c,this)||this instanceof E?(this._writableState=new l(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t["final"]&&(this._final=t["final"])),void L.call(this)):new c(t)}function u(e,t){var n=new Error("write after end");e.emit("error",n),T(t,n)}function d(e,t,n,i){var s=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),T(i,o),s=!1),s}function h(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=R.from(t,n)),t}function p(e,t,n,i,s,o){if(!n){var r=h(t,i,s);i!==r&&(n=!0,s="buffer",i=r)}var a=t.objectMode?1:i.length;t.length+=a;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:s,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else f(e,t,!1,a,i,s,o);return l}function f(e,t,n,i,s,o,r){t.writelen=i,t.writecb=r,t.writing=!0,t.sync=!0,n?e._writev(s,t.onwrite):e._write(s,o,t.onwrite),t.sync=!1}function m(e,t,n,i,s){--t.pendingcb,n?(T(s,i),T(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(s(i),e._writableState.errorEmitted=!0,e.emit("error",i),S(e,t))}function v(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function g(e,t){var n=e._writableState,i=n.sync,s=n.writecb;if(v(n),t)m(e,n,i,t,s);else{var o=x(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),i?A(b,e,n,o,s):b(e,n,o,s)}}function b(e,t,n,i){n||y(e,t),t.pendingcb--,i(),S(e,t)}function y(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),r=t.corkedRequestsFree;r.entry=n;for(var a=0,l=!0;n;)o[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;o.allBuffers=l,f(e,t,!0,t.length,o,"",r.finish),t.pendingcb++,t.lastBufferedRequest=null,r.next?(t.corkedRequestsFree=r.next,r.next=null):t.corkedRequestsFree=new s(t)}else{for(;n;){var c=n.chunk,u=n.encoding,d=n.callback,h=t.objectMode?1:c.length;if(f(e,t,!1,h,c,u,d),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)})}function k(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,T(_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function S(e,t){var n=x(t);return n&&(k(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function C(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?T(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function j(e,t,n){var i=e.entry;for(e.entry=null;i;){var s=i.callback;t.pendingcb--,s(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var T=e("process-nextick-args");t.exports=c;var E,A=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:T;c.WritableState=l;var P=e("core-util-is");P.inherits=e("inherits");var $={deprecate:e("util-deprecate")},L=e("./internal/streams/stream"),R=e("safe-buffer").Buffer,D=i.Uint8Array||function(){},N=e("./internal/streams/destroy");P.inherits(c,L),l.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(l.prototype,"buffer",{get:$.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var O;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(e){return!!O.call(this,e)||e&&e._writableState instanceof l}})):O=function(e){return e instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(e,t,n){var i=this._writableState,s=!1,l=r(e)&&!i.objectMode;return l&&!R.isBuffer(e)&&(e=o(e)),"function"==typeof t&&(n=t,t=null),l?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=a),i.ended?u(this,n):(l||d(this,i,e,n))&&(i.pendingcb++,s=p(this,i,l,e,t,n)),s},c.prototype.cork=function(){var e=this._writableState;e.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},c.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},c.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||C(this,i,n)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),c.prototype.destroy=N.destroy,c.prototype._undestroy=N.undestroy,c.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":555,"./internal/streams/destroy":561,"./internal/streams/stream":562,_process:550,"core-util-is":563,inherits:547,"process-nextick-args":565,"safe-buffer":566,"util-deprecate":568}],560:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n){e.copy(t,n)}var o=e("safe-buffer").Buffer;t.exports=function(){function e(){i(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t=o.allocUnsafe(e>>>0),n=this.head,i=0;n;)s(n.data,t,i),i+=n.data.length,n=n.next;return t},e}()},{"safe-buffer":566}],561:[function(e,t,n){"use strict";function i(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return i||s?void(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r(o,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),void this._destroy(e||null,function(e){!t&&e?(r(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}))}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}var r=e("process-nextick-args");t.exports={destroy:i,undestroy:s}},{"process-nextick-args":565}],562:[function(e,t,n){t.exports=e("events").EventEmitter},{events:546}],563:[function(e,t,n){(function(e){function t(e){return Array.isArray?Array.isArray(e):"[object Array]"===v(e)}function i(e){return"boolean"==typeof e}function s(e){return null===e}function o(e){return null==e}function r(e){return"number"==typeof e}function a(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function c(e){return void 0===e}function u(e){return"[object RegExp]"===v(e)}function d(e){return"object"==typeof e&&null!==e}function h(e){return"[object Date]"===v(e)}function p(e){return"[object Error]"===v(e)||e instanceof Error}function f(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function v(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=i,n.isNull=s,n.isNullOrUndefined=o,n.isNumber=r,n.isString=a,n.isSymbol=l,n.isUndefined=c,n.isRegExp=u,n.isObject=d,n.isDate=h,n.isError=p,n.isFunction=f,n.isPrimitive=m,n.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../../../insert-module-globals/node_modules/is-buffer/index.js")})},{"../../../../insert-module-globals/node_modules/is-buffer/index.js":548}],564:[function(e,t,n){arguments[4][545][0].apply(n,arguments)},{dup:545}],565:[function(e,t,n){(function(e){"use strict";function n(t,n,i,s){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,r,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,i)});case 4:return e.nextTick(function(){t.call(null,n,i,s)});default:for(o=new Array(a-1),r=0;r<o.length;)o[r++]=arguments[r];return e.nextTick(function(){t.apply(null,o)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=n:t.exports=e.nextTick}).call(this,e("_process"))},{_process:550}],566:[function(e,t,n){function i(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return r(e,t,n)}var o=e("buffer"),r=o.Buffer;r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=o:(i(o,n),n.Buffer=s),i(r,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},{buffer:542}],567:[function(e,t,n){"use strict";function i(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function s(e){var t=i(e);if("string"!=typeof t&&(b.isEncoding===y||!y(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){this.encoding=s(e);var t;switch(this.encoding){case"utf16le":this.text=h,this.end=p,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=f,this.end=m,t=3;break;default:return this.write=v,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=b.allocUnsafe(t)}function r(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:-1}function a(e,t,n){var i=t.length-1;if(i<n)return 0;var s=r(t[i]);return s>=0?(s>0&&(e.lastNeed=s-1),s):--i<n?0:(s=r(t[i]),s>=0?(s>0&&(e.lastNeed=s-2),s):--i<n?0:(s=r(t[i]),s>=0?(s>0&&(2===s?s=0:e.lastNeed=s-3),s):0))}function l(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"�".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"�".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"�".repeat(n+2)}}function c(e){var t=this.lastTotal-this.lastNeed,n=l(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){var n=a(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�".repeat(this.lastTotal-this.lastNeed):t}function h(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function p(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function f(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function v(e){return e.toString(this.encoding)}function g(e){return e&&e.length?this.write(e):""}var b=e("safe-buffer").Buffer,y=b.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};n.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=d,o.prototype.text=u,o.prototype.fillLast=function(e){return this.lastNeed<=e.length?(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),void(this.lastNeed-=e.length))}},{"safe-buffer":566}],568:[function(e,t,n){(function(e){function n(e,t){function n(){if(!s){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),s=!0}return e.apply(this,arguments)}if(i("noDeprecation"))return e;var s=!1;return n}function i(t){try{if(!e.localStorage)return!1}catch(n){return!1}var i=e.localStorage[t];return null!=i&&"true"===String(i).toLowerCase()}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],569:[function(e,t,n){n=t.exports=e("./lib/_stream_readable.js"),n.Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":555,"./lib/_stream_passthrough.js":556,"./lib/_stream_readable.js":557,"./lib/_stream_transform.js":558,"./lib/_stream_writable.js":559}],570:[function(e,t,n){(function(t){var i=e("./lib/request"),s=e("xtend"),o=e("builtin-status-codes"),r=e("url"),a=n;a.request=function(e,n){e="string"==typeof e?r.parse(e):s(e);var o=t.location.protocol.search(/^https?:$/)===-1?"http:":"",a=e.protocol||o,l=e.hostname||e.host,c=e.port,u=e.path||"/";l&&l.indexOf(":")!==-1&&(l="["+l+"]"),e.url=(l?a+"//"+l:"")+(c?":"+c:"")+u,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var d=new i(e);return n&&d.on("response",n),d},a.get=function(e,t){var n=a.request(e,t);return n.end(),n},a.Agent=function(){},a.Agent.defaultMaxSockets=4,a.STATUS_CODES=o,a.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":572,"builtin-status-codes":574,url:576,xtend:581}],571:[function(e,t,n){(function(e){function t(){if(void 0!==r)return r;if(e.XMLHttpRequest){r=new e.XMLHttpRequest;try{r.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(t){r=null}}else r=null;return r}function i(e){var n=t();if(!n)return!1;try{return n.responseType=e,n.responseType===e}catch(i){}return!1}function s(e){return"function"==typeof e}n.fetch=s(e.fetch)&&s(e.ReadableStream),n.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),n.blobConstructor=!0}catch(o){}var r,a="undefined"!=typeof e.ArrayBuffer,l=a&&s(e.ArrayBuffer.prototype.slice);n.arraybuffer=n.fetch||a&&i("arraybuffer"),n.msstream=!n.fetch&&l&&i("ms-stream"),n.mozchunkedarraybuffer=!n.fetch&&a&&i("moz-chunked-arraybuffer"),n.overrideMimeType=n.fetch||!!t()&&s(t().overrideMimeType),n.vbArray=s(e.VBArray),r=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],572:[function(e,t,n){(function(n,i,s){function o(e,t){return a.fetch&&t?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&e?"arraybuffer":a.vbArray&&e?"text:vbarray":"text"}function r(e){try{var t=e.status;return null!==t&&0!==t}catch(n){return!1}}var a=e("./capability"),l=e("inherits"),c=e("./response"),u=e("readable-stream"),d=e("to-arraybuffer"),h=c.IncomingMessage,p=c.readyStates,f=t.exports=function(e){var t=this;u.Writable.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+new s(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(n){t.setHeader(n,e.headers[n])});var n,i=!0;if("disable-fetch"===e.mode||"timeout"in e)i=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!a.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}t._mode=o(n,i),t.on("finish",function(){t._onFinish()})};l(f,u.Writable),f.prototype.setHeader=function(e,t){var n=this,i=e.toLowerCase();m.indexOf(i)===-1&&(n._headers[i]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,o=e._headers,r=null;"GET"!==t.method&&"HEAD"!==t.method&&(r=a.blobConstructor?new i.Blob(e._body.map(function(e){return d(e)}),{type:(o["content-type"]||{}).value||""}):s.concat(e._body).toString());var l=[];if(Object.keys(o).forEach(function(e){var t=o[e].name,n=o[e].value;Array.isArray(n)?n.forEach(function(e){l.push([t,e])}):l.push([t,n])}),"fetch"===e._mode)i.fetch(e._opts.url,{method:e._opts.method,headers:l,body:r||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin"}).then(function(t){e._fetchResponse=t,e._connect()},function(t){e.emit("error",t)});else{var c=e._xhr=new i.XMLHttpRequest;try{c.open(e._opts.method,e._opts.url,!0)}catch(u){return void n.nextTick(function(){e.emit("error",u)})}"responseType"in c&&(c.responseType=e._mode.split(":")[0]),"withCredentials"in c&&(c.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in c&&c.overrideMimeType("text/plain; charset=x-user-defined"),"timeout"in t&&(c.timeout=t.timeout,c.ontimeout=function(){e.emit("timeout")}),l.forEach(function(e){c.setRequestHeader(e[0],e[1])}),e._response=null,c.onreadystatechange=function(){switch(c.readyState){case p.LOADING:case p.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(c.onprogress=function(){e._onXHRProgress()}),c.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{c.send(r)}catch(u){
return void n.nextTick(function(){e.emit("error",u)})}}}},f.prototype._onXHRProgress=function(){var e=this;r(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new h(e._xhr,e._fetchResponse,e._mode),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},f.prototype._write=function(e,t,n){var i=this;i._body.push(e),n()},f.prototype.abort=f.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},f.prototype.end=function(e,t,n){var i=this;"function"==typeof e&&(n=e,e=void 0),u.Writable.prototype.end.call(i,e,t,n)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var m=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./capability":571,"./response":573,_process:550,buffer:542,inherits:547,"readable-stream":569,"to-arraybuffer":575}],573:[function(e,t,n){(function(t,i,s){var o=e("./capability"),r=e("inherits"),a=e("readable-stream"),l=n.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=n.IncomingMessage=function(e,n,i){function r(){c.read().then(function(e){if(!l._destroyed){if(e.done)return void l.push(null);l.push(new s(e.value)),r()}})["catch"](function(e){l.emit("error",e)})}var l=this;if(a.Readable.call(l),l._mode=i,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",function(){t.nextTick(function(){l.emit("close")})}),"fetch"===i){l._fetchResponse=n,l.url=n.url,l.statusCode=n.status,l.statusMessage=n.statusText,n.headers.forEach(function(e,t){l.headers[t.toLowerCase()]=e,l.rawHeaders.push(t,e)});var c=n.body.getReader();r()}else{l._xhr=e,l._pos=0,l.url=e.responseURL,l.statusCode=e.status,l.statusMessage=e.statusText;var u=e.getAllResponseHeaders().split(/\r?\n/);if(u.forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===l.headers[n]&&(l.headers[n]=[]),l.headers[n].push(t[2])):void 0!==l.headers[n]?l.headers[n]+=", "+t[2]:l.headers[n]=t[2],l.rawHeaders.push(t[1],t[2])}}),l._charset="x-user-defined",!o.overrideMimeType){var d=l.rawHeaders["mime-type"];if(d){var h=d.match(/;\s*charset=([^;])(;|$)/);h&&(l._charset=h[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};r(c,a.Readable),c.prototype._read=function(){},c.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==l.DONE)break;try{n=new i.VBArray(t.responseBody).toArray()}catch(o){}if(null!==n){e.push(new s(n));break}case"text":try{n=t.responseText}catch(o){e._mode="text:vbarray";break}if(n.length>e._pos){var r=n.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new s(r.length),c=0;c<r.length;c++)a[c]=255&r.charCodeAt(c);e.push(a)}else e.push(r,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==l.DONE||!t.response)break;n=t.response,e.push(new s(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==l.LOADING||!n)break;e.push(new s(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==l.LOADING)break;var u=new i.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(new s(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(n)}e._xhr.readyState===l.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./capability":571,_process:550,buffer:542,inherits:547,"readable-stream":569}],574:[function(e,t,n){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],575:[function(e,t,n){var i=e("buffer").Buffer;t.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(i.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,s=0;s<n;s++)t[s]=e[s];return t.buffer}throw new Error("Argument must be a Buffer")}},{buffer:542}],576:[function(e,t,n){"use strict";function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function s(e,t,n){if(e&&c.isObject(e)&&e instanceof i)return e;var s=new i;return s.parse(e,t,n),s}function o(e){return c.isString(e)&&(e=s(e)),e instanceof i?e.format():i.prototype.format.call(e)}function r(e,t){return s(e,!1,!0).resolve(t)}function a(e,t){return e?s(e,!1,!0).resolveObject(t):t}var l=e("punycode"),c=e("./util");n.parse=s,n.resolve=r,n.resolveObject=a,n.format=o,n.Url=i;var u=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],f=["{","}","|","\\","^","`"].concat(p),m=["'"].concat(f),v=["%","/","?",";","#"].concat(m),g=["/","?","#"],b=255,y=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=e("querystring");i.prototype.parse=function(e,t,n){if(!c.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=i!==-1&&i<e.indexOf("#")?"?":"#",o=e.split(s),r=/\\/g;o[0]=o[0].replace(r,"/"),e=o.join(s);var a=e;if(a=a.trim(),!n&&1===e.split("#").length){var d=h.exec(a);if(d)return this.path=a,this.href=a,this.pathname=d[1],d[2]?(this.search=d[2],t?this.query=S.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var p=u.exec(a);if(p){p=p[0];var f=p.toLowerCase();this.protocol=f,a=a.substr(p.length)}if(n||p||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===a.substr(0,2);!C||p&&_[p]||(a=a.substr(2),this.slashes=!0)}if(!_[p]&&(C||p&&!k[p])){for(var j=-1,T=0;T<g.length;T++){var E=a.indexOf(g[T]);E!==-1&&(j===-1||E<j)&&(j=E)}var A,P;P=j===-1?a.lastIndexOf("@"):a.lastIndexOf("@",j),P!==-1&&(A=a.slice(0,P),a=a.slice(P+1),this.auth=decodeURIComponent(A)),j=-1;for(var T=0;T<v.length;T++){var E=a.indexOf(v[T]);E!==-1&&(j===-1||E<j)&&(j=E)}j===-1&&(j=a.length),this.host=a.slice(0,j),a=a.slice(j),this.parseHost(),this.hostname=this.hostname||"";var $="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!$)for(var L=this.hostname.split(/\./),T=0,R=L.length;T<R;T++){var D=L[T];if(D&&!D.match(y)){for(var N="",O=0,M=D.length;O<M;O++)N+=D.charCodeAt(O)>127?"x":D[O];if(!N.match(y)){var I=L.slice(0,T),B=L.slice(T+1),F=D.match(w);F&&(I.push(F[1]),B.unshift(F[2])),B.length&&(a="/"+B.join(".")+a),this.hostname=I.join(".");break}}}this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),$||(this.hostname=l.toASCII(this.hostname));var U=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+U,this.href+=this.host,$&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!x[f])for(var T=0,R=m.length;T<R;T++){var V=m[T];if(a.indexOf(V)!==-1){var H=encodeURIComponent(V);H===V&&(H=escape(V)),a=a.split(V).join(H)}}var W=a.indexOf("#");W!==-1&&(this.hash=a.substr(W),a=a.slice(0,W));var q=a.indexOf("?");if(q!==-1?(this.search=a.substr(q),this.query=a.substr(q+1),t&&(this.query=S.parse(this.query)),a=a.slice(0,q)):t&&(this.search="",this.query={}),a&&(this.pathname=a),k[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",Y=this.search||"";this.path=U+Y}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",s=!1,o="";this.host?s=e+this.host:this.hostname&&(s=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(o=S.stringify(this.query));var r=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||k[t])&&s!==!1?(s="//"+(s||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):s||(s=""),i&&"#"!==i.charAt(0)&&(i="#"+i),r&&"?"!==r.charAt(0)&&(r="?"+r),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),r=r.replace("#","%23"),t+s+n+r+i},i.prototype.resolve=function(e){return this.resolveObject(s(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(c.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,s=Object.keys(this),o=0;o<s.length;o++){var r=s[o];n[r]=this[r]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),l=0;l<a.length;l++){var u=a[l];"protocol"!==u&&(n[u]=e[u])}return k[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!k[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var p=d[h];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||_[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=b||g||n.host&&e.pathname,w=y,x=n.pathname&&n.pathname.split("/")||[],f=e.pathname&&e.pathname.split("/")||[],S=n.protocol&&!k[n.protocol];if(S&&(n.hostname="",n.port=null,n.host&&(""===x[0]?x[0]=n.host:x.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),y=y&&(""===f[0]||""===x[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,x=f;else if(f.length)x||(x=[]),x.pop(),x=x.concat(f),n.search=e.search,n.query=e.query;else if(!c.isNullOrUndefined(e.search)){if(S){n.hostname=n.host=x.shift();var C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");C&&(n.auth=C.shift(),n.host=n.hostname=C.shift())}return n.search=e.search,n.query=e.query,c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var j=x.slice(-1)[0],T=(n.host||e.host||x.length>1)&&("."===j||".."===j)||""===j,E=0,A=x.length;A>=0;A--)j=x[A],"."===j?x.splice(A,1):".."===j?(x.splice(A,1),E++):E&&(x.splice(A,1),E--);if(!y&&!w)for(;E--;E)x.unshift("..");!y||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),T&&"/"!==x.join("/").substr(-1)&&x.push("");var P=""===x[0]||x[0]&&"/"===x[0].charAt(0);if(S){n.hostname=n.host=P?"":x.length?x.shift():"";var C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");C&&(n.auth=C.shift(),n.host=n.hostname=C.shift())}return y=y||n.host&&x.length,y&&!P&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=d.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":577,punycode:551,querystring:554}],577:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],578:[function(e,t,n){arguments[4][547][0].apply(n,arguments)},{dup:547}],579:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],580:[function(e,t,n){(function(t,i){function s(e,t){var i={seen:[],stylize:r};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),m(t)?i.showHidden=t:t&&n._extend(i,t),x(i.showHidden)&&(i.showHidden=!1),x(i.depth)&&(i.depth=2),x(i.colors)&&(i.colors=!1),x(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=o),l(i,e,i.depth)}function o(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function r(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,t,i){if(e.customInspect&&t&&j(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var s=t.inspect(i,e);return y(s)||(s=l(e,s,i)),s}var o=c(e,t);if(o)return o;var r=Object.keys(t),m=a(r);if(e.showHidden&&(r=Object.getOwnPropertyNames(t)),C(t)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return u(t);if(0===r.length){if(j(t)){var v=t.name?": "+t.name:"";return e.stylize("[Function"+v+"]","special")}if(_(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(C(t))return u(t)}var g="",b=!1,w=["{","}"];if(f(t)&&(b=!0,w=["[","]"]),j(t)){var x=t.name?": "+t.name:"";g=" [Function"+x+"]"}if(_(t)&&(g=" "+RegExp.prototype.toString.call(t)),S(t)&&(g=" "+Date.prototype.toUTCString.call(t)),C(t)&&(g=" "+u(t)),0===r.length&&(!b||0==t.length))return w[0]+g+w[1];if(i<0)return _(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var k;return k=b?d(e,t,i,m,r):r.map(function(n){return h(e,t,i,m,n,b)}),e.seen.pop(),p(k,g,w)}function c(e,t){if(x(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return b(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,i,s){for(var o=[],r=0,a=t.length;r<a;++r)$(t,String(r))?o.push(h(e,t,n,i,String(r),!0)):o.push("");return s.forEach(function(s){s.match(/^\d+$/)||o.push(h(e,t,n,i,s,!0))}),o}function h(e,t,n,i,s,o){var r,a,c;if(c=Object.getOwnPropertyDescriptor(t,s)||{value:t[s]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),$(i,s)||(r="["+s+"]"),a||(e.seen.indexOf(c.value)<0?(a=v(n)?l(e,c.value,null):l(e,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),x(r)){if(o&&s.match(/^\d+$/))return a;r=JSON.stringify(""+s),r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=e.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=e.stylize(r,"string"))}return r+": "+a}function p(e,t,n){var i=0,s=e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return s>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function f(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function v(e){return null===e}function g(e){return null==e}function b(e){return"number"==typeof e}function y(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function x(e){return void 0===e}function _(e){return k(e)&&"[object RegExp]"===E(e)}function k(e){return"object"==typeof e&&null!==e}function S(e){return k(e)&&"[object Date]"===E(e)}function C(e){return k(e)&&("[object Error]"===E(e)||e instanceof Error)}function j(e){return"function"==typeof e}function T(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function E(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}function P(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),N[e.getMonth()],t].join(" ")}function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var L=/%[sdj%]/g;n.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}for(var n=1,i=arguments,o=i.length,r=String(e).replace(L,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return e}}),a=i[n];n<o;a=i[++n])r+=v(a)||!k(a)?" "+a:" "+s(a);return r},n.deprecate=function(e,s){function o(){if(!r){if(t.throwDeprecation)throw new Error(s);t.traceDeprecation?console.trace(s):console.error(s),r=!0}return e.apply(this,arguments)}if(x(i.process))return function(){return n.deprecate(e,s).apply(this,arguments)};if(t.noDeprecation===!0)return e;var r=!1;return o};var R,D={};n.debuglog=function(e){if(x(R)&&(R=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!D[e])if(new RegExp("\\b"+e+"\\b","i").test(R)){var i=t.pid;D[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,i,t)}}else D[e]=function(){};return D[e]},n.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=f,n.isBoolean=m,n.isNull=v,n.isNullOrUndefined=g,n.isNumber=b,n.isString=y,n.isSymbol=w,n.isUndefined=x,n.isRegExp=_,n.isObject=k,n.isDate=S,n.isError=C,n.isFunction=j,n.isPrimitive=T,n.isBuffer=e("./support/isBuffer");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",P(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":579,_process:550,inherits:578}],581:[function(e,t,n){function i(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)s.call(n,i)&&(e[i]=n[i])}return e}t.exports=i;var s=Object.prototype.hasOwnProperty},{}],582:[function(e,t,n){!function(i,s){if("function"==typeof define&&define.amd)define(["module","select"],s);else if("undefined"!=typeof n)s(t,e("select"));else{var o={exports:{}};s(o,i.select),i.clipboardAction=o.exports}}(this,function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=n(t),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t){i(this,e),this.resolveOptions(t),this.initSelection()}return r(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,s["default"])(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,s["default"])(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==("undefined"==typeof e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=a})},{select:588}],583:[function(e,t,n){!function(i,s){if("function"==typeof define&&define.amd)define(["module","./clipboard-action","tiny-emitter","good-listener"],s);else if("undefined"!=typeof n)s(t,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var o={exports:{}};s(o,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=o.exports}}(this,function(e,t,n,i){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var c=s(t),u=s(n),d=s(i),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.resolveOptions(n),i.listenClick(e),i}return a(t,e),p(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===h(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,d["default"])(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c["default"]({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return l("action",e)}},{key:"defaultTarget",value:function(e){var t=l("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return l("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}(u["default"]);e.exports=f})},{"./clipboard-action":582,"good-listener":587,"tiny-emitter":589}],584:[function(e,t,n){function i(e,t){for(;e&&e.nodeType!==s;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var s=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}t.exports=i},{}],585:[function(e,t,n){function i(e,t,n,i,o){var r=s.apply(this,arguments);return e.addEventListener(n,r,o),{destroy:function(){e.removeEventListener(n,r,o)}}}function s(e,t,n,i){return function(n){n.delegateTarget=o(n.target,t),n.delegateTarget&&i.call(e,n)}}var o=e("./closest");t.exports=i},{"./closest":584}],586:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},{}],587:[function(e,t,n){function i(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!a.string(t))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(e))return s(e,t,n);if(a.nodeList(e))return o(e,t,n);if(a.string(e))return r(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function s(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function o(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function r(e,t,n){return l(document.body,e,t,n)}var a=e("./is"),l=e("delegate");t.exports=i},{"./is":586,delegate:585}],588:[function(e,t,n){function i(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),s=document.createRange();s.selectNodeContents(e),i.removeAllRanges(),i.addRange(s),t=i.toString()}return t}t.exports=i},{}],589:[function(e,t,n){function i(){}i.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function i(){s.off(e,i),t.apply(n,arguments)}var s=this;return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,s=n.length;for(i;i<s;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],s=[];if(i&&t)for(var o=0,r=i.length;o<r;o++)i[o].fn!==t&&i[o].fn._!==t&&s.push(i[o]);return s.length?n[e]=s:delete n[e],this}},t.exports=i},{}],590:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(e){return e.replace(/"/g,"&quot;")}function r(e){if(!e)return"";var t=[];for(var n in e){var i=e[n]+"";t.push(n+'="'+o(i)+'"')}return t.join(" ")}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=new h(t);for(var n=u(e),i=[],a=0;a<n.length;a++){var l=n[a];if("nl"===l.type&&t.nl2br)i.push("<br>\n");else if(l.isLink&&t.check(l)){var c=t.resolve(l),d=c.formatted,p=c.formattedHref,f=c.tagName,m=c.className,v=c.target,g=c.attributes,b="<"+f+' href="'+o(p)+'"';m&&(b+=' class="'+o(m)+'"'),v&&(b+=' target="'+o(v)+'"'),g&&(b+=" "+r(g)),b+=">"+s(d)+"</"+f+">",i.push(b)}else i.push(s(l.toString()))}return i.join("")}n.__esModule=!0;var l=e("./linkify"),c=i(l),u=c.tokenize,d=c.options,h=d.Options;String.prototype.linkify||(String.prototype.linkify=function(e){return a(this,e)}),n["default"]=a},{"./linkify":591}],591:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,
t}n.__esModule=!0,n.tokenize=n.test=n.scanner=n.parser=n.options=n.inherits=n.find=void 0;var s=e("./linkify/utils/class"),o=e("./linkify/utils/options"),r=i(o),a=e("./linkify/core/scanner"),l=i(a),c=e("./linkify/core/parser"),u=i(c);Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var d=function(e){return u.run(l.run(e))},h=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=d(e),i=[],s=0;s<n.length;s++){var o=n[s];!o.isLink||t&&o.type!==t||i.push(o.toObject())}return i},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=d(e);return 1===n.length&&n[0].isLink&&(!t||n[0].type===t)};n.find=h,n.inherits=s.inherits,n.options=r,n.parser=u,n.scanner=l,n.test=p,n.tokenize=d},{"./linkify/core/parser":592,"./linkify/core/scanner":593,"./linkify/utils/class":598,"./linkify/utils/options":599}],592:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0,n.start=n.run=n.TOKENS=n.State=void 0;var s=e("./state"),o=e("./tokens/text"),r=(i(o),e("./tokens/multi")),a=i(r),l=function(e){return new s.TokenState(e)},c=l(),u=l(),d=l(),h=l(),p=l(),f=l(),m=l(),v=l(r.URL),g=l(),b=l(r.URL),y=l(r.URL),w=l(),x=l(),_=l(),k=l(),S=l(),C=l(r.URL),j=l(r.URL),T=l(r.URL),E=l(r.URL),A=l(),P=l(),$=l(),L=l(),R=l(),D=l(),N=l(r.EMAIL),O=l(),M=l(r.EMAIL),I=l(r.MAILTOEMAIL),B=l(),F=l(),U=l(),z=l(),V=l(r.NL);c.on(o.NL,V).on(o.PROTOCOL,u).on(o.MAILTO,d).on(o.SLASH,h),u.on(o.SLASH,h),h.on(o.SLASH,p),c.on(o.TLD,f).on(o.DOMAIN,f).on(o.LOCALHOST,v).on(o.NUM,f),p.on(o.TLD,y).on(o.DOMAIN,y).on(o.NUM,y).on(o.LOCALHOST,y),f.on(o.DOT,m),R.on(o.DOT,D),m.on(o.TLD,v).on(o.DOMAIN,f).on(o.NUM,f).on(o.LOCALHOST,f),D.on(o.TLD,N).on(o.DOMAIN,R).on(o.NUM,R).on(o.LOCALHOST,R),v.on(o.DOT,m),N.on(o.DOT,D),v.on(o.COLON,g).on(o.SLASH,y),g.on(o.NUM,b),b.on(o.SLASH,y),N.on(o.COLON,O),O.on(o.NUM,M);var H=[o.DOMAIN,o.AT,o.LOCALHOST,o.NUM,o.PLUS,o.POUND,o.PROTOCOL,o.SLASH,o.TLD,o.UNDERSCORE,o.SYM,o.AMPERSAND],W=[o.COLON,o.DOT,o.QUERY,o.PUNCTUATION,o.CLOSEBRACE,o.CLOSEBRACKET,o.CLOSEANGLEBRACKET,o.CLOSEPAREN,o.OPENBRACE,o.OPENBRACKET,o.OPENANGLEBRACKET,o.OPENPAREN];y.on(o.OPENBRACE,x).on(o.OPENBRACKET,_).on(o.OPENANGLEBRACKET,k).on(o.OPENPAREN,S),w.on(o.OPENBRACE,x).on(o.OPENBRACKET,_).on(o.OPENANGLEBRACKET,k).on(o.OPENPAREN,S),x.on(o.CLOSEBRACE,y),_.on(o.CLOSEBRACKET,y),k.on(o.CLOSEANGLEBRACKET,y),S.on(o.CLOSEPAREN,y),C.on(o.CLOSEBRACE,y),j.on(o.CLOSEBRACKET,y),T.on(o.CLOSEANGLEBRACKET,y),E.on(o.CLOSEPAREN,y),A.on(o.CLOSEBRACE,y),P.on(o.CLOSEBRACKET,y),$.on(o.CLOSEANGLEBRACKET,y),L.on(o.CLOSEPAREN,y),x.on(H,C),_.on(H,j),k.on(H,T),S.on(H,E),x.on(W,A),_.on(W,P),k.on(W,$),S.on(W,L),C.on(H,C),j.on(H,j),T.on(H,T),E.on(H,E),C.on(W,C),j.on(W,j),T.on(W,T),E.on(W,E),A.on(H,C),P.on(H,j),$.on(H,T),L.on(H,E),A.on(W,A),P.on(W,P),$.on(W,$),L.on(W,L),y.on(H,y),w.on(H,y),y.on(W,w),w.on(W,w),d.on(o.TLD,I).on(o.DOMAIN,I).on(o.NUM,I).on(o.LOCALHOST,I),I.on(H,I).on(W,B),B.on(H,I).on(W,B);var q=[o.DOMAIN,o.NUM,o.PLUS,o.POUND,o.QUERY,o.UNDERSCORE,o.SYM,o.AMPERSAND,o.TLD];f.on(q,F).on(o.AT,U),v.on(q,F).on(o.AT,U),m.on(q,F),F.on(q,F).on(o.AT,U).on(o.DOT,z),z.on(q,F),U.on(o.TLD,R).on(o.DOMAIN,R).on(o.LOCALHOST,N);var Y=function(e){for(var t=e.length,n=0,i=[],s=[];n<t;){for(var o=c,a=null,l=null,u=0,d=null,h=-1;n<t&&!(a=o.next(e[n]));)s.push(e[n++]);for(;n<t&&(l=a||o.next(e[n]));)a=null,o=l,o.accepts()?(h=0,d=o):h>=0&&h++,n++,u++;if(h<0)for(var p=n-u;p<n;p++)s.push(e[p]);else{s.length>0&&(i.push(new r.TEXT(s)),s=[]),n-=h,u-=h;var f=d.emit();i.push(new f(e.slice(n-u,n)))}}return s.length>0&&i.push(new r.TEXT(s)),i};n.State=s.TokenState,n.TOKENS=a,n.run=Y,n.start=c},{"./state":594,"./tokens/multi":596,"./tokens/text":597}],593:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0,n.start=n.run=n.TOKENS=n.State=void 0;var s=e("./state"),o=e("./tokens/text"),r=i(o),a="aaa|aarp|abb|abbott|abogado|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|af|afl|ag|agency|ai|aig|airforce|airtel|al|alibaba|alipay|allfinanz|alsace|am|amica|amsterdam|an|analytics|android|ao|apartments|app|apple|aq|aquarelle|ar|aramco|archi|army|arpa|arte|as|asia|associates|at|attorney|au|auction|audi|audio|author|auto|autos|avianca|aw|ax|axa|az|azure|ba|baidu|band|bank|bar|barcelona|barclaycard|barclays|bargains|bauhaus|bayern|bb|bbc|bbva|bcg|bcn|bd|be|beats|beer|bentley|berlin|best|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bom|bond|boo|book|boots|bosch|bostik|bot|boutique|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|camera|camp|cancerresearch|canon|capetown|capital|car|caravan|cards|care|career|careers|cars|cartier|casa|cash|casino|cat|catering|cba|cbn|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chloe|christmas|chrome|church|ci|cipriani|circle|cisco|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|date|dating|datsun|day|dclk|de|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|diamonds|diet|digital|direct|directory|discount|dj|dk|dm|dnp|do|docs|dog|doha|domains|download|drive|dubai|durban|dvag|dz|earth|eat|ec|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epson|equipment|er|erni|es|esq|estate|et|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|fage|fail|fairwinds|faith|family|fan|fans|farm|fashion|fast|feedback|ferrero|fi|film|final|finance|financial|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|florist|flowers|flsmidth|fly|fm|fo|foo|football|ford|forex|forsale|forum|foundation|fox|fr|fresenius|frl|frogans|frontier|fund|furniture|futbol|fyi|ga|gal|gallery|gallup|game|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|gold|goldpoint|golf|goo|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|group|gs|gt|gu|gucci|guge|guide|guitars|guru|gw|gy|hamburg|hangout|haus|hdfcbank|health|healthcare|help|helsinki|here|hermes|hiphop|hitachi|hiv|hk|hm|hn|hockey|holdings|holiday|homedepot|homes|honda|horse|host|hosting|hoteles|hotmail|house|how|hr|hsbc|ht|hu|hyundai|ibm|icbc|ice|icu|id|ie|ifm|iinet|il|im|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|international|investments|io|ipiranga|iq|ir|irish|is|iselect|ist|istanbul|it|itau|iwc|jaguar|java|jcb|je|jetzt|jewelry|jlc|jll|jm|jmp|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kitchen|kiwi|km|kn|koeln|komatsu|kp|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|lamborghini|lamer|lancaster|land|landrover|lanxess|lasalle|lat|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|legal|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|limited|limo|lincoln|linde|link|live|living|lixil|lk|loan|loans|local|locus|lol|london|lotte|lotto|love|lr|ls|lt|ltd|ltda|lu|lupin|luxe|luxury|lv|ly|ma|madrid|maif|maison|makeup|man|management|mango|market|marketing|markets|marriott|mba|mc|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|mg|mh|miami|microsoft|mil|mini|mk|ml|mm|mma|mn|mo|mobi|mobily|moda|moe|moi|mom|monash|money|montblanc|mormon|mortgage|moscow|motorcycles|mov|movie|movistar|mp|mq|mr|ms|mt|mtn|mtpc|mtr|mu|museum|mutuelle|mv|mw|mx|my|mz|na|nadex|nagoya|name|natura|navy|nc|ne|nec|net|netbank|network|neustar|new|news|nexus|nf|ng|ngo|nhk|ni|nico|nikon|ninja|nissan|nl|no|nokia|norton|nowruz|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|office|okinawa|om|omega|one|ong|onl|online|ooo|oracle|orange|org|organic|origins|osaka|otsuka|ovh|pa|page|pamperedchef|panerai|paris|pars|partners|parts|party|passagens|pe|pet|pf|pg|ph|pharmacy|philips|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pohl|poker|porn|post|pr|praxi|press|pro|prod|productions|prof|promo|properties|property|protection|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|racing|re|read|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|ricoh|rio|rip|ro|rocher|rocks|rodeo|room|rs|rsvp|ru|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|saxo|sb|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scor|scot|sd|se|seat|security|seek|select|sener|services|seven|sew|sex|sexy|sfr|sg|sh|sharp|shell|shia|shiksha|shoes|show|shriram|si|singles|site|sj|sk|ski|skin|sky|skype|sl|sm|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|st|stada|star|starhub|statefarm|statoil|stc|stcgroup|stockholm|storage|store|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|taobao|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|team|tech|technology|tel|telecity|telefonica|temasek|tennis|tf|tg|th|thd|theater|theatre|tickets|tienda|tiffany|tips|tires|tirol|tj|tk|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tp|tr|trade|trading|training|travel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubs|ug|uk|unicom|university|uno|uol|us|uy|uz|va|vacations|vana|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|viking|villas|vin|vip|virgin|vision|vista|vistaprint|viva|vlaanderen|vn|vodka|volkswagen|vote|voting|voto|voyage|vu|vuelos|wales|walter|wang|wanggou|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|wme|wolterskluwer|work|works|world|ws|wtc|wtf|xbox|xerox|xin|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|youtube|yt|za|zara|zero|zip|zm|zone|zuerich|zw".split("|"),l="0123456789".split(""),c="0123456789abcdefghijklmnopqrstuvwxyz".split(""),u=[" ","\f","\r","\t","\x0B"," "," ","᠎"],d=[],h=function(e){return new s.CharacterState(e)},p=h(),f=h(o.NUM),m=h(o.DOMAIN),v=h(),g=h(o.WS);p.on("@",h(o.AT)).on(".",h(o.DOT)).on("+",h(o.PLUS)).on("#",h(o.POUND)).on("?",h(o.QUERY)).on("/",h(o.SLASH)).on("_",h(o.UNDERSCORE)).on(":",h(o.COLON)).on("{",h(o.OPENBRACE)).on("[",h(o.OPENBRACKET)).on("<",h(o.OPENANGLEBRACKET)).on("(",h(o.OPENPAREN)).on("}",h(o.CLOSEBRACE)).on("]",h(o.CLOSEBRACKET)).on(">",h(o.CLOSEANGLEBRACKET)).on(")",h(o.CLOSEPAREN)).on("&",h(o.AMPERSAND)).on([",",";","!",'"',"'"],h(o.PUNCTUATION)),p.on("\n",h(o.NL)).on(u,g),g.on(u,g);for(var b=0;b<a.length;b++){var y=(0,s.stateify)(a[b],p,o.TLD,o.DOMAIN);d.push.apply(d,y)}var w=(0,s.stateify)("file",p,o.DOMAIN,o.DOMAIN),x=(0,s.stateify)("ftp",p,o.DOMAIN,o.DOMAIN),_=(0,s.stateify)("http",p,o.DOMAIN,o.DOMAIN),k=(0,s.stateify)("mailto",p,o.DOMAIN,o.DOMAIN);d.push.apply(d,w),d.push.apply(d,x),d.push.apply(d,_);var S=w.pop(),C=x.pop(),j=_.pop(),T=k.pop(),E=h(o.DOMAIN),A=h(o.PROTOCOL),P=h(o.MAILTO);C.on("s",E).on(":",A),j.on("s",E).on(":",A),d.push(E),S.on(":",A),E.on(":",A),T.on(":",P);var $=(0,s.stateify)("localhost",p,o.LOCALHOST,o.DOMAIN);d.push.apply(d,$),p.on(l,f),f.on("-",v).on(l,f).on(c,m),m.on("-",v).on(c,m);for(var L=0;L<d.length;L++)d[L].on("-",v).on(c,m);v.on("-",v).on(l,m).on(c,m),p.defaultTransition=h(o.SYM);var R=function(e){for(var t=e.replace(/[A-Z]/g,function(e){return e.toLowerCase()}),n=e.length,i=[],s=0;s<n;){for(var o=p,r=null,a=null,l=0,c=null,u=-1;s<n&&(a=o.next(t[s]));)r=null,o=a,o.accepts()?(u=0,c=o):u>=0&&u++,l++,s++;if(!(u<0)){s-=u,l-=u;var d=c.emit();i.push(new d(e.substr(s-l,l)))}}return i},D=p;n.State=s.CharacterState,n.TOKENS=r,n.run=R,n.start=D},{"./state":594,"./tokens/text":597}],594:[function(e,t,n){"use strict";function i(){return function(e){this.j=[],this.T=e||null}}function s(e,t,n,i){for(var s=0,o=e.length,r=t,l=[],c=void 0;s<o&&(c=r.next(e[s]));)r=c,s++;if(s>=o)return[];for(;s<o-1;)c=new a(i),l.push(c),r.on(e[s],c),r=c,s++;return c=new a(n),l.push(c),r.on(e[o-1],c),l}n.__esModule=!0,n.stateify=n.TokenState=n.CharacterState=void 0;var o=e("../utils/class"),r=i();r.prototype={defaultTransition:!1,on:function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)this.j.push([e[n],t]);return this}return this.j.push([e,t]),this},next:function(e){for(var t=0;t<this.j.length;t++){var n=this.j[t],i=n[0],s=n[1];if(this.test(e,i))return s}return this.defaultTransition},accepts:function(){return!!this.T},test:function(e,t){return e===t},emit:function(){return this.T}};var a=(0,o.inherits)(r,i(),{test:function(e,t){return e===t||t instanceof RegExp&&t.test(e)}}),l=(0,o.inherits)(r,i(),{jump:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.next(new e(""));return n===this.defaultTransition?(n=new this.constructor(t),this.on(e,n)):t&&(n.T=t),n},test:function(e,t){return e instanceof t}});n.CharacterState=a,n.TokenState=l,n.stateify=s},{"../utils/class":598}],595:[function(e,t,n){"use strict";function i(){return function(e){e&&(this.v=e)}}n.__esModule=!0,n.createTokenClass=i},{}],596:[function(e,t,n){"use strict";function i(e){return e instanceof r.DOMAIN||e instanceof r.TLD}n.__esModule=!0,n.URL=n.TEXT=n.NL=n.EMAIL=n.MAILTOEMAIL=n.Base=void 0;var s=e("./create-token-class"),o=e("../../utils/class"),r=e("./text"),a=(0,s.createTokenClass)();a.prototype={type:"token",isLink:!1,toString:function(){for(var e=[],t=0;t<this.v.length;t++)e.push(this.v[t].toString());return e.join("")},toHref:function(){return this.toString()},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(e)}}};var l=(0,o.inherits)(a,(0,s.createTokenClass)(),{type:"email",isLink:!0}),c=(0,o.inherits)(a,(0,s.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){this.v;return"mailto:"+this.toString()}}),u=(0,o.inherits)(a,(0,s.createTokenClass)(),{type:"text"}),d=(0,o.inherits)(a,(0,s.createTokenClass)(),{type:"nl"}),h=(0,o.inherits)(a,(0,s.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",t=!1,n=!1,s=this.v,o=[],a=0;s[a]instanceof r.PROTOCOL;)t=!0,o.push(s[a].toString().toLowerCase()),a++;for(;s[a]instanceof r.SLASH;)n=!0,o.push(s[a].toString()),a++;for(;i(s[a]);)o.push(s[a].toString().toLowerCase()),a++;for(;a<s.length;a++)o.push(s[a].toString());return o=o.join(""),t||n||(o=e+"://"+o),o},hasProtocol:function(){return this.v[0]instanceof r.PROTOCOL}});n.Base=a,n.MAILTOEMAIL=l,n.EMAIL=c,n.NL=d,n.TEXT=u,n.URL=h},{"../../utils/class":598,"./create-token-class":595,"./text":597}],597:[function(e,t,n){"use strict";function i(e){var t=e?{v:e}:{};return(0,o.inherits)(r,(0,s.createTokenClass)(),t)}n.__esModule=!0,n.AMPERSAND=n.CLOSEPAREN=n.CLOSEANGLEBRACKET=n.CLOSEBRACKET=n.CLOSEBRACE=n.OPENPAREN=n.OPENANGLEBRACKET=n.OPENBRACKET=n.OPENBRACE=n.WS=n.TLD=n.SYM=n.UNDERSCORE=n.SLASH=n.MAILTO=n.PROTOCOL=n.QUERY=n.POUND=n.PLUS=n.NUM=n.NL=n.LOCALHOST=n.PUNCTUATION=n.DOT=n.COLON=n.AT=n.DOMAIN=n.Base=void 0;var s=e("./create-token-class"),o=e("../../utils/class"),r=(0,s.createTokenClass)();r.prototype={toString:function(){return this.v+""}};var a=i(),l=i("@"),c=i(":"),u=i("."),d=i(),h=i(),p=i("\n"),f=i(),m=i("+"),v=i("#"),g=i(),b=i("mailto:"),y=i("?"),w=i("/"),x=i("_"),_=i(),k=i(),S=i(),C=i("{"),j=i("["),T=i("<"),E=i("("),A=i("}"),P=i("]"),$=i(">"),L=i(")"),R=i("&");n.Base=r,n.DOMAIN=a,n.AT=l,n.COLON=c,n.DOT=u,n.PUNCTUATION=d,n.LOCALHOST=h,n.NL=p,n.NUM=f,n.PLUS=m,n.POUND=v,n.QUERY=y,n.PROTOCOL=g,n.MAILTO=b,n.SLASH=w,n.UNDERSCORE=x,n.SYM=_,n.TLD=k,n.WS=S,n.OPENBRACE=C,n.OPENBRACKET=j,n.OPENANGLEBRACKET=T,n.OPENPAREN=E,n.CLOSEBRACE=A,n.CLOSEBRACKET=P,n.CLOSEANGLEBRACKET=$,n.CLOSEPAREN=L,n.AMPERSAND=R},{"../../utils/class":598,"./create-token-class":595}],598:[function(e,t,n){"use strict";function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object.create(e.prototype);for(var s in n)i[s]=n[s];return i.constructor=t,t.prototype=i,t}n.__esModule=!0,n.inherits=i},{}],599:[function(e,t,n){"use strict";function i(e){e=e||{},this.defaultProtocol=e.defaultProtocol||l.defaultProtocol,this.events=e.events||l.events,this.format=e.format||l.format,this.formatHref=e.formatHref||l.formatHref,this.nl2br=e.nl2br||l.nl2br,this.tagName=e.tagName||l.tagName,this.target=e.target||l.target,this.validate=e.validate||l.validate,this.ignoreTags=[],this.attributes=e.attributes||e.linkAttributes||l.attributes,this.className=e.className||e.linkClass||l.className;for(var t=e.ignoreTags||l.ignoreTags,n=0;n<t.length;n++)this.ignoreTags.push(t[n].toUpperCase())}function s(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}function o(e){return e}function r(e,t){return"url"===t?"_blank":null}n.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={defaultProtocol:"http",events:null,format:o,formatHref:o,nl2br:!1,tagName:"a",target:r,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};n.defaults=l,n.Options=i,n.contains=s,i.prototype={resolve:function(e){var t=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",t,e),tagName:this.get("tagName",t,e),className:this.get("className",t,e),target:this.get("target",t,e),events:this.getObject("events",t,e),attributes:this.getObject("attributes",t,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,t,n){var i=this[e];if(!i)return i;switch("undefined"==typeof i?"undefined":a(i)){case"function":return i(t,n.type);case"object":var s=i[n.type]||l[e];return"function"==typeof s?s(t,n.type):s}return i},getObject:function(e,t,n){var i=this[e];return"function"==typeof i?i(t,n.type):i}}},{}],600:[function(e,t,n){t.exports=e("./lib/linkify-string")["default"]},{"./lib/linkify-string":590}],601:[function(e,t,n){function i(e){var t=window.location.hash.slice(1);return 0!==t.indexOf(e)?t:t.slice(e.length)}function s(e,t){return window.location.hash=e+t,t}function o(e,t){return window.addEventListener("hashchange",t),function(){window.removeEventListener("hashchange",t)}}t.exports=function(e,t){t||"function"!=typeof e||(t=e,e=""),e||(e=""),t||(t=function(){});var n={},r=i(e);Object.defineProperty(n,"value",{enumerable:!1,get:function(){return r},set:function(n){n!==r&&(r=s(e,n),t(r))}});var a=o(e,function(){var n=i(e);r=s(e,n),t(r)});return n.stop=a,t(r),n}},{}],602:[function(e,t,n){function i(e,t){var n=e.exec(t);return null===n?null:(n=n.slice(1),n=n.map(function(e){return"undefined"==typeof e?null:e}))}function s(e,t){for(var n,s={name:null,params:[],path:t},o=0,r=e.length;o<r;o++)if(n=i(e[o][1],t),null!==n){s.name=e[o][0],s.params=n;break}return s}t.exports=function(e,t){var n=null,i=null;return function(o){i=n,n=s(e,o),t(n,i)}}},{}],603:[function(e,t,n){!function(e,i){"object"==typeof n&&"undefined"!=typeof t?t.exports=i():"function"==typeof define&&define.amd?define(i):e.moment=i()}(this,function(){"use strict";function n(){return Ai.apply(null,arguments)}function i(e){Ai=e}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function a(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,i){return jt(e,t,n,i,!0).utc()}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=f()),e._pf}function v(e){if(null==e._isValid){var t=m(e),n=Pi.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?h(m(t),e):m(t).userInvalidated=!0,t}function b(e,t){var n,i,s;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=m(t)),a(t._locale)||(e._locale=t._locale),$i.length>0)for(n=0;n<$i.length;n++)i=$i[n],s=t[i],a(s)||(e[i]=s);return e}function y(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Li===!1&&(Li=!0,n.updateOffset(this),Li=!1)}function w(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function x(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=x(t)),n}function k(e,t,n){var i,s=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),r=0;for(i=0;i<s;i++)(n&&e[i]!==t[i]||!n&&_(e[i])!==_(t[i]))&&r++;return r+o}function S(e){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,t){var i=!0;return h(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),i){for(var s,o=[],r=0;r<arguments.length;r++){if(s="","object"==typeof arguments[r]){s+="\n["+r+"] ";for(var a in arguments[0])s+=a+": "+arguments[0][a]+", ";s=s.slice(0,-2)}else s=arguments[r];o.push(s)}S(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return t.apply(this,arguments)},t)}function j(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),Ri[e]||(S(t),Ri[e]=!0)}function T(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function E(e){var t,n;for(n in e)t=e[n],T(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(e,t){var n,i=h({},e);for(n in t)d(t,n)&&(o(e[n])&&o(t[n])?(i[n]={},h(i[n],e[n]),h(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)d(e,n)&&!d(t,n)&&o(e[n])&&(i[n]=h({},i[n]));return i}function P(e){null!=e&&this.set(e)}function $(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return T(i)?i.call(t,n):i}function L(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function R(){return this._invalidDate}function D(e){return this._ordinal.replace("%d",e)}function N(e,t,n,i){var s=this._relativeTime[n];return T(s)?s(e,t,n,i):s.replace(/%d/i,e)}function O(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)}function M(e,t){var n=e.toLowerCase();Ui[n]=Ui[n+"s"]=Ui[t]=e}function I(e){return"string"==typeof e?Ui[e]||Ui[e.toLowerCase()]:void 0}function B(e){var t,n,i={};for(n in e)d(e,n)&&(t=I(n),t&&(i[t]=e[n]));return i}function F(e,t){zi[e]=t}function U(e){var t=[];for(var n in e)t.push({unit:n,priority:zi[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function z(e,t,n){var i=""+Math.abs(e),s=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+i}function V(e,t,n,i){var s=i;"string"==typeof i&&(s=function(){return this[i]()}),e&&(qi[e]=s),t&&(qi[t[0]]=function(){return z(s.apply(this,arguments),t[1],t[2])}),n&&(qi[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function H(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function W(e){var t,n,i=e.match(Vi);for(t=0,n=i.length;t<n;t++)qi[i[t]]?i[t]=qi[i[t]]:i[t]=H(i[t]);return function(t){var s,o="";for(s=0;s<n;s++)o+=T(i[s])?i[s].call(t,e):i[s];return o}}function q(e,t){return e.isValid()?(t=Y(t,e.localeData()),Wi[t]=Wi[t]||W(t),Wi[t](e)):e.localeData().invalidDate()}function Y(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Hi.lastIndex=0;i>=0&&Hi.test(e);)e=e.replace(Hi,n),Hi.lastIndex=0,i-=1;return e}function G(e,t,n){us[e]=T(t)?t:function(e,i){return e&&n?n:t}}function K(e,t){return d(us,e)?us[e](t._strict,t._locale):new RegExp(X(e))}function X(e){return J(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,s){return t||n||i||s}))}function J(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=_(e)}),n=0;n<e.length;n++)ds[e[n]]=i}function Q(e,t){Z(e,function(e,n,i,s){i._w=i._w||{},t(e,i._w,i,s)})}function ee(e,t,n){null!=t&&d(ds,e)&&ds[e](t,n._a,n,e)}function te(e){return ne(e)?366:365}function ne(e){return e%4===0&&e%100!==0||e%400===0}function ie(){return ne(this.year())}function se(e,t){return function(i){return null!=i?(re(this,e,i),n.updateOffset(this,t),this):oe(this,e)}}function oe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function re(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ne(e.year())?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ue(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function ae(e){return e=I(e),T(this[e])?this[e]():this}function le(e,t){if("object"==typeof e){e=B(e);for(var n=U(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=I(e),T(this[e]))return this[e](t);return this}function ce(e,t){return(e%t+t)%t}function ue(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=ce(t,12);return e+=(t-n)/12,1===n?ne(e)?29:28:31-n%7%2}function de(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ks).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone}function he(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ks.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function pe(e,t,n){var i,s,o,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(s=xs.call(this._shortMonthsParse,r),s!==-1?s:null):(s=xs.call(this._longMonthsParse,r),s!==-1?s:null):"MMM"===t?(s=xs.call(this._shortMonthsParse,r),s!==-1?s:(s=xs.call(this._longMonthsParse,r),s!==-1?s:null)):(s=xs.call(this._longMonthsParse,r),s!==-1?s:(s=xs.call(this._shortMonthsParse,r),s!==-1?s:null))}function fe(e,t,n){var i,s,o;if(this._monthsParseExact)return pe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(s=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function me(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=_(t);else if(t=e.localeData().monthsParse(t),!l(t))return e;return n=Math.min(e.date(),ue(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ve(e){return null!=e?(me(this,e),n.updateOffset(this,!0),this):oe(this,"Month")}function ge(){return ue(this.year(),this.month())}function be(e){return this._monthsParseExact?(d(this,"_monthsRegex")||we.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=js),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ye(e){return this._monthsParseExact?(d(this,"_monthsRegex")||we.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Ts),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function we(){function e(e,t){return t.length-e.length}var t,n,i=[],s=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),i.push(this.monthsShort(n,"")),s.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),s.sort(e),o.sort(e),t=0;t<12;t++)i[t]=J(i[t]),s[t]=J(s[t]);for(t=0;t<24;t++)o[t]=J(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function xe(e,t,n,i,s,o,r){var a=new Date(e,t,n,i,s,o,r);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function _e(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ke(e,t,n){var i=7+t-n,s=(7+_e(e,0,i).getUTCDay()-t)%7;return-s+i-1}function Se(e,t,n,i,s){var o,r,a=(7+n-i)%7,l=ke(e,i,s),c=1+7*(t-1)+a+l;return c<=0?(o=e-1,r=te(o)+c):c>te(e)?(o=e+1,r=c-te(e)):(o=e,r=c),{year:o,dayOfYear:r}}function Ce(e,t,n){var i,s,o=ke(e.year(),t,n),r=Math.floor((e.dayOfYear()-o-1)/7)+1;return r<1?(s=e.year()-1,i=r+je(s,t,n)):r>je(e.year(),t,n)?(i=r-je(e.year(),t,n),s=e.year()+1):(s=e.year(),i=r),{week:i,year:s}}function je(e,t,n){var i=ke(e,t,n),s=ke(e+1,t,n);return(te(e)-i+s)/7}function Te(e){return Ce(e,this._week.dow,this._week.doy).week}function Ee(){return this._week.dow}function Ae(){return this._week.doy}function Pe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function $e(e){var t=Ce(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Le(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Re(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function De(e,t){return e?s(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:s(this._weekdays)?this._weekdays:this._weekdays.standalone}function Ne(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Oe(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin;
}function Me(e,t,n){var i,s,o,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(s=xs.call(this._weekdaysParse,r),s!==-1?s:null):"ddd"===t?(s=xs.call(this._shortWeekdaysParse,r),s!==-1?s:null):(s=xs.call(this._minWeekdaysParse,r),s!==-1?s:null):"dddd"===t?(s=xs.call(this._weekdaysParse,r),s!==-1?s:(s=xs.call(this._shortWeekdaysParse,r),s!==-1?s:(s=xs.call(this._minWeekdaysParse,r),s!==-1?s:null))):"ddd"===t?(s=xs.call(this._shortWeekdaysParse,r),s!==-1?s:(s=xs.call(this._weekdaysParse,r),s!==-1?s:(s=xs.call(this._minWeekdaysParse,r),s!==-1?s:null))):(s=xs.call(this._minWeekdaysParse,r),s!==-1?s:(s=xs.call(this._weekdaysParse,r),s!==-1?s:(s=xs.call(this._shortWeekdaysParse,r),s!==-1?s:null)))}function Ie(e,t,n){var i,s,o;if(this._weekdaysParseExact)return Me.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(s=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(s,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(s,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(s,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Be(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Le(e,this.localeData()),this.add(e-t,"d")):t}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ue(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Re(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function ze(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||We.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Ls),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ve(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||We.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Rs),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function He(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||We.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ds),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function We(){function e(e,t){return t.length-e.length}var t,n,i,s,o,r=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),i=this.weekdaysMin(n,""),s=this.weekdaysShort(n,""),o=this.weekdays(n,""),r.push(i),a.push(s),l.push(o),c.push(i),c.push(s),c.push(o);for(r.sort(e),a.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)a[t]=J(a[t]),l[t]=J(l[t]),c[t]=J(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function qe(){return this.hours()%12||12}function Ye(){return this.hours()||24}function Ge(e,t){V(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ke(e,t){return t._meridiemParse}function Xe(e){return"p"===(e+"").toLowerCase().charAt(0)}function Je(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ze(e){return e?e.toLowerCase().replace("_","-"):e}function Qe(e){for(var t,n,i,s,o=0;o<e.length;){for(s=Ze(e[o]).split("-"),t=s.length,n=Ze(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=et(s.slice(0,t).join("-")))return i;if(n&&n.length>=t&&k(s,n,!0)>=t-1)break;t--}o++}return null}function et(n){var i=null;if(!Bs[n]&&"undefined"!=typeof t&&t&&t.exports)try{i=Ns._abbr;var s=e;s("./locale/"+n),tt(i)}catch(o){}return Bs[n]}function tt(e,t){var n;return e&&(n=a(t)?st(e):nt(e,t),n&&(Ns=n)),Ns._abbr}function nt(e,t){if(null!==t){var n=Is;if(t.abbr=e,null!=Bs[e])j("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Bs[e]._config;else if(null!=t.parentLocale){if(null==Bs[t.parentLocale])return Fs[t.parentLocale]||(Fs[t.parentLocale]=[]),Fs[t.parentLocale].push({name:e,config:t}),null;n=Bs[t.parentLocale]._config}return Bs[e]=new P(A(n,t)),Fs[e]&&Fs[e].forEach(function(e){nt(e.name,e.config)}),tt(e),Bs[e]}return delete Bs[e],null}function it(e,t){if(null!=t){var n,i=Is;null!=Bs[e]&&(i=Bs[e]._config),t=A(i,t),n=new P(t),n.parentLocale=Bs[e],Bs[e]=n,tt(e)}else null!=Bs[e]&&(null!=Bs[e].parentLocale?Bs[e]=Bs[e].parentLocale:null!=Bs[e]&&delete Bs[e]);return Bs[e]}function st(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ns;if(!s(e)){if(t=et(e))return t;e=[e]}return Qe(e)}function ot(){return Di(Bs)}function rt(e){var t,n=e._a;return n&&m(e).overflow===-2&&(t=n[ps]<0||n[ps]>11?ps:n[fs]<1||n[fs]>ue(n[hs],n[ps])?fs:n[ms]<0||n[ms]>24||24===n[ms]&&(0!==n[vs]||0!==n[gs]||0!==n[bs])?ms:n[vs]<0||n[vs]>59?vs:n[gs]<0||n[gs]>59?gs:n[bs]<0||n[bs]>999?bs:-1,m(e)._overflowDayOfYear&&(t<hs||t>fs)&&(t=fs),m(e)._overflowWeeks&&t===-1&&(t=ys),m(e)._overflowWeekday&&t===-1&&(t=ws),m(e).overflow=t),e}function at(e,t,n){return null!=e?e:null!=t?t:n}function lt(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ct(e){var t,n,i,s,o=[];if(!e._d){for(i=lt(e),e._w&&null==e._a[fs]&&null==e._a[ps]&&ut(e),null!=e._dayOfYear&&(s=at(e._a[hs],i[hs]),(e._dayOfYear>te(s)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=_e(s,0,e._dayOfYear),e._a[ps]=n.getUTCMonth(),e._a[fs]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ms]&&0===e._a[vs]&&0===e._a[gs]&&0===e._a[bs]&&(e._nextDay=!0,e._a[ms]=0),e._d=(e._useUTC?_e:xe).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ms]=24),e._w&&"undefined"!=typeof e._w.d&&e._w.d!==e._d.getDay()&&(m(e).weekdayMismatch=!0)}}function ut(e){var t,n,i,s,o,r,a,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,r=4,n=at(t.GG,e._a[hs],Ce(Tt(),1,4).year),i=at(t.W,1),s=at(t.E,1),(s<1||s>7)&&(l=!0);else{o=e._locale._week.dow,r=e._locale._week.doy;var c=Ce(Tt(),o,r);n=at(t.gg,e._a[hs],c.year),i=at(t.w,c.week),null!=t.d?(s=t.d,(s<0||s>6)&&(l=!0)):null!=t.e?(s=t.e+o,(t.e<0||t.e>6)&&(l=!0)):s=o}i<1||i>je(n,o,r)?m(e)._overflowWeeks=!0:null!=l?m(e)._overflowWeekday=!0:(a=Se(n,i,s,o,r),e._a[hs]=a.year,e._dayOfYear=a.dayOfYear)}function dt(e){var t,n,i,s,o,r,a=e._i,l=Us.exec(a)||zs.exec(a);if(l){for(m(e).iso=!0,t=0,n=Hs.length;t<n;t++)if(Hs[t][1].exec(l[1])){s=Hs[t][0],i=Hs[t][2]!==!1;break}if(null==s)return void(e._isValid=!1);if(l[3]){for(t=0,n=Ws.length;t<n;t++)if(Ws[t][1].exec(l[3])){o=(l[2]||" ")+Ws[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Vs.exec(l[4]))return void(e._isValid=!1);r="Z"}e._f=s+(o||"")+(r||""),yt(e)}else e._isValid=!1}function ht(e,t,n,i,s,o){var r=[pt(e),Cs.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(s,10)];return o&&r.push(parseInt(o,10)),r}function pt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ft(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function mt(e,t,n){if(e){var i=Ps.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(i!==s)return m(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function vt(e,t,n){if(e)return Gs[e];if(t)return 0;var i=parseInt(n,10),s=i%100,o=(i-s)/100;return 60*o+s}function gt(e){var t=Ys.exec(ft(e._i));if(t){var n=ht(t[4],t[3],t[2],t[5],t[6],t[7]);if(!mt(t[1],n,e))return;e._a=n,e._tzm=vt(t[8],t[9],t[10]),e._d=_e.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function bt(e){var t=qs.exec(e._i);return null!==t?void(e._d=new Date((+t[1]))):(dt(e),void(e._isValid===!1&&(delete e._isValid,gt(e),e._isValid===!1&&(delete e._isValid,n.createFromInputFallback(e)))))}function yt(e){if(e._f===n.ISO_8601)return void dt(e);if(e._f===n.RFC_2822)return void gt(e);e._a=[],m(e).empty=!0;var t,i,s,o,r,a=""+e._i,l=a.length,c=0;for(s=Y(e._f,e._locale).match(Vi)||[],t=0;t<s.length;t++)o=s[t],i=(a.match(K(o,e))||[])[0],i&&(r=a.substr(0,a.indexOf(i)),r.length>0&&m(e).unusedInput.push(r),a=a.slice(a.indexOf(i)+i.length),c+=i.length),qi[o]?(i?m(e).empty=!1:m(e).unusedTokens.push(o),ee(o,i,e)):e._strict&&!i&&m(e).unusedTokens.push(o);m(e).charsLeftOver=l-c,a.length>0&&m(e).unusedInput.push(a),e._a[ms]<=12&&m(e).bigHour===!0&&e._a[ms]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[ms]=wt(e._locale,e._a[ms],e._meridiem),ct(e),rt(e)}function wt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function xt(e){var t,n,i,s,o;if(0===e._f.length)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<e._f.length;s++)o=0,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[s],yt(t),v(t)&&(o+=m(t).charsLeftOver,o+=10*m(t).unusedTokens.length,m(t).score=o,(null==i||o<i)&&(i=o,n=t));h(e,n||t)}function _t(e){if(!e._d){var t=B(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ct(e)}}function kt(e){var t=new y(rt(St(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function St(e){var t=e._i,n=e._f;return e._locale=e._locale||st(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new y(rt(t)):(c(t)?e._d=t:s(n)?xt(e):n?yt(e):Ct(e),v(e)||(e._d=null),e))}function Ct(e){var t=e._i;a(t)?e._d=new Date(n.now()):c(t)?e._d=new Date(t.valueOf()):"string"==typeof t?bt(e):s(t)?(e._a=u(t.slice(0),function(e){return parseInt(e,10)}),ct(e)):o(t)?_t(e):l(t)?e._d=new Date(t):n.createFromInputFallback(e)}function jt(e,t,n,i,a){var l={};return n!==!0&&n!==!1||(i=n,n=void 0),(o(e)&&r(e)||s(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=n,l._i=e,l._f=t,l._strict=i,kt(l)}function Tt(e,t,n,i){return jt(e,t,n,i,!1)}function Et(e,t){var n,i;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Tt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function At(){var e=[].slice.call(arguments,0);return Et("isBefore",e)}function Pt(){var e=[].slice.call(arguments,0);return Et("isAfter",e)}function $t(e){for(var t in e)if(xs.call(Zs,t)===-1||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<Zs.length;++i)if(e[Zs[i]]){if(n)return!1;parseFloat(e[Zs[i]])!==_(e[Zs[i]])&&(n=!0)}return!0}function Lt(){return this._isValid}function Rt(){return Zt(NaN)}function Dt(e){var t=B(e),n=t.year||0,i=t.quarter||0,s=t.month||0,o=t.week||0,r=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=$t(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+r+7*o,this._months=+s+3*i+12*n,this._data={},this._locale=st(),this._bubble()}function Nt(e){return e instanceof Dt}function Ot(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Mt(e,t){V(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+z(~~(e/60),2)+t+z(~~e%60,2)})}function It(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1]||[],s=(i+"").match(Qs)||["-",0,0],o=+(60*s[1])+_(s[2]);return 0===o?0:"+"===s[0]?o:-o}function Bt(e,t){var i,s;return t._isUTC?(i=t.clone(),s=(w(e)||c(e)?e.valueOf():Tt(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+s),n.updateOffset(i,!1),i):Tt(e).local()}function Ft(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ut(e,t,i){var s,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(e=It(as,e),null===e)return this}else Math.abs(e)<16&&!i&&(e=60*e);return!this._isUTC&&t&&(s=Ft(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),o!==e&&(!t||this._changeInProgress?sn(this,Zt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ft(this)}function zt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Vt(e){return this.utcOffset(0,e)}function Ht(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ft(this),"m")),this}function Wt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=It(rs,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function qt(e){return!!this.isValid()&&(e=e?Tt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Yt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Gt(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(b(e,this),e=St(e),e._a){var t=e._isUTC?p(e._a):Tt(e._a);this._isDSTShifted=this.isValid()&&k(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Kt(){return!!this.isValid()&&!this._isUTC}function Xt(){return!!this.isValid()&&this._isUTC}function Jt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Zt(e,t){var n,i,s,o=e,r=null;return Nt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(o={},t?o[t]=e:o.milliseconds=e):(r=eo.exec(e))?(n="-"===r[1]?-1:1,o={y:0,d:_(r[fs])*n,h:_(r[ms])*n,m:_(r[vs])*n,s:_(r[gs])*n,ms:_(Ot(1e3*r[bs]))*n}):(r=to.exec(e))?(n="-"===r[1]?-1:("+"===r[1],1),o={y:Qt(r[2],n),M:Qt(r[3],n),w:Qt(r[4],n),d:Qt(r[5],n),h:Qt(r[6],n),m:Qt(r[7],n),s:Qt(r[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(s=tn(Tt(o.from),Tt(o.to)),o={},o.ms=s.milliseconds,o.M=s.months),i=new Dt(o),Nt(e)&&d(e,"_locale")&&(i._locale=e._locale),i}function Qt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function en(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function tn(e,t){var n;return e.isValid()&&t.isValid()?(t=Bt(t,e),e.isBefore(t)?n=en(e,t):(n=en(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function nn(e,t){return function(n,i){var s,o;return null===i||isNaN(+i)||(j(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,s=Zt(n,i),sn(this,s,e),this}}function sn(e,t,i,s){var o=t._milliseconds,r=Ot(t._days),a=Ot(t._months);e.isValid()&&(s=null==s||s,a&&me(e,oe(e,"Month")+a*i),r&&re(e,"Date",oe(e,"Date")+r*i),o&&e._d.setTime(e._d.valueOf()+o*i),s&&n.updateOffset(e,r||a))}function on(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rn(e,t){var i=e||Tt(),s=Bt(i,this).startOf("day"),o=n.calendarFormat(this,s)||"sameElse",r=t&&(T(t[o])?t[o].call(this,i):t[o]);return this.format(r||this.localeData().calendar(o,this,Tt(i)))}function an(){return new y(this)}function ln(e,t){var n=w(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&(t=I(a(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function cn(e,t){var n=w(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&(t=I(a(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function un(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function dn(e,t){var n,i=w(e)?e:Tt(e);return!(!this.isValid()||!i.isValid())&&(t=I(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function hn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function pn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function fn(e,t,n){var i,s,o;if(!this.isValid())return NaN;if(i=Bt(e,this),!i.isValid())return NaN;switch(s=6e4*(i.utcOffset()-this.utcOffset()),t=I(t)){case"year":o=mn(this,i)/12;break;case"month":o=mn(this,i);break;case"quarter":o=mn(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-s)/864e5;break;case"week":o=(this-i-s)/6048e5;break;default:o=this-i}return n?o:x(o)}function mn(e,t){var n,i,s=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(s,"months");return t-o<0?(n=e.clone().add(s-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(s+1,"months"),i=(t-o)/(n-o)),-(s+i)||0}function vn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function gn(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?q(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):T(Date.prototype.toISOString)?this.toDate().toISOString():q(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function bn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]';return this.format(n+i+s+o)}function yn(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)}function wn(e,t){return this.isValid()&&(w(e)&&e.isValid()||Tt(e).isValid())?Zt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function xn(e){return this.from(Tt(),e)}function _n(e,t){return this.isValid()&&(w(e)&&e.isValid()||Tt(e).isValid())?Zt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function kn(e){return this.to(Tt(),e)}function Sn(e){var t;return void 0===e?this._locale._abbr:(t=st(e),null!=t&&(this._locale=t),this)}function Cn(){return this._locale}function jn(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Tn(e){return e=I(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function En(){return this._d.valueOf()-6e4*(this._offset||0)}function An(){return Math.floor(this.valueOf()/1e3)}function Pn(){return new Date(this.valueOf())}function $n(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ln(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Rn(){return this.isValid()?this.toISOString():null}function Dn(){return v(this)}function Nn(){return h({},m(this))}function On(){return m(this).overflow}function Mn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function In(e,t){V(0,[e,e.length],0,t)}function Bn(e){return Vn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Fn(e){return Vn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Un(){return je(this.year(),1,4)}function zn(){var e=this.localeData()._week;return je(this.year(),e.dow,e.doy)}function Vn(e,t,n,i,s){var o;return null==e?Ce(this,i,s).year:(o=je(e,i,s),t>o&&(t=o),Hn.call(this,e,t,n,i,s))}function Hn(e,t,n,i,s){var o=Se(e,t,n,i,s),r=_e(o.year,0,o.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Wn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function qn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Yn(e,t){t[bs]=_(1e3*("0."+e))}function Gn(){return this._isUTC?"UTC":""}function Kn(){return this._isUTC?"Coordinated Universal Time":""}function Xn(e){return Tt(1e3*e)}function Jn(){return Tt.apply(null,arguments).parseZone()}function Zn(e){return e}function Qn(e,t,n,i){var s=st(),o=p().set(i,t);return s[n](o,e)}function ei(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return Qn(e,t,n,"month");var i,s=[];for(i=0;i<12;i++)s[i]=Qn(e,i,n,"month");return s}function ti(e,t,n,i){"boolean"==typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var s=st(),o=e?s._week.dow:0;if(null!=n)return Qn(t,(n+o)%7,i,"day");var r,a=[];for(r=0;r<7;r++)a[r]=Qn(t,(r+o)%7,i,"day");return a}function ni(e,t){return ei(e,t,"months")}function ii(e,t){return ei(e,t,"monthsShort")}function si(e,t,n){return ti(e,t,n,"weekdays")}function oi(e,t,n){return ti(e,t,n,"weekdaysShort")}function ri(e,t,n){return ti(e,t,n,"weekdaysMin")}function ai(){var e=this._data;return this._milliseconds=po(this._milliseconds),this._days=po(this._days),this._months=po(this._months),e.milliseconds=po(e.milliseconds),e.seconds=po(e.seconds),e.minutes=po(e.minutes),e.hours=po(e.hours),e.months=po(e.months),e.years=po(e.years),this}function li(e,t,n,i){var s=Zt(t,n);return e._milliseconds+=i*s._milliseconds,e._days+=i*s._days,e._months+=i*s._months,e._bubble()}function ci(e,t){return li(this,e,t,1)}function ui(e,t){return li(this,e,t,-1)}function di(e){return e<0?Math.floor(e):Math.ceil(e)}function hi(){var e,t,n,i,s,o=this._milliseconds,r=this._days,a=this._months,l=this._data;return o>=0&&r>=0&&a>=0||o<=0&&r<=0&&a<=0||(o+=864e5*di(fi(a)+r),r=0,a=0),l.milliseconds=o%1e3,e=x(o/1e3),l.seconds=e%60,t=x(e/60),l.minutes=t%60,n=x(t/60),l.hours=n%24,r+=x(n/24),s=x(pi(r)),a+=s,r-=di(fi(s)),i=x(a/12),a%=12,l.days=r,l.months=a,l.years=i,this}function pi(e){return 4800*e/146097}function fi(e){return 146097*e/4800}function mi(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if(e=I(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+pi(t),"month"===e?n:n/12;switch(t=this._days+Math.round(fi(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function vi(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN}function gi(e){return function(){return this.as(e)}}function bi(){return Zt(this)}function yi(e){return e=I(e),this.isValid()?this[e+"s"]():NaN}function wi(e){return function(){return this.isValid()?this._data[e]:NaN}}function xi(){return x(this.days()/7)}function _i(e,t,n,i,s){return s.relativeTime(t||1,!!n,e,i)}function ki(e,t,n){var i=Zt(e).abs(),s=Ao(i.as("s")),o=Ao(i.as("m")),r=Ao(i.as("h")),a=Ao(i.as("d")),l=Ao(i.as("M")),c=Ao(i.as("y")),u=s<=Po.ss&&["s",s]||s<Po.s&&["ss",s]||o<=1&&["m"]||o<Po.m&&["mm",o]||r<=1&&["h"]||r<Po.h&&["hh",r]||a<=1&&["d"]||a<Po.d&&["dd",a]||l<=1&&["M"]||l<Po.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,_i.apply(null,u)}function Si(e){return void 0===e?Ao:"function"==typeof e&&(Ao=e,!0)}function Ci(e,t){return void 0!==Po[e]&&(void 0===t?Po[e]:(Po[e]=t,"s"===e&&(Po.ss=t-1),!0))}function ji(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=ki(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Ti(e){return(e>0)-(e<0)||+e}function Ei(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i=$o(this._milliseconds)/1e3,s=$o(this._days),o=$o(this._months);e=x(i/60),t=x(e/60),i%=60,e%=60,n=x(o/12),o%=12;var r=n,a=o,l=s,c=t,u=e,d=i?i.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var p=h<0?"-":"",f=Ti(this._months)!==Ti(h)?"-":"",m=Ti(this._days)!==Ti(h)?"-":"",v=Ti(this._milliseconds)!==Ti(h)?"-":"";return p+"P"+(r?f+r+"Y":"")+(a?f+a+"M":"")+(l?m+l+"D":"")+(c||u||d?"T":"")+(c?v+c+"H":"")+(u?v+u+"M":"")+(d?v+d+"S":"")}var Ai,Pi;Pi=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var $i=n.momentProperties=[],Li=!1,Ri={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var Di;Di=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var Ni={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Oi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Mi="Invalid date",Ii="%d",Bi=/\d{1,2}/,Fi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ui={},zi={},Vi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Hi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wi={},qi={},Yi=/\d/,Gi=/\d\d/,Ki=/\d{3}/,Xi=/\d{4}/,Ji=/[+-]?\d{6}/,Zi=/\d\d?/,Qi=/\d\d\d\d?/,es=/\d\d\d\d\d\d?/,ts=/\d{1,3}/,ns=/\d{1,4}/,is=/[+-]?\d{1,6}/,ss=/\d+/,os=/[+-]?\d+/,rs=/Z|[+-]\d\d:?\d\d/gi,as=/Z|[+-]\d\d(?::?\d\d)?/gi,ls=/[+-]?\d+(\.\d{1,3})?/,cs=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,us={},ds={},hs=0,ps=1,fs=2,ms=3,vs=4,gs=5,bs=6,ys=7,ws=8;V("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),M("year","y"),F("year",1),G("Y",os),G("YY",Zi,Gi),G("YYYY",ns,Xi),G("YYYYY",is,Ji),G("YYYYYY",is,Ji),Z(["YYYYY","YYYYYY"],hs),Z("YYYY",function(e,t){t[hs]=2===e.length?n.parseTwoDigitYear(e):_(e)}),Z("YY",function(e,t){t[hs]=n.parseTwoDigitYear(e)}),Z("Y",function(e,t){t[hs]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)};var xs,_s=se("FullYear",!0);xs=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),V("MMMM",0,0,function(e){return this.localeData().months(this,e)}),M("month","M"),F("month",8),G("M",Zi),G("MM",Zi,Gi),G("MMM",function(e,t){return t.monthsShortRegex(e)}),G("MMMM",function(e,t){return t.monthsRegex(e)}),Z(["M","MM"],function(e,t){t[ps]=_(e)-1}),Z(["MMM","MMMM"],function(e,t,n,i){var s=n._locale.monthsParse(e,i,n._strict);null!=s?t[ps]=s:m(n).invalidMonth=e});var ks=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ss="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Cs="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),js=cs,Ts=cs;V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),M("week","w"),M("isoWeek","W"),F("week",5),F("isoWeek",5),G("w",Zi),G("ww",Zi,Gi),G("W",Zi),G("WW",Zi,Gi),Q(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=_(e)});var Es={dow:0,doy:6};V("d",0,"do","day"),V("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),V("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),V("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),M("day","d"),M("weekday","e"),M("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),G("d",Zi),G("e",Zi),G("E",Zi),G("dd",function(e,t){return t.weekdaysMinRegex(e)}),G("ddd",function(e,t){return t.weekdaysShortRegex(e)}),G("dddd",function(e,t){return t.weekdaysRegex(e)}),Q(["dd","ddd","dddd"],function(e,t,n,i){var s=n._locale.weekdaysParse(e,i,n._strict);null!=s?t.d=s:m(n).invalidWeekday=e}),Q(["d","e","E"],function(e,t,n,i){t[i]=_(e)});var As="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ps="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$s="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ls=cs,Rs=cs,Ds=cs;V("H",["HH",2],0,"hour"),V("h",["hh",2],0,qe),V("k",["kk",2],0,Ye),V("hmm",0,0,function(){return""+qe.apply(this)+z(this.minutes(),2)}),V("hmmss",0,0,function(){return""+qe.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+z(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)}),Ge("a",!0),Ge("A",!1),M("hour","h"),F("hour",13),G("a",Ke),G("A",Ke),G("H",Zi),G("h",Zi),G("k",Zi),G("HH",Zi,Gi),G("hh",Zi,Gi),G("kk",Zi,Gi),G("hmm",Qi),G("hmmss",es),G("Hmm",Qi),G("Hmmss",es),Z(["H","HH"],ms),Z(["k","kk"],function(e,t,n){var i=_(e);t[ms]=24===i?0:i}),Z(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Z(["h","hh"],function(e,t,n){t[ms]=_(e),m(n).bigHour=!0}),Z("hmm",function(e,t,n){var i=e.length-2;t[ms]=_(e.substr(0,i)),t[vs]=_(e.substr(i)),m(n).bigHour=!0}),Z("hmmss",function(e,t,n){var i=e.length-4,s=e.length-2;t[ms]=_(e.substr(0,i)),t[vs]=_(e.substr(i,2)),t[gs]=_(e.substr(s)),m(n).bigHour=!0}),Z("Hmm",function(e,t,n){var i=e.length-2;t[ms]=_(e.substr(0,i)),t[vs]=_(e.substr(i))}),Z("Hmmss",function(e,t,n){var i=e.length-4,s=e.length-2;t[ms]=_(e.substr(0,i)),t[vs]=_(e.substr(i,2)),t[gs]=_(e.substr(s))});var Ns,Os=/[ap]\.?m?\.?/i,Ms=se("Hours",!0),Is={calendar:Ni,longDateFormat:Oi,invalidDate:Mi,ordinal:Ii,dayOfMonthOrdinalParse:Bi,relativeTime:Fi,months:Ss,monthsShort:Cs,week:Es,weekdays:As,weekdaysMin:$s,weekdaysShort:Ps,meridiemParse:Os},Bs={},Fs={},Us=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zs=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vs=/Z|[+-]\d\d(?::?\d\d)?/,Hs=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ws=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qs=/^\/?Date\((\-?\d+)/i,Ys=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Gs={
UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};n.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var Ks=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()}),Xs=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}),Js=function(){return Date.now?Date.now():+new Date},Zs=["year","quarter","month","week","day","hour","minute","second","millisecond"];Mt("Z",":"),Mt("ZZ",""),G("Z",as),G("ZZ",as),Z(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=It(as,e)});var Qs=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var eo=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,to=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Zt.fn=Dt.prototype,Zt.invalid=Rt;var no=nn(1,"add"),io=nn(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var so=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),In("gggg","weekYear"),In("ggggg","weekYear"),In("GGGG","isoWeekYear"),In("GGGGG","isoWeekYear"),M("weekYear","gg"),M("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),G("G",os),G("g",os),G("GG",Zi,Gi),G("gg",Zi,Gi),G("GGGG",ns,Xi),G("gggg",ns,Xi),G("GGGGG",is,Ji),G("ggggg",is,Ji),Q(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=_(e)}),Q(["gg","GG"],function(e,t,i,s){t[s]=n.parseTwoDigitYear(e)}),V("Q",0,"Qo","quarter"),M("quarter","Q"),F("quarter",7),G("Q",Yi),Z("Q",function(e,t){t[ps]=3*(_(e)-1)}),V("D",["DD",2],"Do","date"),M("date","D"),F("date",9),G("D",Zi),G("DD",Zi,Gi),G("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Z(["D","DD"],fs),Z("Do",function(e,t){t[fs]=_(e.match(Zi)[0],10)});var oo=se("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),M("dayOfYear","DDD"),F("dayOfYear",4),G("DDD",ts),G("DDDD",Ki),Z(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_(e)}),V("m",["mm",2],0,"minute"),M("minute","m"),F("minute",14),G("m",Zi),G("mm",Zi,Gi),Z(["m","mm"],vs);var ro=se("Minutes",!1);V("s",["ss",2],0,"second"),M("second","s"),F("second",15),G("s",Zi),G("ss",Zi,Gi),Z(["s","ss"],gs);var ao=se("Seconds",!1);V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),M("millisecond","ms"),F("millisecond",16),G("S",ts,Yi),G("SS",ts,Gi),G("SSS",ts,Ki);var lo;for(lo="SSSS";lo.length<=9;lo+="S")G(lo,ss);for(lo="S";lo.length<=9;lo+="S")Z(lo,Yn);var co=se("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var uo=y.prototype;uo.add=no,uo.calendar=rn,uo.clone=an,uo.diff=fn,uo.endOf=Tn,uo.format=yn,uo.from=wn,uo.fromNow=xn,uo.to=_n,uo.toNow=kn,uo.get=ae,uo.invalidAt=On,uo.isAfter=ln,uo.isBefore=cn,uo.isBetween=un,uo.isSame=dn,uo.isSameOrAfter=hn,uo.isSameOrBefore=pn,uo.isValid=Dn,uo.lang=so,uo.locale=Sn,uo.localeData=Cn,uo.max=Xs,uo.min=Ks,uo.parsingFlags=Nn,uo.set=le,uo.startOf=jn,uo.subtract=io,uo.toArray=$n,uo.toObject=Ln,uo.toDate=Pn,uo.toISOString=gn,uo.inspect=bn,uo.toJSON=Rn,uo.toString=vn,uo.unix=An,uo.valueOf=En,uo.creationData=Mn,uo.year=_s,uo.isLeapYear=ie,uo.weekYear=Bn,uo.isoWeekYear=Fn,uo.quarter=uo.quarters=Wn,uo.month=ve,uo.daysInMonth=ge,uo.week=uo.weeks=Pe,uo.isoWeek=uo.isoWeeks=$e,uo.weeksInYear=zn,uo.isoWeeksInYear=Un,uo.date=oo,uo.day=uo.days=Be,uo.weekday=Fe,uo.isoWeekday=Ue,uo.dayOfYear=qn,uo.hour=uo.hours=Ms,uo.minute=uo.minutes=ro,uo.second=uo.seconds=ao,uo.millisecond=uo.milliseconds=co,uo.utcOffset=Ut,uo.utc=Vt,uo.local=Ht,uo.parseZone=Wt,uo.hasAlignedHourOffset=qt,uo.isDST=Yt,uo.isLocal=Kt,uo.isUtcOffset=Xt,uo.isUtc=Jt,uo.isUTC=Jt,uo.zoneAbbr=Gn,uo.zoneName=Kn,uo.dates=C("dates accessor is deprecated. Use date instead.",oo),uo.months=C("months accessor is deprecated. Use month instead",ve),uo.years=C("years accessor is deprecated. Use year instead",_s),uo.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",zt),uo.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Gt);var ho=P.prototype;ho.calendar=$,ho.longDateFormat=L,ho.invalidDate=R,ho.ordinal=D,ho.preparse=Zn,ho.postformat=Zn,ho.relativeTime=N,ho.pastFuture=O,ho.set=E,ho.months=de,ho.monthsShort=he,ho.monthsParse=fe,ho.monthsRegex=ye,ho.monthsShortRegex=be,ho.week=Te,ho.firstDayOfYear=Ae,ho.firstDayOfWeek=Ee,ho.weekdays=De,ho.weekdaysMin=Oe,ho.weekdaysShort=Ne,ho.weekdaysParse=Ie,ho.weekdaysRegex=ze,ho.weekdaysShortRegex=Ve,ho.weekdaysMinRegex=He,ho.isPM=Xe,ho.meridiem=Je,tt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),n.lang=C("moment.lang is deprecated. Use moment.locale instead.",tt),n.langData=C("moment.langData is deprecated. Use moment.localeData instead.",st);var po=Math.abs,fo=gi("ms"),mo=gi("s"),vo=gi("m"),go=gi("h"),bo=gi("d"),yo=gi("w"),wo=gi("M"),xo=gi("y"),_o=wi("milliseconds"),ko=wi("seconds"),So=wi("minutes"),Co=wi("hours"),jo=wi("days"),To=wi("months"),Eo=wi("years"),Ao=Math.round,Po={ss:44,s:45,m:45,h:22,d:26,M:11},$o=Math.abs,Lo=Dt.prototype;return Lo.isValid=Lt,Lo.abs=ai,Lo.add=ci,Lo.subtract=ui,Lo.as=mi,Lo.asMilliseconds=fo,Lo.asSeconds=mo,Lo.asMinutes=vo,Lo.asHours=go,Lo.asDays=bo,Lo.asWeeks=yo,Lo.asMonths=wo,Lo.asYears=xo,Lo.valueOf=vi,Lo._bubble=hi,Lo.clone=bi,Lo.get=yi,Lo.milliseconds=_o,Lo.seconds=ko,Lo.minutes=So,Lo.hours=Co,Lo.days=jo,Lo.weeks=xi,Lo.months=To,Lo.years=Eo,Lo.humanize=ji,Lo.toISOString=Ei,Lo.toString=Ei,Lo.toJSON=Ei,Lo.locale=Sn,Lo.localeData=Cn,Lo.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ei),Lo.lang=so,V("X",0,0,"unix"),V("x",0,0,"valueOf"),G("x",os),G("X",ls),Z("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),Z("x",function(e,t,n){n._d=new Date(_(e))}),n.version="2.19.1",i(Tt),n.fn=uo,n.min=At,n.max=Pt,n.now=Js,n.utc=p,n.unix=Xn,n.months=ni,n.isDate=c,n.locale=tt,n.invalid=g,n.duration=Zt,n.isMoment=w,n.weekdays=si,n.parseZone=Jn,n.localeData=st,n.isDuration=Nt,n.monthsShort=ii,n.weekdaysMin=ri,n.defineLocale=nt,n.updateLocale=it,n.locales=ot,n.weekdaysShort=oi,n.normalizeUnits=I,n.relativeTimeRounding=Si,n.relativeTimeThreshold=Ci,n.calendarFormat=on,n.prototype=uo,n})},{}],604:[function(e,t,n){!function(e,n,i){function s(e,t,n){return e.addEventListener?void e.addEventListener(t,n,!1):void e.attachEvent("on"+t,n)}function o(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return b[e.which]?b[e.which]:y[e.which]?y[e.which]:String.fromCharCode(e.which).toLowerCase()}function r(e,t){return e.sort().join(",")===t.sort().join(",")}function a(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function l(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}function c(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}function u(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function d(){if(!g){g={};for(var e in b)e>95&&e<112||b.hasOwnProperty(e)&&(g[b[e]]=e)}return g}function h(e,t,n){return n||(n=d()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function p(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function f(e,t){var n,i,s,o=[];for(n=p(e),s=0;s<n.length;++s)i=n[s],x[i]&&(i=x[i]),t&&"keypress"!=t&&w[i]&&(i=w[i],o.push("shift")),u(i)&&o.push(i);return t=h(i,o,t),{key:i,modifiers:o,action:t}}function m(e,t){return null!==e&&e!==n&&(e===t||m(e.parentNode,t))}function v(e){function t(e){e=e||{};var t,n=!1;for(t in w)e[t]?n=!0:w[t]=0;n||(k=!1)}function i(e,t,n,i,s,o){var a,l,c=[],d=n.type;if(!b._callbacks[e])return[];for("keyup"==d&&u(e)&&(t=[e]),a=0;a<b._callbacks[e].length;++a)if(l=b._callbacks[e][a],(i||!l.seq||w[l.seq]==l.level)&&d==l.action&&("keypress"==d&&!n.metaKey&&!n.ctrlKey||r(t,l.modifiers))){var h=!i&&l.combo==s,p=i&&l.seq==i&&l.level==o;(h||p)&&b._callbacks[e].splice(a,1),c.push(l)}return c}function d(e,t,n,i){b.stopCallback(t,t.target||t.srcElement,n,i)||e(t,n)===!1&&(l(t),c(t))}function h(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=o(e);if(t)return"keyup"==e.type&&x===t?void(x=!1):void b.handleKey(t,a(e),e)}function p(){clearTimeout(y),y=setTimeout(t,1e3)}function m(e,n,i,s){function r(t){return function(){k=t,++w[e],p()}}function a(n){d(i,n,e),"keyup"!==s&&(x=o(n)),setTimeout(t,10)}w[e]=0;for(var l=0;l<n.length;++l){var c=l+1===n.length,u=c?a:r(s||f(n[l+1]).action);g(n[l],u,s,e,l)}}function g(e,t,n,s,o){b._directMap[e+":"+n]=t,e=e.replace(/\s+/g," ");var r,a=e.split(" ");return a.length>1?void m(e,a,t,n):(r=f(e,n),b._callbacks[r.key]=b._callbacks[r.key]||[],i(r.key,r.modifiers,{type:r.action},s,e,o),void b._callbacks[r.key][s?"unshift":"push"]({callback:t,modifiers:r.modifiers,action:r.action,seq:s,level:o,combo:e}))}var b=this;if(e=e||n,!(b instanceof v))return new v(e);b.target=e,b._callbacks={},b._directMap={};var y,w={},x=!1,_=!1,k=!1;b._handleKey=function(e,n,s){var o,r=i(e,n,s),a={},l=0,c=!1;for(o=0;o<r.length;++o)r[o].seq&&(l=Math.max(l,r[o].level));for(o=0;o<r.length;++o)if(r[o].seq){if(r[o].level!=l)continue;c=!0,a[r[o].seq]=1,d(r[o].callback,s,r[o].combo,r[o].seq)}else c||d(r[o].callback,s,r[o].combo);var h="keypress"==s.type&&_;s.type!=k||u(e)||h||t(a),_=c&&"keydown"==s.type},b._bindMultiple=function(e,t,n){for(var i=0;i<e.length;++i)g(e[i],t,n)},s(e,"keypress",h),s(e,"keydown",h),s(e,"keyup",h)}if(e){for(var g,b={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},y={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},w={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},x={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},_=1;_<20;++_)b[111+_]="f"+_;for(_=0;_<=9;++_)b[_+96]=_.toString();v.prototype.bind=function(e,t,n){var i=this;return e=e instanceof Array?e:[e],i._bindMultiple.call(i,e,t,n),i},v.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},v.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},v.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},v.prototype.stopCallback=function(e,t){var n=this;return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!m(t,n.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},v.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},v.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(b[t]=e[t]);g=null},v.init=function(){var e=v(n);for(var t in e)"_"!==t.charAt(0)&&(v[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},v.init(),e.Mousetrap=v,"undefined"!=typeof t&&t.exports&&(t.exports=v),"function"==typeof define&&define.amd&&define(function(){return v})}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},{}],605:[function(e,t,n){"use strict";t.exports=function(){return/\bv?(?:0|[1-9][0-9]*)\.(?:0|[1-9][0-9]*)\.(?:0|[1-9][0-9]*)(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?\b/gi}},{}],606:[function(e,t,n){(function(e){function i(e,t){if(e instanceof r)return e;if("string"!=typeof e)return null;if(e.length>X)return null;var n=t?Z[me]:Z[he];if(!n.test(e))return null;try{return new r(e,t)}catch(i){return null}}function s(e,t){var n=i(e,t);return n?n.version:null}function o(e,t){var n=i(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}function r(e,t){if(e instanceof r){if(e.loose===t)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>X)throw new TypeError("version is longer than "+X+" characters");if(!(this instanceof r))return new r(e,t);K("SemVer",e,t),this.loose=t;var n=e.trim().match(t?Z[me]:Z[he]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>J||this.major<0)throw new TypeError("Invalid major version");if(this.minor>J||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>J||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<J)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}function a(e,t,n,i){"string"==typeof n&&(i=n,n=void 0);try{return new r(e,n).inc(t,i).version}catch(s){return null}}function l(e,t){if(x(e,t))return null;var n=i(e),s=i(t);if(n.prerelease.length||s.prerelease.length){for(var o in n)if(("major"===o||"minor"===o||"patch"===o)&&n[o]!==s[o])return"pre"+o;return"prerelease"}for(var o in n)if(("major"===o||"minor"===o||"patch"===o)&&n[o]!==s[o])return o}function c(e,t){var n=Ue.test(e),i=Ue.test(t);return n&&i&&(e=+e,t=+t),n&&!i?-1:i&&!n?1:e<t?-1:e>t?1:0}function u(e,t){return c(t,e)}function d(e,t){return new r(e,t).major}function h(e,t){return new r(e,t).minor}function p(e,t){return new r(e,t).patch}function f(e,t,n){return new r(e,n).compare(new r(t,n))}function m(e,t){return f(e,t,!0)}function v(e,t,n){return f(t,e,n)}function g(e,t){return e.sort(function(e,i){return n.compare(e,i,t)})}function b(e,t){return e.sort(function(e,i){return n.rcompare(e,i,t)})}function y(e,t,n){return f(e,t,n)>0}function w(e,t,n){return f(e,t,n)<0}function x(e,t,n){return 0===f(e,t,n)}function _(e,t,n){return 0!==f(e,t,n)}function k(e,t,n){return f(e,t,n)>=0}function S(e,t,n){return f(e,t,n)<=0}function C(e,t,n,i){var s;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),s=e===n;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),s=e!==n;break;case"":case"=":case"==":s=x(e,n,i);break;case"!=":s=_(e,n,i);break;case">":s=y(e,n,i);break;case">=":s=k(e,n,i);break;case"<":s=w(e,n,i);break;case"<=":s=S(e,n,i);break;default:throw new TypeError("Invalid operator: "+t)}return s}function j(e,t){if(e instanceof j){if(e.loose===t)return e;e=e.value}return this instanceof j?(K("comparator",e,t),this.loose=t,this.parse(e),this.semver===ze?this.value="":this.value=this.operator+this.semver.version,void K("comp",this)):new j(e,t)}function T(e,t){if(e instanceof T)return e.loose===t?e:new T(e.raw,t);if(e instanceof j)return new T(e.value,t);if(!(this instanceof T))return new T(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function E(e,t){return new T(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})}function A(e,t){return K("comp",e),e=R(e,t),K("caret",e),e=$(e,t),K("tildes",e),e=N(e,t),K("xrange",e),e=M(e,t),K("stars",e),e}function P(e){return!e||"x"===e.toLowerCase()||"*"===e}function $(e,t){return e.trim().split(/\s+/).map(function(e){return L(e,t)}).join(" ")}function L(e,t){var n=t?Z[Te]:Z[je];return e.replace(n,function(t,n,i,s,o){K("tilde",e,t,n,i,s,o);var r;return P(n)?r="":P(i)?r=">="+n+".0.0 <"+(+n+1)+".0.0":P(s)?r=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":o?(K("replaceTilde pr",o),"-"!==o.charAt(0)&&(o="-"+o),r=">="+n+"."+i+"."+s+o+" <"+n+"."+(+i+1)+".0"):r=">="+n+"."+i+"."+s+" <"+n+"."+(+i+1)+".0",K("tilde return",r),r})}function R(e,t){return e.trim().split(/\s+/).map(function(e){return D(e,t)}).join(" ")}function D(e,t){K("caret",e,t);var n=t?Z[Le]:Z[$e];return e.replace(n,function(t,n,i,s,o){K("caret",e,t,n,i,s,o);var r;return P(n)?r="":P(i)?r=">="+n+".0.0 <"+(+n+1)+".0.0":P(s)?r="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":o?(K("replaceCaret pr",o),"-"!==o.charAt(0)&&(o="-"+o),r="0"===n?"0"===i?">="+n+"."+i+"."+s+o+" <"+n+"."+i+"."+(+s+1):">="+n+"."+i+"."+s+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+s+o+" <"+(+n+1)+".0.0"):(K("no pr"),r="0"===n?"0"===i?">="+n+"."+i+"."+s+" <"+n+"."+i+"."+(+s+1):">="+n+"."+i+"."+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+s+" <"+(+n+1)+".0.0"),K("caret return",r),r})}function N(e,t){return K("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return O(e,t)}).join(" ")}function O(e,t){e=e.trim();var n=t?Z[_e]:Z[xe];return e.replace(n,function(t,n,i,s,o,r){K("xRange",e,t,n,i,s,o,r);var a=P(i),l=a||P(s),c=l||P(o),u=c;return"="===n&&u&&(n=""),a?t=">"===n||"<"===n?"<0.0.0":"*":n&&u?(l&&(s=0),c&&(o=0),">"===n?(n=">=",l?(i=+i+1,s=0,o=0):c&&(s=+s+1,o=0)):"<="===n&&(n="<",l?i=+i+1:s=+s+1),t=n+i+"."+s+"."+o):l?t=">="+i+".0.0 <"+(+i+1)+".0.0":c&&(t=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0"),K("xRange return",t),t})}function M(e,t){return K("replaceStars",e,t),e.trim().replace(Z[Be],"")}function I(e,t,n,i,s,o,r,a,l,c,u,d,h){return t=P(n)?"":P(i)?">="+n+".0.0":P(s)?">="+n+"."+i+".0":">="+t,a=P(l)?"":P(c)?"<"+(+l+1)+".0.0":P(u)?"<"+l+"."+(+c+1)+".0":d?"<="+l+"."+c+"."+u+"-"+d:"<="+a,(t+" "+a).trim()}function B(e,t){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length){for(var n=0;n<e.length;n++)if(K(e[n].semver),e[n].semver!==ze&&e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function F(e,t,n){try{t=new T(t,n)}catch(i){return!1}return t.test(e)}function U(e,t,n){var i=null,s=null;try{var o=new T(t,n)}catch(a){return null}return e.forEach(function(e){o.test(e)&&(i&&s.compare(e)!==-1||(i=e,s=new r(i,n)))}),i}function z(e,t,n){var i=null,s=null;try{var o=new T(t,n)}catch(a){return null}return e.forEach(function(e){o.test(e)&&(i&&1!==s.compare(e)||(i=e,s=new r(i,n)))}),i}function V(e,t){try{return new T(e,t).range||"*"}catch(n){return null}}function H(e,t,n){return q(e,t,"<",n)}function W(e,t,n){return q(e,t,">",n)}function q(e,t,n,i){e=new r(e,i),t=new T(t,i);var s,o,a,l,c;switch(n){case">":s=y,o=S,a=w,l=">",c=">=";break;case"<":s=w,o=k,a=y,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(F(e,t,i))return!1;for(var u=0;u<t.set.length;++u){var d=t.set[u],h=null,p=null;if(d.forEach(function(e){e.semver===ze&&(e=new j(">=0.0.0")),h=h||e,p=p||e,s(e.semver,h.semver,i)?h=e:a(e.semver,p.semver,i)&&(p=e)}),h.operator===l||h.operator===c)return!1;if((!p.operator||p.operator===l)&&o(e,p.semver))return!1;if(p.operator===c&&a(e,p.semver))return!1}return!0}function Y(e,t){var n=i(e,t);return n&&n.prerelease.length?n.prerelease:null}function G(e,t,n){return e=new T(e,n),t=new T(t,n),e.intersects(t)}n=t.exports=r;var K;K="object"==typeof e&&e.env&&e.env.NODE_DEBUG&&/\bsemver\b/i.test(e.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},n.SEMVER_SPEC_VERSION="2.0.0";var X=256,J=Number.MAX_SAFE_INTEGER||9007199254740991,Z=n.re=[],Q=n.src=[],ee=0,te=ee++;Q[te]="0|[1-9]\\d*";var ne=ee++;Q[ne]="[0-9]+";var ie=ee++;Q[ie]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var se=ee++;Q[se]="("+Q[te]+")\\.("+Q[te]+")\\.("+Q[te]+")";var oe=ee++;Q[oe]="("+Q[ne]+")\\.("+Q[ne]+")\\.("+Q[ne]+")";var re=ee++;Q[re]="(?:"+Q[te]+"|"+Q[ie]+")";var ae=ee++;Q[ae]="(?:"+Q[ne]+"|"+Q[ie]+")";var le=ee++;Q[le]="(?:-("+Q[re]+"(?:\\."+Q[re]+")*))";var ce=ee++;Q[ce]="(?:-?("+Q[ae]+"(?:\\."+Q[ae]+")*))";var ue=ee++;Q[ue]="[0-9A-Za-z-]+";var de=ee++;Q[de]="(?:\\+("+Q[ue]+"(?:\\."+Q[ue]+")*))";var he=ee++,pe="v?"+Q[se]+Q[le]+"?"+Q[de]+"?";Q[he]="^"+pe+"$";var fe="[v=\\s]*"+Q[oe]+Q[ce]+"?"+Q[de]+"?",me=ee++;Q[me]="^"+fe+"$";var ve=ee++;Q[ve]="((?:<|>)?=?)";var ge=ee++;Q[ge]=Q[ne]+"|x|X|\\*";var be=ee++;Q[be]=Q[te]+"|x|X|\\*";var ye=ee++;Q[ye]="[v=\\s]*("+Q[be]+")(?:\\.("+Q[be]+")(?:\\.("+Q[be]+")(?:"+Q[le]+")?"+Q[de]+"?)?)?";var we=ee++;Q[we]="[v=\\s]*("+Q[ge]+")(?:\\.("+Q[ge]+")(?:\\.("+Q[ge]+")(?:"+Q[ce]+")?"+Q[de]+"?)?)?";var xe=ee++;Q[xe]="^"+Q[ve]+"\\s*"+Q[ye]+"$";var _e=ee++;Q[_e]="^"+Q[ve]+"\\s*"+Q[we]+"$";var ke=ee++;Q[ke]="(?:~>?)";var Se=ee++;Q[Se]="(\\s*)"+Q[ke]+"\\s+",Z[Se]=new RegExp(Q[Se],"g");var Ce="$1~",je=ee++;Q[je]="^"+Q[ke]+Q[ye]+"$";var Te=ee++;Q[Te]="^"+Q[ke]+Q[we]+"$";var Ee=ee++;Q[Ee]="(?:\\^)";var Ae=ee++;Q[Ae]="(\\s*)"+Q[Ee]+"\\s+",Z[Ae]=new RegExp(Q[Ae],"g");var Pe="$1^",$e=ee++;Q[$e]="^"+Q[Ee]+Q[ye]+"$";var Le=ee++;Q[Le]="^"+Q[Ee]+Q[we]+"$";var Re=ee++;Q[Re]="^"+Q[ve]+"\\s*("+fe+")$|^$";var De=ee++;Q[De]="^"+Q[ve]+"\\s*("+pe+")$|^$";var Ne=ee++;Q[Ne]="(\\s*)"+Q[ve]+"\\s*("+fe+"|"+Q[ye]+")",Z[Ne]=new RegExp(Q[Ne],"g");var Oe="$1$2$3",Me=ee++;Q[Me]="^\\s*("+Q[ye]+")\\s+-\\s+("+Q[ye]+")\\s*$";var Ie=ee++;Q[Ie]="^\\s*("+Q[we]+")\\s+-\\s+("+Q[we]+")\\s*$";var Be=ee++;Q[Be]="(<|>)?=?\\s*\\*";for(var Fe=0;Fe<ee;Fe++)K(Fe,Q[Fe]),Z[Fe]||(Z[Fe]=new RegExp(Q[Fe]));n.parse=i,n.valid=s,n.clean=o,n.SemVer=r,r.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},r.prototype.toString=function(){return this.version},r.prototype.compare=function(e){return K("SemVer.compare",this.version,this.loose,e),e instanceof r||(e=new r(e,this.loose)),this.compareMain(e)||this.comparePre(e)},r.prototype.compareMain=function(e){return e instanceof r||(e=new r(e,this.loose)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)},r.prototype.comparePre=function(e){if(e instanceof r||(e=new r(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(K("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return c(n,i)}while(++t)},r.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},n.inc=a,n.diff=l,n.compareIdentifiers=c;var Ue=/^[0-9]+$/;n.rcompareIdentifiers=u,n.major=d,n.minor=h,n.patch=p,n.compare=f,n.compareLoose=m,n.rcompare=v,n.sort=g,n.rsort=b,n.gt=y,n.lt=w,n.eq=x,n.neq=_,n.gte=k,n.lte=S,n.cmp=C,n.Comparator=j;var ze={};j.prototype.parse=function(e){var t=this.loose?Z[Re]:Z[De],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new r(n[2],this.loose):this.semver=ze},j.prototype.toString=function(){return this.value},j.prototype.test=function(e){return K("Comparator.test",e,this.loose),this.semver===ze||("string"==typeof e&&(e=new r(e,this.loose)),C(e,this.operator,this.semver,this.loose))},j.prototype.intersects=function(e,t){if(!(e instanceof j))throw new TypeError("a Comparator is required");var n;if(""===this.operator)return n=new T(e.value,t),F(this.value,n,t);if(""===e.operator)return n=new T(this.value,t),F(e.semver,n,t);var i=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),s=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,r=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=C(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=C(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return i||s||o&&r||a||l},n.Range=T,T.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},T.prototype.toString=function(){return this.range},T.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),K("range",e,t);var n=t?Z[Ie]:Z[Me];e=e.replace(n,I),K("hyphen replace",e),e=e.replace(Z[Ne],Oe),K("comparator trim",e,Z[Ne]),e=e.replace(Z[Se],Ce),e=e.replace(Z[Ae],Pe),e=e.split(/\s+/).join(" ");var i=t?Z[Re]:Z[De],s=e.split(" ").map(function(e){return A(e,t)}).join(" ").split(/\s+/);return this.loose&&(s=s.filter(function(e){return!!e.match(i)})),s=s.map(function(e){return new j(e,t)})},T.prototype.intersects=function(e,t){if(!(e instanceof T))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(n){return e.set.some(function(e){return e.every(function(e){return n.intersects(e,t)})})})})},n.toComparators=E,T.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new r(e,this.loose));for(var t=0;t<this.set.length;t++)if(B(this.set[t],e))return!0;return!1},n.satisfies=F,n.maxSatisfying=U,n.minSatisfying=z,n.validRange=V,n.ltr=H,n.gtr=W,n.outside=q,n.prerelease=Y,n.intersects=G}).call(this,e("_process"))},{_process:550}],607:[function(e,t,n){(function(n,i){var s;!function(){"use strict";s=function(e,t,n,s){function o(e,t){var n=f._readFile(e,null,s.asyncLoad);s.asyncLoad?n.then(function(e){t(e)}):t(n)}function r(e){t=e,n&&l()}function a(e){n=e,t&&l()}function l(){for(f.rules=f._parseAFF(t),f.compoundRuleCodes={},u=0,h=f.compoundRules.length;u<h;u++){var e=f.compoundRules[u];for(d=0,p=e.length;d<p;d++)f.compoundRuleCodes[e[d]]=[]}"ONLYINCOMPOUND"in f.flags&&(f.compoundRuleCodes[f.flags.ONLYINCOMPOUND]=[]),f.dictionaryTable=f._parseDIC(n);for(u in f.compoundRuleCodes)0===f.compoundRuleCodes[u].length&&delete f.compoundRuleCodes[u];for(u=0,h=f.compoundRules.length;u<h;u++){var i=f.compoundRules[u],o="";for(d=0,p=i.length;d<p;d++){var r=i[d];o+=r in f.compoundRuleCodes?"("+f.compoundRuleCodes[r].join("|")+")":r}f.compoundRules[u]=new RegExp(o,"i")}f.loaded=!0,s.asyncLoad&&s.loadedCallback&&s.loadedCallback(f)}s=s||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=s.flags||{},this.memoized={},this.loaded=!1;var c,u,d,h,p,f=this;return e&&(f.dictionary=e,t&&n?l():"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(c=s.dictionaryPath?s.dictionaryPath:"typo/dictionaries",t||o(chrome.extension.getURL(c+"/"+e+"/"+e+".aff"),r),n||o(chrome.extension.getURL(c+"/"+e+"/"+e+".dic"),a)):(c=s.dictionaryPath?s.dictionaryPath:"undefined"!=typeof i?i+"/dictionaries":"./dictionaries",t||o(c+"/"+e+"/"+e+".aff",r),n||o(c+"/"+e+"/"+e+".dic",a))),this},s.prototype={load:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this},_readFile:function(t,i,s){if(i=i||"utf8","undefined"!=typeof XMLHttpRequest){var o,r=new XMLHttpRequest;return r.open("GET",t,s),s&&(o=new Promise(function(e,t){r.onload=function(){200===r.status?e(r.responseText):t(r.statusText)},r.onerror=function(){t(r.statusText)}})),r.overrideMimeType&&r.overrideMimeType("text/plain; charset="+i),r.send(null),s?o:r.responseText}if("undefined"!=typeof e){var a=e("fs");try{if(a.existsSync(t)){var l=a.statSync(t),c=a.openSync(t,"r"),u=new n(l.size);return a.readSync(c,u,0,u.length,null),u.toString(i,0,u.length)}console.log("Path "+t+" does not exist.")}catch(d){return console.log(d),""}}},_parseAFF:function(e){var t,n,i,s,o,r,a,l,c={};e=this._removeAffixComments(e);var u=e.split("\n");for(o=0,a=u.length;o<a;o++){t=u[o];var d=t.split(/\s+/),h=d[0];if("PFX"==h||"SFX"==h){var p=d[1],f=d[2];i=parseInt(d[3],10);var m=[];for(r=o+1,l=o+1+i;r<l;r++){n=u[r],s=n.split(/\s+/);var v=s[2],g=s[3].split("/"),b=g[0];"0"===b&&(b="");var y=this.parseRuleCodes(g[1]),w=s[4],x={};x.add=b,y.length>0&&(x.continuationClasses=y),"."!==w&&("SFX"===h?x.match=new RegExp(w+"$"):x.match=new RegExp("^"+w)),"0"!=v&&("SFX"===h?x.remove=new RegExp(v+"$"):x.remove=v),m.push(x)}c[p]={type:h,combineable:"Y"==f,entries:m},o+=i}else if("COMPOUNDRULE"===h){for(i=parseInt(d[1],10),r=o+1,l=o+1+i;r<l;r++)t=u[r],s=t.split(/\s+/),this.compoundRules.push(s[1]);o+=i}else"REP"===h?(s=t.split(/\s+/),3===s.length&&this.replacementTable.push([s[1],s[2]])):this.flags[h]=d[1]}return c},_removeAffixComments:function(e){return e=e.replace(/^\s*#.*$/gm,""),e=e.replace(/^\s\s*/m,"").replace(/\s\s*$/m,""),e=e.replace(/\n{2,}/g,"\n"),e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(e){function t(e,t){i.hasOwnProperty(e)||(i[e]=null),t.length>0&&(null===i[e]&&(i[e]=[]),i[e].push(t))}e=this._removeDicComments(e);for(var n=e.split("\n"),i={},s=1,o=n.length;s<o;s++){var r=n[s],a=r.split("/",2),l=a[0];if(a.length>1){var c=this.parseRuleCodes(a[1]);"NEEDAFFIX"in this.flags&&c.indexOf(this.flags.NEEDAFFIX)!=-1||t(l,c);for(var u=0,d=c.length;u<d;u++){var h=c[u],p=this.rules[h];if(p)for(var f=this._applyRule(l,p),m=0,v=f.length;m<v;m++){var g=f[m];if(t(g,[]),p.combineable)for(var b=u+1;b<d;b++){var y=c[b],w=this.rules[y];if(w&&w.combineable&&p.type!=w.type)for(var x=this._applyRule(g,w),_=0,k=x.length;_<k;_++){var S=x[_];t(S,[])}}}h in this.compoundRuleCodes&&this.compoundRuleCodes[h].push(l)}}else t(l.trim(),[])}return i},_removeDicComments:function(e){return e=e.replace(/^\t.*$/gm,"")},parseRuleCodes:function(e){if(!e)return[];if(!("FLAG"in this.flags))return e.split("");if("long"===this.flags.FLAG){for(var t=[],n=0,i=e.length;n<i;n+=2)t.push(e.substr(n,2));return t}return"num"===this.flags.FLAG?e.split(","):void 0},_applyRule:function(e,t){for(var n=t.entries,i=[],s=0,o=n.length;s<o;s++){var r=n[s];if(!r.match||e.match(r.match)){var a=e;
if(r.remove&&(a=a.replace(r.remove,"")),"SFX"===t.type?a+=r.add:a=r.add+a,i.push(a),"continuationClasses"in r)for(var l=0,c=r.continuationClasses.length;l<c;l++){var u=this.rules[r.continuationClasses[l]];u&&(i=i.concat(this._applyRule(a,u)))}}}return i},check:function(e){if(!this.loaded)throw"Dictionary not loaded.";var t=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(t))return!0;if(t.toUpperCase()===t){var n=t[0]+t.substring(1).toLowerCase();if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}var i=t.toLowerCase();if(i!==t){if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}return!1},checkExact:function(e){if(!this.loaded)throw"Dictionary not loaded.";var t,n,i=this.dictionaryTable[e];if("undefined"==typeof i){if("COMPOUNDMIN"in this.flags&&e.length>=this.flags.COMPOUNDMIN)for(t=0,n=this.compoundRules.length;t<n;t++)if(e.match(this.compoundRules[t]))return!0}else{if(null===i)return!0;if("object"==typeof i)for(t=0,n=i.length;t<n;t++)if(!this.hasFlag(e,"ONLYINCOMPOUND",i[t]))return!0}return!1},hasFlag:function(e,t,n){if(!this.loaded)throw"Dictionary not loaded.";return!!(t in this.flags&&("undefined"==typeof n&&(n=Array.prototype.concat.apply([],this.dictionaryTable[e])),n&&n.indexOf(this.flags[t])!==-1))},alphabet:"",suggest:function(e,t){function n(e){var t,n,i,s,o,r,a=[];for(t=0,s=e.length;t<s;t++){var l=e[t];for(n=0,o=l.length+1;n<o;n++){var c=[l.substring(0,n),l.substring(n)];if(c[1]&&a.push(c[0]+c[1].substring(1)),c[1].length>1&&c[1][1]!==c[1][0]&&a.push(c[0]+c[1][1]+c[1][0]+c[1].substring(2)),c[1])for(i=0,r=u.alphabet.length;i<r;i++)u.alphabet[i]!=c[1].substring(0,1)&&a.push(c[0]+u.alphabet[i]+c[1].substring(1));if(c[1])for(i=0,r=u.alphabet.length;i<r;i++)a.push(c[0]+u.alphabet[i]+c[1])}}return a}function i(e){for(var t=[],n=0,i=e.length;n<i;n++)u.check(e[n])&&t.push(e[n]);return t}function s(e){function s(e,t){return e[1]<t[1]?-1:1}var o,r,a=n([e]),l=n(a),c=i(a.concat(l)),d={};for(o=0,r=c.length;o<r;o++)c[o]in d?d[c[o]]+=1:d[c[o]]=1;var h=[];for(o in d)d.hasOwnProperty(o)&&h.push([o,d[o]]);h.sort(s).reverse();var p=[],f="lowercase";for(e.toUpperCase()===e?f="uppercase":e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase()===e&&(f="capitalized"),o=0,r=Math.min(t,h.length);o<r;o++)"uppercase"===f?h[o][0]=h[o][0].toUpperCase():"capitalized"===f&&(h[o][0]=h[o][0].substr(0,1).toUpperCase()+h[o][0].substr(1)),u.hasFlag(h[o][0],"NOSUGGEST")||p.push(h[o][0]);return p}if(!this.loaded)throw"Dictionary not loaded.";if(t=t||5,this.memoized.hasOwnProperty(e)){var o=this.memoized[e].limit;if(t<=o||this.memoized[e].suggestions.length<o)return this.memoized[e].suggestions.slice(0,t)}if(this.check(e))return[];for(var r=0,a=this.replacementTable.length;r<a;r++){var l=this.replacementTable[r];if(e.indexOf(l[0])!==-1){var c=e.replace(l[0],l[1]);if(this.check(c))return[c]}}var u=this;return u.alphabet="abcdefghijklmnopqrstuvwxyz",this.memoized[e]={suggestions:s(e),limit:t},this.memoized[e].suggestions}}}(),"undefined"!=typeof t&&(t.exports=s)}).call(this,e("buffer").Buffer,"/../../../var/node_modules/simplemde/node_modules/codemirror-spell-checker/node_modules/typo-js")},{buffer:542,fs:541}],608:[function(e,t,n){"use strict";function i(e){return e=e||{},"function"!=typeof e.codeMirrorInstance||"function"!=typeof e.codeMirrorInstance.defineMode?void console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`"):(String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),void e.codeMirrorInstance.defineMode("spell-checker",function(t){if(!i.aff_loading){i.aff_loading=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),n.onload=function(){4===n.readyState&&200===n.status&&(i.aff_data=n.responseText,i.num_loaded++,2==i.num_loaded&&(i.typo=new s("en_US",i.aff_data,i.dic_data,{platform:"any"})))},n.send(null)}if(!i.dic_loading){i.dic_loading=!0;var o=new XMLHttpRequest;o.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),o.onload=function(){4===o.readyState&&200===o.status&&(i.dic_data=o.responseText,i.num_loaded++,2==i.num_loaded&&(i.typo=new s("en_US",i.aff_data,i.dic_data,{platform:"any"})))},o.send(null)}var r='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',a={token:function(e){var t=e.peek(),n="";if(r.includes(t))return e.next(),null;for(;null!=(t=e.peek())&&!r.includes(t);)n+=t,e.next();return i.typo&&!i.typo.check(n)?"spell-error":null}},l=e.codeMirrorInstance.getMode(t,t.backdrop||"text/plain");return e.codeMirrorInstance.overlayMode(l,a,!0)}))}var s=e("typo-js");i.num_loaded=0,i.aff_loading=!1,i.dic_loading=!1,i.aff_data="",i.dic_data="",i.typo,t.exports=i},{"typo-js":607}],609:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";function t(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height},t.style.width="",t.style.height="auto",t.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",e.refresh()}function n(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var n=e.state.fullScreenRestore;t.style.width=n.width,t.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),e.refresh()}e.defineOption("fullScreen",!1,function(i,s,o){o==e.Init&&(o=!1),!o!=!s&&(s?t(i):n(i))})})},{"../../lib/codemirror":614}],610:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function n(e){t(e);var n=e.state.placeholder=document.createElement("pre");n.style.cssText="height: 0; overflow: visible",n.className="CodeMirror-placeholder";var i=e.getOption("placeholder");"string"==typeof i&&(i=document.createTextNode(i)),n.appendChild(i),e.display.lineSpace.insertBefore(n,e.display.lineSpace.firstChild)}function i(e){o(e)&&n(e)}function s(e){var i=e.getWrapperElement(),s=o(e);i.className=i.className.replace(" CodeMirror-empty","")+(s?" CodeMirror-empty":""),s?n(e):t(e)}function o(e){return 1===e.lineCount()&&""===e.getLine(0)}e.defineOption("placeholder","",function(n,o,r){var a=r&&r!=e.Init;if(o&&!a)n.on("blur",i),n.on("change",s),n.on("swapDoc",s),s(n);else if(!o&&a){n.off("blur",i),n.off("change",s),n.off("swapDoc",s),t(n);var l=n.getWrapperElement();l.className=l.className.replace(" CodeMirror-empty","")}o&&!n.hasFocus()&&i(n)})})},{"../../lib/codemirror":614}],611:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";var t=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,n=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,i=/[*+-]\s/;e.commands.newlineAndIndentContinueMarkdownList=function(s){if(s.getOption("disableInput"))return e.Pass;for(var o=s.listSelections(),r=[],a=0;a<o.length;a++){var l=o[a].head,c=s.getStateAfter(l.line),u=c.list!==!1,d=0!==c.quote,h=s.getLine(l.line),p=t.exec(h);if(!o[a].empty()||!u&&!d||!p)return void s.execCommand("newlineAndIndent");if(n.test(h))/>\s*$/.test(h)||s.replaceRange("",{line:l.line,ch:0},{line:l.line,ch:l.ch+1}),r[a]="\n";else{var f=p[1],m=p[5],v=i.test(p[2])||p[2].indexOf(">")>=0?p[2].replace("x"," "):parseInt(p[3],10)+1+p[4];r[a]="\n"+f+v+m}}s.replaceSelections(r)}})},{"../../lib/codemirror":614}],612:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";e.overlayMode=function(t,n,i){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(i){return{base:e.copyState(t,i.base),overlay:e.copyState(n,i.overlay),basePos:i.basePos,baseCur:null,overlayPos:i.overlayPos,overlayCur:null}},token:function(e,s){return(e!=s.streamSeen||Math.min(s.basePos,s.overlayPos)<e.start)&&(s.streamSeen=e,s.basePos=s.overlayPos=e.start),e.start==s.basePos&&(s.baseCur=t.token(e,s.base),s.basePos=e.pos),e.start==s.overlayPos&&(e.pos=e.start,s.overlayCur=n.token(e,s.overlay),s.overlayPos=e.pos),e.pos=Math.min(s.basePos,s.overlayPos),null==s.overlayCur?s.baseCur:null!=s.baseCur&&s.overlay.combineTokens||i&&null==s.overlay.combineTokens?s.baseCur+" "+s.overlayCur:s.overlayCur},indent:t.indent&&function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){var s,o;return t.blankLine&&(s=t.blankLine(e.base)),n.blankLine&&(o=n.blankLine(e.overlay)),null==o?s:i&&null!=s?s+" "+o:o}}}})},{"../../lib/codemirror":614}],613:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";function t(e){e.state.markedSelection&&e.operation(function(){r(e)})}function n(e){e.state.markedSelection&&e.state.markedSelection.length&&e.operation(function(){s(e)})}function i(e,t,n,i){if(0!=c(t,n))for(var s=e.state.markedSelection,o=e.state.markedSelectionStyle,r=t.line;;){var u=r==t.line?t:l(r,0),d=r+a,h=d>=n.line,p=h?n:l(d,0),f=e.markText(u,p,{className:o});if(null==i?s.push(f):s.splice(i++,0,f),h)break;r=d}}function s(e){for(var t=e.state.markedSelection,n=0;n<t.length;++n)t[n].clear();t.length=0}function o(e){s(e);for(var t=e.listSelections(),n=0;n<t.length;n++)i(e,t[n].from(),t[n].to())}function r(e){if(!e.somethingSelected())return s(e);if(e.listSelections().length>1)return o(e);var t=e.getCursor("start"),n=e.getCursor("end"),r=e.state.markedSelection;if(!r.length)return i(e,t,n);var l=r[0].find(),u=r[r.length-1].find();if(!l||!u||n.line-t.line<=a||c(t,u.to)>=0||c(n,l.from)<=0)return o(e);for(;c(t,l.from)>0;)r.shift().clear(),l=r[0].find();for(c(t,l.from)<0&&(l.to.line-t.line<a?(r.shift().clear(),i(e,t,l.to,0)):i(e,t,l.from,0));c(n,u.to)<0;)r.pop().clear(),u=r[r.length-1].find();c(n,u.to)>0&&(n.line-u.from.line<a?(r.pop().clear(),i(e,u.from,n)):i(e,u.to,n))}e.defineOption("styleSelectedText",!1,function(i,r,a){var l=a&&a!=e.Init;r&&!l?(i.state.markedSelection=[],i.state.markedSelectionStyle="string"==typeof r?r:"CodeMirror-selectedtext",o(i),i.on("cursorActivity",t),i.on("change",n)):!r&&l&&(i.off("cursorActivity",t),i.off("change",n),s(i),i.state.markedSelection=i.state.markedSelectionStyle=null)});var a=8,l=e.Pos,c=e.cmpPos})},{"../../lib/codemirror":614}],614:[function(e,t,n){!function(e,i){"object"==typeof n&&"undefined"!=typeof t?t.exports=i():"function"==typeof define&&define.amd?define(i):e.CodeMirror=i()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function n(e,n){return t(e).appendChild(n)}function i(e,t,n,i){var s=document.createElement(e);if(n&&(s.className=n),i&&(s.style.cssText=i),"string"==typeof t)s.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)s.appendChild(t[o]);return s}function s(e,t,n,s){var o=i(e,t,n,s);return o.setAttribute("role","presentation"),o}function o(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function r(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function a(t,n){var i=t.className;e(n).test(i)||(t.className+=(i?" ":"")+n)}function l(t,n){for(var i=t.split(" "),s=0;s<i.length;s++)i[s]&&!e(i[s]).test(n)&&(n+=" "+i[s]);return n}function c(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function u(e,t,n){t||(t={});for(var i in e)!e.hasOwnProperty(i)||n===!1&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function d(e,t,n,i,s){null==t&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var o=i||0,r=s||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return r+(t-o);r+=a-o,r+=n-r%n,o=a+1}}function h(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function p(e,t,n){for(var i=0,s=0;;){var o=e.indexOf("\t",i);o==-1&&(o=e.length);var r=o-i;if(o==e.length||s+r>=t)return i+Math.min(r,t-s);if(s+=o-i,s+=n-s%n,i=o+1,s>=t)return i}}function f(e){for(;Gr.length<=e;)Gr.push(m(Gr)+" ");return Gr[e]}function m(e){return e[e.length-1]}function v(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function g(e,t,n){for(var i=0,s=n(t);i<e.length&&n(e[i])<=s;)i++;e.splice(i,0,t)}function b(){}function y(e,t){var n;return Object.create?n=Object.create(e):(b.prototype=e,n=new b),t&&u(t,n),n}function w(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Kr.test(e))}function x(e,t){return t?!!(t.source.indexOf("\\w")>-1&&w(e))||t.test(e):w(e)}function _(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function k(e){return e.charCodeAt(0)>=768&&Xr.test(e)}function S(e,t,n){for(;(n<0?t>0:t<e.length)&&k(e.charAt(t));)t+=n;return t}function C(e,t,n){for(var i=t>n?-1:1;;){if(t==n)return t;var s=(t+n)/2,o=i<0?Math.ceil(s):Math.floor(s);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+i}}function j(e,t,n){var o=this;this.input=n,o.scrollbarFiller=i("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=i("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=s("div",null,"CodeMirror-code"),o.selectionDiv=i("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=i("div",null,"CodeMirror-cursors"),o.measure=i("div",null,"CodeMirror-measure"),o.lineMeasure=i("div",null,"CodeMirror-measure"),o.lineSpace=s("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var r=s("div",[o.lineSpace],"CodeMirror-lines");o.mover=i("div",[r],null,"position: relative"),o.sizer=i("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=i("div",null,null,"position: absolute; height: "+Vr+"px; width: 1px;"),o.gutters=i("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=i("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=i("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),yr&&wr<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),xr||mr&&Pr||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,n.init(o)}function T(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var s=n.children[i],o=s.chunkSize();if(t<o){n=s;break}t-=o}return n.lines[t]}function E(e,t,n){var i=[],s=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;s==n.line&&(o=o.slice(0,n.ch)),s==t.line&&(o=o.slice(t.ch)),i.push(o),++s}),i}function A(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function P(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function $(e){if(null==e.parent)return null;for(var t=e.parent,n=h(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var s=0;i.children[s]!=t;++s)n+=i.children[s].chunkSize();return n+t.first}function L(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var s=e.children[i],o=s.height;if(t<o){e=s;continue e}t-=o,n+=s.chunkSize()}return n}while(!e.lines);for(var r=0;r<e.lines.length;++r){var a=e.lines[r],l=a.height;if(t<l)break;t-=l}return n+r}function R(e,t){return t>=e.first&&t<e.first+e.size}function D(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function N(e,t,n){return void 0===n&&(n=null),this instanceof N?(this.line=e,this.ch=t,void(this.sticky=n)):new N(e,t,n)}function O(e,t){return e.line-t.line||e.ch-t.ch}function M(e,t){return e.sticky==t.sticky&&0==O(e,t)}function I(e){return N(e.line,e.ch)}function B(e,t){return O(e,t)<0?t:e}function F(e,t){return O(e,t)<0?e:t}function U(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function z(e,t){if(t.line<e.first)return N(e.first,0);var n=e.first+e.size-1;return t.line>n?N(n,T(e,n).text.length):V(t,T(e,t.line).text.length)}function V(e,t){var n=e.ch;return null==n||n>t?N(e.line,t):n<0?N(e.line,0):e}function H(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=z(e,t[i]);return n}function W(){Jr=!0}function q(){Zr=!0}function Y(e,t,n){this.marker=e,this.from=t,this.to=n}function G(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function K(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function X(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function J(e,t,n){var i;if(e)for(var s=0;s<e.length;++s){var o=e[s],r=o.marker,a=null==o.from||(r.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&"bookmark"==r.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(r.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new Y(r,o.from,l?null:o.to))}}return i}function Z(e,t,n){var i;if(e)for(var s=0;s<e.length;++s){var o=e[s],r=o.marker,a=null==o.to||(r.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&"bookmark"==r.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(r.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new Y(r,l?null:o.from-t,null==o.to?null:o.to-t))}}return i}function Q(e,t){if(t.full)return null;var n=R(e,t.from.line)&&T(e,t.from.line).markedSpans,i=R(e,t.to.line)&&T(e,t.to.line).markedSpans;if(!n&&!i)return null;var s=t.from.ch,o=t.to.ch,r=0==O(t.from,t.to),a=J(n,s,r),l=Z(i,o,r),c=1==t.text.length,u=m(t.text).length+(c?s:0);if(a)for(var d=0;d<a.length;++d){var h=a[d];if(null==h.to){var p=G(l,h.marker);p?c&&(h.to=null==p.to?null:p.to+u):h.to=s}}if(l)for(var f=0;f<l.length;++f){var v=l[f];if(null!=v.to&&(v.to+=u),null==v.from){var g=G(a,v.marker);g||(v.from=u,c&&(a||(a=[])).push(v))}else v.from+=u,c&&(a||(a=[])).push(v)}a&&(a=ee(a)),l&&l!=a&&(l=ee(l));var b=[a];if(!c){var y,w=t.text.length-2;if(w>0&&a)for(var x=0;x<a.length;++x)null==a[x].to&&(y||(y=[])).push(new Y(a[x].marker,null,null));for(var _=0;_<w;++_)b.push(y);b.push(l)}return b}function ee(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function te(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&h(i,n)!=-1||(i||(i=[])).push(n)}}),!i)return null;for(var s=[{from:t,to:n}],o=0;o<i.length;++o)for(var r=i[o],a=r.find(0),l=0;l<s.length;++l){var c=s[l];if(!(O(c.to,a.from)<0||O(c.from,a.to)>0)){var u=[l,1],d=O(c.from,a.from),p=O(c.to,a.to);(d<0||!r.inclusiveLeft&&!d)&&u.push({from:c.from,to:a.from}),(p>0||!r.inclusiveRight&&!p)&&u.push({from:a.to,to:c.to}),s.splice.apply(s,u),l+=u.length-3}}return s}function ne(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function ie(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function se(e){return e.inclusiveLeft?-1:0}function oe(e){return e.inclusiveRight?1:0}function re(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),s=t.find(),o=O(i.from,s.from)||se(e)-se(t);if(o)return-o;var r=O(i.to,s.to)||oe(e)-oe(t);return r?r:t.id-e.id}function ae(e,t){var n,i=Zr&&e.markedSpans;if(i)for(var s=void 0,o=0;o<i.length;++o)s=i[o],s.marker.collapsed&&null==(t?s.from:s.to)&&(!n||re(n,s.marker)<0)&&(n=s.marker);return n}function le(e){return ae(e,!0)}function ce(e){return ae(e,!1)}function ue(e,t,n,i,s){var o=T(e,t),r=Zr&&o.markedSpans;if(r)for(var a=0;a<r.length;++a){var l=r[a];if(l.marker.collapsed){var c=l.marker.find(0),u=O(c.from,n)||se(l.marker)-se(s),d=O(c.to,i)||oe(l.marker)-oe(s);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&s.inclusiveLeft?O(c.to,n)>=0:O(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&s.inclusiveLeft?O(c.from,i)<=0:O(c.from,i)<0)))return!0}}}function de(e){for(var t;t=le(e);)e=t.find(-1,!0).line;return e}function he(e){for(var t;t=ce(e);)e=t.find(1,!0).line;return e}function pe(e){for(var t,n;t=ce(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function fe(e,t){var n=T(e,t),i=de(n);return n==i?t:$(i)}function me(e,t){if(t>e.lastLine())return t;var n,i=T(e,t);if(!ve(e,i))return t;for(;n=ce(i);)i=n.find(1,!0).line;return $(i)+1}function ve(e,t){var n=Zr&&t.markedSpans;if(n)for(var i=void 0,s=0;s<n.length;++s)if(i=n[s],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&ge(e,t,i))return!0}}function ge(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return ge(e,i.line,G(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var s=void 0,o=0;o<t.markedSpans.length;++o)if(s=t.markedSpans[o],s.marker.collapsed&&!s.marker.widgetNode&&s.from==n.to&&(null==s.to||s.to!=n.from)&&(s.marker.inclusiveLeft||n.marker.inclusiveRight)&&ge(e,t,s))return!0}function be(e){e=de(e);for(var t=0,n=e.parent,i=0;i<n.lines.length;++i){var s=n.lines[i];if(s==e)break;t+=s.height}for(var o=n.parent;o;n=o,o=n.parent)for(var r=0;r<o.children.length;++r){var a=o.children[r];if(a==n)break;t+=a.height}return t}function ye(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=le(i);){var s=t.find(0,!0);i=s.from.line,n+=s.from.ch-s.to.ch}for(i=e;t=ce(i);){var o=t.find(0,!0);n-=i.text.length-o.from.ch,i=o.to.line,n+=i.text.length-o.to.ch}return n}function we(e){var t=e.display,n=e.doc;t.maxLine=T(n,n.first),t.maxLineLength=ye(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=ye(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function xe(e,t,n,i){if(!e)return i(t,n,"ltr",0);for(var s=!1,o=0;o<e.length;++o){var r=e[o];(r.from<n&&r.to>t||t==n&&r.to==t)&&(i(Math.max(r.from,t),Math.min(r.to,n),1==r.level?"rtl":"ltr",o),s=!0)}s||i(t,n,"ltr")}function _e(e,t,n){var i;Qr=null;for(var s=0;s<e.length;++s){var o=e[s];if(o.from<t&&o.to>t)return s;o.to==t&&(o.from!=o.to&&"before"==n?i=s:Qr=s),o.from==t&&(o.from!=o.to&&"before"!=n?i=s:Qr=s)}return null!=i?i:Qr}function ke(e,t){var n=e.order;return null==n&&(n=e.order=ea(e.text,t)),n}function Se(e,t){return e._handlers&&e._handlers[t]||ta}function Ce(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=e._handlers,s=i&&i[t];if(s){var o=h(s,n);o>-1&&(i[t]=s.slice(0,o).concat(s.slice(o+1)))}}}function je(e,t){var n=Se(e,t);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),s=0;s<n.length;++s)n[s].apply(null,i)}function Te(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),je(e,n||t.type,e,t),Re(t)||t.codemirrorIgnore}function Ee(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)h(n,t[i])==-1&&n.push(t[i])}function Ae(e,t){return Se(e,t).length>0}function Pe(e){e.prototype.on=function(e,t){na(this,e,t)},e.prototype.off=function(e,t){Ce(this,e,t)}}function $e(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Le(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Re(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function De(e){$e(e),Le(e)}function Ne(e){return e.target||e.srcElement}function Oe(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),$r&&e.ctrlKey&&1==t&&(t=3),t}function Me(e){if(null==Ur){var t=i("span","​");n(e,i("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ur=t.offsetWidth<=1&&t.offsetHeight>2&&!(yr&&wr<8))}var s=Ur?i("span","​"):i("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return s.setAttribute("cm-text",""),s}function Ie(e){if(null!=zr)return zr;var i=n(e,document.createTextNode("AخA")),s=Nr(i,0,1).getBoundingClientRect(),o=Nr(i,1,2).getBoundingClientRect();return t(e),!(!s||s.left==s.right)&&(zr=o.right-s.right<3)}function Be(e){if(null!=aa)return aa;var t=n(e,i("span","x")),s=t.getBoundingClientRect(),o=Nr(t,0,1).getBoundingClientRect();return aa=Math.abs(s.left-o.left)>1}function Fe(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),la[e]=t}function Ue(e,t){ca[e]=t}function ze(e){if("string"==typeof e&&ca.hasOwnProperty(e))e=ca[e];else if(e&&"string"==typeof e.name&&ca.hasOwnProperty(e.name)){var t=ca[e.name];"string"==typeof t&&(t={name:t}),e=y(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return ze("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return ze("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ve(e,t){t=ze(t);var n=la[t.name];if(!n)return Ve(e,"text/plain");var i=n(e,t);if(ua.hasOwnProperty(t.name)){var s=ua[t.name];for(var o in s)s.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=s[o])}if(i.name=t.name,t.helperType&&(i.helperType=t.helperType),t.modeProps)for(var r in t.modeProps)i[r]=t.modeProps[r];return i}function He(e,t){var n=ua.hasOwnProperty(e)?ua[e]:ua[e]={};u(t,n)}function We(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var s=t[i];s instanceof Array&&(s=s.concat([])),n[i]=s}return n}function qe(e,t){for(var n;e.innerMode&&(n=e.innerMode(t),n&&n.mode!=e);)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ye(e,t,n){return!e.startState||e.startState(t,n)}function Ge(e,t,n,i){var s=[e.state.modeGen],o={};nt(e,t.text,e.doc.mode,n,function(e,t){return s.push(e,t)},o,i);for(var r=n.state,a=function(i){var r=e.state.overlays[i],a=1,l=0;n.state=!0,nt(e,t.text,r.mode,n,function(e,t){for(var n=a;l<e;){var i=s[a];i>e&&s.splice(a,1,e,s[a+1],i),a+=2,l=Math.min(e,i)}if(t)if(r.opaque)s.splice(n,a-n,e,"overlay "+t),a=n+2;else for(;n<a;n+=2){var o=s[n+1];s[n+1]=(o?o+" ":"")+"overlay "+t}},o)},l=0;l<e.state.overlays.length;++l)a(l);return n.state=r,{styles:s,classes:o.bgClass||o.textClass?o:null}}function Ke(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=Xe(e,$(t)),s=t.text.length>e.options.maxHighlightLength&&We(e.doc.mode,i.state),o=Ge(e,t,i);s&&(i.state=s),t.stateAfter=i.save(!s),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Xe(e,t,n){var i=e.doc,s=e.display;if(!i.mode.startState)return new pa(i,(!0),t);var o=it(e,t,n),r=o>i.first&&T(i,o-1).stateAfter,a=r?pa.fromSaved(i,r,o):new pa(i,Ye(i.mode),o);return i.iter(o,t,function(n){Je(e,n.text,a);var i=a.line;n.stateAfter=i==t-1||i%5==0||i>=s.viewFrom&&i<s.viewTo?a.save():null,a.nextLine()}),n&&(i.modeFrontier=a.line),a}function Je(e,t,n,i){var s=e.doc.mode,o=new da(t,e.options.tabSize,n);for(o.start=o.pos=i||0,""==t&&Ze(s,n.state);!o.eol();)Qe(s,o,n.state),o.start=o.pos}function Ze(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=qe(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Qe(e,t,n,i){for(var s=0;s<10;s++){i&&(i[0]=qe(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function et(e,t,n,i){var s,o=e.doc,r=o.mode;t=z(o,t);var a,l=T(o,t.line),c=Xe(e,t.line,n),u=new da(l.text,e.options.tabSize,c);for(i&&(a=[]);(i||u.pos<t.ch)&&!u.eol();)u.start=u.pos,s=Qe(r,u,c.state),i&&a.push(new fa(u,s,We(o.mode,c.state)));return i?a:new fa(u,s,c.state)}function tt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function nt(e,t,n,i,s,o,r){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,d=new da(t,e.options.tabSize,i),h=e.options.addModeClass&&[null];for(""==t&&tt(Ze(n,i.state),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(a=!1,r&&Je(e,t,i,d.pos),d.pos=t.length,l=null):l=tt(Qe(n,d,i.state,h),o),h){var p=h[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||u!=l){for(;c<d.start;)c=Math.min(d.start,c+5e3),s(c,u);u=l}d.start=d.pos}for(;c<d.pos;){var f=Math.min(d.pos,c+5e3);s(f,u),c=f}}function it(e,t,n){for(var i,s,o=e.doc,r=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>r;--a){if(a<=o.first)return o.first;var l=T(o,a-1),c=l.stateAfter;if(c&&(!n||a+(c instanceof ha?c.lookAhead:0)<=o.modeFrontier))return a;var u=d(l.text,null,e.options.tabSize);(null==s||i>u)&&(s=a-1,i=u)}return s}function st(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,i=t-1;i>n;i--){var s=T(e,i).stateAfter;if(s&&(!(s instanceof ha)||i+s.lookAhead<t)){n=i+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}function ot(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ne(e),ie(e,n);var s=i?i(e):1;s!=e.height&&P(e,s)}function rt(e){e.parent=null,ne(e)}function at(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ba:ga;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function lt(e,t){var n=s("span",null,null,xr?"padding-right: .1px":null),i={pre:s("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(yr||xr)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var r=o?t.rest[o-1]:t.line,a=void 0;i.pos=0,i.addToken=ut,Ie(e.display.measure)&&(a=ke(r,e.doc.direction))&&(i.addToken=ht(i.addToken,a)),i.map=[];var c=t!=e.display.externalMeasured&&$(r);ft(r,i,Ke(e,r,c)),r.styleClasses&&(r.styleClasses.bgClass&&(i.bgClass=l(r.styleClasses.bgClass,i.bgClass||"")),r.styleClasses.textClass&&(i.textClass=l(r.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Me(e.display.measure))),0==o?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(xr){var u=i.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return je(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=l(i.pre.className,i.textClass||"")),i}function ct(e){var t=i("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ut(e,t,n,s,o,r,a){if(t){var l,c=e.splitSpaces?dt(t,e.trailingSpace):t,u=e.cm.state.specialChars,d=!1;if(u.test(t)){l=document.createDocumentFragment();for(var h=0;;){u.lastIndex=h;var p=u.exec(t),m=p?p.index-h:t.length-h;if(m){var v=document.createTextNode(c.slice(h,h+m));yr&&wr<9?l.appendChild(i("span",[v])):l.appendChild(v),e.map.push(e.pos,e.pos+m,v),
e.col+=m,e.pos+=m}if(!p)break;h+=m+1;var g=void 0;if("\t"==p[0]){var b=e.cm.options.tabSize,y=b-e.col%b;g=l.appendChild(i("span",f(y),"cm-tab")),g.setAttribute("role","presentation"),g.setAttribute("cm-text","\t"),e.col+=y}else"\r"==p[0]||"\n"==p[0]?(g=l.appendChild(i("span","\r"==p[0]?"␍":"␤","cm-invalidchar")),g.setAttribute("cm-text",p[0]),e.col+=1):(g=e.cm.options.specialCharPlaceholder(p[0]),g.setAttribute("cm-text",p[0]),yr&&wr<9?l.appendChild(i("span",[g])):l.appendChild(g),e.col+=1);e.map.push(e.pos,e.pos+1,g),e.pos++}}else e.col+=t.length,l=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,l),yr&&wr<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||s||o||d||a){var w=n||"";s&&(w+=s),o&&(w+=o);var x=i("span",[l],w,a);return r&&(x.title=r),e.content.appendChild(x)}e.content.appendChild(l)}}function dt(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,i="",s=0;s<e.length;s++){var o=e.charAt(s);" "!=o||!n||s!=e.length-1&&32!=e.charCodeAt(s+1)||(o=" "),i+=o,n=" "==o}return i}function ht(e,t){return function(n,i,s,o,r,a,l){s=s?s+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var d=void 0,h=0;h<t.length&&(d=t[h],!(d.to>c&&d.from<=c));h++);if(d.to>=u)return e(n,i,s,o,r,a,l);e(n,i.slice(0,d.to-c),s,o,null,a,l),o=null,i=i.slice(d.to-c),c=d.to}}}function pt(e,t,n,i){var s=!i&&n.widgetNode;s&&e.map.push(e.pos,e.pos+t,s),!i&&e.cm.display.input.needsContentAttribute&&(s||(s=e.content.appendChild(document.createElement("span"))),s.setAttribute("cm-marker",n.id)),s&&(e.cm.display.input.setUneditable(s),e.content.appendChild(s)),e.pos+=t,e.trailingSpace=!1}function ft(e,t,n){var i=e.markedSpans,s=e.text,o=0;if(i)for(var r,a,l,c,u,d,h,p=s.length,f=0,m=1,v="",g=0;;){if(g==f){l=c=u=d=a="",h=null,g=1/0;for(var b=[],y=void 0,w=0;w<i.length;++w){var x=i[w],_=x.marker;"bookmark"==_.type&&x.from==f&&_.widgetNode?b.push(_):x.from<=f&&(null==x.to||x.to>f||_.collapsed&&x.to==f&&x.from==f)?(null!=x.to&&x.to!=f&&g>x.to&&(g=x.to,c=""),_.className&&(l+=" "+_.className),_.css&&(a=(a?a+";":"")+_.css),_.startStyle&&x.from==f&&(u+=" "+_.startStyle),_.endStyle&&x.to==g&&(y||(y=[])).push(_.endStyle,x.to),_.title&&!d&&(d=_.title),_.collapsed&&(!h||re(h.marker,_)<0)&&(h=x)):x.from>f&&g>x.from&&(g=x.from)}if(y)for(var k=0;k<y.length;k+=2)y[k+1]==g&&(c+=" "+y[k]);if(!h||h.from==f)for(var S=0;S<b.length;++S)pt(t,0,b[S]);if(h&&(h.from||0)==f){if(pt(t,(null==h.to?p+1:h.to)-f,h.marker,null==h.from),null==h.to)return;h.to==f&&(h=!1)}}if(f>=p)break;for(var C=Math.min(p,g);;){if(v){var j=f+v.length;if(!h){var T=j>C?v.slice(0,C-f):v;t.addToken(t,T,r?r+l:l,u,f+T.length==g?c:"",d,a)}if(j>=C){v=v.slice(C-f),f=C;break}f=j,u=""}v=s.slice(o,o=n[m++]),r=at(n[m++],t.cm.options)}}else for(var E=1;E<n.length;E+=2)t.addToken(t,s.slice(o,o=n[E]),at(n[E+1],t.cm.options))}function mt(e,t,n){this.line=t,this.rest=pe(t),this.size=this.rest?$(m(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ve(e,t)}function vt(e,t,n){for(var i,s=[],o=t;o<n;o=i){var r=new mt(e.doc,T(e.doc,o),o);i=o+r.size,s.push(r)}return s}function gt(e){ya?ya.ops.push(e):e.ownsGroup=ya={ops:[e],delayedCallbacks:[]}}function bt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var s=e.ops[i];if(s.cursorActivityHandlers)for(;s.cursorActivityCalled<s.cursorActivityHandlers.length;)s.cursorActivityHandlers[s.cursorActivityCalled++].call(null,s.cm)}}while(n<t.length)}function yt(e,t){var n=e.ownsGroup;if(n)try{bt(n)}finally{ya=null,t(n)}}function wt(e,t){var n=Se(e,t);if(n.length){var i,s=Array.prototype.slice.call(arguments,2);ya?i=ya.delayedCallbacks:wa?i=wa:(i=wa=[],setTimeout(xt,0));for(var o=function(e){i.push(function(){return n[e].apply(null,s)})},r=0;r<n.length;++r)o(r)}}function xt(){var e=wa;wa=null;for(var t=0;t<e.length;++t)e[t]()}function _t(e,t,n,i){for(var s=0;s<t.changes.length;s++){var o=t.changes[s];"text"==o?jt(e,t):"gutter"==o?Et(e,t,n,i):"class"==o?Tt(e,t):"widget"==o&&At(e,t,i)}t.changes=null}function kt(e){return e.node==e.text&&(e.node=i("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),yr&&wr<8&&(e.node.style.zIndex=2)),e.node}function St(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var s=kt(t);t.background=s.insertBefore(i("div",null,n),s.firstChild),e.display.input.setUneditable(t.background)}}function Ct(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):lt(e,t)}function jt(e,t){var n=t.text.className,i=Ct(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,Tt(e,t)):n&&(t.text.className=n)}function Tt(e,t){St(e,t),t.line.wrapClass?kt(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Et(e,t,n,s){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=kt(t);t.gutterBackground=i("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?s.fixedPos:-s.gutterTotalWidth)+"px; width: "+s.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var r=t.line.gutterMarkers;if(e.options.lineNumbers||r){var a=kt(t),l=t.gutter=i("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?s.fixedPos:-s.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),a.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(i("div",D(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+s.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),r)for(var c=0;c<e.options.gutters.length;++c){var u=e.options.gutters[c],d=r.hasOwnProperty(u)&&r[u];d&&l.appendChild(i("div",[d],"CodeMirror-gutter-elt","left: "+s.gutterLeft[u]+"px; width: "+s.gutterWidth[u]+"px"))}}}function At(e,t,n){t.alignable&&(t.alignable=null);for(var i=t.node.firstChild,s=void 0;i;i=s)s=i.nextSibling,"CodeMirror-linewidget"==i.className&&t.node.removeChild(i);$t(e,t,n)}function Pt(e,t,n,i){var s=Ct(e,t);return t.text=t.node=s.pre,s.bgClass&&(t.bgClass=s.bgClass),s.textClass&&(t.textClass=s.textClass),Tt(e,t),Et(e,t,n,i),$t(e,t,i),t.node}function $t(e,t,n){if(Lt(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)Lt(e,t.rest[i],t,n,!1)}function Lt(e,t,n,s,o){if(t.widgets)for(var r=kt(n),a=0,l=t.widgets;a<l.length;++a){var c=l[a],u=i("div",[c.node],"CodeMirror-linewidget");c.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),Rt(c,u,n,s),e.display.input.setUneditable(u),o&&c.above?r.insertBefore(u,n.gutter||n.text):r.appendChild(u),wt(c,"redraw")}}function Rt(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var s=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(s-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=s+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function Dt(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!o(document.body,e.node)){var s="position: relative;";e.coverGutter&&(s+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(s+="width: "+t.display.wrapper.clientWidth+"px;"),n(t.display.measure,i("div",[e.node],null,s))}return e.height=e.node.parentNode.offsetHeight}function Nt(e,t){for(var n=Ne(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Ot(e){return e.lineSpace.offsetTop}function Mt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function It(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=n(e.measure,i("pre","x")),s=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(s.paddingLeft),right:parseInt(s.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function Bt(e){return Vr-e.display.nativeBarWidth}function Ft(e){return e.display.scroller.clientWidth-Bt(e)-e.display.barWidth}function Ut(e){return e.display.scroller.clientHeight-Bt(e)-e.display.barHeight}function zt(e,t,n){var i=e.options.lineWrapping,s=i&&Ft(e);if(!t.measure.heights||i&&t.measure.width!=s){var o=t.measure.heights=[];if(i){t.measure.width=s;for(var r=t.text.firstChild.getClientRects(),a=0;a<r.length-1;a++){var l=r[a],c=r[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Vt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var s=0;s<e.rest.length;s++)if($(e.rest[s])>n)return{map:e.measure.maps[s],cache:e.measure.caches[s],before:!0}}function Ht(e,t){t=de(t);var i=$(t),s=e.display.externalMeasured=new mt(e.doc,t,i);s.lineN=i;var o=s.built=lt(e,s);return s.text=o.pre,n(e.display.lineMeasure,o.pre),s}function Wt(e,t,n,i){return Gt(e,Yt(e,t),n,i)}function qt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[jn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Yt(e,t){var n=$(t),i=qt(e,n);i&&!i.text?i=null:i&&i.changes&&(_t(e,i,n,xn(e)),e.curOp.forceUpdate=!0),i||(i=Ht(e,t));var s=Vt(i,t,n);return{line:t,view:i,rect:null,map:s.map,cache:s.cache,before:s.before,hasHeights:!1}}function Gt(e,t,n,i,s){t.before&&(n=-1);var o,r=n+(i||"");return t.cache.hasOwnProperty(r)?o=t.cache[r]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(zt(e,t.view,t.rect),t.hasHeights=!0),o=Jt(e,t,n,i),o.bogus||(t.cache[r]=o)),{left:o.left,right:o.right,top:s?o.rtop:o.top,bottom:s?o.rbottom:o.bottom}}function Kt(e,t,n){for(var i,s,o,r,a,l,c=0;c<e.length;c+=3)if(a=e[c],l=e[c+1],t<a?(s=0,o=1,r="left"):t<l?(s=t-a,o=s+1):(c==e.length-3||t==l&&e[c+3]>t)&&(o=l-a,s=o-1,t>=l&&(r="right")),null!=s){if(i=e[c+2],a==l&&n==(i.insertLeft?"left":"right")&&(r=n),"left"==n&&0==s)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)i=e[(c-=3)+2],r="left";if("right"==n&&s==l-a)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)i=e[(c+=3)+2],r="right";break}return{node:i,start:s,end:o,collapse:r,coverStart:a,coverEnd:l}}function Xt(e,t){var n=xa;if("left"==t)for(var i=0;i<e.length&&(n=e[i]).left==n.right;i++);else for(var s=e.length-1;s>=0&&(n=e[s]).left==n.right;s--);return n}function Jt(e,t,n,i){var s,o=Kt(t.map,n,i),r=o.node,a=o.start,l=o.end,c=o.collapse;if(3==r.nodeType){for(var u=0;u<4;u++){for(;a&&k(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&k(t.line.text.charAt(o.coverStart+l));)++l;if(s=yr&&wr<9&&0==a&&l==o.coverEnd-o.coverStart?r.parentNode.getBoundingClientRect():Xt(Nr(r,a,l).getClientRects(),i),s.left||s.right||0==a)break;l=a,a-=1,c="right"}yr&&wr<11&&(s=Zt(e.display.measure,s))}else{a>0&&(c=i="right");var d;s=e.options.lineWrapping&&(d=r.getClientRects()).length>1?d["right"==i?d.length-1:0]:r.getBoundingClientRect()}if(yr&&wr<9&&!a&&(!s||!s.left&&!s.right)){var h=r.parentNode.getClientRects()[0];s=h?{left:h.left,right:h.left+wn(e.display),top:h.top,bottom:h.bottom}:xa}for(var p=s.top-t.rect.top,f=s.bottom-t.rect.top,m=(p+f)/2,v=t.view.measure.heights,g=0;g<v.length-1&&!(m<v[g]);g++);var b=g?v[g-1]:0,y=v[g],w={left:("right"==c?s.right:s.left)-t.rect.left,right:("left"==c?s.left:s.right)-t.rect.left,top:b,bottom:y};return s.left||s.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=p,w.rbottom=f),w}function Zt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Be(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}function Qt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function en(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)Qt(e.display.view[n])}function tn(e){en(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function nn(){return kr&&Ar?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function sn(){return kr&&Ar?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function on(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Dt(e.widgets[n]));return t}function rn(e,t,n,i,s){if(!s){var o=on(t);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var r=be(t);if("local"==i?r+=Ot(e.display):r-=e.display.viewOffset,"page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();r+=a.top+("window"==i?0:sn());var l=a.left+("window"==i?0:nn());n.left+=l,n.right+=l}return n.top+=r,n.bottom+=r,n}function an(e,t,n){if("div"==n)return t;var i=t.left,s=t.top;if("page"==n)i-=nn(),s-=sn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left,s+=o.top}var r=e.display.lineSpace.getBoundingClientRect();return{left:i-r.left,top:s-r.top}}function ln(e,t,n,i,s){return i||(i=T(e.doc,t.line)),rn(e,i,Wt(e,i,t.ch,s),n)}function cn(e,t,n,i,s,o){function r(t,r){var a=Gt(e,s,t,r?"right":"left",o);return r?a.left=a.right:a.right=a.left,rn(e,i,a,n)}function a(e,t,n){var i=l[t],s=1==i.level;return r(n?e-1:e,s!=n)}i=i||T(e.doc,t.line),s||(s=Yt(e,i));var l=ke(i,e.doc.direction),c=t.ch,u=t.sticky;if(c>=i.text.length?(c=i.text.length,u="before"):c<=0&&(c=0,u="after"),!l)return r("before"==u?c-1:c,"before"==u);var d=_e(l,c,u),h=Qr,p=a(c,d,"before"==u);return null!=h&&(p.other=a(c,h,"before"!=u)),p}function un(e,t){var n=0;t=z(e.doc,t),e.options.lineWrapping||(n=wn(e.display)*t.ch);var i=T(e.doc,t.line),s=be(i)+Ot(e.display);return{left:n,right:n,top:s,bottom:s+i.height}}function dn(e,t,n,i,s){var o=N(e,t,n);return o.xRel=s,i&&(o.outside=!0),o}function hn(e,t,n){var i=e.doc;if(n+=e.display.viewOffset,n<0)return dn(i.first,0,null,!0,-1);var s=L(i,n),o=i.first+i.size-1;if(s>o)return dn(i.first+i.size-1,T(i,o).text.length,null,!0,1);t<0&&(t=0);for(var r=T(i,s);;){var a=vn(e,r,s,t,n),l=ce(r),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;s=$(r=c.to.line)}}function pn(e,t,n,i){i-=on(t);var s=t.text.length,o=C(function(t){return Gt(e,n,t-1).bottom<=i},s,0);return s=C(function(t){return Gt(e,n,t).top>i},o,s),{begin:o,end:s}}function fn(e,t,n,i){n||(n=Yt(e,t));var s=rn(e,t,Gt(e,n,i),"line").top;return pn(e,t,n,s)}function mn(e,t,n,i){return!(e.bottom<=n)&&(e.top>n||(i?e.left:e.right)>t)}function vn(e,t,n,i,s){s-=be(t);var o=Yt(e,t),r=on(t),a=0,l=t.text.length,c=!0,u=ke(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?bn:gn)(e,t,n,o,u,i,s);c=1!=d.level,a=c?d.from:d.to-1,l=c?d.to:d.from-1}var h,p,f=null,m=null,v=C(function(t){var n=Gt(e,o,t);return n.top+=r,n.bottom+=r,!!mn(n,i,s,!1)&&(n.top<=s&&n.left<=i&&(f=t,m=n),!0)},a,l),g=!1;if(m){var b=i-m.left<m.right-i,y=b==c;v=f+(y?0:1),p=y?"after":"before",h=b?m.left:m.right}else{c||v!=l&&v!=a||v++,p=0==v?"after":v==t.text.length?"before":Gt(e,o,v-(c?1:0)).bottom+r<=s==c?"after":"before";var w=cn(e,N(n,v,p),"line",t,o);h=w.left,g=s<w.top||s>=w.bottom}return v=S(t.text,v,1),dn(n,v,p,g,i-h)}function gn(e,t,n,i,s,o,r){var a=C(function(a){var l=s[a],c=1!=l.level;return mn(cn(e,N(n,c?l.to:l.from,c?"before":"after"),"line",t,i),o,r,!0)},0,s.length-1),l=s[a];if(a>0){var c=1!=l.level,u=cn(e,N(n,c?l.from:l.to,c?"after":"before"),"line",t,i);mn(u,o,r,!0)&&u.top>r&&(l=s[a-1])}return l}function bn(e,t,n,i,s,o,r){for(var a=pn(e,t,i,r),l=a.begin,c=a.end,u=null,d=null,h=0;h<s.length;h++){var p=s[h];if(!(p.from>=c||p.to<=l)){var f=1!=p.level,m=Gt(e,i,f?Math.min(c,p.to)-1:Math.max(l,p.from)).right,v=m<o?o-m+1e9:m-o;(!u||d>v)&&(u=p,d=v)}}return u||(u=s[s.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function yn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==va){va=i("pre");for(var s=0;s<49;++s)va.appendChild(document.createTextNode("x")),va.appendChild(i("br"));va.appendChild(document.createTextNode("x"))}n(e.measure,va);var o=va.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function wn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=i("span","xxxxxxxxxx"),s=i("pre",[t]);n(e.measure,s);var o=t.getBoundingClientRect(),r=(o.right-o.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function xn(e){for(var t=e.display,n={},i={},s=t.gutters.clientLeft,o=t.gutters.firstChild,r=0;o;o=o.nextSibling,++r)n[e.options.gutters[r]]=o.offsetLeft+o.clientLeft+s,i[e.options.gutters[r]]=o.clientWidth;return{fixedPos:_n(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function _n(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function kn(e){var t=yn(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/wn(e.display)-3);return function(s){if(ve(e.doc,s))return 0;var o=0;if(s.widgets)for(var r=0;r<s.widgets.length;r++)s.widgets[r].height&&(o+=s.widgets[r].height);return n?o+(Math.ceil(s.text.length/i)||1)*t:o+t}}function Sn(e){var t=e.doc,n=kn(e);t.iter(function(e){var t=n(e);t!=e.height&&P(e,t)})}function Cn(e,t,n,i){var s=e.display;if(!n&&"true"==Ne(t).getAttribute("cm-not-content"))return null;var o,r,a=s.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,r=t.clientY-a.top}catch(t){return null}var l,c=hn(e,o,r);if(i&&1==c.xRel&&(l=T(e.doc,c.line).text).length==c.ch){var u=d(l,l.length,e.options.tabSize)-l.length;c=N(c.line,Math.max(0,Math.round((o-It(e.display).left)/wn(e.display))-u))}return c}function jn(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var n=e.display.view,i=0;i<n.length;i++)if(t-=n[i].size,t<0)return i}function Tn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function En(e,t){void 0===t&&(t=!0);for(var n=e.doc,i={},s=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),r=0;r<n.sel.ranges.length;r++)if(t||r!=n.sel.primIndex){var a=n.sel.ranges[r];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&An(e,a.head,s),l||$n(e,a,o)}}return i}function An(e,t,n){var s=cn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(i("div"," ","CodeMirror-cursor"));if(o.style.left=s.left+"px",o.style.top=s.top+"px",o.style.height=Math.max(0,s.bottom-s.top)*e.options.cursorHeight+"px",s.other){var r=n.appendChild(i("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));r.style.display="",r.style.left=s.other.left+"px",r.style.top=s.other.top+"px",r.style.height=.85*(s.other.bottom-s.other.top)+"px"}}function Pn(e,t){return e.top-t.top||e.left-t.left}function $n(e,t,n){function s(e,t,n,s){t<0&&(t=0),t=Math.round(t),s=Math.round(s),l.appendChild(i("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?d-e:n)+"px;\n                             height: "+(s-t)+"px"))}function o(t,n,i){function o(n,i){return ln(e,N(t,n),"div",c,i)}var r,l,c=T(a,t),h=c.text.length,p=ke(c,a.direction);return xe(p,n||0,null==i?h:i,function(t,a,f,m){var v=o(t,"ltr"==f?"left":"right"),g=o(a-1,"ltr"==f?"right":"left");if("ltr"==f){var b=null==n&&0==t?u:v.left,y=null==i&&a==h?d:g.right;g.top-v.top<=3?s(b,g.top,y-b,g.bottom):(s(b,v.top,null,v.bottom),v.bottom<g.top&&s(u,v.bottom,null,g.top),s(u,g.top,g.right,g.bottom))}else if(t<a){var w=null==n&&0==t?d:v.right,x=null==i&&a==h?u:g.left;if(g.top-v.top<=3)s(x,g.top,w-x,g.bottom);else{var _=u;if(m){var k=fn(e,c,null,t).end;_=o(k-(/\s/.test(c.text.charAt(k-1))?2:1),"left").left}s(_,v.top,w-_,v.bottom),v.bottom<g.top&&s(u,v.bottom,null,g.top);var S=null;if(m<p.length-1,!0){var C=fn(e,c,null,a).begin;S=o(C,"right").right-x}s(x,g.top,S,g.bottom)}}(!r||Pn(v,r)<0)&&(r=v),Pn(g,r)<0&&(r=g),(!l||Pn(v,l)<0)&&(l=v),Pn(g,l)<0&&(l=g)}),{start:r,end:l}}var r=e.display,a=e.doc,l=document.createDocumentFragment(),c=It(e.display),u=c.left,d=Math.max(r.sizerWidth,Ft(e)-r.sizer.offsetLeft)-c.right,h=t.from(),p=t.to();if(h.line==p.line)o(h.line,h.ch,p.ch);else{var f=T(a,h.line),m=T(a,p.line),v=de(f)==de(m),g=o(h.line,h.ch,v?f.text.length+1:null).end,b=o(p.line,v?0:null,p.ch).start;v&&(g.top<b.top-2?(s(g.right,g.top,null,g.bottom),s(u,b.top,b.left,b.bottom)):s(g.right,g.top,b.left-g.right,g.bottom)),g.bottom<b.top&&s(u,g.bottom,null,b.top)}n.appendChild(l)}function Ln(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Rn(e){e.state.focused||(e.display.input.focus(),Nn(e))}function Dn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,On(e))},100)}function Nn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(je(e,"focus",e,t),e.state.focused=!0,a(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),xr&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Ln(e))}function On(e,t){e.state.delayingBlurEvent||(e.state.focused&&(je(e,"blur",e,t),e.state.focused=!1,Ir(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Mn(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var s=t.view[i],o=void 0;if(!s.hidden){if(yr&&wr<8){var r=s.node.offsetTop+s.node.offsetHeight;o=r-n,n=r}else{var a=s.node.getBoundingClientRect();o=a.bottom-a.top}var l=s.line.height-o;if(o<2&&(o=yn(t)),(l>.005||l<-.005)&&(P(s.line,o),In(s.line),s.rest))for(var c=0;c<s.rest.length;c++)In(s.rest[c])}}}function In(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function Bn(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-Ot(e));var s=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=L(t,i),r=L(t,s);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,r=L(t,be(T(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=r&&(o=L(t,be(T(t,l))-e.wrapper.clientHeight),r=l)}return{from:o,to:Math.max(r,o+1)}}function Fn(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=_n(t)-t.scroller.scrollLeft+e.doc.scrollLeft,s=t.gutters.offsetWidth,o=i+"px",r=0;r<n.length;r++)if(!n[r].hidden){e.options.fixedGutter&&(n[r].gutter&&(n[r].gutter.style.left=o),n[r].gutterBackground&&(n[r].gutterBackground.style.left=o));var a=n[r].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+s+"px")}}function Un(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=D(e.options,t.first+t.size-1),s=e.display;if(n.length!=s.lineNumChars){var o=s.measure.appendChild(i("div",[i("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),r=o.firstChild.offsetWidth,a=o.offsetWidth-r;return s.lineGutter.style.width="",s.lineNumInnerWidth=Math.max(r,s.lineGutter.offsetWidth-a)+1,s.lineNumWidth=s.lineNumInnerWidth+a,s.lineNumChars=s.lineNumInnerWidth?n.length:-1,s.lineGutter.style.width=s.lineNumWidth+"px",Li(e),!0}return!1}function zn(e,t){if(!Te(e,"scrollCursorIntoView")){var n=e.display,s=n.sizer.getBoundingClientRect(),o=null;if(t.top+s.top<0?o=!0:t.bottom+s.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Tr){var r=i("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Ot(e.display))+"px;\n                         height: "+(t.bottom-t.top+Bt(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(r),r.scrollIntoView(o),e.display.lineSpace.removeChild(r)}}}function Vn(e,t,n,i){null==i&&(i=0);var s;e.options.lineWrapping||t!=n||(t=t.ch?N(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,n="before"==t.sticky?N(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var r=!1,a=cn(e,t),l=n&&n!=t?cn(e,n):a;s={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-i,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+i};var c=Wn(e,s),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(Zn(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(r=!0)),null!=c.scrollLeft&&(ei(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(r=!0)),!r)break}return s}function Hn(e,t){var n=Wn(e,t);null!=n.scrollTop&&Zn(e,n.scrollTop),null!=n.scrollLeft&&ei(e,n.scrollLeft)}function Wn(e,t){var n=e.display,i=yn(e.display);t.top<0&&(t.top=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Ut(e),r={};t.bottom-t.top>o&&(t.bottom=t.top+o);var a=e.doc.height+Mt(n),l=t.top<i,c=t.bottom>a-i;if(t.top<s)r.scrollTop=l?0:t.top;else if(t.bottom>s+o){var u=Math.min(t.top,(c?a:t.bottom)-o);u!=s&&(r.scrollTop=u)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,h=Ft(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),p=t.right-t.left>h;return p&&(t.right=t.left+h),t.left<10?r.scrollLeft=0:t.left<d?r.scrollLeft=Math.max(0,t.left-(p?0:10)):t.right>h+d-3&&(r.scrollLeft=t.right+(p?0:10)-h),r}function qn(e,t){null!=t&&(Xn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Yn(e){Xn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Gn(e,t,n){null==t&&null==n||Xn(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Kn(e,t){Xn(e),e.curOp.scrollToPos=t}function Xn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=un(e,t.from),i=un(e,t.to);Jn(e,n,i,t.margin)}}function Jn(e,t,n,i){var s=Wn(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-i,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+i});Gn(e,s.scrollLeft,s.scrollTop)}function Zn(e,t){Math.abs(e.doc.scrollTop-t)<2||(mr||Pi(e,{top:t}),Qn(e,t,!0),mr&&Pi(e),ki(e,100))}function Qn(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function ei(e,t,n,i){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!i||(e.doc.scrollLeft=t,Fn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function ti(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Mt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Bt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function ni(e,t){t||(t=ti(e));var n=e.display.barWidth,i=e.display.barHeight;ii(e,t);for(var s=0;s<4&&n!=e.display.barWidth||i!=e.display.barHeight;s++)n!=e.display.barWidth&&e.options.lineWrapping&&Mn(e),ii(e,ti(e)),n=e.display.barWidth,i=e.display.barHeight}function ii(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function si(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Ir(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Sa[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),na(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?ei(e,t):Zn(e,t)},e),e.display.scrollbars.addClass&&a(e.display.wrapper,e.display.scrollbars.addClass)}function oi(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ca},gt(e.curOp)}function ri(e){var t=e.curOp;yt(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;ai(e)})}function ai(e){for(var t=e.ops,n=0;n<t.length;n++)li(t[n]);for(var i=0;i<t.length;i++)ci(t[i]);for(var s=0;s<t.length;s++)ui(t[s]);for(var o=0;o<t.length;o++)di(t[o]);for(var r=0;r<t.length;r++)hi(t[r])}function li(e){var t=e.cm,n=t.display;Ci(t),e.updateMaxLine&&we(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ja(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function ci(e){e.updatedDisplay=e.mustUpdate&&Ei(e.cm,e.update)}function ui(e){var t=e.cm,n=t.display;e.updatedDisplay&&Mn(t),e.barMeasure=ti(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Wt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Bt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Ft(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function di(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&ei(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==r();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&ni(t,e.barMeasure),e.updatedDisplay&&Ri(t,e.barMeasure),e.selectionChanged&&Ln(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Rn(e.cm)}function hi(e){var t=e.cm,n=t.display,i=t.doc;if(e.updatedDisplay&&Ai(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Qn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&ei(t,e.scrollLeft,!0,!0),
e.scrollToPos){var s=Vn(t,z(i,e.scrollToPos.from),z(i,e.scrollToPos.to),e.scrollToPos.margin);zn(t,s)}var o=e.maybeHiddenMarkers,r=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||je(o[a],"hide");if(r)for(var l=0;l<r.length;++l)r[l].lines.length&&je(r[l],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&je(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function pi(e,t){if(e.curOp)return t();oi(e);try{return t()}finally{ri(e)}}function fi(e,t){return function(){if(e.curOp)return t.apply(e,arguments);oi(e);try{return t.apply(e,arguments)}finally{ri(e)}}}function mi(e){return function(){if(this.curOp)return e.apply(this,arguments);oi(this);try{return e.apply(this,arguments)}finally{ri(this)}}}function vi(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);oi(t);try{return e.apply(this,arguments)}finally{ri(t)}}}function gi(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var s=e.display;if(i&&n<s.viewTo&&(null==s.updateLineNumbers||s.updateLineNumbers>t)&&(s.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=s.viewTo)Zr&&fe(e.doc,t)<s.viewTo&&yi(e);else if(n<=s.viewFrom)Zr&&me(e.doc,n+i)>s.viewFrom?yi(e):(s.viewFrom+=i,s.viewTo+=i);else if(t<=s.viewFrom&&n>=s.viewTo)yi(e);else if(t<=s.viewFrom){var o=wi(e,n,n+i,1);o?(s.view=s.view.slice(o.index),s.viewFrom=o.lineN,s.viewTo+=i):yi(e)}else if(n>=s.viewTo){var r=wi(e,t,t,-1);r?(s.view=s.view.slice(0,r.index),s.viewTo=r.lineN):yi(e)}else{var a=wi(e,t,t,-1),l=wi(e,n,n+i,1);a&&l?(s.view=s.view.slice(0,a.index).concat(vt(e,a.lineN,l.lineN)).concat(s.view.slice(l.index)),s.viewTo+=i):yi(e)}var c=s.externalMeasured;c&&(n<c.lineN?c.lineN+=i:t<c.lineN+c.size&&(s.externalMeasured=null))}function bi(e,t,n){e.curOp.viewChanged=!0;var i=e.display,s=e.display.externalMeasured;if(s&&t>=s.lineN&&t<s.lineN+s.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[jn(e,t)];if(null!=o.node){var r=o.changes||(o.changes=[]);h(r,n)==-1&&r.push(n)}}}function yi(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function wi(e,t,n,i){var s,o=jn(e,t),r=e.display.view;if(!Zr||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=e.display.viewFrom,l=0;l<o;l++)a+=r[l].size;if(a!=t){if(i>0){if(o==r.length-1)return null;s=a+r[o].size-t,o++}else s=a-t;t+=s,n+=s}for(;fe(e.doc,n)!=n;){if(o==(i<0?0:r.length-1))return null;n+=i*r[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function xi(e,t,n){var i=e.display,s=i.view;0==s.length||t>=i.viewTo||n<=i.viewFrom?(i.view=vt(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=vt(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(jn(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(vt(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,jn(e,n)))),i.viewTo=n}function _i(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var s=t[i];s.hidden||s.node&&!s.changes||++n}return n}function ki(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,c(Si,e))}function Si(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=Xe(e,t.highlightFrontier),s=[];t.iter(i.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(i.line>=e.display.viewFrom){var r=o.styles,a=o.text.length>e.options.maxHighlightLength?We(t.mode,i.state):null,l=Ge(e,o,i,!0);a&&(i.state=a),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!r||r.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!d&&h<r.length;++h)d=r[h]!=o.styles[h];d&&s.push(i.line),o.stateAfter=i.save(),i.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Je(e,o.text,i),o.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>n)return ki(e,e.options.workDelay),!0}),t.highlightFrontier=i.line,t.modeFrontier=Math.max(t.modeFrontier,i.line),s.length&&pi(e,function(){for(var t=0;t<s.length;t++)bi(e,s[t],"text")})}}function Ci(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Bt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Bt(e)+"px",t.scrollbarsClipped=!0)}function ji(e){if(e.hasFocus())return null;var t=r();if(!t||!o(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var i=window.getSelection();i.anchorNode&&i.extend&&o(e.display.lineDiv,i.anchorNode)&&(n.anchorNode=i.anchorNode,n.anchorOffset=i.anchorOffset,n.focusNode=i.focusNode,n.focusOffset=i.focusOffset)}return n}function Ti(e){if(e&&e.activeElt&&e.activeElt!=r()&&(e.activeElt.focus(),e.anchorNode&&o(document.body,e.anchorNode)&&o(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Ei(e,n){var i=e.display,s=e.doc;if(n.editorIsHidden)return yi(e),!1;if(!n.force&&n.visible.from>=i.viewFrom&&n.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==_i(e))return!1;Un(e)&&(yi(e),n.dims=xn(e));var o=s.first+s.size,r=Math.max(n.visible.from-e.options.viewportMargin,s.first),a=Math.min(o,n.visible.to+e.options.viewportMargin);i.viewFrom<r&&r-i.viewFrom<20&&(r=Math.max(s.first,i.viewFrom)),i.viewTo>a&&i.viewTo-a<20&&(a=Math.min(o,i.viewTo)),Zr&&(r=fe(e.doc,r),a=me(e.doc,a));var l=r!=i.viewFrom||a!=i.viewTo||i.lastWrapHeight!=n.wrapperHeight||i.lastWrapWidth!=n.wrapperWidth;xi(e,r,a),i.viewOffset=be(T(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var c=_i(e);if(!l&&0==c&&!n.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var u=ji(e);return c>4&&(i.lineDiv.style.display="none"),$i(e,i.updateLineNumbers,n.dims),c>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,Ti(u),t(i.cursorDiv),t(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,l&&(i.lastWrapHeight=n.wrapperHeight,i.lastWrapWidth=n.wrapperWidth,ki(e,400)),i.updateLineNumbers=null,!0}function Ai(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Ft(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Mt(e.display)-Ut(e),n.top)}),t.visible=Bn(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Ei(e,t);i=!1){Mn(e);var s=ti(e);Tn(e),ni(e,s),Ri(e,s),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Pi(e,t){var n=new ja(e,t);if(Ei(e,n)){Mn(e),Ai(e,n);var i=ti(e);Tn(e),ni(e,i),Ri(e,i),n.finish()}}function $i(e,n,i){function s(t){var n=t.nextSibling;return xr&&$r&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var o=e.display,r=e.options.lineNumbers,a=o.lineDiv,l=a.firstChild,c=o.view,u=o.viewFrom,d=0;d<c.length;d++){var p=c[d];if(p.hidden);else if(p.node&&p.node.parentNode==a){for(;l!=p.node;)l=s(l);var f=r&&null!=n&&n<=u&&p.lineNumber;p.changes&&(h(p.changes,"gutter")>-1&&(f=!1),_t(e,p,u,i)),f&&(t(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(D(e.options,u)))),l=p.node.nextSibling}else{var m=Pt(e,p,u,i);a.insertBefore(m,l)}u+=p.size}for(;l;)l=s(l)}function Li(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Ri(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Bt(e)+"px"}function Di(e){var n=e.display.gutters,s=e.options.gutters;t(n);for(var o=0;o<s.length;++o){var r=s[o],a=n.appendChild(i("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=a,a.style.width=(e.display.lineNumWidth||1)+"px")}n.style.display=o?"":"none",Li(e)}function Ni(e){var t=h(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function Oi(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function Mi(e){var t=Oi(e);return t.x*=Ea,t.y*=Ea,t}function Ii(e,t){var n=Oi(t),i=n.x,s=n.y,o=e.display,r=o.scroller,a=r.scrollWidth>r.clientWidth,l=r.scrollHeight>r.clientHeight;if(i&&a||s&&l){if(s&&$r&&xr)e:for(var c=t.target,u=o.view;c!=r;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){e.display.currentWheelTarget=c;break e}if(i&&!mr&&!Sr&&null!=Ea)return s&&l&&Zn(e,Math.max(0,r.scrollTop+s*Ea)),ei(e,Math.max(0,r.scrollLeft+i*Ea)),(!s||s&&l)&&$e(t),void(o.wheelStartX=null);if(s&&null!=Ea){var h=s*Ea,p=e.doc.scrollTop,f=p+o.wrapper.clientHeight;h<0?p=Math.max(0,p+h-50):f=Math.min(e.doc.height,f+h+50),Pi(e,{top:p,bottom:f})}Ta<20&&(null==o.wheelStartX?(o.wheelStartX=r.scrollLeft,o.wheelStartY=r.scrollTop,o.wheelDX=i,o.wheelDY=s,setTimeout(function(){if(null!=o.wheelStartX){var e=r.scrollLeft-o.wheelStartX,t=r.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Ea=(Ea*Ta+n)/(Ta+1),++Ta)}},200)):(o.wheelDX+=i,o.wheelDY+=s))}}function Bi(e,t){var n=e[t];e.sort(function(e,t){return O(e.from(),t.from())}),t=h(e,n);for(var i=1;i<e.length;i++){var s=e[i],o=e[i-1];if(O(o.to(),s.from())>=0){var r=F(o.from(),s.from()),a=B(o.to(),s.to()),l=o.empty()?s.from()==s.head:o.from()==o.head;i<=t&&--t,e.splice(--i,2,new Pa(l?a:r,l?r:a))}}return new Aa(e,t)}function Fi(e,t){return new Aa([new Pa(e,t||e)],0)}function Ui(e){return e.text?N(e.from.line+e.text.length-1,m(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function zi(e,t){if(O(e,t.from)<0)return e;if(O(e,t.to)<=0)return Ui(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=Ui(t).ch-t.to.ch),N(n,i)}function Vi(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var s=e.sel.ranges[i];n.push(new Pa(zi(s.anchor,t),zi(s.head,t)))}return Bi(n,e.sel.primIndex)}function Hi(e,t,n){return e.line==t.line?N(n.line,e.ch-t.ch+n.ch):N(n.line+(e.line-t.line),e.ch)}function Wi(e,t,n){for(var i=[],s=N(e.first,0),o=s,r=0;r<t.length;r++){var a=t[r],l=Hi(a.from,s,o),c=Hi(Ui(a),s,o);if(s=a.to,o=c,"around"==n){var u=e.sel.ranges[r],d=O(u.head,u.anchor)<0;i[r]=new Pa(d?c:l,d?l:c)}else i[r]=new Pa(l,l)}return new Aa(i,e.sel.primIndex)}function qi(e){e.doc.mode=Ve(e.options,e.doc.modeOption),Yi(e)}function Yi(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ki(e,100),e.state.modeGen++,e.curOp&&gi(e)}function Gi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==m(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ki(e,t,n,i){function s(e){return n?n[e]:null}function o(e,n,s){ot(e,n,s,i),wt(e,"change",e,t)}function r(e,t){for(var n=[],o=e;o<t;++o)n.push(new ma(c[o],s(o),i));return n}var a=t.from,l=t.to,c=t.text,u=T(e,a.line),d=T(e,l.line),h=m(c),p=s(c.length-1),f=l.line-a.line;if(t.full)e.insert(0,r(0,c.length)),e.remove(c.length,e.size-c.length);else if(Gi(e,t)){var v=r(0,c.length-1);o(d,d.text,p),f&&e.remove(a.line,f),v.length&&e.insert(a.line,v)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,a.ch)+h+u.text.slice(l.ch),p);else{var g=r(1,c.length-1);g.push(new ma(h+u.text.slice(l.ch),p,i)),o(u,u.text.slice(0,a.ch)+c[0],s(0)),e.insert(a.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+d.text.slice(l.ch),s(0)),e.remove(a.line+1,f);else{o(u,u.text.slice(0,a.ch)+c[0],s(0)),o(d,h+d.text.slice(l.ch),p);var b=r(1,c.length-1);f>1&&e.remove(a.line+1,f-1),e.insert(a.line+1,b)}wt(e,"change",e,t)}function Xi(e,t,n){function i(e,s,o){if(e.linked)for(var r=0;r<e.linked.length;++r){var a=e.linked[r];if(a.doc!=s){var l=o&&a.sharedHist;n&&!l||(t(a.doc,l),i(a.doc,e,l))}}}i(e,null,!0)}function Ji(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Sn(e),qi(e),Zi(e),e.options.lineWrapping||we(e),e.options.mode=t.modeOption,gi(e)}function Zi(e){("rtl"==e.doc.direction?a:Ir)(e.display.lineDiv,"CodeMirror-rtl")}function Qi(e){pi(e,function(){Zi(e),gi(e)})}function es(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ts(e,t){var n={from:I(t.from),to:Ui(t),text:E(e,t.from,t.to)};return ls(e,n,t.from.line,t.to.line+1),Xi(e,function(e){return ls(e,n,t.from.line,t.to.line+1)},!0),n}function ns(e){for(;e.length;){var t=m(e);if(!t.ranges)break;e.pop()}}function is(e,t){return t?(ns(e.done),m(e.done)):e.done.length&&!m(e.done).ranges?m(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),m(e.done)):void 0}function ss(e,t,n,i){var s=e.history;s.undone.length=0;var o,r,a=+new Date;if((s.lastOp==i||s.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&s.lastModTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=is(s,s.lastOp==i)))r=m(o.changes),0==O(t.from,t.to)&&0==O(t.from,r.to)?r.to=Ui(t):o.changes.push(ts(e,t));else{var l=m(s.done);for(l&&l.ranges||as(e.sel,s.done),o={changes:[ts(e,t)],generation:s.generation},s.done.push(o);s.done.length>s.undoDepth;)s.done.shift(),s.done[0].ranges||s.done.shift()}s.done.push(n),s.generation=++s.maxGeneration,s.lastModTime=s.lastSelTime=a,s.lastOp=s.lastSelOp=i,s.lastOrigin=s.lastSelOrigin=t.origin,r||je(e,"historyAdded")}function os(e,t,n,i){var s=t.charAt(0);return"*"==s||"+"==s&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function rs(e,t,n,i){var s=e.history,o=i&&i.origin;n==s.lastSelOp||o&&s.lastSelOrigin==o&&(s.lastModTime==s.lastSelTime&&s.lastOrigin==o||os(e,o,m(s.done),t))?s.done[s.done.length-1]=t:as(t,s.done),s.lastSelTime=+new Date,s.lastSelOrigin=o,s.lastSelOp=n,i&&i.clearRedo!==!1&&ns(s.undone)}function as(e,t){var n=m(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ls(e,t,n,i){var s=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((s||(s=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function cs(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function us(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=[],s=0;s<t.text.length;++s)i.push(cs(n[s]));return i}function ds(e,t){var n=us(e,t),i=Q(e,t);if(!n)return i;if(!i)return n;for(var s=0;s<n.length;++s){var o=n[s],r=i[s];if(o&&r)e:for(var a=0;a<r.length;++a){for(var l=r[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else r&&(n[s]=r)}return n}function hs(e,t,n){for(var i=[],s=0;s<e.length;++s){var o=e[s];if(o.ranges)i.push(n?Aa.prototype.deepCopy.call(o):o);else{var r=o.changes,a=[];i.push({changes:a});for(var l=0;l<r.length;++l){var c=r[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&h(t,Number(u[1]))>-1&&(m(a)[d]=c[d],delete c[d])}}}return i}function ps(e,t,n,i){if(i){var s=e.anchor;if(n){var o=O(t,s)<0;o!=O(n,s)<0?(s=t,t=n):o!=O(t,n)<0&&(t=n)}return new Pa(s,t)}return new Pa(n||t,t)}function fs(e,t,n,i,s){null==s&&(s=e.cm&&(e.cm.display.shift||e.extend)),ws(e,new Aa([ps(e.sel.primary(),t,n,s)],0),i)}function ms(e,t,n){for(var i=[],s=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)i[o]=ps(e.sel.ranges[o],t[o],null,s);var r=Bi(i,e.sel.primIndex);ws(e,r,n)}function vs(e,t,n,i){var s=e.sel.ranges.slice(0);s[t]=n,ws(e,Bi(s,e.sel.primIndex),i)}function gs(e,t,n,i){ws(e,Fi(t,n),i)}function bs(e,t,n){var i={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var i=0;i<t.length;i++)n.ranges[i]=new Pa(z(e,t[i].anchor),z(e,t[i].head))},origin:n&&n.origin};return je(e,"beforeSelectionChange",e,i),e.cm&&je(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?Bi(i.ranges,i.ranges.length-1):t}function ys(e,t,n){var i=e.history.done,s=m(i);s&&s.ranges?(i[i.length-1]=t,xs(e,t,n)):ws(e,t,n)}function ws(e,t,n){xs(e,t,n),rs(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function xs(e,t,n){(Ae(e,"beforeSelectionChange")||e.cm&&Ae(e.cm,"beforeSelectionChange"))&&(t=bs(e,t,n));var i=n&&n.bias||(O(t.primary().head,e.sel.primary().head)<0?-1:1);_s(e,Ss(e,t,i,!0)),n&&n.scroll===!1||!e.cm||Yn(e.cm)}function _s(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ee(e.cm)),wt(e,"cursorActivity",e))}function ks(e){_s(e,Ss(e,e.sel,null,!1))}function Ss(e,t,n,i){for(var s,o=0;o<t.ranges.length;o++){var r=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=js(e,r.anchor,a&&a.anchor,n,i),c=js(e,r.head,a&&a.head,n,i);(s||l!=r.anchor||c!=r.head)&&(s||(s=t.ranges.slice(0,o)),s[o]=new Pa(l,c))}return s?Bi(s,t.primIndex):t}function Cs(e,t,n,i,s){var o=T(e,t.line);if(o.markedSpans)for(var r=0;r<o.markedSpans.length;++r){var a=o.markedSpans[r],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(s&&(je(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--r;continue}break}if(!l.atomic)continue;if(n){var c=l.find(i<0?1:-1),u=void 0;if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(c=Ts(e,c,-i,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=O(c,n))&&(i<0?u<0:u>0))return Cs(e,c,t,i,s)}var d=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(d=Ts(e,d,i,d.line==t.line?o:null)),d?Cs(e,d,t,i,s):null}}return t}function js(e,t,n,i,s){var o=i||1,r=Cs(e,t,n,o,s)||!s&&Cs(e,t,n,o,!0)||Cs(e,t,n,-o,s)||!s&&Cs(e,t,n,-o,!0);return r?r:(e.cantEdit=!0,N(e.first,0))}function Ts(e,t,n,i){return n<0&&0==t.ch?t.line>e.first?z(e,N(t.line-1)):null:n>0&&t.ch==(i||T(e,t.line)).text.length?t.line<e.first+e.size-1?N(t.line+1,0):null:new N(t.line,t.ch+n)}function Es(e){e.setSelection(N(e.firstLine(),0),N(e.lastLine()),Wr)}function As(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return i.canceled=!0}};return n&&(i.update=function(t,n,s,o){t&&(i.from=z(e,t)),n&&(i.to=z(e,n)),s&&(i.text=s),void 0!==o&&(i.origin=o)}),je(e,"beforeChange",e,i),e.cm&&je(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Ps(e,t,n){if(e.cm){if(!e.cm.curOp)return fi(e.cm,Ps)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Ae(e,"beforeChange")||e.cm&&Ae(e.cm,"beforeChange"))||(t=As(e,t,!0))){var i=Jr&&!n&&te(e,t.from,t.to);if(i)for(var s=i.length-1;s>=0;--s)$s(e,{from:i[s].from,to:i[s].to,text:s?[""]:t.text,origin:t.origin});else $s(e,t)}}function $s(e,t){if(1!=t.text.length||""!=t.text[0]||0!=O(t.from,t.to)){var n=Vi(e,t);ss(e,t,n,e.cm?e.cm.curOp.id:NaN),Ds(e,t,n,Q(e,t));var i=[];Xi(e,function(e,n){n||h(i,e.history)!=-1||(Bs(e.history,t),i.push(e.history)),Ds(e,t,null,Q(e,t))})}}function Ls(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var i,s=e.history,o=e.sel,r="undo"==t?s.done:s.undone,a="undo"==t?s.undone:s.done,l=0;l<r.length&&(i=r[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=r.length){for(s.lastOrigin=s.lastSelOrigin=null;i=r.pop(),i.ranges;){if(as(i,a),n&&!i.equals(e.sel))return void ws(e,i,{clearRedo:!1});o=i}var c=[];as(o,a),a.push({changes:c,generation:s.generation}),s.generation=i.generation||++s.maxGeneration;for(var u=Ae(e,"beforeChange")||e.cm&&Ae(e.cm,"beforeChange"),d=function(n){var s=i.changes[n];if(s.origin=t,u&&!As(e,s,!1))return r.length=0,{};c.push(ts(e,s));var o=n?Vi(e,s):m(r);Ds(e,s,o,ds(e,s)),!n&&e.cm&&e.cm.scrollIntoView({from:s.from,to:Ui(s)});var a=[];Xi(e,function(e,t){t||h(a,e.history)!=-1||(Bs(e.history,s),a.push(e.history)),Ds(e,s,null,ds(e,s))})},p=i.changes.length-1;p>=0;--p){var f=d(p);if(f)return f.v}}}}function Rs(e,t){if(0!=t&&(e.first+=t,e.sel=new Aa(v(e.sel.ranges,function(e){return new Pa(N(e.anchor.line+t,e.anchor.ch),N(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){gi(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)bi(e.cm,i,"gutter")}}function Ds(e,t,n,i){if(e.cm&&!e.cm.curOp)return fi(e.cm,Ds)(e,t,n,i);if(t.to.line<e.first)return void Rs(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var s=t.text.length-1-(e.first-t.from.line);Rs(e,s),t={from:N(e.first,0),to:N(t.to.line+s,t.to.ch),text:[m(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:N(o,T(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=E(e,t.from,t.to),n||(n=Vi(e,t)),e.cm?Ns(e.cm,t,i):Ki(e,t,i),xs(e,n,Wr)}}function Ns(e,t,n){var i=e.doc,s=e.display,o=t.from,r=t.to,a=!1,l=o.line;e.options.lineWrapping||(l=$(de(T(i,o.line))),i.iter(l,r.line+1,function(e){if(e==s.maxLine)return a=!0,!0})),i.sel.contains(t.from,t.to)>-1&&Ee(e),Ki(i,t,n,kn(e)),e.options.lineWrapping||(i.iter(l,o.line+t.text.length,function(e){var t=ye(e);t>s.maxLineLength&&(s.maxLine=e,s.maxLineLength=t,s.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0)),st(i,o.line),ki(e,400);var c=t.text.length-(r.line-o.line)-1;t.full?gi(e):o.line!=r.line||1!=t.text.length||Gi(e.doc,t)?gi(e,o.line,r.line+1,c):bi(e,o.line,"text");var u=Ae(e,"changes"),d=Ae(e,"change");if(d||u){var h={from:o,to:r,text:t.text,removed:t.removed,origin:t.origin};d&&wt(e,"change",e,h),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function Os(e,t,n,i,s){if(i||(i=n),O(i,n)<0){var o;o=[i,n],n=o[0],i=o[1],o}"string"==typeof t&&(t=e.splitLines(t)),Ps(e,{from:n,to:i,text:t,origin:s})}function Ms(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function Is(e,t,n,i){for(var s=0;s<e.length;++s){var o=e[s],r=!0;if(o.ranges){o.copied||(o=e[s]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)Ms(o.ranges[a].anchor,t,n,i),Ms(o.ranges[a].head,t,n,i)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=N(c.from.line+i,c.from.ch),c.to=N(c.to.line+i,c.to.ch);else if(t<=c.to.line){r=!1;break}}r||(e.splice(0,s+1),s=0)}}}function Bs(e,t){var n=t.from.line,i=t.to.line,s=t.text.length-(i-n)-1;Is(e.done,n,i,s),Is(e.undone,n,i,s)}function Fs(e,t,n,i){var s=t,o=t;return"number"==typeof t?o=T(e,U(e,t)):s=$(t),null==s?null:(i(o,s)&&e.cm&&bi(e.cm,s,n),o)}function Us(e){var t=this;this.lines=e,this.parent=null;for(var n=0,i=0;i<e.length;++i)e[i].parent=t,n+=e[i].height;this.height=n}function zs(e){var t=this;this.children=e;for(var n=0,i=0,s=0;s<e.length;++s){var o=e[s];n+=o.chunkSize(),i+=o.height,o.parent=t}this.size=n,this.height=i,this.parent=null}function Vs(e,t,n){be(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&qn(e,n)}function Hs(e,t,n,i){var s=new $a(e,n,i),o=e.cm;return o&&s.noHScroll&&(o.display.alignWidgets=!0),Fs(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==s.insertAt?n.push(s):n.splice(Math.min(n.length-1,Math.max(0,s.insertAt)),0,s),s.line=t,o&&!ve(e,t)){var i=be(t)<e.scrollTop;P(t,t.height+Dt(s)),i&&qn(o,s.height),o.curOp.forceUpdate=!0}return!0}),wt(o,"lineWidgetAdded",o,s,"number"==typeof t?t:$(t)),s}function Ws(e,t,n,i,o){if(i&&i.shared)return qs(e,t,n,i,o);if(e.cm&&!e.cm.curOp)return fi(e.cm,Ws)(e,t,n,i,o);var r=new Ra(e,o),a=O(t,n);if(i&&u(i,r,!1),a>0||0==a&&r.clearWhenEmpty!==!1)return r;if(r.replacedWith&&(r.collapsed=!0,r.widgetNode=s("span",[r.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||r.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(r.widgetNode.insertLeft=!0)),r.collapsed){if(ue(e,t.line,t,n,r)||t.line!=n.line&&ue(e,n.line,t,n,r))throw new Error("Inserting collapsed marker partially overlapping an existing one");q()}r.addToHistory&&ss(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var l,c=t.line,d=e.cm;if(e.iter(c,n.line+1,function(e){d&&r.collapsed&&!d.options.lineWrapping&&de(e)==d.display.maxLine&&(l=!0),r.collapsed&&c!=t.line&&P(e,0),X(e,new Y(r,c==t.line?t.ch:null,c==n.line?n.ch:null)),++c}),r.collapsed&&e.iter(t.line,n.line+1,function(t){ve(e,t)&&P(t,0)}),r.clearOnEnter&&na(r,"beforeCursorEnter",function(){return r.clear()}),r.readOnly&&(W(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),r.collapsed&&(r.id=++La,r.atomic=!0),d){if(l&&(d.curOp.updateMaxLine=!0),r.collapsed)gi(d,t.line,n.line+1);else if(r.className||r.title||r.startStyle||r.endStyle||r.css)for(var h=t.line;h<=n.line;h++)bi(d,h,"text");r.atomic&&ks(d.doc),wt(d,"markerAdded",d,r)}return r}function qs(e,t,n,i,s){i=u(i),i.shared=!1;var o=[Ws(e,t,n,i,s)],r=o[0],a=i.widgetNode;return Xi(e,function(e){a&&(i.widgetNode=a.cloneNode(!0)),o.push(Ws(e,z(e,t),z(e,n),i,s));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;r=m(o)}),new Da(o,r)}function Ys(e){return e.findMarks(N(e.first,0),e.clipPos(N(e.lastLine())),function(e){return e.parent})}function Gs(e,t){for(var n=0;n<t.length;n++){var i=t[n],s=i.find(),o=e.clipPos(s.from),r=e.clipPos(s.to);if(O(o,r)){var a=Ws(e,o,r,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function Ks(e){for(var t=function(t){var n=e[t],i=[n.primary.doc];Xi(n.primary.doc,function(e){return i.push(e)});for(var s=0;s<n.markers.length;s++){var o=n.markers[s];h(i,o.doc)==-1&&(o.parent=null,n.markers.splice(s--,1))}},n=0;n<e.length;n++)t(n)}function Xs(e){var t=this;if(Qs(t),!Te(t,e)&&!Nt(t.display,e)){$e(e),yr&&(Ma=+new Date);var n=Cn(t,e,!0),i=e.dataTransfer.files;if(n&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var s=i.length,o=Array(s),r=0,a=function(e,i){if(!t.options.allowDropFileTypes||h(t.options.allowDropFileTypes,e.type)!=-1){var a=new FileReader;a.onload=fi(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[i]=e,++r==s){n=z(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Ps(t.doc,l),ys(t.doc,Fi(n,Ui(l)))}}),a.readAsText(e)}},l=0;l<s;++l)a(i[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var c=e.dataTransfer.getData("Text");if(c){var u;if(t.state.draggingText&&!t.state.draggingText.copy&&(u=t.listSelections()),xs(t.doc,Fi(n,n)),u)for(var d=0;d<u.length;++d)Os(t.doc,"",u[d].anchor,u[d].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Js(e,t){if(yr&&(!e.state.draggingText||+new Date-Ma<100))return void De(t);if(!Te(e,t)&&!Nt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Cr)){var n=i("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Sr&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Sr&&n.parentNode.removeChild(n)}}function Zs(e,t){var s=Cn(e,t);if(s){var o=document.createDocumentFragment();An(e,s,o),e.display.dragCursor||(e.display.dragCursor=i("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),n(e.display.dragCursor,o)}}function Qs(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function eo(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function to(){Ia||(no(),Ia=!0)}function no(){var e;na(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,eo(io)},100))}),na(window,"blur",function(){return eo(On)})}function io(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function so(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,i,s,o,r=0;r<t.length-1;r++){var a=t[r];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);s=!0}}return n&&(e="Alt-"+e),i&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),s&&(e="Shift-"+e),e}function oo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var s=v(n.split(" "),so),o=0;o<s.length;o++){var r=void 0,a=void 0;o==s.length-1?(a=s.join(" "),r=i):(a=s.slice(0,o+1).join(" "),r="...");var l=t[a];if(l){if(l!=r)throw new Error("Inconsistent bindings for "+a)}else t[a]=r}delete e[n]}for(var c in t)e[c]=t[c];return e}function ro(e,t,n,i){t=uo(t);var s=t.call?t.call(e,i):t[e];if(s===!1)return"nothing";if("..."===s)return"multi";if(null!=s&&n(s))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ro(e,t.fallthrough,n,i);for(var o=0;o<t.fallthrough.length;o++){var r=ro(e,t.fallthrough[o],n,i);if(r)return r}}}function ao(e){var t="string"==typeof e?e:Ba[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function lo(e,t,n){var i=e;return t.altKey&&"Alt"!=i&&(e="Alt-"+e),(Or?t.metaKey:t.ctrlKey)&&"Ctrl"!=i&&(e="Ctrl-"+e),(Or?t.ctrlKey:t.metaKey)&&"Cmd"!=i&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=i&&(e="Shift-"+e),e}function co(e,t){if(Sr&&34==e.keyCode&&e["char"])return!1;var n=Ba[e.keyCode];return null!=n&&!e.altGraphKey&&lo(n,e,t)}function uo(e){return"string"==typeof e?Va[e]:e}function ho(e,t){for(var n=e.doc.sel.ranges,i=[],s=0;s<n.length;s++){for(var o=t(n[s]);i.length&&O(o.from,m(i).to)<=0;){var r=i.pop();if(O(r.from,o.from)<0){o.from=r.from;break}}i.push(o)}pi(e,function(){for(var t=i.length-1;t>=0;t--)Os(e.doc,"",i[t].from,i[t].to,"+delete");Yn(e)})}function po(e,t,n){var i=S(e.text,t+n,n);return i<0||i>e.text.length?null:i}function fo(e,t,n){var i=po(e,t.ch,n);return null==i?null:new N(t.line,i,n<0?"after":"before")}function mo(e,t,n,i,s){if(e){var o=ke(n,t.doc.direction);if(o){var r,a=s<0?m(o):o[0],l=s<0==(1==a.level),c=l?"after":"before";if(a.level>0){var u=Yt(t,n);r=s<0?n.text.length-1:0;var d=Gt(t,u,r).top;r=C(function(e){return Gt(t,u,e).top==d},s<0==(1==a.level)?a.from:a.to-1,r),"before"==c&&(r=po(n,r,1))}else r=s<0?a.to:a.from;return new N(i,r,c)}}return new N(i,s<0?n.text.length:0,s<0?"before":"after")}function vo(e,t,n,i){var s=ke(t,e.doc.direction);if(!s)return fo(t,n,i);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=_e(s,n.ch,n.sticky),r=s[o];if("ltr"==e.doc.direction&&r.level%2==0&&(i>0?r.to>n.ch:r.from<n.ch))return fo(t,n,i);var a,l=function(e,n){return po(t,e instanceof N?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(a=a||Yt(e,t),fn(e,t,a,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==r.level){var d=1==r.level==i<0,h=l(n,d?1:-1);if(null!=h&&(d?h<=r.to&&h<=u.end:h>=r.from&&h>=u.begin)){var p=d?"before":"after";return new N(n.line,h,p)}}var f=function(e,t,i){for(var o=function(e,t){return t?new N(n.line,l(e,1),"before"):new N(n.line,e,"after")};e>=0&&e<s.length;e+=t){var r=s[e],a=t>0==(1!=r.level),c=a?i.begin:l(i.end,-1);if(r.from<=c&&c<r.to)return o(c,a);if(c=a?r.from:l(r.to,-1),i.begin<=c&&c<i.end)return o(c,a)}},m=f(o+i,i,u);if(m)return m;var v=i>0?u.end:l(u.begin,-1);return null==v||i>0&&v==t.text.length||!(m=f(i>0?0:s.length-1,i,c(v)))?null:m}function go(e,t){var n=T(e.doc,t),i=de(n);return i!=n&&(t=$(i)),mo(!0,e,i,t,1)}function bo(e,t){var n=T(e.doc,t),i=he(n);return i!=n&&(t=$(i)),mo(!0,e,n,t,-1)}function yo(e,t){var n=go(e,t.line),i=T(e.doc,n.line),s=ke(i,e.doc.direction);if(!s||0==s[0].level){
var o=Math.max(0,i.text.search(/\S/)),r=t.line==n.line&&t.ch<=o&&t.ch;return N(n.line,r?0:o,n.sticky)}return n}function wo(e,t,n){if("string"==typeof t&&(t=Ha[t],!t))return!1;e.display.input.ensurePolled();var i=e.display.shift,s=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),s=t(e)!=Hr}finally{e.display.shift=i,e.state.suppressEdits=!1}return s}function xo(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var s=ro(t,e.state.keyMaps[i],n,e);if(s)return s}return e.options.extraKeys&&ro(t,e.options.extraKeys,n,e)||ro(t,e.options.keyMap,n,e)}function _o(e,t,n,i){var s=e.state.keySeq;if(s){if(ao(t))return"handled";Wa.set(50,function(){e.state.keySeq==s&&(e.state.keySeq=null,e.display.input.reset())}),t=s+" "+t}var o=xo(e,t,i);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&wt(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||($e(n),Ln(e)),s&&!o&&/\'$/.test(t)?($e(n),!0):!!o}function ko(e,t){var n=co(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?_o(e,"Shift-"+n,t,function(t){return wo(e,t,!0)})||_o(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return wo(e,t)}):_o(e,n,t,function(t){return wo(e,t)}))}function So(e,t,n){return _o(e,"'"+n+"'",t,function(t){return wo(e,t,!0)})}function Co(e){var t=this;if(t.curOp.focus=r(),!Te(t,e)){yr&&wr<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=ko(t,e);Sr&&(qa=i?n:null,!i&&88==n&&!ra&&($r?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||jo(t)}}function jo(e){function t(e){18!=e.keyCode&&e.altKey||(Ir(n,"CodeMirror-crosshair"),Ce(document,"keyup",t),Ce(document,"mouseover",t))}var n=e.display.lineDiv;a(n,"CodeMirror-crosshair"),na(document,"keyup",t),na(document,"mouseover",t)}function To(e){16==e.keyCode&&(this.doc.sel.shift=!1),Te(this,e)}function Eo(e){var t=this;if(!(Nt(t.display,e)||Te(t,e)||e.ctrlKey&&!e.altKey||$r&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(Sr&&n==qa)return qa=null,void $e(e);if(!Sr||e.which&&!(e.which<10)||!ko(t,e)){var s=String.fromCharCode(null==i?n:i);"\b"!=s&&(So(t,e,s)||t.display.input.onKeyPress(e))}}}function Ao(e,t){var n=+new Date;return Xa&&Xa.compare(n,e,t)?(Ka=Xa=null,"triple"):Ka&&Ka.compare(n,e,t)?(Xa=new Ga(n,e,t),Ka=null,"double"):(Ka=new Ga(n,e,t),Xa=null,"single")}function Po(e){var t=this,n=t.display;if(!(Te(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,Nt(n,e))return void(xr||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100)));if(!Bo(t,e)){var i=Cn(t,e),s=Oe(e),o=i?Ao(i,s):"single";window.focus(),1==s&&t.state.selectingText&&t.state.selectingText(e),i&&$o(t,s,i,o,e)||(1==s?i?Ro(t,i,o,e):Ne(e)==n.scroller&&$e(e):2==s?(i&&fs(t.doc,i),setTimeout(function(){return n.input.focus()},20)):3==s&&(Mr?Fo(t,e):Dn(t)))}}}function $o(e,t,n,i,s){var o="Click";return"double"==i?o="Double"+o:"triple"==i&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,_o(e,lo(o,s),s,function(t){if("string"==typeof t&&(t=Ha[t]),!t)return!1;var i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i=t(e,n)!=Hr}finally{e.state.suppressEdits=!1}return i})}function Lo(e,t,n){var i=e.getOption("configureMouse"),s=i?i(e,t,n):{};if(null==s.unit){var o=Lr?n.shiftKey&&n.metaKey:n.altKey;s.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==s.extend||e.doc.extend)&&(s.extend=e.doc.extend||n.shiftKey),null==s.addNew&&(s.addNew=$r?n.metaKey:n.ctrlKey),null==s.moveOnDrag&&(s.moveOnDrag=!($r?n.altKey:n.ctrlKey)),s}function Ro(e,t,n,i){yr?setTimeout(c(Rn,e),0):e.curOp.focus=r();var s,o=Lo(e,n,i),a=e.doc.sel;e.options.dragDrop&&ia&&!e.isReadOnly()&&"single"==n&&(s=a.contains(t))>-1&&(O((s=a.ranges[s]).from(),t)<0||t.xRel>0)&&(O(s.to(),t)>0||t.xRel<0)?Do(e,i,t,o):Oo(e,i,t,o)}function Do(e,t,n,i){var s=e.display,o=!1,r=fi(e,function(t){xr&&(s.scroller.draggable=!1),e.state.draggingText=!1,Ce(document,"mouseup",r),Ce(document,"mousemove",a),Ce(s.scroller,"dragstart",l),Ce(s.scroller,"drop",r),o||($e(t),i.addNew||fs(e.doc,n,null,null,i.extend),xr||yr&&9==wr?setTimeout(function(){document.body.focus(),s.input.focus()},20):s.input.focus())}),a=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},l=function(){return o=!0};xr&&(s.scroller.draggable=!0),e.state.draggingText=r,r.copy=!i.moveOnDrag,s.scroller.dragDrop&&s.scroller.dragDrop(),na(document,"mouseup",r),na(document,"mousemove",a),na(s.scroller,"dragstart",l),na(s.scroller,"drop",r),Dn(e),setTimeout(function(){return s.input.focus()},20)}function No(e,t,n){if("char"==n)return new Pa(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new Pa(N(t.line,0),z(e.doc,N(t.line+1,0)));var i=n(e,t);return new Pa(i.from,i.to)}function Oo(e,t,n,i){function s(t){if(0!=O(g,t))if(g=t,"rectangle"==i.unit){for(var s=[],o=e.options.tabSize,r=d(T(c,n.line).text,n.ch,o),a=d(T(c,t.line).text,t.ch,o),l=Math.min(r,a),m=Math.max(r,a),v=Math.min(n.line,t.line),b=Math.min(e.lastLine(),Math.max(n.line,t.line));v<=b;v++){var y=T(c,v).text,w=p(y,l,o);l==m?s.push(new Pa(N(v,w),N(v,w))):y.length>w&&s.push(new Pa(N(v,w),N(v,p(y,m,o))))}s.length||s.push(new Pa(n,n)),ws(c,Bi(f.ranges.slice(0,h).concat(s),h),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x,_=u,k=No(e,t,i.unit),S=_.anchor;O(k.anchor,S)>0?(x=k.head,S=F(_.from(),k.anchor)):(x=k.anchor,S=B(_.to(),k.head));var C=f.ranges.slice(0);C[h]=Mo(e,new Pa(z(c,S),x)),ws(c,Bi(C,h),qr)}}function o(t){var n=++y,a=Cn(e,t,!0,"rectangle"==i.unit);if(a)if(0!=O(a,g)){e.curOp.focus=r(),s(a);var u=Bn(l,c);(a.line>=u.to||a.line<u.from)&&setTimeout(fi(e,function(){y==n&&o(t)}),150)}else{var d=t.clientY<b.top?-20:t.clientY>b.bottom?20:0;d&&setTimeout(fi(e,function(){y==n&&(l.scroller.scrollTop+=d,o(t))}),50)}}function a(t){e.state.selectingText=!1,y=1/0,$e(t),l.input.focus(),Ce(document,"mousemove",w),Ce(document,"mouseup",x),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;$e(t);var u,h,f=c.sel,m=f.ranges;if(i.addNew&&!i.extend?(h=c.sel.contains(n),u=h>-1?m[h]:new Pa(n,n)):(u=c.sel.primary(),h=c.sel.primIndex),"rectangle"==i.unit)i.addNew||(u=new Pa(n,n)),n=Cn(e,t,!0,!0),h=-1;else{var v=No(e,n,i.unit);u=i.extend?ps(u,v.anchor,v.head,i.extend):v}i.addNew?h==-1?(h=m.length,ws(c,Bi(m.concat([u]),h),{scroll:!1,origin:"*mouse"})):m.length>1&&m[h].empty()&&"char"==i.unit&&!i.extend?(ws(c,Bi(m.slice(0,h).concat(m.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),f=c.sel):vs(c,h,u,qr):(h=0,ws(c,new Aa([u],0),qr),f=c.sel);var g=n,b=l.wrapper.getBoundingClientRect(),y=0,w=fi(e,function(e){Oe(e)?o(e):a(e)}),x=fi(e,a);e.state.selectingText=x,na(document,"mousemove",w),na(document,"mouseup",x)}function Mo(e,t){var n=t.anchor,i=t.head,s=T(e.doc,n.line);if(0==O(n,i)&&n.sticky==i.sticky)return t;var o=ke(s);if(!o)return t;var r=_e(o,n.ch,n.sticky),a=o[r];if(a.from!=n.ch&&a.to!=n.ch)return t;var l=r+(a.from==n.ch==(1!=a.level)?0:1);if(0==l||l==o.length)return t;var c;if(i.line!=n.line)c=(i.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=_e(o,i.ch,i.sticky),d=u-r||(i.ch-n.ch)*(1==a.level?-1:1);c=u==l-1||u==l?d<0:d>0}var h=o[l+(c?-1:0)],p=c==(1==h.level),f=p?h.from:h.to,m=p?"after":"before";return n.ch==f&&n.sticky==m?t:new Pa(new N(n.line,f,m),i)}function Io(e,t,n,i){var s,o;if(t.touches)s=t.touches[0].clientX,o=t.touches[0].clientY;else try{s=t.clientX,o=t.clientY}catch(t){return!1}if(s>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&$e(t);var r=e.display,a=r.lineDiv.getBoundingClientRect();if(o>a.bottom||!Ae(e,n))return Re(t);o-=a.top-r.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=r.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=s){var u=L(e.doc,o),d=e.options.gutters[l];return je(e,n,e,u,d,t),Re(t)}}}function Bo(e,t){return Io(e,t,"gutterClick",!0)}function Fo(e,t){Nt(e.display,t)||Uo(e,t)||Te(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function Uo(e,t){return!!Ae(e,"gutterContextMenu")&&Io(e,t,"gutterContextMenu",!1)}function zo(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),tn(e)}function Vo(e){function t(t,i,s,o){e.defaults[t]=i,s&&(n[t]=o?function(e,t,n){n!=Ja&&s(e,t,n)}:s)}var n=e.optionHandlers;e.defineOption=t,e.Init=Ja,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,qi(e)},!0),t("indentUnit",2,qi,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Yi(e),tn(e),gi(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var s=0;;){var o=e.text.indexOf(t,s);if(o==-1)break;s=o+t.length,n.push(N(i,o))}i++});for(var s=n.length-1;s>=0;s--)Os(e.doc,t,n[s],N(n[s].line,n[s].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ja&&e.refresh()}),t("specialCharPlaceholder",ct,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",Pr?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!Rr),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){zo(e),Ho(e)},!0),t("keyMap","default",function(e,t,n){var i=uo(t),s=n!=Ja&&uo(n);s&&s.detach&&s.detach(e,i),i.attach&&i.attach(e,s||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,qo,!0),t("gutters",[],function(e){Ni(e.options),Ho(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?_n(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return ni(e)},!0),t("scrollbarStyle","native",function(e){si(e),ni(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){Ni(e.options),Ho(e)},!0),t("firstLineNumber",1,Ho,!0),t("lineNumberFormatter",function(e){return e},Ho,!0),t("showCursorWhenSelecting",!1,Tn,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("readOnly",!1,function(e,t){"nocursor"==t&&(On(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Wo),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Tn,!0),t("singleCursorHeightPerLine",!0,Tn,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Yi,!0),t("addModeClass",!1,Yi,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Yi,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}function Ho(e){Di(e),gi(e),Fn(e)}function Wo(e,t,n){var i=n&&n!=Ja;if(!t!=!i){var s=e.display.dragFunctions,o=t?na:Ce;o(e.display.scroller,"dragstart",s.start),o(e.display.scroller,"dragenter",s.enter),o(e.display.scroller,"dragover",s.over),o(e.display.scroller,"dragleave",s.leave),o(e.display.scroller,"drop",s.drop)}}function qo(e){e.options.lineWrapping?(a(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Ir(e.display.wrapper,"CodeMirror-wrap"),we(e)),Sn(e),gi(e),tn(e),setTimeout(function(){return ni(e)},100)}function Yo(e,t){var n=this;if(!(this instanceof Yo))return new Yo(e,t);this.options=t=t?u(t):{},u(Za,t,!1),Ni(t);var i=t.value;"string"==typeof i&&(i=new Oa(i,t.mode,null,t.lineSeparator,t.direction)),this.doc=i;var s=new Yo.inputStyles[t.inputStyle](this),o=this.display=new j(e,i,s);o.wrapper.CodeMirror=this,Di(this),zo(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),si(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Fr,keySeq:null,specialChars:null},t.autofocus&&!Pr&&o.input.focus(),yr&&wr<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Go(this),to(),oi(this),this.curOp.forceUpdate=!0,Ji(this,i),t.autofocus&&!Pr||this.hasFocus()?setTimeout(c(Nn,this),20):On(this);for(var r in Qa)Qa.hasOwnProperty(r)&&Qa[r](n,t[r],Ja);Un(this),t.finishInit&&t.finishInit(this);for(var a=0;a<el.length;++a)el[a](n);ri(this),xr&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Go(e){function t(){s.activeTouch&&(o=setTimeout(function(){return s.activeTouch=null},1e3),r=s.activeTouch,r.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function i(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}var s=e.display;na(s.scroller,"mousedown",fi(e,Po)),yr&&wr<11?na(s.scroller,"dblclick",fi(e,function(t){if(!Te(e,t)){var n=Cn(e,t);if(n&&!Bo(e,t)&&!Nt(e.display,t)){$e(t);var i=e.findWordAt(n);fs(e.doc,i.anchor,i.head)}}})):na(s.scroller,"dblclick",function(t){return Te(e,t)||$e(t)}),Mr||na(s.scroller,"contextmenu",function(t){return Fo(e,t)});var o,r={end:0};na(s.scroller,"touchstart",function(t){if(!Te(e,t)&&!n(t)&&!Bo(e,t)){s.input.ensurePolled(),clearTimeout(o);var i=+new Date;s.activeTouch={start:i,moved:!1,prev:i-r.end<=300?r:null},1==t.touches.length&&(s.activeTouch.left=t.touches[0].pageX,s.activeTouch.top=t.touches[0].pageY)}}),na(s.scroller,"touchmove",function(){s.activeTouch&&(s.activeTouch.moved=!0)}),na(s.scroller,"touchend",function(n){var o=s.activeTouch;if(o&&!Nt(s,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var r,a=e.coordsChar(s.activeTouch,"page");r=!o.prev||i(o,o.prev)?new Pa(a,a):!o.prev.prev||i(o,o.prev.prev)?e.findWordAt(a):new Pa(N(a.line,0),z(e.doc,N(a.line+1,0))),e.setSelection(r.anchor,r.head),e.focus(),$e(n)}t()}),na(s.scroller,"touchcancel",t),na(s.scroller,"scroll",function(){s.scroller.clientHeight&&(Zn(e,s.scroller.scrollTop),ei(e,s.scroller.scrollLeft,!0),je(e,"scroll",e))}),na(s.scroller,"mousewheel",function(t){return Ii(e,t)}),na(s.scroller,"DOMMouseScroll",function(t){return Ii(e,t)}),na(s.wrapper,"scroll",function(){return s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),s.dragFunctions={enter:function(t){Te(e,t)||De(t)},over:function(t){Te(e,t)||(Zs(e,t),De(t))},start:function(t){return Js(e,t)},drop:fi(e,Xs),leave:function(t){Te(e,t)||Qs(e)}};var a=s.input.getField();na(a,"keyup",function(t){return To.call(e,t)}),na(a,"keydown",fi(e,Co)),na(a,"keypress",fi(e,Eo)),na(a,"focus",function(t){return Nn(e,t)}),na(a,"blur",function(t){return On(e,t)})}function Ko(e,t,n,i){var s,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?s=Xe(e,t).state:n="prev");var r=e.options.tabSize,a=T(o,t),l=d(a.text,null,r);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&(c=o.mode.indent(s,a.text.slice(u.length),a.text),c==Hr||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?d(T(o,t-1).text,null,r):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var h="",p=0;if(e.options.indentWithTabs)for(var m=Math.floor(c/r);m;--m)p+=r,h+="\t";if(p<c&&(h+=f(c-p)),h!=u)return Os(o,h,N(t,0),N(t,u.length),"+input"),a.stateAfter=null,!0;for(var v=0;v<o.sel.ranges.length;v++){var g=o.sel.ranges[v];if(g.head.line==t&&g.head.ch<u.length){var b=N(t,u.length);vs(o,v,new Pa(b,b));break}}}function Xo(e){tl=e}function Jo(e,t,n,i,s){var o=e.doc;e.display.shift=!1,i||(i=o.sel);var r=e.state.pasteIncoming||"paste"==s,a=sa(t),l=null;if(r&&i.ranges.length>1)if(tl&&tl.text.join("\n")==t){if(i.ranges.length%tl.text.length==0){l=[];for(var c=0;c<tl.text.length;c++)l.push(o.splitLines(tl.text[c]))}}else a.length==i.ranges.length&&e.options.pasteLinesPerSelection&&(l=v(a,function(e){return[e]}));for(var u,d=i.ranges.length-1;d>=0;d--){var h=i.ranges[d],p=h.from(),f=h.to();h.empty()&&(n&&n>0?p=N(p.line,p.ch-n):e.state.overwrite&&!r?f=N(f.line,Math.min(T(o,f.line).text.length,f.ch+m(a).length)):tl&&tl.lineWise&&tl.text.join("\n")==t&&(p=f=N(p.line,0))),u=e.curOp.updateInput;var g={from:p,to:f,text:l?l[d%l.length]:a,origin:s||(r?"paste":e.state.cutIncoming?"cut":"+input")};Ps(e.doc,g),wt(e,"inputRead",e,g)}t&&!r&&Qo(e,t),Yn(e),e.curOp.updateInput=u,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Zo(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||pi(t,function(){return Jo(t,n,0,null,"paste")}),!0}function Qo(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var s=n.ranges[i];if(!(s.head.ch>100||i&&n.ranges[i-1].head.line==s.head.line)){var o=e.getModeAt(s.head),r=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){r=Ko(e,s.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(T(e.doc,s.head.line).text.slice(0,s.head.ch))&&(r=Ko(e,s.head.line,"smart"));r&&wt(e,"electricInput",e,s.head.line)}}}function er(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var s=e.doc.sel.ranges[i].head.line,o={anchor:N(s,0),head:N(s+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function tr(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function nr(){var e=i("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=i("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return xr?e.style.width="1000px":e.setAttribute("wrap","off"),Er&&(e.style.border="1px solid black"),tr(e),t}function ir(e,t,n,i,s){function o(){var i=t.line+n;return!(i<e.first||i>=e.first+e.size)&&(t=new N(i,t.ch,t.sticky),c=T(e,i))}function r(i){var r;if(r=s?vo(e.cm,c,t,n):fo(c,t,n),null==r){if(i||!o())return!1;t=mo(s,e.cm,c,t.line,n)}else t=r;return!0}var a=t,l=n,c=T(e,t.line);if("char"==i)r();else if("column"==i)r(!0);else if("word"==i||"group"==i)for(var u=null,d="group"==i,h=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(n<0)||r(!p);p=!1){var f=c.text.charAt(t.ch)||"\n",m=x(f,h)?"w":d&&"\n"==f?"n":!d||/\s/.test(f)?null:"p";if(!d||p||m||(m="s"),u&&u!=m){n<0&&(n=1,r(),t.sticky="after");break}if(m&&(u=m),n>0&&!r(!p))break}var v=js(e,t,a,l,!0);return M(a,v)&&(v.hitSide=!0),v}function sr(e,t,n,i){var s,o=e.doc,r=t.left;if("page"==i){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(a-.5*yn(e.display),3);s=(n>0?t.bottom:t.top)+n*l}else"line"==i&&(s=n>0?t.bottom+3:t.top-3);for(var c;c=hn(e,r,s),c.outside;){if(n<0?s<=0:s>=o.height){c.hitSide=!0;break}s+=5*n}return c}function or(e,t){var n=qt(e,t.line);if(!n||n.hidden)return null;var i=T(e.doc,t.line),s=Vt(n,i,t.line),o=ke(i,e.doc.direction),r="left";if(o){var a=_e(o,t.ch);r=a%2?"right":"left"}var l=Kt(s.map,t.ch,r);return l.offset="right"==l.collapse?l.end:l.start,l}function rr(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function ar(e,t){return t&&(e.bad=!0),e}function lr(e,t,n,i,s){function o(e){return function(t){return t.id==e}}function r(){u&&(c+=d,u=!1)}function a(e){e&&(r(),c+=e)}function l(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return void a(n||t.textContent.replace(/\u200b/g,""));var c,h=t.getAttribute("cm-marker");if(h){var p=e.findMarks(N(i,0),N(s+1,0),o(+h));return void(p.length&&(c=p[0].find(0))&&a(E(e.doc,c.from,c.to).join(d)))}if("false"==t.getAttribute("contenteditable"))return;var f=/^(pre|div|p)$/i.test(t.nodeName);f&&r();for(var m=0;m<t.childNodes.length;m++)l(t.childNodes[m]);f&&(u=!0)}else 3==t.nodeType&&a(t.nodeValue)}for(var c="",u=!1,d=e.doc.lineSeparator();l(t),t!=n;)t=t.nextSibling;return c}function cr(e,t,n){var i;if(t==e.display.lineDiv){if(i=e.display.lineDiv.childNodes[n],!i)return ar(e.clipPos(N(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var s=0;s<e.display.view.length;s++){var o=e.display.view[s];if(o.node==i)return ur(o,t,n)}}function ur(e,t,n){function i(t,n,i){for(var s=-1;s<(d?d.length:0);s++)for(var o=s<0?u.map:d[s],r=0;r<o.length;r+=3){var a=o[r+2];if(a==t||a==n){var l=$(s<0?e.line:e.rest[s]),c=o[r]+i;return(i<0||a!=t)&&(c=o[r+(i?1:0)]),N(l,c)}}}var s=e.text.firstChild,r=!1;if(!t||!o(s,t))return ar(N($(e.line),0),!0);if(t==s&&(r=!0,t=s.childNodes[n],n=0,!t)){var a=e.rest?m(e.rest):e.line;return ar(N($(a),a.text.length),r)}var l=3==t.nodeType?t:null,c=t;for(l||1!=t.childNodes.length||3!=t.firstChild.nodeType||(l=t.firstChild,n&&(n=l.nodeValue.length));c.parentNode!=s;)c=c.parentNode;var u=e.measure,d=u.maps,h=i(l,c,n);if(h)return ar(h,r);for(var p=c.nextSibling,f=l?l.nodeValue.length-n:0;p;p=p.nextSibling){if(h=i(p,p.firstChild,0))return ar(N(h.line,h.ch-f),r);f+=p.textContent.length}for(var v=c.previousSibling,g=n;v;v=v.previousSibling){if(h=i(v,v.firstChild,-1))return ar(N(h.line,h.ch+g),r);g+=v.textContent.length}}function dr(e,t){function n(){e.value=c.getValue()}if(t=t?u(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var i=r();t.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}var s;if(e.form&&(na(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;s=o.submit;try{var a=o.submit=function(){n(),o.submit=s,o.submit(),o.submit=a}}catch(l){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Ce(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=s))}},e.style.display="none";var c=Yo(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return c}function hr(e){e.off=Ce,e.on=na,e.wheelEventPixels=Mi,e.Doc=Oa,e.splitLines=sa,e.countColumn=d,e.findColumn=p,e.isWordChar=w,e.Pass=Hr,e.signal=je,e.Line=ma,e.changeEnd=Ui,e.scrollbarModel=Sa,e.Pos=N,e.cmpPos=O,e.modes=la,e.mimeModes=ca,e.resolveMode=ze,e.getMode=Ve,e.modeExtensions=ua,e.extendMode=He,e.copyState=We,e.startState=Ye,e.innerMode=qe,e.commands=Ha,e.keyMap=Va,e.keyName=co,e.isModifierKey=ao,e.lookupKey=ro,e.normalizeKeyMap=oo,e.StringStream=da,e.SharedTextMarker=Da,e.TextMarker=Ra,e.LineWidget=$a,e.e_preventDefault=$e,e.e_stopPropagation=Le,e.e_stop=De,e.addClass=a,e.contains=o,e.rmClass=Ir,e.keyNames=Ba}var pr=navigator.userAgent,fr=navigator.platform,mr=/gecko\/\d/i.test(pr),vr=/MSIE \d/.test(pr),gr=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pr),br=/Edge\/(\d+)/.exec(pr),yr=vr||gr||br,wr=yr&&(vr?document.documentMode||6:+(br||gr)[1]),xr=!br&&/WebKit\//.test(pr),_r=xr&&/Qt\/\d+\.\d+/.test(pr),kr=!br&&/Chrome\//.test(pr),Sr=/Opera\//.test(pr),Cr=/Apple Computer/.test(navigator.vendor),jr=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(pr),Tr=/PhantomJS/.test(pr),Er=!br&&/AppleWebKit/.test(pr)&&/Mobile\/\w+/.test(pr),Ar=/Android/.test(pr),Pr=Er||Ar||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(pr),$r=Er||/Mac/.test(fr),Lr=/\bCrOS\b/.test(pr),Rr=/win/i.test(fr),Dr=Sr&&pr.match(/Version\/(\d*\.\d*)/);Dr&&(Dr=Number(Dr[1])),Dr&&Dr>=15&&(Sr=!1,xr=!0);var Nr,Or=$r&&(_r||Sr&&(null==Dr||Dr<12.11)),Mr=mr||yr&&wr>=9,Ir=function(t,n){var i=t.className,s=e(n).exec(i);if(s){var o=i.slice(s.index+s[0].length);t.className=i.slice(0,s.index)+(o?s[1]+o:"")}};Nr=document.createRange?function(e,t,n,i){var s=document.createRange();return s.setEnd(i||e,n),s.setStart(e,t),s}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(s){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var Br=function(e){e.select()};Er?Br=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:yr&&(Br=function(e){try{e.select()}catch(t){}});var Fr=function(){this.id=null};Fr.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Ur,zr,Vr=30,Hr={toString:function(){return"CodeMirror.Pass"}},Wr={scroll:!1},qr={origin:"*mouse"},Yr={origin:"+move"},Gr=[""],Kr=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Xr=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Jr=!1,Zr=!1,Qr=null,ea=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?i.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,r=/[LRr]/,a=/[Lb1n]/,l=/[1n]/;return function(n,i){var c="ltr"==i?"L":"R";if(0==n.length||"ltr"==i&&!s.test(n))return!1;for(var u=n.length,d=[],h=0;h<u;++h)d.push(e(n.charCodeAt(h)));for(var p=0,f=c;p<u;++p){var v=d[p];"m"==v?d[p]=f:f=v}for(var g=0,b=c;g<u;++g){var y=d[g];"1"==y&&"r"==b?d[g]="n":r.test(y)&&(b=y,"r"==y&&(d[g]="R"))}for(var w=1,x=d[0];w<u-1;++w){var _=d[w];"+"==_&&"1"==x&&"1"==d[w+1]?d[w]="1":","!=_||x!=d[w+1]||"1"!=x&&"n"!=x||(d[w]=x),x=_}for(var k=0;k<u;++k){var S=d[k];if(","==S)d[k]="N";else if("%"==S){var C=void 0;for(C=k+1;C<u&&"%"==d[C];++C);for(var j=k&&"!"==d[k-1]||C<u&&"1"==d[C]?"1":"N",T=k;T<C;++T)d[T]=j;k=C-1}}for(var E=0,A=c;E<u;++E){var P=d[E];"L"==A&&"1"==P?d[E]="L":r.test(P)&&(A=P)}for(var $=0;$<u;++$)if(o.test(d[$])){var L=void 0;for(L=$+1;L<u&&o.test(d[L]);++L);for(var R="L"==($?d[$-1]:c),D="L"==(L<u?d[L]:c),N=R==D?R?"L":"R":c,O=$;O<L;++O)d[O]=N;$=L-1}for(var M,I=[],B=0;B<u;)if(a.test(d[B])){var F=B;for(++B;B<u&&a.test(d[B]);++B);I.push(new t(0,F,B))}else{var U=B,z=I.length;for(++B;B<u&&"L"!=d[B];++B);for(var V=U;V<B;)if(l.test(d[V])){U<V&&I.splice(z,0,new t(1,U,V));var H=V;for(++V;V<B&&l.test(d[V]);++V);I.splice(z,0,new t(2,H,V)),U=V}else++V;U<B&&I.splice(z,0,new t(1,U,B))}return 1==I[0].level&&(M=n.match(/^\s+/))&&(I[0].from=M[0].length,I.unshift(new t(0,0,M[0].length))),1==m(I).level&&(M=n.match(/\s+$/))&&(m(I).to-=M[0].length,I.push(new t(0,u-M[0].length,u))),"rtl"==i?I.reverse():I}}(),ta=[],na=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={});i[t]=(i[t]||ta).concat(n)}},ia=function(){if(yr&&wr<9)return!1;var e=i("div");return"draggable"in e||"dragDrop"in e}(),sa=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;t<=i;){var s=e.indexOf("\n",t);s==-1&&(s=e.length);var o=e.slice(t,"\r"==e.charAt(s-1)?s-1:s),r=o.indexOf("\r");r!=-1?(n.push(o.slice(0,r)),t+=r+1):(n.push(o),t=s+1)}return n}:function(e){return e.split(/\r\n?|\n/)},oa=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},ra=function(){var e=i("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),aa=null,la={},ca={},ua={},da=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};da.prototype.eol=function(){return this.pos>=this.string.length},da.prototype.sol=function(){return this.pos==this.lineStart},da.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},da.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},da.prototype.eat=function(e){var t,n=this.string.charAt(this.pos);if(t="string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)))return++this.pos,n},da.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},da.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},da.prototype.skipToEnd=function(){this.pos=this.string.length},da.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},da.prototype.backUp=function(e){this.pos-=e},da.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=d(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?d(this.string,this.lineStart,this.tabSize):0)},da.prototype.indentation=function(){return d(this.string,null,this.tabSize)-(this.lineStart?d(this.string,this.lineStart,this.tabSize):0)},da.prototype.match=function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}var s=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(s(o)==s(e))return t!==!1&&(this.pos+=e.length),!0},da.prototype.current=function(){return this.string.slice(this.start,this.pos)},da.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},da.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)};var ha=function(e,t){this.state=e,
this.lookAhead=t},pa=function(e,t,n,i){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=i||0};pa.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},pa.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},pa.fromSaved=function(e,t,n){return t instanceof ha?new pa(e,We(e.mode,t.state),n,t.lookAhead):new pa(e,We(e.mode,t),n)},pa.prototype.save=function(e){var t=e!==!1?We(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ha(t,this.maxLookAhead):t};var fa=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n},ma=function(e,t,n){this.text=e,ie(this,t),this.height=n?n(this):1};ma.prototype.lineNo=function(){return $(this)},Pe(ma);var va,ga={},ba={},ya=null,wa=null,xa={left:0,right:0,top:0,bottom:0},_a=function(e,t,n){this.cm=n;var s=this.vert=i("div",[i("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=i("div",[i("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(s),e(o),na(s,"scroll",function(){s.clientHeight&&t(s.scrollTop,"vertical")}),na(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,yr&&wr<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};_a.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var s=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+s)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:t?i:0}},_a.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},_a.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},_a.prototype.zeroWidthHack=function(){var e=$r&&!jr?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Fr,this.disableVert=new Fr},_a.prototype.enableZeroWidthBar=function(e,t,n){function i(){var s=e.getBoundingClientRect(),o="vert"==n?document.elementFromPoint(s.right-1,(s.top+s.bottom)/2):document.elementFromPoint((s.right+s.left)/2,s.bottom-1);o!=e?e.style.pointerEvents="none":t.set(1e3,i)}e.style.pointerEvents="auto",t.set(1e3,i)},_a.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var ka=function(){};ka.prototype.update=function(){return{bottom:0,right:0}},ka.prototype.setScrollLeft=function(){},ka.prototype.setScrollTop=function(){},ka.prototype.clear=function(){};var Sa={"native":_a,"null":ka},Ca=0,ja=function(e,t,n){var i=e.display;this.viewport=t,this.visible=Bn(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Ft(e),this.force=n,this.dims=xn(e),this.events=[]};ja.prototype.signal=function(e,t){Ae(e,t)&&this.events.push(arguments)},ja.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)je.apply(null,e.events[t])};var Ta=0,Ea=null;yr?Ea=-.53:mr?Ea=15:kr?Ea=-.7:Cr&&(Ea=-1/3);var Aa=function(e,t){this.ranges=e,this.primIndex=t};Aa.prototype.primary=function(){return this.ranges[this.primIndex]},Aa.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var i=t.ranges[n],s=e.ranges[n];if(!M(i.anchor,s.anchor)||!M(i.head,s.head))return!1}return!0},Aa.prototype.deepCopy=function(){for(var e=this,t=[],n=0;n<this.ranges.length;n++)t[n]=new Pa(I(e.ranges[n].anchor),I(e.ranges[n].head));return new Aa(t,this.primIndex)},Aa.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},Aa.prototype.contains=function(e,t){var n=this;t||(t=e);for(var i=0;i<this.ranges.length;i++){var s=n.ranges[i];if(O(t,s.from())>=0&&O(e,s.to())<=0)return i}return-1};var Pa=function(e,t){this.anchor=e,this.head=t};Pa.prototype.from=function(){return F(this.anchor,this.head)},Pa.prototype.to=function(){return B(this.anchor,this.head)},Pa.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Us.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=this,i=e,s=e+t;i<s;++i){var o=n.lines[i];n.height-=o.height,rt(o),wt(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){var i=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var s=0;s<t.length;++s)t[s].parent=i},iterN:function(e,t,n){for(var i=this,s=e+t;e<s;++e)if(n(i.lines[e]))return!0}},zs.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var n=this;this.size-=t;for(var i=0;i<this.children.length;++i){var s=n.children[i],o=s.chunkSize();if(e<o){var r=Math.min(t,o-e),a=s.height;if(s.removeInner(e,r),n.height-=a-s.height,o==r&&(n.children.splice(i--,1),s.parent=null),0==(t-=r))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Us))){var l=[];this.collapse(l),this.children=[new Us(l)],this.children[0].parent=this}},collapse:function(e){for(var t=this,n=0;n<this.children.length;++n)t.children[n].collapse(e)},insertInner:function(e,t,n){var i=this;this.size+=t.length,this.height+=n;for(var s=0;s<this.children.length;++s){var o=i.children[s],r=o.chunkSize();if(e<=r){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,l=a;l<o.lines.length;){var c=new Us(o.lines.slice(l,l+=25));o.height-=c.height,i.children.splice(++s,0,c),c.parent=i}o.lines=o.lines.slice(0,a),i.maybeSpill()}break}e-=r}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new zs(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=h(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var s=new zs(e.children);s.parent=e,e.children=[s,n],e=s}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=this,s=0;s<this.children.length;++s){var o=i.children[s],r=o.chunkSize();if(e<r){var a=Math.min(t,r-e);if(o.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=r}}};var $a=function(e,t,n){var i=this;if(n)for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);this.doc=e,this.node=t};$a.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,i=this.line,s=$(i);if(null!=s&&n){for(var o=0;o<n.length;++o)n[o]==e&&n.splice(o--,1);n.length||(i.widgets=null);var r=Dt(this);P(i,Math.max(0,i.height-r)),t&&(pi(t,function(){Vs(t,i,-r),bi(t,s,"widget")}),wt(t,"lineWidgetCleared",t,this,s))}},$a.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,i=this.line;this.height=null;var s=Dt(this)-t;s&&(P(i,i.height+s),n&&pi(n,function(){n.curOp.forceUpdate=!0,Vs(n,i,s),wt(n,"lineWidgetChanged",n,e,$(i))}))},Pe($a);var La=0,Ra=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++La};Ra.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&oi(t),Ae(this,"clear")){var i=this.find();i&&wt(this,"clear",i.from,i.to)}for(var s=null,o=null,r=0;r<this.lines.length;++r){var a=e.lines[r],l=G(a.markedSpans,e);t&&!e.collapsed?bi(t,$(a),"text"):t&&(null!=l.to&&(o=$(a)),null!=l.from&&(s=$(a))),a.markedSpans=K(a.markedSpans,l),null==l.from&&e.collapsed&&!ve(e.doc,a)&&t&&P(a,yn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var u=de(e.lines[c]),d=ye(u);d>t.display.maxLineLength&&(t.display.maxLine=u,t.display.maxLineLength=d,t.display.maxLineChanged=!0)}null!=s&&t&&this.collapsed&&gi(t,s,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&ks(t.doc)),t&&wt(t,"markerCleared",t,this,s,o),n&&ri(t),this.parent&&this.parent.clear()}},Ra.prototype.find=function(e,t){var n=this;null==e&&"bookmark"==this.type&&(e=1);for(var i,s,o=0;o<this.lines.length;++o){var r=n.lines[o],a=G(r.markedSpans,n);if(null!=a.from&&(i=N(t?r:$(r),a.from),e==-1))return i;if(null!=a.to&&(s=N(t?r:$(r),a.to),1==e))return s}return i&&{from:i,to:s}},Ra.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,i=this.doc.cm;t&&i&&pi(i,function(){var s=t.line,o=$(t.line),r=qt(i,o);if(r&&(Qt(r),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!ve(n.doc,s)&&null!=n.height){var a=n.height;n.height=null;var l=Dt(n)-a;l&&P(s,s.height+l)}wt(i,"markerChanged",i,e)})},Ra.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&h(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ra.prototype.detachLine=function(e){if(this.lines.splice(h(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Pe(Ra);var Da=function(e,t){var n=this;this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=n};Da.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();wt(this,"clear")}},Da.prototype.find=function(e,t){return this.primary.find(e,t)},Pe(Da);var Na=0,Oa=function(e,t,n,i,s){if(!(this instanceof Oa))return new Oa(e,t,n,i,s);null==n&&(n=0),zs.call(this,[new Us([new ma("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=N(n,0);this.sel=Fi(o),this.history=new es(null),this.id=++Na,this.modeOption=t,this.lineSep=i,this.direction="rtl"==s?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ki(this,{from:o,to:o,text:e}),ws(this,Fi(o),Wr)};Oa.prototype=y(zs.prototype,{constructor:Oa,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=A(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:vi(function(e){var t=N(this.first,0),n=this.first+this.size-1;Ps(this,{from:t,to:N(n,T(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Gn(this.cm,0,0),ws(this,Fi(t),Wr)}),replaceRange:function(e,t,n,i){t=z(this,t),n=n?z(this,n):t,Os(this,e,t,n,i)},getRange:function(e,t,n){var i=E(this,z(this,e),z(this,t));return n===!1?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(R(this,e))return T(this,e)},getLineNumber:function(e){return $(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=T(this,e)),de(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return z(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:vi(function(e,t,n){gs(this,z(this,"number"==typeof e?N(e,t||0):e),null,n)}),setSelection:vi(function(e,t,n){gs(this,z(this,e),z(this,t||e),n)}),extendSelection:vi(function(e,t,n){fs(this,z(this,e),t&&z(this,t),n)}),extendSelections:vi(function(e,t){ms(this,H(this,e),t)}),extendSelectionsBy:vi(function(e,t){var n=v(this.sel.ranges,e);ms(this,H(this,n),t)}),setSelections:vi(function(e,t,n){var i=this;if(e.length){for(var s=[],o=0;o<e.length;o++)s[o]=new Pa(z(i,e[o].anchor),z(i,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ws(this,Bi(s,t),n)}}),addSelection:vi(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new Pa(z(this,e),z(this,t||e))),ws(this,Bi(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this,i=this.sel.ranges,s=0;s<i.length;s++){var o=E(n,i[s].from(),i[s].to());t=t?t.concat(o):o}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,n=[],i=this.sel.ranges,s=0;s<i.length;s++){var o=E(t,i[s].from(),i[s].to());e!==!1&&(o=o.join(e||t.lineSeparator())),n[s]=o}return n},replaceSelection:function(e,t,n){for(var i=[],s=0;s<this.sel.ranges.length;s++)i[s]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:vi(function(e,t,n){for(var i=this,s=[],o=this.sel,r=0;r<o.ranges.length;r++){var a=o.ranges[r];s[r]={from:a.from(),to:a.to(),text:i.splitLines(e[r]),origin:n}}for(var l=t&&"end"!=t&&Wi(this,s,t),c=s.length-1;c>=0;c--)Ps(i,s[c]);l?ys(this,l):this.cm&&Yn(this.cm)}),undo:vi(function(){Ls(this,"undo")}),redo:vi(function(){Ls(this,"redo")}),undoSelection:vi(function(){Ls(this,"undo",!0)}),redoSelection:vi(function(){Ls(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var s=0;s<e.undone.length;s++)e.undone[s].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new es(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:hs(this.history.done),undone:hs(this.history.undone)}},setHistory:function(e){var t=this.history=new es(this.history.maxGeneration);t.done=hs(e.done.slice(0),null,!0),t.undone=hs(e.undone.slice(0),null,!0)},setGutterMarker:vi(function(e,t,n){return Fs(this,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&_(i)&&(e.gutterMarkers=null),!0})}),clearGutter:vi(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Fs(t,n,"gutter",function(){return n.gutterMarkers[e]=null,_(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!R(this,e))return null;if(t=e,e=T(this,e),!e)return null}else if(t=$(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:vi(function(t,n,i){return Fs(this,t,"gutter"==n?"gutter":"class",function(t){var s="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[s]){if(e(i).test(t[s]))return!1;t[s]+=" "+i}else t[s]=i;return!0})}),removeLineClass:vi(function(t,n,i){return Fs(this,t,"gutter"==n?"gutter":"class",function(t){var s="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",o=t[s];if(!o)return!1;if(null==i)t[s]=null;else{var r=o.match(e(i));if(!r)return!1;var a=r.index+r[0].length;t[s]=o.slice(0,r.index)+(r.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0})}),addLineWidget:vi(function(e,t,n){return Hs(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Ws(this,z(this,e),z(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=z(this,e),Ws(this,e,e,n,"bookmark")},findMarksAt:function(e){e=z(this,e);var t=[],n=T(this,e.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var s=n[i];(null==s.from||s.from<=e.ch)&&(null==s.to||s.to>=e.ch)&&t.push(s.marker.parent||s.marker)}return t},findMarks:function(e,t,n){e=z(this,e),t=z(this,t);var i=[],s=e.line;return this.iter(e.line,t.line+1,function(o){var r=o.markedSpans;if(r)for(var a=0;a<r.length;a++){var l=r[a];null!=l.to&&s==e.line&&e.ch>=l.to||null==l.from&&s!=e.line||null!=l.from&&s==t.line&&l.from>=t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++s}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first,i=this.lineSeparator().length;return this.iter(function(s){var o=s.text.length+i;return o>e?(t=e,!0):(e-=o,void++n)}),z(this,N(n,t))},indexFromPos:function(e){e=z(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Oa(A(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new Oa(A(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Gs(i,Ys(this)),i},unlinkDoc:function(e){var t=this;if(e instanceof Yo&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=t.linked[n];if(i.doc==e){t.linked.splice(n,1),e.unlinkDoc(t),Ks(Ys(t));break}}if(e.history==this.history){var s=[e.id];Xi(e,function(e){return s.push(e.id)},!0),e.history=new es(null),e.history.done=hs(this.history.done,s),e.history.undone=hs(this.history.undone,s)}},iterLinkedDocs:function(e){Xi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):sa(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:vi(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Qi(this.cm))})}),Oa.prototype.eachLine=Oa.prototype.iter;for(var Ma=0,Ia=!1,Ba={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Fa=0;Fa<10;Fa++)Ba[Fa+48]=Ba[Fa+96]=String(Fa);for(var Ua=65;Ua<=90;Ua++)Ba[Ua]=String.fromCharCode(Ua);for(var za=1;za<=12;za++)Ba[za+111]=Ba[za+63235]="F"+za;var Va={};Va.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Va.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Va.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Va.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Va["default"]=$r?Va.macDefault:Va.pcDefault;var Ha={selectAll:Es,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Wr)},killLine:function(e){return ho(e,function(t){if(t.empty()){var n=T(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:N(t.head.line+1,0)}:{from:t.head,to:N(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return ho(e,function(t){return{from:N(t.from().line,0),to:z(e.doc,N(t.to().line+1,0))}})},delLineLeft:function(e){return ho(e,function(e){return{from:N(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return ho(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return{from:i,to:t.from()}})},delWrappedLineRight:function(e){return ho(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(N(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(N(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return go(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return yo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return bo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Yr)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Yr)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?yo(e,t.head):i},Yr)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,s=0;s<n.length;s++){var o=n[s].from(),r=d(e.getLine(o.line),o.ch,i);t.push(f(i-r%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return pi(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++)if(t[i].empty()){var s=t[i].head,o=T(e.doc,s.line).text;if(o)if(s.ch==o.length&&(s=new N(s.line,s.ch-1)),s.ch>0)s=new N(s.line,s.ch+1),e.replaceRange(o.charAt(s.ch-1)+o.charAt(s.ch-2),N(s.line,s.ch-2),s,"+transpose");else if(s.line>e.doc.first){var r=T(e.doc,s.line-1).text;r&&(s=new N(s.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+r.charAt(r.length-1),N(s.line-1,r.length-1),s,"+transpose"))}n.push(new Pa(s,s))}e.setSelections(n)})},newlineAndIndent:function(e){return pi(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var i=0;i<t.length;i++)e.indentLine(t[i].from().line,null,!0);Yn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Wa=new Fr,qa=null,Ya=400,Ga=function(e,t,n){this.time=e,this.pos=t,this.button=n};Ga.prototype.compare=function(e,t,n){return this.time+Ya>e&&0==O(t,this.pos)&&n==this.button};var Ka,Xa,Ja={toString:function(){return"CodeMirror.Init"}},Za={},Qa={};Yo.defaults=Za,Yo.optionHandlers=Qa;var el=[];Yo.defineInitHook=function(e){return el.push(e)};var tl=null,nl=function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var i=this.options,s=i[e];i[e]==n&&"mode"!=e||(i[e]=n,t.hasOwnProperty(e)&&fi(this,t[e])(this,n,s),je(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](uo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:mi(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");g(this.state.overlays,{mode:i,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,gi(this)}),removeOverlay:mi(function(e){for(var t=this,n=this.state.overlays,i=0;i<n.length;++i){var s=n[i].modeSpec;if(s==e||"string"==typeof e&&s.name==e)return n.splice(i,1),t.state.modeGen++,void gi(t)}}),indentLine:mi(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),R(this.doc,e)&&Ko(this,e,t,n)}),indentSelection:mi(function(e){for(var t=this,n=this.doc.sel.ranges,i=-1,s=0;s<n.length;s++){var o=n[s];if(o.empty())o.head.line>i&&(Ko(t,o.head.line,e,!0),i=o.head.line,s==t.doc.sel.primIndex&&Yn(t));else{var r=o.from(),a=o.to(),l=Math.max(i,r.line);i=Math.min(t.lastLine(),a.line-(a.ch?0:1))+1;for(var c=l;c<i;++c)Ko(t,c,e);var u=t.doc.sel.ranges;0==r.ch&&n.length==u.length&&u[s].from().ch>0&&vs(t.doc,s,new Pa(r,u[s].to()),Wr)}}}),getTokenAt:function(e,t){return et(this,e,t)},getLineTokens:function(e,t){return et(this,N(e),t,!0)},getTokenTypeAt:function(e){e=z(this.doc,e);var t,n=Ke(this,T(this.doc,e.line)),i=0,s=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var r=i+s>>1;if((r?n[2*r-1]:0)>=o)s=r;else{if(!(n[2*r+1]<o)){t=n[2*r+2];break}i=r+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=this,s=[];if(!n.hasOwnProperty(t))return s;var o=n[t],r=this.getModeAt(e);if("string"==typeof r[t])o[r[t]]&&s.push(o[r[t]]);else if(r[t])for(var a=0;a<r[t].length;a++){var l=o[r[t][a]];l&&s.push(l)}else r.helperType&&o[r.helperType]?s.push(o[r.helperType]):o[r.name]&&s.push(o[r.name]);for(var c=0;c<o._global.length;c++){var u=o._global[c];u.pred(r,i)&&h(s,u.val)==-1&&s.push(u.val)}return s},getStateAfter:function(e,t){var n=this.doc;return e=U(n,null==e?n.first+n.size-1:e),Xe(this,e+1,t).state},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();return n=null==e?i.head:"object"==typeof e?z(this.doc,e):e?i.from():i.to(),cn(this,n,t||"page")},charCoords:function(e,t){return ln(this,z(this.doc,e),t||"page")},coordsChar:function(e,t){return e=an(this,e,t||"page"),hn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=an(this,{top:e,left:0},t||"page").top,L(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var i,s=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,s=!0),i=T(this.doc,e)}else i=e;return rn(this,i,{top:0,left:0},t||"page",n||s).top+(s?this.doc.height-be(i):0)},defaultTextHeight:function(){return yn(this.display)},defaultCharWidth:function(){return wn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,s){var o=this.display;e=cn(this,z(this.doc,e));var r=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==i)r=e.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?r=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(r=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=r+"px",t.style.left=t.style.right="","right"==s?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==s?a=0:"middle"==s&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&Hn(this,{left:a,top:r,right:a+t.offsetWidth,bottom:r+t.offsetHeight})},triggerOnKeyDown:mi(Co),triggerOnKeyPress:mi(Eo),triggerOnKeyUp:To,triggerOnMouseDown:mi(Po),execCommand:function(e){if(Ha.hasOwnProperty(e))return Ha[e].call(null,this)},triggerElectric:mi(function(e){Qo(this,e)}),findPosH:function(e,t,n,i){var s=this,o=1;t<0&&(o=-1,t=-t);for(var r=z(this.doc,e),a=0;a<t&&(r=ir(s.doc,r,o,n,i),!r.hitSide);++a);return r},moveH:mi(function(e,t){var n=this;this.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?ir(n.doc,i.head,e,t,n.options.rtlMoveVisually):e<0?i.from():i.to()},Yr)}),deleteH:mi(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):ho(this,function(n){var s=ir(i,n.head,e,t,!1);return e<0?{
from:s,to:n.head}:{from:n.head,to:s}})}),findPosV:function(e,t,n,i){var s=this,o=1,r=i;t<0&&(o=-1,t=-t);for(var a=z(this.doc,e),l=0;l<t;++l){var c=cn(s,a,"div");if(null==r?r=c.left:c.left=r,a=sr(s,c,o,n),a.hitSide)break}return a},moveV:mi(function(e,t){var n=this,i=this.doc,s=[],o=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(r){if(o)return e<0?r.from():r.to();var a=cn(n,r.head,"div");null!=r.goalColumn&&(a.left=r.goalColumn),s.push(a.left);var l=sr(n,a,e,t);return"page"==t&&r==i.sel.primary()&&qn(n,ln(n,l,"div").top-a.top),l},Yr),s.length)for(var r=0;r<i.sel.ranges.length;r++)i.sel.ranges[r].goalColumn=s[r]}),findWordAt:function(e){var t=this.doc,n=T(t,e.line).text,i=e.ch,s=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&s!=n.length||!i?++s:--i;for(var r=n.charAt(i),a=x(r,o)?function(e){return x(e,o)}:/\s/.test(r)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!x(e)};i>0&&a(n.charAt(i-1));)--i;for(;s<n.length&&a(n.charAt(s));)++s}return new Pa(N(e.line,i),N(e.line,s))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?a(this.display.cursorDiv,"CodeMirror-overwrite"):Ir(this.display.cursorDiv,"CodeMirror-overwrite"),je(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==r()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:mi(function(e,t){Gn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Bt(this)-this.display.barHeight,width:e.scrollWidth-Bt(this)-this.display.barWidth,clientHeight:Ut(this),clientWidth:Ft(this)}},scrollIntoView:mi(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:N(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Kn(this,e):Jn(this,e.from,e.to,e.margin)}),setSize:mi(function(e,t){var n=this,i=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=i(e)),null!=t&&(this.display.wrapper.style.height=i(t)),this.options.lineWrapping&&en(this);var s=this.display.viewFrom;this.doc.iter(s,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){bi(n,s,"widget");break}++s}),this.curOp.forceUpdate=!0,je(this,"refresh",this)}),operation:function(e){return pi(this,e)},startOperation:function(){return oi(this)},endOperation:function(){return ri(this)},refresh:mi(function(){var e=this.display.cachedTextHeight;gi(this),this.curOp.forceUpdate=!0,tn(this),Gn(this,this.doc.scrollLeft,this.doc.scrollTop),Li(this),(null==e||Math.abs(e-yn(this.display))>.5)&&Sn(this),je(this,"refresh",this)}),swapDoc:mi(function(e){var t=this.doc;return t.cm=null,Ji(this,e),tn(this),this.display.input.reset(),Gn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,wt(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Pe(e),e.registerHelper=function(t,i,s){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][i]=s},e.registerGlobalHelper=function(t,i,s,o){e.registerHelper(t,i,o),n[t]._global.push({pred:s,val:o})}},il=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Fr,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};il.prototype.init=function(e){function t(e){if(!Te(s,e)){if(s.somethingSelected())Xo({lineWise:!1,text:s.getSelections()}),"cut"==e.type&&s.replaceSelection("",null,"cut");else{if(!s.options.lineWiseCopyCut)return;var t=er(s);Xo({lineWise:!0,text:t.text}),"cut"==e.type&&s.operation(function(){s.setSelections(t.ranges,0,Wr),s.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var n=tl.text.join("\n");if(e.clipboardData.setData("Text",n),e.clipboardData.getData("Text")==n)return void e.preventDefault()}var r=nr(),a=r.firstChild;s.display.lineSpace.insertBefore(r,s.display.lineSpace.firstChild),a.value=tl.text.join("\n");var l=document.activeElement;Br(a),setTimeout(function(){s.display.lineSpace.removeChild(r),l.focus(),l==o&&i.showPrimarySelection()},50)}}var n=this,i=this,s=i.cm,o=i.div=e.lineDiv;tr(o,s.options.spellcheck),na(o,"paste",function(e){Te(s,e)||Zo(e,s)||wr<=11&&setTimeout(fi(s,function(){return n.updateFromDOM()}),20)}),na(o,"compositionstart",function(e){n.composing={data:e.data,done:!1}}),na(o,"compositionupdate",function(e){n.composing||(n.composing={data:e.data,done:!1})}),na(o,"compositionend",function(e){n.composing&&(e.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),na(o,"touchstart",function(){return i.forceCompositionEnd()}),na(o,"input",function(){n.composing||n.readFromDOMSoon()}),na(o,"copy",t),na(o,"cut",t)},il.prototype.prepareSelection=function(){var e=En(this.cm,!1);return e.focus=this.cm.state.focused,e},il.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},il.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,n=t.doc.sel.primary(),i=n.from(),s=n.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||s.line<t.display.viewFrom)return void e.removeAllRanges();var o=cr(t,e.anchorNode,e.anchorOffset),r=cr(t,e.focusNode,e.focusOffset);if(!o||o.bad||!r||r.bad||0!=O(F(o,r),i)||0!=O(B(o,r),s)){var a=t.display.view,l=i.line>=t.display.viewFrom&&or(t,i)||{node:a[0].measure.map[2],offset:0},c=s.line<t.display.viewTo&&or(t,s);if(!c){var u=a[a.length-1].measure,d=u.maps?u.maps[u.maps.length-1]:u.map;c={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(!l||!c)return void e.removeAllRanges();var h,p=e.rangeCount&&e.getRangeAt(0);try{h=Nr(l.node,l.offset,c.offset,c.node)}catch(f){}h&&(!mr&&t.state.focused?(e.collapse(l.node,l.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),p&&null==e.anchorNode?e.addRange(p):mr&&this.startGracePeriod()),this.rememberSelection()}},il.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},il.prototype.showMultipleSelections=function(e){n(this.cm.display.cursorDiv,e.cursors),n(this.cm.display.selectionDiv,e.selection)},il.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},il.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return o(this.div,t)},il.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},il.prototype.blur=function(){this.div.blur()},il.prototype.getField=function(){return this.div},il.prototype.supportsTouch=function(){return!0},il.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():pi(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},il.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},il.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;if(Ar&&kr&&this.cm.options.gutters.length&&rr(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=cr(t,e.anchorNode,e.anchorOffset),i=cr(t,e.focusNode,e.focusOffset);n&&i&&pi(t,function(){ws(t.doc,Fi(n,i),Wr),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}}},il.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),i=n.from(),s=n.to();if(0==i.ch&&i.line>e.firstLine()&&(i=N(i.line-1,T(e.doc,i.line-1).length)),s.ch==T(e.doc,s.line).text.length&&s.line<e.lastLine()&&(s=N(s.line+1,0)),i.line<t.viewFrom||s.line>t.viewTo-1)return!1;var o,r,a;i.line==t.viewFrom||0==(o=jn(e,i.line))?(r=$(t.view[0].line),a=t.view[0].node):(r=$(t.view[o].line),a=t.view[o-1].node.nextSibling);var l,c,u=jn(e,s.line);if(u==t.view.length-1?(l=t.viewTo-1,c=t.lineDiv.lastChild):(l=$(t.view[u+1].line)-1,c=t.view[u+1].node.previousSibling),!a)return!1;for(var d=e.doc.splitLines(lr(e,a,c,r,l)),h=E(e.doc,N(r,0),N(l,T(e.doc,l).text.length));d.length>1&&h.length>1;)if(m(d)==m(h))d.pop(),h.pop(),l--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),r++}for(var p=0,f=0,v=d[0],g=h[0],b=Math.min(v.length,g.length);p<b&&v.charCodeAt(p)==g.charCodeAt(p);)++p;for(var y=m(d),w=m(h),x=Math.min(y.length-(1==d.length?p:0),w.length-(1==h.length?p:0));f<x&&y.charCodeAt(y.length-f-1)==w.charCodeAt(w.length-f-1);)++f;if(1==d.length&&1==h.length&&r==i.line)for(;p&&p>i.ch&&y.charCodeAt(y.length-f-1)==w.charCodeAt(w.length-f-1);)p--,f++;d[d.length-1]=y.slice(0,y.length-f).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var _=N(r,p),k=N(l,h.length?m(h).length-f:0);return d.length>1||d[0]||O(_,k)?(Os(e.doc,d,_,k,"+input"),!0):void 0},il.prototype.ensurePolled=function(){this.forceCompositionEnd()},il.prototype.reset=function(){this.forceCompositionEnd()},il.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},il.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},il.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||pi(this.cm,function(){return gi(e.cm)})},il.prototype.setUneditable=function(e){e.contentEditable="false"},il.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||fi(this.cm,Jo)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},il.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},il.prototype.onContextMenu=function(){},il.prototype.resetPosition=function(){},il.prototype.needsContentAttribute=!0;var sl=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Fr,this.hasSelection=!1,this.composing=null};sl.prototype.init=function(e){function t(e){if(!Te(s,e)){if(s.somethingSelected())Xo({lineWise:!1,text:s.getSelections()});else{if(!s.options.lineWiseCopyCut)return;var t=er(s);Xo({lineWise:!0,text:t.text}),"cut"==e.type?s.setSelections(t.ranges,null,Wr):(i.prevInput="",r.value=t.text.join("\n"),Br(r))}"cut"==e.type&&(s.state.cutIncoming=!0)}}var n=this,i=this,s=this.cm,o=this.wrapper=nr(),r=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),Er&&(r.style.width="0px"),na(r,"input",function(){yr&&wr>=9&&n.hasSelection&&(n.hasSelection=null),i.poll()}),na(r,"paste",function(e){Te(s,e)||Zo(e,s)||(s.state.pasteIncoming=!0,i.fastPoll())}),na(r,"cut",t),na(r,"copy",t),na(e.scroller,"paste",function(t){Nt(e,t)||Te(s,t)||(s.state.pasteIncoming=!0,i.focus())}),na(e.lineSpace,"selectstart",function(t){Nt(e,t)||$e(t)}),na(r,"compositionstart",function(){var e=s.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:s.markText(e,s.getCursor("to"),{className:"CodeMirror-composing"})}}),na(r,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},sl.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,i=En(e);if(e.options.moveInputWithCursor){var s=cn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),r=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,s.top+r.top-o.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,s.left+r.left-o.left))}return i},sl.prototype.showSelection=function(e){var t=this.cm,i=t.display;n(i.cursorDiv,e.cursors),n(i.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},sl.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&Br(this.textarea),yr&&wr>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",yr&&wr>=9&&(this.hasSelection=null))}},sl.prototype.getField=function(){return this.textarea},sl.prototype.supportsTouch=function(){return!1},sl.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Pr||r()!=this.textarea))try{this.textarea.focus()}catch(e){}},sl.prototype.blur=function(){this.textarea.blur()},sl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},sl.prototype.receivedFocus=function(){this.slowPoll()},sl.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},sl.prototype.fastPoll=function(){function e(){var i=n.poll();i||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},sl.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||!t.state.focused||oa(n)&&!i&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var s=n.value;if(s==i&&!t.somethingSelected())return!1;if(yr&&wr>=9&&this.hasSelection===s||$r&&/[\uf700-\uf7ff]/.test(s))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=s.charCodeAt(0);if(8203!=o||i||(i="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var r=0,a=Math.min(i.length,s.length);r<a&&i.charCodeAt(r)==s.charCodeAt(r);)++r;return pi(t,function(){Jo(t,s.slice(r),i.length-r,null,e.composing?"*compose":null),s.length>1e3||s.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=s,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},sl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},sl.prototype.onKeyPress=function(){yr&&wr>=9&&(this.hasSelection=null),this.fastPoll()},sl.prototype.onContextMenu=function(e){function t(){if(null!=r.selectionStart){var e=s.somethingSelected(),t="​"+(e?r.value:"");r.value="⇚",r.value=t,i.prevInput=e?"":"​",r.selectionStart=1,r.selectionEnd=t.length,o.selForContextMenu=s.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.cssText=d,r.style.cssText=u,yr&&wr<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=r.selectionStart){(!yr||yr&&wr<9)&&t();var e=0,n=function(){o.selForContextMenu==s.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"​"==i.prevInput?fi(s,Es)(s):e++<10?o.detectingSelectAll=setTimeout(n,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(n,200)}}var i=this,s=i.cm,o=s.display,r=i.textarea,a=Cn(s,e),l=o.scroller.scrollTop;if(a&&!Sr){var c=s.options.resetSelectionOnContextMenu;c&&s.doc.sel.contains(a)==-1&&fi(s,ws)(s.doc,Fi(a),Wr);var u=r.style.cssText,d=i.wrapper.style.cssText;i.wrapper.style.cssText="position: absolute";var h=i.wrapper.getBoundingClientRect();r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(yr?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var p;if(xr&&(p=window.scrollY),o.input.focus(),xr&&window.scrollTo(null,p),o.input.reset(),s.somethingSelected()||(r.value=i.prevInput=" "),i.contextMenuPending=!0,o.selForContextMenu=s.doc.sel,clearTimeout(o.detectingSelectAll),yr&&wr>=9&&t(),Mr){De(e);var f=function(){Ce(window,"mouseup",f),setTimeout(n,20)};na(window,"mouseup",f)}else setTimeout(n,50)}},sl.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},sl.prototype.setUneditable=function(){},sl.prototype.needsContentAttribute=!1,Vo(Yo),nl(Yo);var ol="iter insert remove copy getEditor constructor".split(" ");for(var rl in Oa.prototype)Oa.prototype.hasOwnProperty(rl)&&h(ol,rl)<0&&(Yo.prototype[rl]=function(e){return function(){return e.apply(this.doc,arguments)}}(Oa.prototype[rl]));return Pe(Oa),Yo.inputStyles={textarea:sl,contenteditable:il},Yo.defineMode=function(e){Yo.defaults.mode||"null"==e||(Yo.defaults.mode=e),Fe.apply(this,arguments)},Yo.defineMIME=Ue,Yo.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Yo.defineMIME("text/plain","null"),Yo.defineExtension=function(e,t){Yo.prototype[e]=t},Yo.defineDocExtension=function(e,t){Oa.prototype[e]=t},Yo.fromTextArea=dr,hr(Yo),Yo.version="5.30.0",Yo})},{}],615:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror"),e("../markdown/markdown"),e("../../addon/mode/overlay")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],i):i(CodeMirror)}(function(e){"use strict";var t=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;e.defineMode("gfm",function(n,i){function s(e){return e.code=!1,null}var o=0,r={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,n){if(n.combineTokens=null,n.codeBlock)return e.match(/^```+/)?(n.codeBlock=!1,null):(e.skipToEnd(),null);if(e.sol()&&(n.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),n.codeBlock=!0,null;if("`"===e.peek()){e.next();var s=e.pos;e.eatWhile("`");var r=1+e.pos-s;return n.code?r===o&&(n.code=!1):(o=r,n.code=!0),null}if(n.code)return e.next(),null;if(e.eatSpace())return n.ateSpace=!0,null;if((e.sol()||n.ateSpace)&&(n.ateSpace=!1,i.gitHubSpice!==!1)){if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return n.combineTokens=!0,"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return n.combineTokens=!0,"link"}return e.match(t)&&"]("!=e.string.slice(e.start-2,e.start)&&(0==e.start||/\W/.test(e.string.charAt(e.start-1)))?(n.combineTokens=!0,"link"):(e.next(),null)},blankLine:s},a={taskLists:!0,strikethrough:!0,emoji:!0};for(var l in i)a[l]=i[l];return a.name="markdown",e.overlayMode(e.getMode(n,a),r)},"markdown"),e.defineMIME("text/x-gfm","gfm")})},{"../../addon/mode/overlay":612,"../../lib/codemirror":614,"../markdown/markdown":616}],616:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror"),e("../xml/xml"),e("../meta")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],i):i(CodeMirror)}(function(e){"use strict";e.defineMode("markdown",function(t,n){function i(n){if(e.findModeByName){var i=e.findModeByName(n);i&&(n=i.mime||i.mimes[0])}var s=e.getMode(t,n);return"null"==s.name?null:s}function s(e,t,n){return t.f=t.inline=n,n(e,t)}function o(e,t,n){return t.f=t.block=n,n(e,t)}function r(e){return!e||!/\S/.test(e.string)}function a(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,e.f==c&&(e.f=p,e.block=l),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine={stream:null},null}function l(t,o){var a=t.column()===o.indentation,l=r(o.prevLine.stream),c=o.indentedCode,h=o.prevLine.hr,p=o.list!==!1,f=(o.listStack[o.listStack.length-1]||0)+3;o.indentedCode=!1;var m=o.indentation;if(null===o.indentationDiff&&(o.indentationDiff=o.indentation,p)){for(o.list=null;m<o.listStack[o.listStack.length-1];)o.listStack.pop(),o.listStack.length?o.indentation=o.listStack[o.listStack.length-1]:o.list=!1;o.list!==!1&&(o.indentationDiff=m-o.listStack[o.listStack.length-1])}var v=!(l||h||o.prevLine.header||p&&c||o.prevLine.fencedCodeEnd),b=(o.list===!1||h||l)&&o.indentation<=f&&t.match(S),y=null;if(o.indentationDiff>=4&&(c||o.prevLine.fencedCodeEnd||o.prevLine.header||l))return t.skipToEnd(),o.indentedCode=!0,_.code;if(t.eatSpace())return null;if(a&&o.indentation<=f&&(y=t.match(T))&&y[1].length<=6)return o.quote=0,o.header=y[1].length,o.thisLine.header=!0,n.highlightFormatting&&(o.formatting="header"),o.f=o.inline,d(o);if(o.indentation<=f&&t.eat(">"))return o.quote=a?1:o.quote+1,n.highlightFormatting&&(o.formatting="quote"),t.eatSpace(),d(o);if(!b&&!o.setext&&a&&o.indentation<=f&&(y=t.match(C))){var w=y[1]?"ol":"ul";return o.indentation=m+t.current().length,o.list=!0,o.quote=0,o.listStack.push(o.indentation),n.taskLists&&t.match(j,!1)&&(o.taskList=!0),o.f=o.inline,n.highlightFormatting&&(o.formatting=["list","list-"+w]),d(o)}return a&&o.indentation<=f&&(y=t.match(P,!0))?(o.quote=0,o.fencedEndRE=new RegExp(y[1]+"+ *$"),o.localMode=n.fencedCodeBlockHighlighting&&i(y[2]),o.localMode&&(o.localState=e.startState(o.localMode)),o.f=o.block=u,n.highlightFormatting&&(o.formatting="code-block"),o.code=-1,d(o)):o.setext||!(v&&p||o.quote||o.list!==!1||o.code||b||$.test(t.string))&&(y=t.lookAhead(1))&&(y=y.match(E))?(o.setext?(o.header=o.setext,o.setext=0,t.skipToEnd(),n.highlightFormatting&&(o.formatting="header")):(o.header="="==y[0].charAt(0)?1:2,o.setext=o.header),o.thisLine.header=!0,o.f=o.inline,d(o)):b?(t.skipToEnd(),o.hr=!0,o.thisLine.hr=!0,_.hr):"["===t.peek()?s(t,o,g):s(t,o,o.inline)}function c(t,n){var i=w.token(t,n.htmlState);if(!x){var s=e.innerMode(w,n.htmlState);("xml"==s.mode.name&&null===s.state.tagStart&&!s.state.context&&s.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=p,n.block=l,n.htmlState=null)}return i}function u(e,t){var i=t.listStack[t.listStack.length-1]||0,s=t.indentation<i,r=i+3;if(t.fencedEndRE&&t.indentation<=r&&(s||e.match(t.fencedEndRE))){n.highlightFormatting&&(t.formatting="code-block");var a;return s||(a=d(t)),t.localMode=t.localState=null,t.block=l,t.f=p,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,s?o(e,t,t.block):a}return t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),_.code)}function d(e){var t=[];if(e.formatting){t.push(_.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var i=0;i<e.formatting.length;i++)t.push(_.formatting+"-"+e.formatting[i]),"header"===e.formatting[i]&&t.push(_.formatting+"-"+e.formatting[i]+"-"+e.header),"quote"===e.formatting[i]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(_.formatting+"-"+e.formatting[i]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(_.linkHref,"url"):(e.strong&&t.push(_.strong),e.em&&t.push(_.em),e.strikethrough&&t.push(_.strikethrough),e.emoji&&t.push(_.emoji),e.linkText&&t.push(_.linkText),e.code&&t.push(_.code),e.image&&t.push(_.image),e.imageAltText&&t.push(_.imageAltText,"link"),e.imageMarker&&t.push(_.imageMarker)),e.header&&t.push(_.header,_.header+"-"+e.header),e.quote&&(t.push(_.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(_.quote+"-"+e.quote):t.push(_.quote+"-"+n.maxBlockquoteDepth)),e.list!==!1){var s=(e.listStack.length-1)%3;s?1===s?t.push(_.list2):t.push(_.list3):t.push(_.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function h(e,t){if(e.match(A,!0))return d(t)}function p(t,i){var s=i.text(t,i);if("undefined"!=typeof s)return s;if(i.list)return i.list=null,d(i);if(i.taskList){var r=" "===t.match(j,!0)[1];return r?i.taskOpen=!0:i.taskClosed=!0,n.highlightFormatting&&(i.formatting="task"),i.taskList=!1,d(i)}if(i.taskOpen=!1,i.taskClosed=!1,i.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(i.formatting="header"),d(i);var a=t.next();if(i.linkTitle){i.linkTitle=!1;var l=a;"("===a&&(l=")"),l=(l+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var u="^\\s*(?:[^"+l+"\\\\]+|\\\\\\\\|\\\\.)"+l;if(t.match(new RegExp(u),!0))return _.linkHref}if("`"===a){var h=i.formatting;n.highlightFormatting&&(i.formatting="code"),t.eatWhile("`");var v=t.current().length;if(0!=i.code||i.quote&&1!=v){if(v==i.code){var g=d(i);return i.code=0,g}return i.formatting=h,d(i)}return i.code=v,d(i)}if(i.code)return d(i);if("\\"===a&&(t.next(),n.highlightFormatting)){var b=d(i),y=_.formatting+"-escape";return b?b+" "+y:y}if("!"===a&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return i.imageMarker=!0,i.image=!0,n.highlightFormatting&&(i.formatting="image"),d(i);if("["===a&&i.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return i.imageMarker=!1,i.imageAltText=!0,n.highlightFormatting&&(i.formatting="image"),d(i);if("]"===a&&i.imageAltText){n.highlightFormatting&&(i.formatting="image");var b=d(i);return i.imageAltText=!1,i.image=!1,i.inline=i.f=m,b}if("["===a&&!i.image)return i.linkText=!0,n.highlightFormatting&&(i.formatting="link"),d(i);if("]"===a&&i.linkText){n.highlightFormatting&&(i.formatting="link");var b=d(i);return i.linkText=!1,i.inline=i.f=t.match(/\(.*?\)| ?\[.*?\]/,!1)?m:p,b}if("<"===a&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=f,n.highlightFormatting&&(i.formatting="link");var b=d(i);return b?b+=" ":b="",b+_.linkInline}if("<"===a&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=f,n.highlightFormatting&&(i.formatting="link");var b=d(i);return b?b+=" ":b="",b+_.linkEmail}if(n.xml&&"<"===a&&t.match(/^(!--|[a-z]+(?:\s+[a-z_:.\-]+(?:\s*=\s*[^ >]+)?)*\s*>)/i,!1)){var x=t.string.indexOf(">",t.pos);if(x!=-1){var k=t.string.substring(t.start,x);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(k)&&(i.md_inside=!0)}return t.backUp(1),i.htmlState=e.startState(w),o(t,i,c)}if(n.xml&&"<"===a&&t.match(/^\/\w*?>/))return i.md_inside=!1,"tag";if("*"===a||"_"===a){for(var S=1,C=1==t.pos?" ":t.string.charAt(t.pos-2);S<3&&t.eat(a);)S++;var T=t.peek()||" ",E=!/\s/.test(T)&&(!L.test(T)||/\s/.test(C)||L.test(C)),A=!/\s/.test(C)&&(!L.test(C)||/\s/.test(T)||L.test(T)),P=null,$=null;if(S%2&&(i.em||!E||"*"!==a&&A&&!L.test(C)?i.em!=a||!A||"*"!==a&&E&&!L.test(T)||(P=!1):P=!0),S>1&&(i.strong||!E||"*"!==a&&A&&!L.test(C)?i.strong!=a||!A||"*"!==a&&E&&!L.test(T)||($=!1):$=!0),null!=$||null!=P){n.highlightFormatting&&(i.formatting=null==P?"strong":null==$?"em":"strong em"),P===!0&&(i.em=a),$===!0&&(i.strong=a);var g=d(i);return P===!1&&(i.em=!1),$===!1&&(i.strong=!1),g}}else if(" "===a&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return d(i);t.backUp(1)}if(n.strikethrough)if("~"===a&&t.eatWhile(a)){if(i.strikethrough){n.highlightFormatting&&(i.formatting="strikethrough");var g=d(i);return i.strikethrough=!1,g}if(t.match(/^[^\s]/,!1))return i.strikethrough=!0,n.highlightFormatting&&(i.formatting="strikethrough"),d(i)}else if(" "===a&&t.match(/^~~/,!0)){if(" "===t.peek())return d(i);t.backUp(2)}if(n.emoji&&":"===a&&t.match(/^[a-z_\d+-]+:/)){i.emoji=!0,n.highlightFormatting&&(i.formatting="emoji");var R=d(i);return i.emoji=!1,R}return" "===a&&(t.match(/ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),d(i)}function f(e,t){var i=e.next();if(">"===i){t.f=t.inline=p,n.highlightFormatting&&(t.formatting="link");var s=d(t);return s?s+=" ":s="",s+_.linkInline}return e.match(/^[^>]+/,!0),_.linkInline}function m(e,t){if(e.eatSpace())return null;var i=e.next();return"("===i||"["===i?(t.f=t.inline=v("("===i?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,d(t)):"error"}function v(e){return function(t,i){var s=t.next();if(s===e){i.f=i.inline=p,n.highlightFormatting&&(i.formatting="link-string");var o=d(i);return i.linkHref=!1,o}return t.match(D[e]),i.linkHref=!0,d(i)}}function g(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=b,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,d(t)):s(e,t,p)}function b(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=y,n.highlightFormatting&&(t.formatting="link");var i=d(t);return t.linkText=!1,i}return e.match(/^([^\]\\]|\\.)+/,!0),_.linkText}function y(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=p,_.linkHref+" url")}var w=e.getMode(t,"text/html"),x="null"==w.name;void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.emoji&&(n.emoji=!1),void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=!0),void 0===n.xml&&(n.xml=!0),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var _={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var k in _)_.hasOwnProperty(k)&&n.tokenTypeOverrides[k]&&(_[k]=n.tokenTypeOverrides[k]);var S=/^([*\-_])(?:\s*\1){2,}\s*$/,C=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,j=/^\[(x| )\](?=\s)/i,T=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,E=/^ *(?:\={1,}|-{1,})\s*$/,A=/^[^#!\[\]*_\\<>` "'(~:]+/,P=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,$=/^\s*\[[^\]]+?\]:\s*\S+(\s*\S*\s*)?$/,L=/[!\"#$%&\'()*+,\-\.\/:;<=>?@\[\\\]^_`{|}~—]/,R="    ",D={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},N={startState:function(){return{f:l,prevLine:{stream:null},thisLine:{stream:null},block:l,htmlState:null,indentation:0,inline:p,text:h,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(w,t.htmlState),
indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return a(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block,t.f!=c){var n=e.match(/^\s*/,!0)[0].replace(/\t/g,R).length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==c?{state:e.htmlState,mode:w}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:N}},indent:function(t,n,i){return t.block==c&&w.indent?w.indent(t.htmlState,n,i):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,n,i):e.Pass},blankLine:a,getType:d,closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return N},"xml"),e.defineMIME("text/x-markdown","markdown")})},{"../../lib/codemirror":614,"../meta":617,"../xml/xml":618}],617:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../lib/codemirror")):"function"==typeof define&&define.amd?define(["../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.mime==t)return i;if(i.mimes)for(var s=0;s<i.mimes.length;s++)if(i.mimes[s]==t)return i}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.ext)for(var s=0;s<i.ext.length;s++)if(i.ext[s]==t)return i}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.file&&i.file.test(t))return i}var s=t.lastIndexOf("."),o=s>-1&&t.substring(s+1,t.length);if(o)return e.findModeByExtension(o)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.name.toLowerCase()==t)return i;if(i.alias)for(var s=0;s<i.alias.length;s++)if(i.alias[s].toLowerCase()==t)return i}}})},{"../lib/codemirror":614}],618:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(i,s){function o(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();if("<"==i)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(l("atom","]]>")):null:e.match("--")?n(l("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(c(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=l("meta","?>"),"meta"):(j=e.eat("/")?"closeTag":"openTag",t.tokenize=r,"tag bracket");if("&"==i){var s;return s=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),s?"atom":"error"}return e.eatWhile(/[^&<]/),null}function r(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=o,j=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return j="equals",null;if("<"==n){t.tokenize=o,t.state=p,t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=a(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=r;break}return"string"};return t.isInAttribute=!0,t}function l(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=o;break}n.next()}return e}}function c(e){return function(t,n){for(var i;null!=(i=t.next());){if("<"==i)return n.tokenize=c(e+1),n.tokenize(t,n);if(">"==i){if(1==e){n.tokenize=o;break}return n.tokenize=c(e-1),n.tokenize(t,n)}}return"meta"}}function u(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(k.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function d(e){e.context&&(e.context=e.context.prev)}function h(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!k.contextGrabbers.hasOwnProperty(n)||!k.contextGrabbers[n].hasOwnProperty(t))return;d(e)}}function p(e,t,n){return"openTag"==e?(n.tagStart=t.column(),f):"closeTag"==e?m:p}function f(e,t,n){return"word"==e?(n.tagName=t.current(),T="tag",b):(T="error",f)}function m(e,t,n){if("word"==e){var i=t.current();return n.context&&n.context.tagName!=i&&k.implicitlyClosed.hasOwnProperty(n.context.tagName)&&d(n),n.context&&n.context.tagName==i||k.matchClosing===!1?(T="tag",v):(T="tag error",g)}return T="error",g}function v(e,t,n){return"endTag"!=e?(T="error",v):(d(n),p)}function g(e,t,n){return T="error",v(e,t,n)}function b(e,t,n){if("word"==e)return T="attribute",y;if("endTag"==e||"selfcloseTag"==e){var i=n.tagName,s=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||k.autoSelfClosers.hasOwnProperty(i)?h(n,i):(h(n,i),n.context=new u(n,i,s==n.indented)),p}return T="error",b}function y(e,t,n){return"equals"==e?w:(k.allowMissing||(T="error"),b(e,t,n))}function w(e,t,n){return"string"==e?x:"word"==e&&k.allowUnquoted?(T="string",b):(T="error",b(e,t,n))}function x(e,t,n){return"string"==e?x:b(e,t,n)}var _=i.indentUnit,k={},S=s.htmlMode?t:n;for(var C in S)k[C]=S[C];for(var C in s)k[C]=s[C];var j,T;return o.isInText=!0,{startState:function(e){var t={tokenize:o,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;j=null;var n=t.tokenize(e,t);return(n||j)&&"comment"!=n&&(T=null,t.state=t.state(j||n,e,t),T&&(n="error"==T?n+" error":T)),n},indent:function(t,n,i){var s=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+_;if(s&&s.noIndent)return e.Pass;if(t.tokenize!=r&&t.tokenize!=o)return i?i.match(/^(\s*)/)[0].length:0;if(t.tagName)return k.multilineTagIndentPastTag!==!1?t.tagStart+t.tagName.length+2:t.tagStart+_*(k.multilineTagIndentFactor||1);if(k.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;s;){if(s.tagName==a[2]){s=s.prev;break}if(!k.implicitlyClosed.hasOwnProperty(s.tagName))break;s=s.prev}else if(a)for(;s;){var l=k.contextGrabbers[s.tagName];if(!l||!l.hasOwnProperty(a[2]))break;s=s.prev}for(;s&&s.prev&&!s.startOfLine;)s=s.prev;return s?s.indent+_:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml",skipAttribute:function(e){e.state==w&&(e.state=b)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{"../../lib/codemirror":614}],619:[function(e,t,n){(function(e){(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||d.defaults,this.rules=h.normal,this.options.gfm&&(this.options.tables?this.rules=h.tables:this.rules=h.gfm)}function i(e,t){if(this.options=t||d.defaults,this.links=e,this.rules=p.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=p.breaks:this.rules=p.gfm:this.options.pedantic&&(this.rules=p.pedantic)}function s(e){this.options=e||{}}function o(e){this.tokens=[],this.token=null,this.options=e||d.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options}function r(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function l(e,t){return e=e.source,t=t||"",function n(i,s){return i?(s=s.source||s,s=s.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(i,s),n):new RegExp(e,t)}}function c(){}function u(e){for(var t,n,i=1;i<arguments.length;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function d(t,n,i){if(i||"function"==typeof n){i||(i=n,n=null),n=u({},d.defaults,n||{});var s,a,l=n.highlight,c=0;try{s=e.lex(t,n)}catch(h){return i(h)}a=s.length;var p=function(e){if(e)return n.highlight=l,i(e);var t;try{t=o.parse(s,n)}catch(r){e=r}return n.highlight=l,e?i(e):i(null,t)};if(!l||l.length<3)return p();if(delete n.highlight,!a)return p();for(;c<s.length;c++)!function(e){return"code"!==e.type?--a||p():l(e.text,e.lang,function(t,n){return t?p(t):null==n||n===e.text?--a||p():(e.text=n,e.escaped=!0,void(--a||p()))})}(s[c])}else try{return n&&(n=u({},d.defaults,n)),o.parse(e.lex(t,n),n)}catch(h){if(h.message+="\nPlease report this to https://github.com/chjj/marked.",(n||d.defaults).silent)return"<p>An error occured:</p><pre>"+r(h.message+"",!0)+"</pre>";throw h}}var h={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:c,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:c,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:c,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};h.bullet=/(?:[*+-]|\d+\.)/,h.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,h.item=l(h.item,"gm")(/bull/g,h.bullet)(),h.list=l(h.list)(/bull/g,h.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+h.def.source+")")(),h.blockquote=l(h.blockquote)("def",h.def)(),h._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",h.html=l(h.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,h._tag)(),h.paragraph=l(h.paragraph)("hr",h.hr)("heading",h.heading)("lheading",h.lheading)("blockquote",h.blockquote)("tag","<"+h._tag)("def",h.def)(),h.normal=u({},h),h.gfm=u({},h.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),h.gfm.paragraph=l(h.paragraph)("(?!","(?!"+h.gfm.fences.source.replace("\\1","\\2")+"|"+h.list.source.replace("\\1","\\3")+"|")(),h.tables=u({},h.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=h,e.lex=function(t,n){var i=new e(n);return i.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var i,s,o,r,a,l,c,u,d,e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=l.cells[u].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),r=o[2],this.tokens.push({type:"list_start",ordered:r.length>1}),o=o[0].match(this.rules.item),i=!1,d=o.length,u=0;u<d;u++)l=o[u],c=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(c-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&u!==d-1&&(a=h.bullet.exec(o[u+1])[0],r===a||r.length>1&&a.length>1||(e=o.slice(u+1).join("\n")+e,u=d-1)),s=i||/\n\n(?!\s*$)/.test(l),u!==d-1&&(i="\n"===l.charAt(l.length-1),s||(s=i)),this.tokens.push({type:s?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=l.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:c,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:c,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};p._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,p._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,p.link=l(p.link)("inside",p._inside)("href",p._href)(),p.reflink=l(p.reflink)("inside",p._inside)(),p.normal=u({},p),p.pedantic=u({},p.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),p.gfm=u({},p.normal,{escape:l(p.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(p.text)("]|","~]|")("|","|https?://|")()}),p.breaks=u({},p.gfm,{br:l(p.br)("{2,}","*")(),text:l(p.gfm.text)("{2,}","*")()}),i.rules=p,i.output=function(e,t,n){var s=new i(t,n);return s.output(e)},i.prototype.output=function(e){for(var t,n,i,s,o="";e;)if(s=this.rules.escape.exec(e))e=e.substring(s[0].length),o+=s[1];else if(s=this.rules.autolink.exec(e))e=e.substring(s[0].length),"@"===s[2]?(n=":"===s[1].charAt(6)?this.mangle(s[1].substring(7)):this.mangle(s[1]),i=this.mangle("mailto:")+n):(n=r(s[1]),i=n),o+=this.renderer.link(i,null,n);else if(this.inLink||!(s=this.rules.url.exec(e))){if(s=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),e=e.substring(s[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):r(s[0]):s[0];else if(s=this.rules.link.exec(e))e=e.substring(s[0].length),this.inLink=!0,o+=this.outputLink(s,{href:s[2],title:s[3]}),this.inLink=!1;else if((s=this.rules.reflink.exec(e))||(s=this.rules.nolink.exec(e))){if(e=e.substring(s[0].length),t=(s[2]||s[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){o+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(s,t),this.inLink=!1}else if(s=this.rules.strong.exec(e))e=e.substring(s[0].length),o+=this.renderer.strong(this.output(s[2]||s[1]));else if(s=this.rules.em.exec(e))e=e.substring(s[0].length),o+=this.renderer.em(this.output(s[2]||s[1]));else if(s=this.rules.code.exec(e))e=e.substring(s[0].length),o+=this.renderer.codespan(r(s[2],!0));else if(s=this.rules.br.exec(e))e=e.substring(s[0].length),o+=this.renderer.br();else if(s=this.rules.del.exec(e))e=e.substring(s[0].length),o+=this.renderer.del(this.output(s[1]));else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),o+=this.renderer.text(r(this.smartypants(s[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(s[0].length),n=r(s[1]),i=n,o+=this.renderer.link(i,null,n);return o},i.prototype.outputLink=function(e,t){var n=r(t.href),i=t.title?r(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,r(e[1]))},i.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},i.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,s=0;s<i;s++)t=e.charCodeAt(s),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},s.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+r(t,!0)+'">'+(n?e:r(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:r(e,!0))+"\n</code></pre>"},s.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},s.prototype.html=function(e){return e},s.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},s.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},s.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},s.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},s.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},s.prototype.tablecell=function(e,t){var n=t.header?"th":"td",i=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";
return i+e+"</"+n+">\n"},s.prototype.strong=function(e){return"<strong>"+e+"</strong>"},s.prototype.em=function(e){return"<em>"+e+"</em>"},s.prototype.codespan=function(e){return"<code>"+e+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(e){return"<del>"+e+"</del>"},s.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(a(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(s){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:"))return""}var o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>"},s.prototype.image=function(e,t,n){var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},s.prototype.text=function(e){return e},o.parse=function(e,t,n){var i=new o(t,n);return i.parse(e)},o.prototype.parse=function(e){this.inline=new i(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},o.prototype.next=function(){return this.token=this.tokens.pop()},o.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},o.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},o.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,s,o="",r="";for(n="",e=0;e<this.token.header.length;e++)i={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",s=0;s<t.length;s++)n+=this.renderer.tablecell(this.inline.output(t[s]),{header:!1,align:this.token.align[s]});r+=this.renderer.tablerow(n)}return this.renderer.table(o,r);case"blockquote_start":for(var r="";"blockquote_end"!==this.next().type;)r+=this.tok();return this.renderer.blockquote(r);case"list_start":for(var r="",a=this.token.ordered;"list_end"!==this.next().type;)r+=this.tok();return this.renderer.list(r,a);case"list_item_start":for(var r="";"list_item_end"!==this.next().type;)r+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(r);case"loose_item_start":for(var r="";"list_item_end"!==this.next().type;)r+=this.tok();return this.renderer.listitem(r);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},c.exec=c,d.options=d.setOptions=function(e){return u(d.defaults,e),d},d.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new s,xhtml:!1},d.Parser=o,d.parser=o.parse,d.Renderer=s,d.Lexer=e,d.lexer=e.lex,d.InlineLexer=i,d.inlineLexer=i.output,d.parse=d,"undefined"!=typeof t&&"object"==typeof n?t.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):this.marked=d}).call(function(){return this||("undefined"!=typeof window?window:e)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],620:[function(e,t,n){var i=e("codemirror");i.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections(),n=t[0].head,i=e.getStateAfter(n.line),s=i.list!==!1;if(s)return void e.execCommand("indentMore");if(e.options.indentWithTabs)e.execCommand("insertTab");else{var o=Array(e.options.tabSize+1).join(" ");e.replaceSelection(o)}},i.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections(),n=t[0].head,i=e.getStateAfter(n.line),s=i.list!==!1;if(s)return void e.execCommand("indentLess");if(e.options.indentWithTabs)e.execCommand("insertTab");else{var o=Array(e.options.tabSize+1).join(" ");e.replaceSelection(o)}}},{codemirror:614}],621:[function(e,t,n){"use strict";function i(e){return e=V?e.replace("Ctrl","Cmd"):e.replace("Cmd","Ctrl")}function s(e,t,n){e=e||{};var i=document.createElement("a");return t=void 0==t||t,e.title&&t&&(i.title=r(e.title,e.action,n),V&&(i.title=i.title.replace("Ctrl","⌘"),i.title=i.title.replace("Alt","⌥"))),i.tabIndex=-1,i.className=e.className,i}function o(){var e=document.createElement("i");return e.className="separator",e.innerHTML="|",e}function r(e,t,n){var s,o=e;return t&&(s=q(t),n[s]&&(o+=" ("+i(n[s])+")")),o}function a(e,t){t=t||e.getCursor("start");var n=e.getTokenAt(t);if(!n.type)return{};for(var i,s,o=n.type.split(" "),r={},a=0;a<o.length;a++)i=o[a],"strong"===i?r.bold=!0:"variable-2"===i?(s=e.getLine(t.line),/^\s*\d+\.\s/.test(s)?r["ordered-list"]=!0:r["unordered-list"]=!0):"atom"===i?r.quote=!0:"em"===i?r.italic=!0:"quote"===i?r.quote=!0:"strikethrough"===i?r.strikethrough=!0:"comment"===i?r.code=!0:"link"===i?r.link=!0:"tag"===i?r.image=!0:i.match(/^header(\-[1-6])?$/)&&(r[i.replace("header","heading")]=!0);return r}function l(e){var t=e.codemirror;t.setOption("fullScreen",!t.getOption("fullScreen")),t.getOption("fullScreen")?(G=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=G;var n=t.getWrapperElement();/fullscreen/.test(n.previousSibling.className)?n.previousSibling.className=n.previousSibling.className.replace(/\s*fullscreen\b/,""):n.previousSibling.className+=" fullscreen";var i=e.toolbarElements.fullscreen;/active/.test(i.className)?i.className=i.className.replace(/\s*active\s*/g,""):i.className+=" active";var s=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(s.className)&&E(e)}function c(e){R(e,"bold",e.options.blockStyles.bold)}function u(e){R(e,"italic",e.options.blockStyles.italic)}function d(e){R(e,"strikethrough","~~")}function h(e){function t(e){if("object"!=typeof e)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof e+": "+e;return e.styles&&e.styles[2]&&e.styles[2].indexOf("formatting-code-block")!==-1}function n(e){return e.state.base.base||e.state.base}function i(e,i,s,o,r){s=s||e.getLineHandle(i),o=o||e.getTokenAt({line:i,ch:1}),r=r||!!s.text&&e.getTokenAt({line:i,ch:s.text.length-1});var a=o.type?o.type.split(" "):[];return r&&n(r).indentedCode?"indented":a.indexOf("comment")!==-1&&(n(o).fencedChars||n(r).fencedChars||t(s)?"fenced":"single")}function s(e,t,n,i){var s=t.line+1,o=n.line+1,r=t.line!==n.line,a=i+"\n",l="\n"+i;r&&o++,r&&0===n.ch&&(l=i+"\n",o--),P(e,!1,[a,l]),e.setSelection({line:s,ch:0},{line:o,ch:0})}var o,r,a,l=e.options.blockStyles.code,c=e.codemirror,u=c.getCursor("start"),d=c.getCursor("end"),h=c.getTokenAt({line:u.line,ch:u.ch||1}),p=c.getLineHandle(u.line),f=i(c,u.line,p,h);if("single"===f){var m=p.text.slice(0,u.ch).replace("`",""),v=p.text.slice(u.ch).replace("`","");c.replaceRange(m+v,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),u.ch--,u!==d&&d.ch--,c.setSelection(u,d),c.focus()}else if("fenced"===f)if(u.line!==d.line||u.ch!==d.ch){for(o=u.line;o>=0&&(p=c.getLineHandle(o),!t(p));o--);var g,b,y,w,x=c.getTokenAt({line:o,ch:1}),_=n(x).fencedChars;t(c.getLineHandle(u.line))?(g="",b=u.line):t(c.getLineHandle(u.line-1))?(g="",b=u.line-1):(g=_+"\n",b=u.line),t(c.getLineHandle(d.line))?(y="",w=d.line,0===d.ch&&(w+=1)):0!==d.ch&&t(c.getLineHandle(d.line+1))?(y="",w=d.line+1):(y=_+"\n",w=d.line+1),0===d.ch&&(w-=1),c.operation(function(){c.replaceRange(y,{line:w,ch:0},{line:w+(y?0:1),ch:0}),c.replaceRange(g,{line:b,ch:0},{line:b+(g?0:1),ch:0})}),c.setSelection({line:b+(g?1:0),ch:0},{line:w+(g?1:-1),ch:0}),c.focus()}else{var k=u.line;if(t(c.getLineHandle(u.line))&&("fenced"===i(c,u.line+1)?(o=u.line,k=u.line+1):(r=u.line,k=u.line-1)),void 0===o)for(o=k;o>=0&&(p=c.getLineHandle(o),!t(p));o--);if(void 0===r)for(a=c.lineCount(),r=k;r<a&&(p=c.getLineHandle(r),!t(p));r++);c.operation(function(){c.replaceRange("",{line:o,ch:0},{line:o+1,ch:0}),c.replaceRange("",{line:r-1,ch:0},{line:r,ch:0})}),c.focus()}else if("indented"===f){if(u.line!==d.line||u.ch!==d.ch)o=u.line,r=d.line,0===d.ch&&r--;else{for(o=u.line;o>=0;o--)if(p=c.getLineHandle(o),!p.text.match(/^\s*$/)&&"indented"!==i(c,o,p)){o+=1;break}for(a=c.lineCount(),r=u.line;r<a;r++)if(p=c.getLineHandle(r),!p.text.match(/^\s*$/)&&"indented"!==i(c,r,p)){r-=1;break}}var S=c.getLineHandle(r+1),C=S&&c.getTokenAt({line:r+1,ch:S.text.length-1}),j=C&&n(C).indentedCode;j&&c.replaceRange("\n",{line:r+1,ch:0});for(var T=o;T<=r;T++)c.indentLine(T,"subtract");c.focus()}else{var E=u.line===d.line&&u.ch===d.ch&&0===u.ch,A=u.line!==d.line;E||A?s(c,u,d,l):P(c,!1,["`","`"])}}function p(e){var t=e.codemirror;L(t,"quote")}function f(e){var t=e.codemirror;$(t,"smaller")}function m(e){var t=e.codemirror;$(t,"bigger")}function v(e){var t=e.codemirror;$(t,void 0,1)}function g(e){var t=e.codemirror;$(t,void 0,2)}function b(e){var t=e.codemirror;$(t,void 0,3)}function y(e){var t=e.codemirror;L(t,"unordered-list")}function w(e){var t=e.codemirror;L(t,"ordered-list")}function x(e){var t=e.codemirror;D(t)}function _(e){var t=e.codemirror,n=a(t),i=e.options,s="http://";return!(i.promptURLs&&(s=prompt(i.promptTexts.link),!s))&&void P(t,n.link,i.insertTexts.link,s)}function k(e){var t=e.codemirror,n=a(t),i=e.options,s="http://";return!(i.promptURLs&&(s=prompt(i.promptTexts.image),!s))&&void P(t,n.image,i.insertTexts.image,s)}function S(e){var t=e.codemirror,n=a(t),i=e.options;P(t,n.table,i.insertTexts.table)}function C(e){var t=e.codemirror,n=a(t),i=e.options;P(t,n.image,i.insertTexts.horizontalRule)}function j(e){var t=e.codemirror;t.undo(),t.focus()}function T(e){var t=e.codemirror;t.redo(),t.focus()}function E(e){var t=e.codemirror,n=t.getWrapperElement(),i=n.nextSibling,s=e.toolbarElements["side-by-side"],o=!1;/editor-preview-active-side/.test(i.className)?(i.className=i.className.replace(/\s*editor-preview-active-side\s*/g,""),s.className=s.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){t.getOption("fullScreen")||l(e),i.className+=" editor-preview-active-side"},1),s.className+=" active",n.className+=" CodeMirror-sided",o=!0);var r=n.lastChild;if(/editor-preview-active/.test(r.className)){r.className=r.className.replace(/\s*editor-preview-active\s*/g,"");var a=e.toolbarElements.preview,c=n.previousSibling;a.className=a.className.replace(/\s*active\s*/g,""),c.className=c.className.replace(/\s*disabled-for-preview*/g,"")}var u=function(){i.innerHTML=e.options.previewRender(e.value(),i)};t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=u),o?(i.innerHTML=e.options.previewRender(e.value(),i),t.on("update",t.sideBySideRenderingFunction)):t.off("update",t.sideBySideRenderingFunction),t.refresh()}function A(e){var t=e.codemirror,n=t.getWrapperElement(),i=n.previousSibling,s=!!e.options.toolbar&&e.toolbarElements.preview,o=n.lastChild;o&&/editor-preview/.test(o.className)||(o=document.createElement("div"),o.className="editor-preview",n.appendChild(o)),/editor-preview-active/.test(o.className)?(o.className=o.className.replace(/\s*editor-preview-active\s*/g,""),s&&(s.className=s.className.replace(/\s*active\s*/g,""),i.className=i.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){o.className+=" editor-preview-active"},1),s&&(s.className+=" active",i.className+=" disabled-for-preview")),o.innerHTML=e.options.previewRender(e.value(),o);var r=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(r.className)&&E(e)}function P(e,t,n,i){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){var s,o=n[0],r=n[1],a=e.getCursor("start"),l=e.getCursor("end");i&&(r=r.replace("#url#",i)),t?(s=e.getLine(a.line),o=s.slice(0,a.ch),r=s.slice(a.ch),e.replaceRange(o+r,{line:a.line,ch:0})):(s=e.getSelection(),e.replaceSelection(o+s+r),a.ch+=o.length,a!==l&&(l.ch+=o.length)),e.setSelection(a,l),e.focus()}}function $(e,t,n){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var i=e.getCursor("start"),s=e.getCursor("end"),o=i.line;o<=s.line;o++)!function(i){var s=e.getLine(i),o=s.search(/[^#]/);s=void 0!==t?o<=0?"bigger"==t?"###### "+s:"# "+s:6==o&&"smaller"==t?s.substr(7):1==o&&"bigger"==t?s.substr(2):"bigger"==t?s.substr(1):"#"+s:1==n?o<=0?"# "+s:o==n?s.substr(o+1):"# "+s.substr(o+1):2==n?o<=0?"## "+s:o==n?s.substr(o+1):"## "+s.substr(o+1):o<=0?"### "+s:o==n?s.substr(o+1):"### "+s.substr(o+1),e.replaceRange(s,{line:i,ch:0},{line:i,ch:99999999999999})}(o);e.focus()}}function L(e,t){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var n=a(e),i=e.getCursor("start"),s=e.getCursor("end"),o={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},r={quote:"> ","unordered-list":"* ","ordered-list":"1. "},l=i.line;l<=s.line;l++)!function(i){var s=e.getLine(i);s=n[t]?s.replace(o[t],"$1"):r[t]+s,e.replaceRange(s,{line:i,ch:0},{line:i,ch:99999999999999})}(l);e.focus()}}function R(e,t,n,i){if(!/editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className)){i="undefined"==typeof i?n:i;var s,o=e.codemirror,r=a(o),l=n,c=i,u=o.getCursor("start"),d=o.getCursor("end");r[t]?(s=o.getLine(u.line),l=s.slice(0,u.ch),c=s.slice(u.ch),"bold"==t?(l=l.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),c=c.replace(/(\*\*|__)/,"")):"italic"==t?(l=l.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),c=c.replace(/(\*|_)/,"")):"strikethrough"==t&&(l=l.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),c=c.replace(/(\*\*|~~)/,"")),o.replaceRange(l+c,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),"bold"==t||"strikethrough"==t?(u.ch-=2,u!==d&&(d.ch-=2)):"italic"==t&&(u.ch-=1,u!==d&&(d.ch-=1))):(s=o.getSelection(),"bold"==t?(s=s.split("**").join(""),s=s.split("__").join("")):"italic"==t?(s=s.split("*").join(""),s=s.split("_").join("")):"strikethrough"==t&&(s=s.split("~~").join("")),o.replaceSelection(l+s+c),u.ch+=n.length,d.ch=u.ch+s.length),o.setSelection(u,d),o.focus()}}function D(e){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className))for(var t,n=e.getCursor("start"),i=e.getCursor("end"),s=n.line;s<=i.line;s++)t=e.getLine(s),t=t.replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),e.replaceRange(t,{line:s,ch:0},{line:s,ch:99999999999999})}function N(e,t){for(var n in t)t.hasOwnProperty(n)&&(t[n]instanceof Array?e[n]=t[n].concat(e[n]instanceof Array?e[n]:[]):null!==t[n]&&"object"==typeof t[n]&&t[n].constructor===Object?e[n]=N(e[n]||{},t[n]):e[n]=t[n]);return e}function O(e){for(var t=1;t<arguments.length;t++)e=N(e,arguments[t]);return e}function M(e){var t=/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,n=e.match(t),i=0;if(null===n)return i;for(var s=0;s<n.length;s++)i+=n[s].charCodeAt(0)>=19968?n[s].length:1;return i}function I(e){e=e||{},e.parent=this;var t=!0;if(e.autoDownloadFontAwesome===!1&&(t=!1),e.autoDownloadFontAwesome!==!0)for(var n=document.styleSheets,i=0;i<n.length;i++)n[i].href&&n[i].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(t=!1);if(t){var s=document.createElement("link");s.rel="stylesheet",s.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(s)}if(e.element)this.element=e.element;else if(null===e.element)return void console.log("SimpleMDE: Error. No element was found.");if(void 0===e.toolbar){e.toolbar=[];for(var o in K)K.hasOwnProperty(o)&&(o.indexOf("separator-")!=-1&&e.toolbar.push("|"),(K[o]["default"]===!0||e.showIcons&&e.showIcons.constructor===Array&&e.showIcons.indexOf(o)!=-1)&&e.toolbar.push(o))}e.hasOwnProperty("status")||(e.status=["autosave","lines","words","cursor"]),e.previewRender||(e.previewRender=function(e){return this.parent.markdown(e)}),e.parsingConfig=O({highlightFormatting:!0},e.parsingConfig||{}),e.insertTexts=O({},X,e.insertTexts||{}),e.promptTexts=J,e.blockStyles=O({},Z,e.blockStyles||{}),e.shortcuts=O({},W,e.shortcuts||{}),void 0!=e.autosave&&void 0!=e.autosave.unique_id&&""!=e.autosave.unique_id&&(e.autosave.uniqueId=e.autosave.unique_id),this.options=e,this.render(),!e.initialValue||this.options.autosave&&this.options.autosave.foundSavedValue===!0||this.value(e.initialValue)}function B(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(e){return!1}return!0}var F=e("codemirror");e("codemirror/addon/edit/continuelist.js"),e("./codemirror/tablist"),e("codemirror/addon/display/fullscreen.js"),e("codemirror/mode/markdown/markdown.js"),e("codemirror/addon/mode/overlay.js"),e("codemirror/addon/display/placeholder.js"),e("codemirror/addon/selection/mark-selection.js"),e("codemirror/mode/gfm/gfm.js"),e("codemirror/mode/xml/xml.js");var U=e("codemirror-spell-checker"),z=e("marked"),V=/Mac/.test(navigator.platform),H={toggleBold:c,toggleItalic:u,drawLink:_,toggleHeadingSmaller:f,toggleHeadingBigger:m,drawImage:k,toggleBlockquote:p,toggleOrderedList:w,toggleUnorderedList:y,toggleCodeBlock:h,togglePreview:A,toggleStrikethrough:d,toggleHeading1:v,toggleHeading2:g,toggleHeading3:b,cleanBlock:x,drawTable:S,drawHorizontalRule:C,undo:j,redo:T,toggleSideBySide:E,toggleFullScreen:l},W={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},q=function(e){for(var t in H)if(H[t]===e)return t;return null},Y=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},G="",K={bold:{name:"bold",action:c,className:"fa fa-bold",title:"Bold","default":!0},italic:{name:"italic",action:u,className:"fa fa-italic",title:"Italic","default":!0},strikethrough:{name:"strikethrough",action:d,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:f,className:"fa fa-header",title:"Heading","default":!0},"heading-smaller":{name:"heading-smaller",action:f,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:m,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:v,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:g,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:b,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:h,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:p,className:"fa fa-quote-left",title:"Quote","default":!0},"unordered-list":{name:"unordered-list",action:y,className:"fa fa-list-ul",title:"Generic List","default":!0},"ordered-list":{name:"ordered-list",action:w,className:"fa fa-list-ol",title:"Numbered List","default":!0},"clean-block":{name:"clean-block",action:x,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:_,className:"fa fa-link",title:"Create Link","default":!0},image:{name:"image",action:k,className:"fa fa-picture-o",title:"Insert Image","default":!0},table:{name:"table",action:S,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:C,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:A,className:"fa fa-eye no-disable",title:"Toggle Preview","default":!0},"side-by-side":{name:"side-by-side",action:E,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side","default":!0},fullscreen:{name:"fullscreen",action:l,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen","default":!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide","default":!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:j,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:T,className:"fa fa-repeat no-disable",title:"Redo"}},X={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},J={link:"URL for the link:",image:"URL of the image:"},Z={bold:"**",code:"```",italic:"*"};I.prototype.markdown=function(e){if(z){var t={};return this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?t.breaks=!1:t.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0&&window.hljs&&(t.highlight=function(e){return window.hljs.highlightAuto(e).value}),z.setOptions(t),z(e)}},I.prototype.render=function(e){if(e||(e=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==e){this.element=e;var t=this.options,n=this,s={};for(var o in t.shortcuts)null!==t.shortcuts[o]&&null!==H[o]&&!function(e){s[i(t.shortcuts[e])]=function(){H[e](n)}}(o);s.Enter="newlineAndIndentContinueMarkdownList",s.Tab="tabAndIndentMarkdownList",s["Shift-Tab"]="shiftTabAndUnindentMarkdownList",s.Esc=function(e){e.getOption("fullScreen")&&l(n)},document.addEventListener("keydown",function(e){e=e||window.event,27==e.keyCode&&n.codemirror.getOption("fullScreen")&&l(n)},!1);var r,a;if(t.spellChecker!==!1?(r="spell-checker",a=t.parsingConfig,a.name="gfm",a.gitHubSpice=!1,U({codeMirrorInstance:F})):(r=t.parsingConfig,r.name="gfm",r.gitHubSpice=!1),this.codemirror=F.fromTextArea(e,{mode:r,backdrop:a,theme:"paper",tabSize:void 0!=t.tabSize?t.tabSize:2,indentUnit:void 0!=t.tabSize?t.tabSize:2,indentWithTabs:t.indentWithTabs!==!1,lineNumbers:!1,autofocus:t.autofocus===!0,extraKeys:s,lineWrapping:t.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:t.placeholder||e.getAttribute("placeholder")||"",styleSelectedText:void 0==t.styleSelectedText||t.styleSelectedText}),t.forceSync===!0){var c=this.codemirror;c.on("change",function(){c.save()})}this.gui={},t.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),t.status!==!1&&(this.gui.statusbar=this.createStatusbar()),void 0!=t.autosave&&t.autosave.enabled===!0&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var u=this.codemirror;setTimeout(function(){u.refresh()}.bind(u),0)}},I.prototype.autosave=function(){if(B()){var e=this;if(void 0==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to use the autosave feature");null!=e.element.form&&void 0!=e.element.form&&e.element.form.addEventListener("submit",function(){localStorage.removeItem("smde_"+e.options.autosave.uniqueId)}),this.options.autosave.loaded!==!0&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,e.value());var t=document.getElementById("autosaved");if(null!=t&&void 0!=t&&""!=t){var n=new Date,i=n.getHours(),s=n.getMinutes(),o="am",r=i;r>=12&&(r=i-12,o="pm"),0==r&&(r=12),s=s<10?"0"+s:s,t.innerHTML="Autosaved: "+r+":"+s+" "+o}this.autosaveTimeoutId=setTimeout(function(){e.autosave()},this.options.autosave.delay||1e4)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},I.prototype.clearAutosavedValue=function(){if(B()){if(void 0==this.options.autosave||void 0==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},I.prototype.createSideBySide=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.nextSibling;n&&/editor-preview-side/.test(n.className)||(n=document.createElement("div"),n.className="editor-preview-side",t.parentNode.insertBefore(n,t.nextSibling));var i=!1,s=!1;return e.on("scroll",function(e){if(i)return void(i=!1);s=!0;var t=e.getScrollInfo().height-e.getScrollInfo().clientHeight,o=parseFloat(e.getScrollInfo().top)/t,r=(n.scrollHeight-n.clientHeight)*o;n.scrollTop=r}),n.onscroll=function(){if(s)return void(s=!1);i=!0;var t=n.scrollHeight-n.clientHeight,o=parseFloat(n.scrollTop)/t,r=(e.getScrollInfo().height-e.getScrollInfo().clientHeight)*o;e.scrollTo(0,r)},n},I.prototype.createToolbar=function(e){if(e=e||this.options.toolbar,e&&0!==e.length){var t;for(t=0;t<e.length;t++)void 0!=K[e[t]]&&(e[t]=K[e[t]]);var n=document.createElement("div");n.className="editor-toolbar";var i=this,r={};for(i.toolbar=e,t=0;t<e.length;t++)if(("guide"!=e[t].name||i.options.toolbarGuideIcon!==!1)&&!(i.options.hideIcons&&i.options.hideIcons.indexOf(e[t].name)!=-1||("fullscreen"==e[t].name||"side-by-side"==e[t].name)&&Y())){if("|"===e[t]){for(var l=!1,c=t+1;c<e.length;c++)"|"===e[c]||i.options.hideIcons&&i.options.hideIcons.indexOf(e[c].name)!=-1||(l=!0);if(!l)continue}!function(e){var t;t="|"===e?o():s(e,i.options.toolbarTips,i.options.shortcuts),e.action&&("function"==typeof e.action?t.onclick=function(t){t.preventDefault(),e.action(i)}:"string"==typeof e.action&&(t.href=e.action,t.target="_blank")),r[e.name||e]=t,n.appendChild(t)}(e[t])}i.toolbarElements=r;var u=this.codemirror;u.on("cursorActivity",function(){var e=a(u);for(var t in r)!function(t){var n=r[t];e[t]?n.className+=" active":"fullscreen"!=t&&"side-by-side"!=t&&(n.className=n.className.replace(/\s*active\s*/g,""))}(t)});var d=u.getWrapperElement();return d.parentNode.insertBefore(n,d),n}},I.prototype.createStatusbar=function(e){e=e||this.options.status;var t=this.options,n=this.codemirror;if(e&&0!==e.length){var i,s,o,r=[];for(i=0;i<e.length;i++)if(s=void 0,o=void 0,"object"==typeof e[i])r.push({className:e[i].className,defaultValue:e[i].defaultValue,onUpdate:e[i].onUpdate});else{var a=e[i];"words"===a?(o=function(e){e.innerHTML=M(n.getValue())},s=function(e){e.innerHTML=M(n.getValue())}):"lines"===a?(o=function(e){e.innerHTML=n.lineCount()},s=function(e){e.innerHTML=n.lineCount()}):"cursor"===a?(o=function(e){e.innerHTML="0:0"},s=function(e){var t=n.getCursor();e.innerHTML=t.line+":"+t.ch}):"autosave"===a&&(o=function(e){void 0!=t.autosave&&t.autosave.enabled===!0&&e.setAttribute("id","autosaved")}),r.push({className:a,defaultValue:o,onUpdate:s})}var l=document.createElement("div");for(l.className="editor-statusbar",i=0;i<r.length;i++){var c=r[i],u=document.createElement("span");u.className=c.className,"function"==typeof c.defaultValue&&c.defaultValue(u),"function"==typeof c.onUpdate&&this.codemirror.on("update",function(e,t){return function(){t.onUpdate(e)}}(u,c)),l.appendChild(u)}var d=this.codemirror.getWrapperElement();return d.parentNode.insertBefore(l,d.nextSibling),l}},I.prototype.value=function(e){return void 0===e?this.codemirror.getValue():(this.codemirror.getDoc().setValue(e),this)},I.toggleBold=c,I.toggleItalic=u,I.toggleStrikethrough=d,I.toggleBlockquote=p,I.toggleHeadingSmaller=f,I.toggleHeadingBigger=m,I.toggleHeading1=v,I.toggleHeading2=g,I.toggleHeading3=b,I.toggleCodeBlock=h,I.toggleUnorderedList=y,I.toggleOrderedList=w,I.cleanBlock=x,I.drawLink=_,I.drawImage=k,I.drawTable=S,I.drawHorizontalRule=C,I.undo=j,I.redo=T,I.togglePreview=A,I.toggleSideBySide=E,I.toggleFullScreen=l,I.prototype.toggleBold=function(){c(this)},I.prototype.toggleItalic=function(){u(this)},I.prototype.toggleStrikethrough=function(){d(this)},I.prototype.toggleBlockquote=function(){p(this)},I.prototype.toggleHeadingSmaller=function(){f(this)},I.prototype.toggleHeadingBigger=function(){m(this)},I.prototype.toggleHeading1=function(){v(this)},I.prototype.toggleHeading2=function(){g(this)},I.prototype.toggleHeading3=function(){b(this)},I.prototype.toggleCodeBlock=function(){h(this)},I.prototype.toggleUnorderedList=function(){y(this)},I.prototype.toggleOrderedList=function(){w(this)},I.prototype.cleanBlock=function(){x(this)},I.prototype.drawLink=function(){_(this)},I.prototype.drawImage=function(){k(this)},I.prototype.drawTable=function(){S(this)},I.prototype.drawHorizontalRule=function(){C(this)},I.prototype.undo=function(){j(this)},I.prototype.redo=function(){T(this)},I.prototype.togglePreview=function(){A(this)},I.prototype.toggleSideBySide=function(){E(this)},I.prototype.toggleFullScreen=function(){l(this)},I.prototype.isPreviewActive=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.lastChild;return/editor-preview-active/.test(n.className)},I.prototype.isSideBySideActive=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.nextSibling;return/editor-preview-active-side/.test(n.className)},I.prototype.isFullscreenActive=function(){var e=this.codemirror;return e.getOption("fullScreen")},I.prototype.getState=function(){var e=this.codemirror;return a(e)},I.prototype.toTextArea=function(){var e=this.codemirror,t=e.getWrapperElement();t.parentNode&&(this.gui.toolbar&&t.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&t.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&t.parentNode.removeChild(this.gui.sideBySide)),e.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),
this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},t.exports=I},{"./codemirror/tablist":620,codemirror:614,"codemirror-spell-checker":608,"codemirror/addon/display/fullscreen.js":609,"codemirror/addon/display/placeholder.js":610,"codemirror/addon/edit/continuelist.js":611,"codemirror/addon/mode/overlay.js":612,"codemirror/addon/selection/mark-selection.js":613,"codemirror/mode/gfm/gfm.js":615,"codemirror/mode/markdown/markdown.js":616,"codemirror/mode/xml/xml.js":618,marked:619}],622:[function(e,t,n){function i(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i=o(e),r=i.source,u=i.id,d=i.path,h=c[u]&&d in c[u].nsps,p=t.forceNew||t["force new connection"]||!1===t.multiplex||h;return p?(l("ignoring socket cache for %s",r),n=a(r,t)):(c[u]||(l("new io instance for %s",r),c[u]=a(r,t)),n=c[u]),i.query&&!t.query?t.query=i.query:t&&"object"==typeof t.query&&(t.query=s(t.query)),n.socket(i.path,t)}function s(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}var o=e("./url"),r=e("socket.io-parser"),a=e("./manager"),l=e("debug")("socket.io-client");t.exports=n=i;var c=n.managers={};n.protocol=r.protocol,n.connect=i,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":623,"./socket":625,"./url":626,debug:630,"socket.io-parser":660}],623:[function(e,t,n){function i(e,t){return this instanceof i?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new i(e,t)}var s=e("engine.io-client"),o=e("./socket"),r=e("component-emitter"),a=e("socket.io-parser"),l=e("./on"),c=e("component-bind"),u=e("debug")("socket.io-client:manager"),d=e("indexof"),h=e("backo2"),p=Object.prototype.hasOwnProperty;t.exports=i,i.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)p.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},i.prototype.updateSocketIds=function(){for(var e in this.nsps)p.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},r(i.prototype),i.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},i.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},i.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},i.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},i.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},i.prototype.open=i.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=s(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=l(n,"open",function(){i.onopen(),e&&e()}),r=l(n,"error",function(t){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;u("connect attempt will timeout after %d",a);var c=setTimeout(function(){u("connect attempt timed out after %d",a),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(r),this},i.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(l(e,"data",c(this,"ondata"))),this.subs.push(l(e,"ping",c(this,"onping"))),this.subs.push(l(e,"pong",c(this,"onpong"))),this.subs.push(l(e,"error",c(this,"onerror"))),this.subs.push(l(e,"close",c(this,"onclose"))),this.subs.push(l(this.decoder,"decoded",c(this,"ondecoded")))},i.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},i.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},i.prototype.ondata=function(e){this.decoder.add(e)},i.prototype.ondecoded=function(e){this.emit("packet",e)},i.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},i.prototype.socket=function(e,t){function n(){~d(s.connecting,i)||s.connecting.push(i)}var i=this.nsps[e];if(!i){i=new o(this,e,t),this.nsps[e]=i;var s=this;i.on("connecting",n),i.on("connect",function(){i.id=s.engine.id}),this.autoConnect&&n()}return i},i.prototype.destroy=function(e){var t=d(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},i.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i],e.options);t.encoding=!1,t.processPacketQueue()}))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},i.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},i.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},i.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":624,"./socket":625,backo2:627,"component-bind":628,"component-emitter":629,debug:630,"engine.io-client":633,indexof:657,"socket.io-parser":660}],624:[function(e,t,n){function i(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=i},{}],625:[function(e,t,n){function i(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var s=e("socket.io-parser"),o=e("component-emitter"),r=e("to-array"),a=e("./on"),l=e("component-bind"),c=e("debug")("socket.io-client:socket"),u=e("has-binary");t.exports=n=i;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=o.prototype.emit;o(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",l(this,"onopen")),a(e,"packet",l(this,"onpacket")),a(e,"close",l(this,"onclose"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},i.prototype.send=function(){var e=r(arguments);return e.unshift("message"),this.emit.apply(this,e),this},i.prototype.emit=function(e){if(d.hasOwnProperty(e))return h.apply(this,arguments),this;var t=r(arguments),n=s.EVENT;u(t)&&(n=s.BINARY_EVENT);var i={type:n,data:t};return i.options={},i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},i.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},i.prototype.onopen=function(){c("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:s.CONNECT,query:this.query}):this.packet({type:s.CONNECT}))},i.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},i.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case s.CONNECT:this.onconnect();break;case s.EVENT:this.onevent(e);break;case s.BINARY_EVENT:this.onevent(e);break;case s.ACK:this.onack(e);break;case s.BINARY_ACK:this.onack(e);break;case s.DISCONNECT:this.ondisconnect();break;case s.ERROR:this.emit("error",e.data)}},i.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},i.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=r(arguments);c("sending ack %j",i);var o=u(i)?s.BINARY_ACK:s.ACK;t.packet({type:o,id:e,data:i})}}},i.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:s.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},i.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},{"./on":624,"component-bind":628,"component-emitter":629,debug:630,"has-binary":655,"socket.io-parser":660,"to-array":668}],626:[function(e,t,n){(function(n){function i(e,t){var i=e;t=t||n.location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),o("parse %s",e),i=s(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var r=i.host.indexOf(":")!==-1,a=r?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+a+":"+i.port,i.href=i.protocol+"://"+a+(t&&t.port===i.port?"":":"+i.port),i}var s=e("parseuri"),o=e("debug")("socket.io-client:url");t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:630,parseuri:658}],627:[function(e,t,n){function i(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=i,i.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(e){this.ms=e},i.prototype.setMax=function(e){this.max=e},i.prototype.setJitter=function(e){this.jitter=e}},{}],628:[function(e,t,n){var i=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}},{}],629:[function(e,t,n){function i(e){if(e)return s(e)}function s(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}"undefined"!=typeof t&&(t.exports=i),i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===t||i.fn===t){n.splice(s,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],630:[function(e,t,n){(function(i){function s(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var s=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(s++,"%c"===e&&(o=s))}),e.splice(o,0,i),e}function r(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function l(){try{return n.storage.debug}catch(e){}if("undefined"!=typeof i&&"env"in i)return i.env.DEBUG}function c(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=r,n.formatArgs=o,n.save=a,n.load=l,n.useColors=s,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},n.enable(l())}).call(this,e("_process"))},{"./debug":631,_process:550}],631:[function(e,t,n){function i(){return n.colors[u++%n.colors.length]}function s(e){function t(){}function s(){var e=s,t=+new Date,o=t-(c||t);e.diff=o,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=i());for(var r=new Array(arguments.length),a=0;a<r.length;a++)r[a]=arguments[a];r[0]=n.coerce(r[0]),"string"!=typeof r[0]&&(r=["%o"].concat(r));var l=0;r[0]=r[0].replace(/%([a-z%])/g,function(t,i){if("%%"===t)return t;l++;var s=n.formatters[i];if("function"==typeof s){var o=r[l];t=s.call(e,o),r.splice(l,1),l--}return t}),r=n.formatArgs.apply(e,r);var u=s.log||n.log||console.log.bind(console);u.apply(e,r)}t.enabled=!1,s.enabled=!0;var o=n.enabled(e)?s:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),i=t.length,s=0;s<i;s++)t[s]&&(e=t[s].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function r(){n.enable("")}function a(e){var t,i;for(t=0,i=n.skips.length;t<i;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;t<i;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=s.debug=s,n.coerce=l,n.disable=r,n.enable=o,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var c,u=0},{ms:632}],632:[function(e,t,n){function i(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*l;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function s(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=l?Math.round(e/l)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return r(e,u,"day")||r(e,c,"hour")||r(e,l,"minute")||r(e,a,"second")||e+" ms"}function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,l=60*a,c=60*l,u=24*c,d=365.25*u;t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return i(e);if("number"===n&&isNaN(e)===!1)return t["long"]?o(e):s(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],633:[function(e,t,n){t.exports=e("./lib/index")},{"./lib/index":634}],634:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":635,"engine.io-parser":644}],635:[function(e,t,n){(function(n){function i(e,t){if(!(this instanceof i))return new i(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=u(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=u(t.host).host),this.secure=null!=t.secure?t.secure:n.location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized?null:t.rejectUnauthorized,this.forceNode=!!t.forceNode;var s="object"==typeof n&&n;s.global===s&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function s(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=e("./transports/index"),r=e("component-emitter"),a=e("debug")("engine.io-client:socket"),l=e("indexof"),c=e("engine.io-parser"),u=e("parseuri"),d=e("parsejson"),h=e("parseqs");t.exports=i,i.priorWebsocketSuccess=!1,r(i.prototype),i.protocol=c.protocol,i.Socket=i,i.Transport=e("./transport"),i.transports=e("./transports/index"),i.parser=e("engine.io-parser"),i.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=s(this.query);t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new o[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress});return n},i.prototype.open=function(){var e;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},i.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},i.prototype.probe=function(e){function t(){if(h.onlyBinaryUpgrades){var t=!this.supportsBinary&&h.transport.supportsBinary;d=d||t}d||(a('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!d)if("pong"===t.type&&"probe"===t.data){if(a('probe transport "%s" pong',e),h.upgrading=!0,h.emit("upgrading",u),!u)return;i.priorWebsocketSuccess="websocket"===u.name,a('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){d||"closed"!==h.readyState&&(a("changing transport and sending upgrade packet"),c(),h.setTransport(u),u.send([{type:"upgrade"}]),h.emit("upgrade",u),u=null,h.upgrading=!1,h.flush())})}else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=u.name,h.emit("upgradeError",n)}}))}function n(){d||(d=!0,c(),u.close(),u=null)}function s(t){var i=new Error("probe error: "+t);i.transport=u.name,n(),a('probe transport "%s" failed because of error: %s',e,t),h.emit("upgradeError",i)}function o(){s("transport closed")}function r(){s("socket closed")}function l(e){u&&e.name!==u.name&&(a('"%s" works - aborting "%s"',e.name,u.name),n())}function c(){u.removeListener("open",t),u.removeListener("error",s),u.removeListener("close",o),h.removeListener("close",r),h.removeListener("upgrading",l)}a('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),d=!1,h=this;i.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",s),u.once("close",o),this.once("close",r),this.once("upgrading",l),u.open()},i.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",i.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},i.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(d(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},i.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},i.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},i.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},i.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},i.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},i.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},i.prototype.write=i.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},i.prototype.sendPacket=function(e,t,n,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var s={type:e,data:t,options:n};this.emit("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}},i.prototype.close=function(){function e(){i.onClose("forced close"),a("socket closing - telling transport to close"),i.transport.close()}function t(){i.removeListener("upgrade",t),i.removeListener("upgradeError",t),e()}function n(){i.once("upgrade",t),i.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},i.prototype.onError=function(e){a("socket error %j",e),i.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},i.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},i.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~l(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":636,"./transports/index":637,"component-emitter":629,debug:630,"engine.io-parser":644,indexof:657,parsejson:652,parseqs:653,parseuri:658}],636:[function(e,t,n){function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var s=e("engine.io-parser"),o=e("component-emitter");t.exports=i,o(i.prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=s.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":629,"engine.io-parser":644}],637:[function(e,t,n){(function(t){function i(e){var n,i=!1,a=!1,l=!1!==e.jsonp;if(t.location){var c="https:"===location.protocol,u=location.port;u||(u=c?443:80),i=e.hostname!==location.hostname||u!==e.port,a=e.secure!==c}if(e.xdomain=i,e.xscheme=a,n=new s(e),"open"in n&&!e.forceJSONP)return new o(e);if(!l)throw new Error("JSONP disabled");return new r(e)}var s=e("xmlhttprequest-ssl"),o=e("./polling-xhr"),r=e("./polling-jsonp"),a=e("./websocket");n.polling=i,n.websocket=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":638,"./polling-xhr":639,"./websocket":641,"xmlhttprequest-ssl":642}],638:[function(e,t,n){(function(n){function i(){}function s(e){o.call(this,e),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=i)},!1)}var o=e("./polling"),r=e("component-inherit");t.exports=s;var a,l=/\n/g,c=/\\n/g;r(s,o),s.prototype.supportsBinary=!1,s.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},s.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var i="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var e=document.createElement("iframe");
document.body.appendChild(e),document.body.removeChild(e)},100)},s.prototype.doWrite=function(e,t){function n(){i(),t()}function i(){if(s.iframe)try{s.form.removeChild(s.iframe)}catch(e){s.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+s.iframeId+'">';o=document.createElement(t)}catch(e){o=document.createElement("iframe"),o.name=s.iframeId,o.src="javascript:0"}o.id=s.iframeId,s.form.appendChild(o),s.iframe=o}var s=this;if(!this.form){var o,r=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=u,r.method="POST",r.setAttribute("accept-charset","utf-8"),a.name="d",r.appendChild(a),document.body.appendChild(r),this.form=r,this.area=a}this.form.action=this.uri(),i(),e=e.replace(c,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===s.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":640,"component-inherit":643}],639:[function(e,t,n){(function(n){function i(){}function s(e){if(l.call(this,e),this.requestTimeout=e.requestTimeout,n.location){var t="https:"===location.protocol,i=location.port;i||(i=t?443:80),this.xd=e.hostname!==n.location.hostname||i!==e.port,this.xs=e.secure!==t}else this.extraHeaders=e.extraHeaders}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function r(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var a=e("xmlhttprequest-ssl"),l=e("./polling"),c=e("component-emitter"),u=e("component-inherit"),d=e("debug")("engine.io-client:polling-xhr");t.exports=s,t.exports.Request=o,u(s,l),s.prototype.supportsBinary=!0,s.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new o(e)},s.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,i=this.request({method:"POST",data:e,isBinary:n}),s=this;i.on("success",t),i.on("error",function(e){s.onError("xhr post error",e)}),this.sendXhr=i},s.prototype.doPoll=function(){d("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),i=this;try{d("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck(!0);for(var s in this.extraHeaders)this.extraHeaders.hasOwnProperty(s)&&t.setRequestHeader(s,this.extraHeaders[s])}}catch(r){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{t.setRequestHeader("Accept","*/*")}catch(r){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){i.onLoad()},t.onerror=function(){i.onError(t.responseText)}):t.onreadystatechange=function(){4===t.readyState&&(200===t.status||1223===t.status?i.onLoad():setTimeout(function(){i.onError(t.status)},0))},d("xhr data %s",this.data),t.send(this.data)}catch(r){return void setTimeout(function(){i.onError(r)},0)}n.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i,e)try{this.xhr.abort()}catch(t){}n.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(n){for(var i=new Uint8Array(this.xhr.response),s=[],o=0,r=i.length;o<r;o++)s.push(i[o]);e=String.fromCharCode.apply(null,s)}else e=this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},n.document&&(n.attachEvent?n.attachEvent("onunload",r):n.addEventListener&&n.addEventListener("beforeunload",r,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":640,"component-emitter":629,"component-inherit":643,debug:630,"xmlhttprequest-ssl":642}],640:[function(e,t,n){function i(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),s.call(this,e)}var s=e("../transport"),o=e("parseqs"),r=e("engine.io-parser"),a=e("component-inherit"),l=e("yeast"),c=e("debug")("engine.io-client:polling");t.exports=i;var u=function(){var t=e("xmlhttprequest-ssl"),n=new t({xdomain:!1});return null!=n.responseType}();a(i,s),i.prototype.name="polling",i.prototype.doOpen=function(){this.poll()},i.prototype.pause=function(e){function t(){c("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){c("pre-pause polling complete"),--i||t()})),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",function(){c("pre-pause writing complete"),--i||t()}))}else t()},i.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},i.prototype.onData=function(e){var t=this;c("polling got data %s",e);var n=function(e,n,i){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)};r.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},i.prototype.doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},i.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};r.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";!1!==this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+e}},{"../transport":636,"component-inherit":643,debug:630,"engine.io-parser":644,parseqs:653,"xmlhttprequest-ssl":642,yeast:654}],641:[function(e,t,n){(function(n){function i(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=d&&!e.forceNode,this.usingBrowserWebSocket||(p=s),o.call(this,e)}var s,o=e("../transport"),r=e("engine.io-parser"),a=e("parseqs"),l=e("component-inherit"),c=e("yeast"),u=e("debug")("engine.io-client:websocket"),d=n.WebSocket||n.MozWebSocket;if("undefined"==typeof window)try{s=e("ws")}catch(h){}var p=d;p||"undefined"!=typeof window||(p=s),t.exports=i,l(i,o),i.prototype.name="websocket",i.prototype.supportsBinary=!0,i.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new p(e):new p(e,t,n)}catch(i){return this.emit("error",i)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},i.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},i.prototype.write=function(e){function t(){i.emit("flush"),setTimeout(function(){i.writable=!0,i.emit("drain")},0)}var i=this;this.writable=!1;for(var s=e.length,o=0,a=s;o<a;o++)!function(e){r.encodePacket(e,i.supportsBinary,function(o){if(!i.usingBrowserWebSocket){var r={};if(e.options&&(r.compress=e.options.compress),i.perMessageDeflate){var a="string"==typeof o?n.Buffer.byteLength(o):o.length;a<i.perMessageDeflate.threshold&&(r.compress=!1)}}try{i.usingBrowserWebSocket?i.ws.send(o):i.ws.send(o,r)}catch(l){u("websocket closed before onclose event")}--s||t()})}(e[o])},i.prototype.onClose=function(){o.prototype.onClose.call(this)},i.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),e=a.encode(e),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+e},i.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===i.prototype.name)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transport":636,"component-inherit":643,debug:630,"engine.io-parser":644,parseqs:653,ws:541,yeast:654}],642:[function(e,t,n){(function(n){var i=e("has-cors");t.exports=function(e){var t=e.xdomain,s=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||i))return new XMLHttpRequest}catch(r){}try{if("undefined"!=typeof XDomainRequest&&!s&&o)return new XDomainRequest}catch(r){}if(!t)try{return new(n[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"has-cors":651}],643:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],644:[function(e,t,n){(function(t){function i(e,t){var i="b"+n.packets[e.type]+e.data.data;return t(i)}function s(e,t,i){if(!t)return n.encodeBase64Packet(e,i);var s=e.data,o=new Uint8Array(s),r=new Uint8Array(1+s.byteLength);r[0]=b[e.type];for(var a=0;a<o.length;a++)r[a+1]=o[a];return i(r.buffer)}function o(e,t,i){if(!t)return n.encodeBase64Packet(e,i);var s=new FileReader;return s.onload=function(){e.data=s.result,n.encodePacket(e,t,!0,i)},s.readAsArrayBuffer(e.data)}function r(e,t,i){if(!t)return n.encodeBase64Packet(e,i);if(g)return o(e,t,i);var s=new Uint8Array(1);s[0]=b[e.type];var r=new x([s.buffer,e.data]);return i(r)}function a(e){try{e=f.decode(e)}catch(t){return!1}return e}function l(e,t,n){for(var i=new Array(e.length),s=p(e.length,n),o=function(e,n,s){t(n,function(t,n){i[e]=n,s(t,i)})},r=0;r<e.length;r++)o(r,e[r],s)}var c,u=e("./keys"),d=e("has-binary"),h=e("arraybuffer.slice"),p=e("after"),f=e("wtf-8");t&&t.ArrayBuffer&&(c=e("base64-arraybuffer"));var m="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),v="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),g=m||v;n.protocol=3;var b=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},y=u(b),w={type:"error",data:"parser error"},x=e("blob");n.encodePacket=function(e,n,o,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof o&&(a=o,o=null);var l=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&l instanceof ArrayBuffer)return s(e,n,a);if(x&&l instanceof t.Blob)return r(e,n,a);if(l&&l.base64)return i(e,a);var c=b[e.type];return void 0!==e.data&&(c+=o?f.encode(String(e.data)):String(e.data)),a(""+c)},n.encodeBase64Packet=function(e,i){var s="b"+n.packets[e.type];if(x&&e.data instanceof t.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];i(s+e)},o.readAsDataURL(e.data)}var r;try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(a){for(var l=new Uint8Array(e.data),c=new Array(l.length),u=0;u<l.length;u++)c[u]=l[u];r=String.fromCharCode.apply(null,c)}return s+=t.btoa(r),i(s)},n.decodePacket=function(e,t,i){if(void 0===e)return w;if("string"==typeof e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(i&&(e=a(e),e===!1))return w;var s=e.charAt(0);return Number(s)==s&&y[s]?e.length>1?{type:y[s],data:e.substring(1)}:{type:y[s]}:w}var o=new Uint8Array(e),s=o[0],r=h(e,1);return x&&"blob"===t&&(r=new x([r])),{type:y[s],data:r}},n.decodeBase64Packet=function(e,t){var n=y[e.charAt(0)];if(!c)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=c.decode(e.substr(1));return"blob"===t&&x&&(i=new x([i])),{type:n,data:i}},n.encodePayload=function(e,t,i){function s(e){return e.length+":"+e}function o(e,i){n.encodePacket(e,!!r&&t,!0,function(e){i(null,s(e))})}"function"==typeof t&&(i=t,t=null);var r=d(e);return t&&r?x&&!g?n.encodePayloadAsBlob(e,i):n.encodePayloadAsArrayBuffer(e,i):e.length?void l(e,o,function(e,t){return i(t.join(""))}):i("0:")},n.decodePayload=function(e,t,i){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,i);"function"==typeof t&&(i=t,t=null);var s;if(""==e)return i(w,0,1);for(var o,r,a="",l=0,c=e.length;l<c;l++){var u=e.charAt(l);if(":"!=u)a+=u;else{if(""==a||a!=(o=Number(a)))return i(w,0,1);if(r=e.substr(l+1,o),a!=r.length)return i(w,0,1);if(r.length){if(s=n.decodePacket(r,t,!0),w.type==s.type&&w.data==s.data)return i(w,0,1);var d=i(s,l+o,c);if(!1===d)return}l+=o,a=""}}return""!=a?i(w,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function i(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void l(e,i,function(e,n){var i=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),s=new Uint8Array(i),o=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);n=i.buffer}t?s[o++]=0:s[o++]=1;for(var a=n.byteLength.toString(),r=0;r<a.length;r++)s[o++]=parseInt(a[r]);s[o++]=255;for(var i=new Uint8Array(n),r=0;r<i.length;r++)s[o++]=i[r]}),t(s.buffer)}):t(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(e,t){function i(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),s=0;s<e.length;s++)i[s]=e.charCodeAt(s);e=i.buffer,n[0]=0}for(var o=e instanceof ArrayBuffer?e.byteLength:e.size,r=o.toString(),a=new Uint8Array(r.length+1),s=0;s<r.length;s++)a[s]=parseInt(r[s]);if(a[r.length]=255,x){var l=new x([n.buffer,a.buffer,e]);t(null,l)}})}l(e,i,function(e,n){return t(new x(n))})},n.decodePayloadAsBinary=function(e,t,i){"function"==typeof t&&(i=t,t=null);for(var s=e,o=[],r=!1;s.byteLength>0;){for(var a=new Uint8Array(s),l=0===a[0],c="",u=1;255!=a[u];u++){if(c.length>310){r=!0;break}c+=a[u]}if(r)return i(w,0,1);s=h(s,2+c.length),c=parseInt(c);var d=h(s,0,c);if(l)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(p){var f=new Uint8Array(d);d="";for(var u=0;u<f.length;u++)d+=String.fromCharCode(f[u])}o.push(d),s=h(s,c)}var m=o.length;o.forEach(function(e,s){i(n.decodePacket(e,t,!0),s,m)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":645,after:646,"arraybuffer.slice":647,"base64-arraybuffer":648,blob:649,"has-binary":655,"wtf-8":650}],645:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t}},{}],646:[function(e,t,n){function i(e,t,n){function i(e,s){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(o=!0,t(e),t=n):0!==i.count||o||t(null,s)}var o=!1;return n=n||s,i.count=e,0===e?t():i}function s(){}t.exports=i},{}],647:[function(e,t,n){t.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||0===i)return new ArrayBuffer(0);for(var s=new Uint8Array(e),o=new Uint8Array(n-t),r=t,a=0;r<n;r++,a++)o[a]=s[r];return o.buffer}},{}],648:[function(e,t,n){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),i=0;i<e.length;i++)t[e.charCodeAt(i)]=i;n.encode=function(t){var n,i=new Uint8Array(t),s=i.length,o="";for(n=0;n<s;n+=3)o+=e[i[n]>>2],o+=e[(3&i[n])<<4|i[n+1]>>4],o+=e[(15&i[n+1])<<2|i[n+2]>>6],o+=e[63&i[n+2]];return s%3===2?o=o.substring(0,o.length-1)+"=":s%3===1&&(o=o.substring(0,o.length-2)+"=="),o},n.decode=function(e){var n,i,s,o,r,a=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(n=0;n<l;n+=4)i=t[e.charCodeAt(n)],s=t[e.charCodeAt(n+1)],o=t[e.charCodeAt(n+2)],r=t[e.charCodeAt(n+3)],d[c++]=i<<2|s>>4,d[c++]=(15&s)<<4|o>>2,d[c++]=(3&o)<<6|63&r;return u}}()},{}],649:[function(e,t,n){(function(e){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var i=n.buffer;if(n.byteLength!==i.byteLength){var s=new Uint8Array(n.byteLength);s.set(new Uint8Array(i,n.byteOffset,n.byteLength)),i=s.buffer}e[t]=i}}}function i(e,t){t=t||{};var i=new o;n(e);for(var s=0;s<e.length;s++)i.append(e[s]);return t.type?i.getBlob(t.type):i.getBlob()}function s(e,t){return n(e),new Blob(e,t||{})}var o=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(t){return!1}}(),a=r&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(t){return!1}}(),l=o&&o.prototype.append&&o.prototype.getBlob;t.exports=function(){return r?a?e.Blob:s:l?i:void 0}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],650:[function(e,t,n){(function(e){!function(i){function s(e){for(var t,n,i=[],s=0,o=e.length;s<o;)t=e.charCodeAt(s++),t>=55296&&t<=56319&&s<o?(n=e.charCodeAt(s++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),s--)):i.push(t);return i}function o(e){for(var t,n=e.length,i=-1,s="";++i<n;)t=e[i],t>65535&&(t-=65536,s+=b(t>>>10&1023|55296),t=56320|1023&t),s+=b(t);return s}function r(e,t){return b(e>>t&63|128)}function a(e){if(0==(4294967168&e))return b(e);var t="";return 0==(4294965248&e)?t=b(e>>6&31|192):0==(4294901760&e)?(t=b(e>>12&15|224),t+=r(e,6)):0==(4292870144&e)&&(t=b(e>>18&7|240),t+=r(e,12),t+=r(e,6)),t+=b(63&e|128)}function l(e){for(var t,n=s(e),i=n.length,o=-1,r="";++o<i;)t=n[o],r+=a(t);return r}function c(){if(g>=v)throw Error("Invalid byte index");var e=255&m[g];if(g++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(){var e,t,n,i,s;if(g>v)throw Error("Invalid byte index");if(g==v)return!1;if(e=255&m[g],g++,0==(128&e))return e;if(192==(224&e)){var t=c();if(s=(31&e)<<6|t,s>=128)return s;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=c(),n=c(),s=(15&e)<<12|t<<6|n,s>=2048)return s;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=c(),n=c(),i=c(),s=(15&e)<<18|t<<12|n<<6|i,s>=65536&&s<=1114111))return s;throw Error("Invalid WTF-8 detected")}function d(e){m=s(e),v=m.length,g=0;for(var t,n=[];(t=u())!==!1;)n.push(t);return o(n)}var h="object"==typeof n&&n,p="object"==typeof t&&t&&t.exports==h&&t,f="object"==typeof e&&e;f.global!==f&&f.window!==f||(i=f);var m,v,g,b=String.fromCharCode,y={version:"1.0.0",encode:l,decode:d};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return y});else if(h&&!h.nodeType)if(p)p.exports=y;else{var w={},x=w.hasOwnProperty;for(var _ in y)x.call(y,_)&&(h[_]=y[_])}else i.wtf8=y}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],651:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(i){t.exports=!1}},{}],652:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,s=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,r=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(r,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(i,"@").replace(s,"]").replace(o,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],653:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),i=0,s=n.length;i<s;i++){var o=n[i].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},{}],654:[function(e,t,n){"use strict";function i(e){var t="";do t=a[e%l]+t,e=Math.floor(e/l);while(e>0);return t}function s(e){var t=0;for(d=0;d<e.length;d++)t=t*l+c[e.charAt(d)];return t}function o(){var e=i(+new Date);return e!==r?(u=0,r=e):e+"."+i(u++)}for(var r,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),l=64,c={},u=0,d=0;d<l;d++)c[a[d]]=d;o.encode=i,o.decode=s,t.exports=o},{}],655:[function(e,t,n){(function(n){function i(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(s(e)){for(var i=0;i<e.length;i++)if(t(e[i]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&t(e[o]))return!0}return!1}return t(e)}var s=e("isarray");t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:656}],656:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],657:[function(e,t,n){var i=[].indexOf;t.exports=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],658:[function(e,t,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,s=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),o=e.indexOf("]");n!=-1&&o!=-1&&(e=e.substring(0,n)+e.substring(n,o).replace(/:/g,";")+e.substring(o,e.length));for(var r=i.exec(e||""),a={},l=14;l--;)a[s[l]]=r[l]||"";return n!=-1&&o!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],659:[function(e,t,n){(function(t){var i=e("isarray"),s=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(s(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(i(e)){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=t(e[a]);return r}if("object"==typeof e&&!(e instanceof Date)){var r={};for(var l in e)r[l]=t(e[l]);return r}return e}var n=[],o=e.data,r=e;return r.data=t(o),r.attachments=n.length,{packet:r,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var s=t[e.num];return s}if(i(e)){for(var o=0;o<e.length;o++)e[o]=n(e[o]);return e}if(e&&"object"==typeof e){for(var r in e)e[r]=n(e[r]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function o(e,l,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){r++;var u=new FileReader;u.onload=function(){c?c[l]=this.result:a=this.result,--r||n(a)},u.readAsArrayBuffer(e)}else if(i(e))for(var d=0;d<e.length;d++)o(e[d],d,e);else if(e&&"object"==typeof e&&!s(e))for(var h in e)o(e[h],h,e)}var r=0,a=e;o(a),r||n(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":661,isarray:666}],660:[function(e,t,n){function i(){}function s(e){var t="",i=!1;return t+=e.type,n.BINARY_EVENT!=e.type&&n.BINARY_ACK!=e.type||(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(i=!0,t+=e.nsp),null!=e.id&&(i&&(t+=",",i=!1),t+=e.id),null!=e.data&&(i&&(t+=","),t+=h.stringify(e.data)),d("encoded %j as %s",e,t),t}function o(e,t){function n(e){var n=f.deconstructPacket(e),i=s(n.packet),o=n.buffers;o.unshift(i),t(o)}f.removeBlobs(e,n)}function r(){this.reconstructor=null}function a(e){var t={},i=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return u();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(var s="";"-"!=e.charAt(++i)&&(s+=e.charAt(i),i!=e.length););if(s!=Number(s)||"-"!=e.charAt(i))throw new Error("Illegal attachments");t.attachments=Number(s)}if("/"==e.charAt(i+1))for(t.nsp="";++i;){var o=e.charAt(i);if(","==o)break;if(t.nsp+=o,i==e.length)break}else t.nsp="/";var r=e.charAt(i+1);if(""!==r&&Number(r)==r){for(t.id="";++i;){var o=e.charAt(i);if(null==o||Number(o)!=o){--i;break}if(t.id+=e.charAt(i),i==e.length)break}t.id=Number(t.id)}return e.charAt(++i)&&(t=l(t,e.substr(i))),d("decoded %s as %j",e,t),t}function l(e,t){try{e.data=h.parse(t)}catch(n){return u()}return e}function c(e){this.reconPack=e,this.buffers=[]}function u(e){return{type:n.ERROR,data:"parser error"}}var d=e("debug")("socket.io-parser"),h=e("json3"),p=e("component-emitter"),f=e("./binary"),m=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=i,n.Decoder=r,i.prototype.encode=function(e,t){if(d("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)o(e,t);else{var i=s(e);t([i])}},p(r.prototype),r.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new c(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!m(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},r.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":659,"./is-buffer":661,"component-emitter":662,debug:663,json3:667}],661:[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],662:[function(e,t,n){function i(e){if(e)return s(e)}function s(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){i.off(e,n),t.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===t||i.fn===t){n.splice(s,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],663:[function(e,t,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function s(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var s=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(s++,"%c"===e&&(o=s))}),e.splice(o,0,i),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function r(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function a(){var e;try{e=n.storage.debug}catch(t){}return e}function l(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=o,n.formatArgs=s,n.save=r,n.load=a,n.useColors=i,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(a())},{"./debug":664}],664:[function(e,t,n){function i(){return n.colors[u++%n.colors.length]}function s(e){function t(){}function s(){var e=s,t=+new Date,o=t-(c||t);e.diff=o,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=i());var r=Array.prototype.slice.call(arguments);r[0]=n.coerce(r[0]),"string"!=typeof r[0]&&(r=["%o"].concat(r));var a=0;r[0]=r[0].replace(/%([a-z%])/g,function(t,i){
if("%%"===t)return t;a++;var s=n.formatters[i];if("function"==typeof s){var o=r[a];t=s.call(e,o),r.splice(a,1),a--}return t}),"function"==typeof n.formatArgs&&(r=n.formatArgs.apply(e,r));var l=s.log||n.log||console.log.bind(console);l.apply(e,r)}t.enabled=!1,s.enabled=!0;var o=n.enabled(e)?s:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),i=t.length,s=0;s<i;s++)t[s]&&(e=t[s].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function r(){n.enable("")}function a(e){var t,i;for(t=0,i=n.skips.length;t<i;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;t<i;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=s,n.coerce=l,n.disable=r,n.enable=o,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var c,u=0},{ms:665}],665:[function(e,t,n){function i(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*l;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function s(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=l?Math.round(e/l)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return r(e,u,"day")||r(e,c,"hour")||r(e,l,"minute")||r(e,a,"second")||e+" ms"}function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,l=60*a,c=60*l,u=24*c,d=365.25*u;t.exports=function(e,t){return t=t||{},"string"==typeof e?i(e):t["long"]?o(e):s(e)}},{}],666:[function(e,t,n){arguments[4][656][0].apply(n,arguments)},{dup:656}],667:[function(e,t,n){(function(e){(function(){function i(e,t){function n(e){if(n[e]!==v)return n[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=n("json-stringify")&&n("json-parse");else{var o,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=t.stringify,u="function"==typeof l&&y;if(u){(o=function(){return 1}).toJSON=o;try{u="0"===l(0)&&"0"===l(new s)&&'""'==l(new r)&&l(b)===v&&l(v)===v&&l()===v&&"1"===l(o)&&"[1]"==l([o])&&"[null]"==l([v])&&"null"==l(null)&&"[null,null,null]"==l([v,b,null])&&l({a:[o,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===l(null,o)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new c((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==l(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new c((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==l(new c((-1)))}catch(d){u=!1}}i=u}if("json-parse"==e){var h=t.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){o=h(a);var p=5==o.a.length&&1===o.a[0];if(p){try{p=!h('"\t"')}catch(d){}if(p)try{p=1!==h("01")}catch(d){}if(p)try{p=1!==h("1.")}catch(d){}}}}catch(d){p=!1}i=p}}return n[e]=!!i}e||(e=a.Object()),t||(t=a.Object());var s=e.Number||a.Number,r=e.String||a.String,l=e.Object||a.Object,c=e.Date||a.Date,u=e.SyntaxError||a.SyntaxError,d=e.TypeError||a.TypeError,h=e.Math||a.Math,p=e.JSON||a.JSON;"object"==typeof p&&p&&(t.stringify=p.stringify,t.parse=p.parse);var f,m,v,g=l.prototype,b=g.toString,y=new c((-0xc782b5b800cec));try{y=y.getUTCFullYear()==-109252&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(w){}if(!n("json")){var x="[object Function]",_="[object Date]",k="[object Number]",S="[object String]",C="[object Array]",j="[object Boolean]",T=n("bug-string-char-index");if(!y)var E=h.floor,A=[0,31,59,90,120,151,181,212,243,273,304,334],P=function(e,t){return A[t]+365*(e-1970)+E((e-1969+(t=+(t>1)))/4)-E((e-1901+t)/100)+E((e-1601+t)/400)};if((f=g.hasOwnProperty)||(f=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=b?f=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,f=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,f.call(this,e)}),m=function(e,t){var n,i,s,r=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(s in i)f.call(i,s)&&r++;return n=i=null,r?m=2==r?function(e,t){var n,i={},s=b.call(e)==x;for(n in e)s&&"prototype"==n||f.call(i,n)||!(i[n]=1)||!f.call(e,n)||t(n)}:function(e,t){var n,i,s=b.call(e)==x;for(n in e)s&&"prototype"==n||!f.call(e,n)||(i="constructor"===n)||t(n);(i||f.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,t){var n,s,r=b.call(e)==x,a=!r&&"function"!=typeof e.constructor&&o[typeof e.hasOwnProperty]&&e.hasOwnProperty||f;for(n in e)r&&"prototype"==n||!a.call(e,n)||t(n);for(s=i.length;n=i[--s];a.call(e,n)&&t(n));}),m(e,t)},!n("json-stringify")){var $={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},L="000000",R=function(e,t){return(L+(t||0)).slice(-e)},D="\\u00",N=function(e){for(var t='"',n=0,i=e.length,s=!T||i>10,o=s&&(T?e.split(""):e);n<i;n++){var r=e.charCodeAt(n);switch(r){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=$[r];break;default:if(r<32){t+=D+R(2,r.toString(16));break}t+=s?o[n]:e.charAt(n)}}return t+'"'},O=function(e,t,n,i,s,o,r){var a,l,c,u,h,p,g,y,w,x,T,A,$,L,D,M;try{a=t[e]}catch(I){}if("object"==typeof a&&a)if(l=b.call(a),l!=_||f.call(a,"toJSON"))"function"==typeof a.toJSON&&(l!=k&&l!=S&&l!=C||f.call(a,"toJSON"))&&(a=a.toJSON(e));else if(a>-1/0&&a<1/0){if(P){for(h=E(a/864e5),c=E(h/365.2425)+1970-1;P(c+1,0)<=h;c++);for(u=E((h-P(c,0))/30.42);P(c,u+1)<=h;u++);h=1+h-P(c,u),p=(a%864e5+864e5)%864e5,g=E(p/36e5)%24,y=E(p/6e4)%60,w=E(p/1e3)%60,x=p%1e3}else c=a.getUTCFullYear(),u=a.getUTCMonth(),h=a.getUTCDate(),g=a.getUTCHours(),y=a.getUTCMinutes(),w=a.getUTCSeconds(),x=a.getUTCMilliseconds();a=(c<=0||c>=1e4?(c<0?"-":"+")+R(6,c<0?-c:c):R(4,c))+"-"+R(2,u+1)+"-"+R(2,h)+"T"+R(2,g)+":"+R(2,y)+":"+R(2,w)+"."+R(3,x)+"Z"}else a=null;if(n&&(a=n.call(t,e,a)),null===a)return"null";if(l=b.call(a),l==j)return""+a;if(l==k)return a>-1/0&&a<1/0?""+a:"null";if(l==S)return N(""+a);if("object"==typeof a){for(L=r.length;L--;)if(r[L]===a)throw d();if(r.push(a),T=[],D=o,o+=s,l==C){for($=0,L=a.length;$<L;$++)A=O($,a,n,i,s,o,r),T.push(A===v?"null":A);M=T.length?s?"[\n"+o+T.join(",\n"+o)+"\n"+D+"]":"["+T.join(",")+"]":"[]"}else m(i||a,function(e){var t=O(e,a,n,i,s,o,r);t!==v&&T.push(N(e)+":"+(s?" ":"")+t)}),M=T.length?s?"{\n"+o+T.join(",\n"+o)+"\n"+D+"}":"{"+T.join(",")+"}":"{}";return r.pop(),M}};t.stringify=function(e,t,n){var i,s,r,a;if(o[typeof t]&&t)if((a=b.call(t))==x)s=t;else if(a==C){r={};for(var l,c=0,u=t.length;c<u;l=t[c++],a=b.call(l),(a==S||a==k)&&(r[l]=1));}if(n)if((a=b.call(n))==k){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else a==S&&(i=n.length<=10?n:n.slice(0,10));return O("",(l={},l[""]=e,l),s,r,i,"",[])}}if(!n("json-parse")){var M,I,B=r.fromCharCode,F={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},U=function(){throw M=I=null,u()},z=function(){for(var e,t,n,i,s,o=I,r=o.length;M<r;)switch(s=o.charCodeAt(M)){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=T?o.charAt(M):o[M],M++,e;case 34:for(e="@",M++;M<r;)if(s=o.charCodeAt(M),s<32)U();else if(92==s)switch(s=o.charCodeAt(++M)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=F[s],M++;break;case 117:for(t=++M,n=M+4;M<n;M++)s=o.charCodeAt(M),s>=48&&s<=57||s>=97&&s<=102||s>=65&&s<=70||U();e+=B("0x"+o.slice(t,M));break;default:U()}else{if(34==s)break;for(s=o.charCodeAt(M),t=M;s>=32&&92!=s&&34!=s;)s=o.charCodeAt(++M);e+=o.slice(t,M)}if(34==o.charCodeAt(M))return M++,e;U();default:if(t=M,45==s&&(i=!0,s=o.charCodeAt(++M)),s>=48&&s<=57){for(48==s&&(s=o.charCodeAt(M+1),s>=48&&s<=57)&&U(),i=!1;M<r&&(s=o.charCodeAt(M),s>=48&&s<=57);M++);if(46==o.charCodeAt(M)){for(n=++M;n<r&&(s=o.charCodeAt(n),s>=48&&s<=57);n++);n==M&&U(),M=n}if(s=o.charCodeAt(M),101==s||69==s){for(s=o.charCodeAt(++M),43!=s&&45!=s||M++,n=M;n<r&&(s=o.charCodeAt(n),s>=48&&s<=57);n++);n==M&&U(),M=n}return+o.slice(t,M)}if(i&&U(),"true"==o.slice(M,M+4))return M+=4,!0;if("false"==o.slice(M,M+5))return M+=5,!1;if("null"==o.slice(M,M+4))return M+=4,null;U()}return"$"},V=function(e){var t,n;if("$"==e&&U(),"string"==typeof e){if("@"==(T?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=z(),"]"!=e;n||(n=!0))n&&(","==e?(e=z(),"]"==e&&U()):U()),","==e&&U(),t.push(V(e));return t}if("{"==e){for(t={};e=z(),"}"!=e;n||(n=!0))n&&(","==e?(e=z(),"}"==e&&U()):U()),","!=e&&"string"==typeof e&&"@"==(T?e.charAt(0):e[0])&&":"==z()||U(),t[e.slice(1)]=V(z());return t}U()}return e},H=function(e,t,n){var i=W(e,t,n);i===v?delete e[t]:e[t]=i},W=function(e,t,n){var i,s=e[t];if("object"==typeof s&&s)if(b.call(s)==C)for(i=s.length;i--;)H(s,i,n);else m(s,function(e){H(s,e,n)});return n.call(e,t,s)};t.parse=function(e,t){var n,i;return M=0,I=""+e,n=V(z()),"$"!=z()&&U(),M=I=null,t&&b.call(t)==x?W((i={},i[""]=n,i),"",t):n}}}return t.runInContext=i,t}var s="function"==typeof define&&define.amd,o={"function":!0,object:!0},r=o[typeof n]&&n&&!n.nodeType&&n,a=o[typeof window]&&window||this,l=r&&o[typeof t]&&t&&!t.nodeType&&"object"==typeof e&&e;if(!l||l.global!==l&&l.window!==l&&l.self!==l||(a=l),r&&!s)i(a,r);else{var c=a.JSON,u=a.JSON3,d=!1,h=i(a,a.JSON3={noConflict:function(){return d||(d=!0,a.JSON=c,a.JSON3=u,c=u=null),h}});a.JSON={parse:h.parse,stringify:h.stringify}}s&&define(function(){return h})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],668:[function(e,t,n){function i(e,t){var n=[];t=t||0;for(var i=t||0;i<e.length;i++)n[i-t]=e[i];return n}t.exports=i},{}],669:[function(e,t,n){function i(e,t){for(var n=0,i=e.indexOf(t);i>=0;)n+=1,i=e.indexOf(t,i+1);return n}t.exports=i},{}],670:[function(e,t,n){!function(){"use strict";function n(e,t){null!==t&&void 0!==t?"string"==typeof t?e.s=t:e.s=t.toString():e.s=t,e.orig=t,null!==t&&void 0!==t?e.__defineGetter__?e.__defineGetter__("length",function(){return e.s.length}):e.length=t.length:e.length=-1}function i(e){n(this,e)}function s(){for(var e in v)!function(e){var t=v[e];m.hasOwnProperty(e)||(g.push(e),m[e]=function(){return String.prototype.s=this,t.apply(this,arguments)})}(e)}function o(){for(var e=0;e<g.length;++e)delete String.prototype[g[e]];g.length=0}function r(){for(var e=a(),t={},n=0;n<e.length;++n){var i=e[n],s=m[i];try{var o=typeof s.apply("test",["string"]);t[i]=o}catch(r){}}return t}function a(){var e=[];if(Object.getOwnPropertyNames)return e=Object.getOwnPropertyNames(m),e.splice(e.indexOf("valueOf"),1),e.splice(e.indexOf("toString"),1),e;var t={};for(var n in String.prototype)t[n]=n;for(var n in Object.prototype)delete t[n];for(var n in t)e.push(n);return e}function l(e){return new i(e)}function c(e,t){var n,i=[];for(n=0;n<e.length;n++)i.push(e[n]),t&&t.call(e,e[n],n);return i}function u(e){var t,n,i=[],s=/^[A-Za-z0-9]+$/;for(e=d(e),n=0;n<e.length;++n)t=e.charAt(n),s.test(t)?i.push(t):"\\000"===t?i.push("\\000"):i.push("\\"+t);return i.join("")}function d(e){return null==e?"":""+e}var h="3.1.3",p={},f={"Á":"A","Ă":"A","Ắ":"A","Ặ":"A","Ằ":"A","Ẳ":"A","Ẵ":"A","Ǎ":"A","Â":"A","Ấ":"A","Ậ":"A","Ầ":"A","Ẩ":"A","Ẫ":"A","Ä":"A","Ǟ":"A","Ȧ":"A","Ǡ":"A","Ạ":"A","Ȁ":"A","À":"A","Ả":"A","Ȃ":"A","Ā":"A","Ą":"A","Å":"A","Ǻ":"A","Ḁ":"A","Ⱥ":"A","Ã":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ḃ":"B","Ḅ":"B","Ɓ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ć":"C","Č":"C","Ç":"C","Ḉ":"C","Ĉ":"C","Ċ":"C","Ƈ":"C","Ȼ":"C","Ď":"D","Ḑ":"D","Ḓ":"D","Ḋ":"D","Ḍ":"D","Ɗ":"D","Ḏ":"D","ǲ":"D","ǅ":"D","Đ":"D","Ƌ":"D","Ǳ":"DZ","Ǆ":"DZ","É":"E","Ĕ":"E","Ě":"E","Ȩ":"E","Ḝ":"E","Ê":"E","Ế":"E","Ệ":"E","Ề":"E","Ể":"E","Ễ":"E","Ḙ":"E","Ë":"E","Ė":"E","Ẹ":"E","Ȅ":"E","È":"E","Ẻ":"E","Ȇ":"E","Ē":"E","Ḗ":"E","Ḕ":"E","Ę":"E","Ɇ":"E","Ẽ":"E","Ḛ":"E","Ꝫ":"ET","Ḟ":"F","Ƒ":"F","Ǵ":"G","Ğ":"G","Ǧ":"G","Ģ":"G","Ĝ":"G","Ġ":"G","Ɠ":"G","Ḡ":"G","Ǥ":"G","Ḫ":"H","Ȟ":"H","Ḩ":"H","Ĥ":"H","Ⱨ":"H","Ḧ":"H","Ḣ":"H","Ḥ":"H","Ħ":"H","Í":"I","Ĭ":"I","Ǐ":"I","Î":"I","Ï":"I","Ḯ":"I","İ":"I","Ị":"I","Ȉ":"I","Ì":"I","Ỉ":"I","Ȋ":"I","Ī":"I","Į":"I","Ɨ":"I","Ĩ":"I","Ḭ":"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS","Ĵ":"J","Ɉ":"J","Ḱ":"K","Ǩ":"K","Ķ":"K","Ⱪ":"K","Ꝃ":"K","Ḳ":"K","Ƙ":"K","Ḵ":"K","Ꝁ":"K","Ꝅ":"K","Ĺ":"L","Ƚ":"L","Ľ":"L","Ļ":"L","Ḽ":"L","Ḷ":"L","Ḹ":"L","Ⱡ":"L","Ꝉ":"L","Ḻ":"L","Ŀ":"L","Ɫ":"L","ǈ":"L","Ł":"L","Ǉ":"LJ","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ń":"N","Ň":"N","Ņ":"N","Ṋ":"N","Ṅ":"N","Ṇ":"N","Ǹ":"N","Ɲ":"N","Ṉ":"N","Ƞ":"N","ǋ":"N","Ñ":"N","Ǌ":"NJ","Ó":"O","Ŏ":"O","Ǒ":"O","Ô":"O","Ố":"O","Ộ":"O","Ồ":"O","Ổ":"O","Ỗ":"O","Ö":"O","Ȫ":"O","Ȯ":"O","Ȱ":"O","Ọ":"O","Ő":"O","Ȍ":"O","Ò":"O","Ỏ":"O","Ơ":"O","Ớ":"O","Ợ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ȏ":"O","Ꝋ":"O","Ꝍ":"O","Ō":"O","Ṓ":"O","Ṑ":"O","Ɵ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Õ":"O","Ṍ":"O","Ṏ":"O","Ȭ":"O","Ƣ":"OI","Ꝏ":"OO","Ɛ":"E","Ɔ":"O","Ȣ":"OU","Ṕ":"P","Ṗ":"P","Ꝓ":"P","Ƥ":"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q","Ŕ":"R","Ř":"R","Ŗ":"R","Ṙ":"R","Ṛ":"R","Ṝ":"R","Ȑ":"R","Ȓ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C","Ǝ":"E","Ś":"S","Ṥ":"S","Š":"S","Ṧ":"S","Ş":"S","Ŝ":"S","Ș":"S","Ṡ":"S","Ṣ":"S","Ṩ":"S","ẞ":"SS","Ť":"T","Ţ":"T","Ṱ":"T","Ț":"T","Ⱦ":"T","Ṫ":"T","Ṭ":"T","Ƭ":"T","Ṯ":"T","Ʈ":"T","Ŧ":"T","Ɐ":"A","Ꞁ":"L","Ɯ":"M","Ʌ":"V","Ꜩ":"TZ","Ú":"U","Ŭ":"U","Ǔ":"U","Û":"U","Ṷ":"U","Ü":"U","Ǘ":"U","Ǚ":"U","Ǜ":"U","Ǖ":"U","Ṳ":"U","Ụ":"U","Ű":"U","Ȕ":"U","Ù":"U","Ủ":"U","Ư":"U","Ứ":"U","Ự":"U","Ừ":"U","Ử":"U","Ữ":"U","Ȗ":"U","Ū":"U","Ṻ":"U","Ų":"U","Ů":"U","Ũ":"U","Ṹ":"U","Ṵ":"U","Ꝟ":"V","Ṿ":"V","Ʋ":"V","Ṽ":"V","Ꝡ":"VY","Ẃ":"W","Ŵ":"W","Ẅ":"W","Ẇ":"W","Ẉ":"W","Ẁ":"W","Ⱳ":"W","Ẍ":"X","Ẋ":"X","Ý":"Y","Ŷ":"Y","Ÿ":"Y","Ẏ":"Y","Ỵ":"Y","Ỳ":"Y","Ƴ":"Y","Ỷ":"Y","Ỿ":"Y","Ȳ":"Y","Ɏ":"Y","Ỹ":"Y","Ź":"Z","Ž":"Z","Ẑ":"Z","Ⱬ":"Z","Ż":"Z","Ẓ":"Z","Ȥ":"Z","Ẕ":"Z","Ƶ":"Z","Ĳ":"IJ","Œ":"OE","ᴀ":"A","ᴁ":"AE","ʙ":"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F","ɢ":"G","ʛ":"G","ʜ":"H","ɪ":"I","ʁ":"R","ᴊ":"J","ᴋ":"K","ʟ":"L","ᴌ":"L","ᴍ":"M","ɴ":"N","ᴏ":"O","ɶ":"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P","ʀ":"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W","ʏ":"Y","ᴢ":"Z","á":"a","ă":"a","ắ":"a","ặ":"a","ằ":"a","ẳ":"a","ẵ":"a","ǎ":"a","â":"a","ấ":"a","ậ":"a","ầ":"a","ẩ":"a","ẫ":"a","ä":"a","ǟ":"a","ȧ":"a","ǡ":"a","ạ":"a","ȁ":"a","à":"a","ả":"a","ȃ":"a","ā":"a","ą":"a","ᶏ":"a","ẚ":"a","å":"a","ǻ":"a","ḁ":"a","ⱥ":"a","ã":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ḃ":"b","ḅ":"b","ɓ":"b","ḇ":"b","ᵬ":"b","ᶀ":"b","ƀ":"b","ƃ":"b","ɵ":"o","ć":"c","č":"c","ç":"c","ḉ":"c","ĉ":"c","ɕ":"c","ċ":"c","ƈ":"c","ȼ":"c","ď":"d","ḑ":"d","ḓ":"d","ȡ":"d","ḋ":"d","ḍ":"d","ɗ":"d","ᶑ":"d","ḏ":"d","ᵭ":"d","ᶁ":"d","đ":"d","ɖ":"d","ƌ":"d","ı":"i","ȷ":"j","ɟ":"j","ʄ":"j","ǳ":"dz","ǆ":"dz","é":"e","ĕ":"e","ě":"e","ȩ":"e","ḝ":"e","ê":"e","ế":"e","ệ":"e","ề":"e","ể":"e","ễ":"e","ḙ":"e","ë":"e","ė":"e","ẹ":"e","ȅ":"e","è":"e","ẻ":"e","ȇ":"e","ē":"e","ḗ":"e","ḕ":"e","ⱸ":"e","ę":"e","ᶒ":"e","ɇ":"e","ẽ":"e","ḛ":"e","ꝫ":"et","ḟ":"f","ƒ":"f","ᵮ":"f","ᶂ":"f","ǵ":"g","ğ":"g","ǧ":"g","ģ":"g","ĝ":"g","ġ":"g","ɠ":"g","ḡ":"g","ᶃ":"g","ǥ":"g","ḫ":"h","ȟ":"h","ḩ":"h","ĥ":"h","ⱨ":"h","ḧ":"h","ḣ":"h","ḥ":"h","ɦ":"h","ẖ":"h","ħ":"h","ƕ":"hv","í":"i","ĭ":"i","ǐ":"i","î":"i","ï":"i","ḯ":"i","ị":"i","ȉ":"i","ì":"i","ỉ":"i","ȋ":"i","ī":"i","į":"i","ᶖ":"i","ɨ":"i","ĩ":"i","ḭ":"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is","ǰ":"j","ĵ":"j","ʝ":"j","ɉ":"j","ḱ":"k","ǩ":"k","ķ":"k","ⱪ":"k","ꝃ":"k","ḳ":"k","ƙ":"k","ḵ":"k","ᶄ":"k","ꝁ":"k","ꝅ":"k","ĺ":"l","ƚ":"l","ɬ":"l","ľ":"l","ļ":"l","ḽ":"l","ȴ":"l","ḷ":"l","ḹ":"l","ⱡ":"l","ꝉ":"l","ḻ":"l","ŀ":"l","ɫ":"l","ᶅ":"l","ɭ":"l","ł":"l","ǉ":"lj","ſ":"s","ẜ":"s","ẛ":"s","ẝ":"s","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ᵯ":"m","ᶆ":"m","ń":"n","ň":"n","ņ":"n","ṋ":"n","ȵ":"n","ṅ":"n","ṇ":"n","ǹ":"n","ɲ":"n","ṉ":"n","ƞ":"n","ᵰ":"n","ᶇ":"n","ɳ":"n","ñ":"n","ǌ":"nj","ó":"o","ŏ":"o","ǒ":"o","ô":"o","ố":"o","ộ":"o","ồ":"o","ổ":"o","ỗ":"o","ö":"o","ȫ":"o","ȯ":"o","ȱ":"o","ọ":"o","ő":"o","ȍ":"o","ò":"o","ỏ":"o","ơ":"o","ớ":"o","ợ":"o","ờ":"o","ở":"o","ỡ":"o","ȏ":"o","ꝋ":"o","ꝍ":"o","ⱺ":"o","ō":"o","ṓ":"o","ṑ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","õ":"o","ṍ":"o","ṏ":"o","ȭ":"o","ƣ":"oi","ꝏ":"oo","ɛ":"e","ᶓ":"e","ɔ":"o","ᶗ":"o","ȣ":"ou","ṕ":"p","ṗ":"p","ꝓ":"p","ƥ":"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q","ʠ":"q","ɋ":"q","ꝗ":"q","ŕ":"r","ř":"r","ŗ":"r","ṙ":"r","ṛ":"r","ṝ":"r","ȑ":"r","ɾ":"r","ᵳ":"r","ȓ":"r","ṟ":"r","ɼ":"r","ᵲ":"r","ᶉ":"r","ɍ":"r","ɽ":"r","ↄ":"c","ꜿ":"c","ɘ":"e","ɿ":"r","ś":"s","ṥ":"s","š":"s","ṧ":"s","ş":"s","ŝ":"s","ș":"s","ṡ":"s","ṣ":"s","ṩ":"s","ʂ":"s","ᵴ":"s","ᶊ":"s","ȿ":"s","ɡ":"g","ß":"ss","ᴑ":"o","ᴓ":"o","ᴝ":"u","ť":"t","ţ":"t","ṱ":"t","ț":"t","ȶ":"t","ẗ":"t","ⱦ":"t","ṫ":"t","ṭ":"t","ƭ":"t","ṯ":"t","ᵵ":"t","ƫ":"t","ʈ":"t","ŧ":"t","ᵺ":"th","ɐ":"a","ᴂ":"ae","ǝ":"e","ᵷ":"g","ɥ":"h","ʮ":"h","ʯ":"h","ᴉ":"i","ʞ":"k","ꞁ":"l","ɯ":"m","ɰ":"m","ᴔ":"oe","ɹ":"r","ɻ":"r","ɺ":"r","ⱹ":"r","ʇ":"t","ʌ":"v","ʍ":"w","ʎ":"y","ꜩ":"tz","ú":"u","ŭ":"u","ǔ":"u","û":"u","ṷ":"u","ü":"u","ǘ":"u","ǚ":"u","ǜ":"u","ǖ":"u","ṳ":"u","ụ":"u","ű":"u","ȕ":"u","ù":"u","ủ":"u","ư":"u","ứ":"u","ự":"u","ừ":"u","ử":"u","ữ":"u","ȗ":"u","ū":"u","ṻ":"u","ų":"u","ᶙ":"u","ů":"u","ũ":"u","ṹ":"u","ṵ":"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v","ṿ":"v","ʋ":"v","ᶌ":"v","ⱱ":"v","ṽ":"v","ꝡ":"vy","ẃ":"w","ŵ":"w","ẅ":"w","ẇ":"w","ẉ":"w","ẁ":"w","ⱳ":"w","ẘ":"w","ẍ":"x","ẋ":"x","ᶍ":"x","ý":"y","ŷ":"y","ÿ":"y","ẏ":"y","ỵ":"y","ỳ":"y","ƴ":"y","ỷ":"y","ỿ":"y","ȳ":"y","ẙ":"y","ɏ":"y","ỹ":"y","ź":"z","ž":"z","ẑ":"z","ʑ":"z","ⱬ":"z","ż":"z","ẓ":"z","ȥ":"z","ẕ":"z","ᵶ":"z","ᶎ":"z","ʐ":"z","ƶ":"z","ɀ":"z","ﬀ":"ff","ﬃ":"ffi","ﬄ":"ffl","ﬁ":"fi","ﬂ":"fl","ĳ":"ij","œ":"oe","ﬆ":"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x"},m=String.prototype,v=i.prototype={between:function(e,t){var n=this.s,i=n.indexOf(e),s=n.indexOf(t,i+e.length);return s==-1&&null!=t?new this.constructor(""):s==-1&&null==t?new this.constructor(n.substring(i+e.length)):new this.constructor(n.slice(i+e.length,s))},camelize:function(){var e=this.trim().s.replace(/(\-|_|\s)+(.)?/g,function(e,t,n){return n?n.toUpperCase():""});return new this.constructor(e)},capitalize:function(){return new this.constructor(this.s.substr(0,1).toUpperCase()+this.s.substring(1).toLowerCase())},charAt:function(e){return this.s.charAt(e)},chompLeft:function(e){var t=this.s;return 0===t.indexOf(e)?(t=t.slice(e.length),new this.constructor(t)):this},chompRight:function(e){if(this.endsWith(e)){var t=this.s;return t=t.slice(0,t.length-e.length),new this.constructor(t)}return this},collapseWhitespace:function(){var e=this.s.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");return new this.constructor(e)},contains:function(e){return this.s.indexOf(e)>=0},count:function(t){return e("./_count")(this.s,t)},dasherize:function(){var e=this.trim().s.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase();return new this.constructor(e)},latinise:function(){var e=this.replace(/[^A-Za-z0-9\[\] ]/g,function(e){return f[e]||e});return new this.constructor(e)},decodeHtmlEntities:function(){var e=this.s;return e=e.replace(/&#(\d+);?/g,function(e,t){return String.fromCharCode(t)}).replace(/&#[xX]([A-Fa-f0-9]+);?/g,function(e,t){return String.fromCharCode(parseInt(t,16))}).replace(/&([^;\W]+;?)/g,function(e,t){var n=t.replace(/;$/,""),i=p[t]||t.match(/;$/)&&p[n];return"number"==typeof i?String.fromCharCode(i):"string"==typeof i?i:e}),new this.constructor(e)},endsWith:function(){for(var e=Array.prototype.slice.call(arguments,0),t=0;t<e.length;++t){var n=this.s.length-e[t].length;if(n>=0&&this.s.indexOf(e[t],n)===n)return!0}return!1},escapeHTML:function(){return new this.constructor(this.s.replace(/[&<>"']/g,function(e){return"&"+x[e]+";"}))},ensureLeft:function(e){var t=this.s;return 0===t.indexOf(e)?this:new this.constructor(e+t)},ensureRight:function(e){var t=this.s;return this.endsWith(e)?this:new this.constructor(t+e)},humanize:function(){if(null===this.s||void 0===this.s)return new this.constructor("");var e=this.underscore().replace(/_id$/,"").replace(/_/g," ").trim().capitalize();return new this.constructor(e)},isAlpha:function(){return!/[^a-z\xDF-\xFF]|^$/.test(this.s.toLowerCase())},isAlphaNumeric:function(){return!/[^0-9a-z\xDF-\xFF]/.test(this.s.toLowerCase())},isEmpty:function(){return null===this.s||void 0===this.s||/^[\s\xa0]*$/.test(this.s)},isLower:function(){return this.isAlpha()&&this.s.toLowerCase()===this.s},isNumeric:function(){return!/[^0-9]/.test(this.s)},isUpper:function(){return this.isAlpha()&&this.s.toUpperCase()===this.s},left:function(e){if(e>=0){var t=this.s.substr(0,e);return new this.constructor(t)}return this.right(-e)},lines:function(){return this.replaceAll("\r\n","\n").s.split("\n")},pad:function(e,t){if(null==t&&(t=" "),this.s.length>=e)return new this.constructor(this.s);e-=this.s.length;var n=Array(Math.ceil(e/2)+1).join(t),i=Array(Math.floor(e/2)+1).join(t);return new this.constructor(n+this.s+i)},padLeft:function(e,t){return null==t&&(t=" "),this.s.length>=e?new this.constructor(this.s):new this.constructor(Array(e-this.s.length+1).join(t)+this.s)},padRight:function(e,t){return null==t&&(t=" "),this.s.length>=e?new this.constructor(this.s):new this.constructor(this.s+Array(e-this.s.length+1).join(t))},parseCSV:function(e,t,n,i){e=e||",",n=n||"\\","undefined"==typeof t&&(t='"');var s=0,o=[],r=[],a=this.s.length,l=!1,c=!1,u=this,d=function(e){return u.s.charAt(e)};if("undefined"!=typeof i)var h=[];for(t||(l=!0);s<a;){var p=d(s);switch(p){case n:if(l&&(n!==t||d(s+1)===t)){s+=1,o.push(d(s));break}if(n!==t)break;case t:l=!l;break;case e:c&&(l=!1,c=!1),l&&t?o.push(p):(r.push(o.join("")),o.length=0);break;case i:c?(l=!1,c=!1,r.push(o.join("")),h.push(r),r=[],o.length=0):l?o.push(p):h&&(r.push(o.join("")),h.push(r),r=[],o.length=0);break;case" ":l&&o.push(p);break;default:l?o.push(p):p!==t&&(o.push(p),l=!0,c=!0)}s+=1}return r.push(o.join("")),h?(h.push(r),h):r},replaceAll:function(e,t){var n=this.s.split(e).join(t);return new this.constructor(n)},strip:function(){for(var e=this.s,t=0,n=arguments.length;t<n;t++)e=e.split(arguments[t]).join("");return new this.constructor(e)},stripLeft:function(e){var t,n,i=d(this.s);return void 0===e?n=/^\s+/g:(t=u(e),n=new RegExp("^["+t+"]+","g")),new this.constructor(i.replace(n,""))},stripRight:function(e){var t,n,i=d(this.s);return void 0===e?n=/\s+$/g:(t=u(e),n=new RegExp("["+t+"]+$","g")),new this.constructor(i.replace(n,""))},right:function(e){if(e>=0){var t=this.s.substr(this.s.length-e,e);return new this.constructor(t)}return this.left(-e)},setValue:function(e){return n(this,e),this},slugify:function(){var e=new i(new i(this.s).latinise().s.replace(/[^\w\s-]/g,"").toLowerCase()).dasherize().s;return"-"===e.charAt(0)&&(e=e.substr(1)),new this.constructor(e)},startsWith:function(){for(var e=Array.prototype.slice.call(arguments,0),t=0;t<e.length;++t)if(0===this.s.lastIndexOf(e[t],0))return!0;return!1},stripPunctuation:function(){return new this.constructor(this.s.replace(/[^\w\s]|_/g,"").replace(/\s+/g," "))},stripTags:function(){var e=this.s,t=arguments.length>0?arguments:[""];return c(t,function(t){e=e.replace(RegExp("</?"+t+"[^<>]*>","gi"),"")}),new this.constructor(e)},template:function(e,t,n){var i=this.s,t=t||l.TMPL_OPEN,n=n||l.TMPL_CLOSE,s=t.replace(/[-[\]()*\s]/g,"\\$&").replace(/\$/g,"\\$"),o=n.replace(/[-[\]()*\s]/g,"\\$&").replace(/\$/g,"\\$"),r=new RegExp(s+"(.+?)"+o,"g"),a=i.match(r)||[];return a.forEach(function(s){var o=s.substring(t.length,s.length-n.length).trim(),r="undefined"==typeof e[o]?"":e[o];i=i.replace(s,r)}),new this.constructor(i)},times:function(e){return new this.constructor(new Array(e+1).join(this.s))},toBoolean:function(){if("string"==typeof this.orig){var e=this.s.toLowerCase();return"true"===e||"yes"===e||"on"===e||"1"===e}return this.orig===!0||1===this.orig},toFloat:function(e){var t=parseFloat(this.s);return e?parseFloat(t.toFixed(e)):t},toInt:function(){return/^\s*-?0x/i.test(this.s)?parseInt(this.s,16):parseInt(this.s,10)},trim:function(){var e;return e="undefined"==typeof m.trim?this.s.replace(/(^\s*|\s*$)/g,""):this.s.trim(),new this.constructor(e)},trimLeft:function(){var e;return e=m.trimLeft?this.s.trimLeft():this.s.replace(/(^\s*)/g,""),new this.constructor(e)},trimRight:function(){var e;return e=m.trimRight?this.s.trimRight():this.s.replace(/\s+$/,""),new this.constructor(e)},truncate:function(e,t){var n=this.s;if(e=~~e,t=t||"...",n.length<=e)return new this.constructor(n);var s=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},o=n.slice(0,e+1).replace(/.(?=\W*\w*$)/g,s);return o=o.slice(o.length-2).match(/\w\w/)?o.replace(/\s*\S+$/,""):new i(o.slice(0,o.length-1)).trimRight().s,new i((o+t).length>n.length?n:n.slice(0,o.length)+t)},toCSV:function(){function e(e){return null!==e&&""!==e}var t=",",n='"',s="\\",o=!0,r=!1,a=[];if("object"==typeof arguments[0]?(t=arguments[0].delimiter||t,t=arguments[0].separator||t,n=arguments[0].qualifier||n,o=!!arguments[0].encloseNumbers,s=arguments[0].escape||s,r=!!arguments[0].keys):"string"==typeof arguments[0]&&(t=arguments[0]),"string"==typeof arguments[1]&&(n=arguments[1]),null===arguments[1]&&(n=null),this.orig instanceof Array)a=this.orig;else for(var l in this.orig)this.orig.hasOwnProperty(l)&&(r?a.push(l):a.push(this.orig[l]));for(var c=s+n,u=[],d=0;d<a.length;++d){var h=e(n);if("number"==typeof a[d]&&(h&=o),h&&u.push(n),null!==a[d]&&void 0!==a[d]){var p=new i(a[d]).replaceAll(n,c).s;u.push(p)}else u.push("");h&&u.push(n),t&&u.push(t)}return u.length=u.length-1,new this.constructor(u.join(""))},toString:function(){return this.s},underscore:function(){var e=this.trim().s.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/([A-Z\d]+)([A-Z][a-z])/,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase();return new this.constructor(e)},unescapeHTML:function(){return new this.constructor(this.s.replace(/\&([^;]+);/g,function(e,t){var n;return t in w?w[t]:(n=t.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=t.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):e}))},valueOf:function(){return this.s.valueOf()},wrapHTML:function(e,t){var n=this.s,i=null==e?"span":e,s="",o="";if("object"==typeof t)for(var r in t)s+=" "+r+'="'+new this.constructor(t[r]).escapeHTML()+'"';return n=o.concat("<",i,s,">",this,"</",i,">"),new this.constructor(n)}},g=[],b=r();for(var y in b)!function(e){var t=m[e];"function"==typeof t&&(v[e]||("string"===b[e]?v[e]=function(){return new this.constructor(t.apply(this,arguments))}:v[e]=t))}(y);v.repeat=v.times,v.include=v.contains,v.toInteger=v.toInt,v.toBool=v.toBoolean,v.decodeHTMLEntities=v.decodeHtmlEntities,v.constructor=i,l.extendPrototype=s,l.restorePrototype=o,l.VERSION=h,l.TMPL_OPEN="{{",l.TMPL_CLOSE="}}",l.ENTITIES=p,"undefined"!=typeof t&&"undefined"!=typeof t.exports?t.exports=l:"function"==typeof define&&define.amd?define([],function(){return l}):window.S=l;var w={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},x={};for(var _ in w)x[w[_]]=_;p={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,"OElig;":338,"oelig;":339,"Scaron;":352,"scaron;":353,"Yuml;":376,"fnof;":402,"circ;":710,"tilde;":732,"Alpha;":913,"Beta;":914,"Gamma;":915,"Delta;":916,"Epsilon;":917,"Zeta;":918,"Eta;":919,"Theta;":920,"Iota;":921,"Kappa;":922,"Lambda;":923,"Mu;":924,"Nu;":925,"Xi;":926,"Omicron;":927,"Pi;":928,"Rho;":929,"Sigma;":931,"Tau;":932,"Upsilon;":933,"Phi;":934,"Chi;":935,"Psi;":936,"Omega;":937,"alpha;":945,"beta;":946,"gamma;":947,"delta;":948,"epsilon;":949,"zeta;":950,"eta;":951,"theta;":952,"iota;":953,"kappa;":954,"lambda;":955,"mu;":956,"nu;":957,"xi;":958,"omicron;":959,"pi;":960,"rho;":961,"sigmaf;":962,"sigma;":963,"tau;":964,"upsilon;":965,"phi;":966,"chi;":967,"psi;":968,"omega;":969,"thetasym;":977,"upsih;":978,"piv;":982,"ensp;":8194,"emsp;":8195,"thinsp;":8201,"zwnj;":8204,"zwj;":8205,"lrm;":8206,"rlm;":8207,"ndash;":8211,"mdash;":8212,"lsquo;":8216,"rsquo;":8217,"sbquo;":8218,"ldquo;":8220,"rdquo;":8221,"bdquo;":8222,"dagger;":8224,"Dagger;":8225,"bull;":8226,"hellip;":8230,"permil;":8240,"prime;":8242,"Prime;":8243,"lsaquo;":8249,"rsaquo;":8250,"oline;":8254,"frasl;":8260,"euro;":8364,"image;":8465,"weierp;":8472,"real;":8476,"trade;":8482,"alefsym;":8501,"larr;":8592,"uarr;":8593,"rarr;":8594,"darr;":8595,"harr;":8596,"crarr;":8629,"lArr;":8656,"uArr;":8657,"rArr;":8658,"dArr;":8659,"hArr;":8660,"forall;":8704,"part;":8706,"exist;":8707,"empty;":8709,"nabla;":8711,"isin;":8712,"notin;":8713,"ni;":8715,"prod;":8719,"sum;":8721,"minus;":8722,"lowast;":8727,"radic;":8730,"prop;":8733,"infin;":8734,"ang;":8736,"and;":8743,"or;":8744,"cap;":8745,"cup;":8746,"int;":8747,"there4;":8756,"sim;":8764,"cong;":8773,"asymp;":8776,"ne;":8800,"equiv;":8801,"le;":8804,"ge;":8805,"sub;":8834,"sup;":8835,"nsub;":8836,"sube;":8838,"supe;":8839,"oplus;":8853,"otimes;":8855,"perp;":8869,"sdot;":8901,"lceil;":8968,"rceil;":8969,"lfloor;":8970,"rfloor;":8971,"lang;":9001,"rang;":9002,"loz;":9674,"spades;":9824,"clubs;":9827,"hearts;":9829,"diams;":9830}}.call(this)},{"./_count":669}],671:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0,n.getTextareaStyle=void 0;var s=e("./modules/getTextareaStyle"),o=i(s);n.getTextareaStyle=o["default"]},{"./modules/getTextareaStyle":678}],672:[function(e,t,n){"use strict";function i(e,t){var n=t.min,i=t.max,s={height:e,overflowY:"hidden"};return e>i?(s.height=i,s.overflowY="auto"):e<n&&(s.height=n),s}n.__esModule=!0,n["default"]=i},{}],673:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t,n){var i=e.style,s=void 0;"hidden"!==n.overflowY&&(s=i.overflowY,i.overflowY="hidden");var r=e.scrollHeight;r<e.clientHeight&&(r=e.clientHeight),t.canShrink&&r===e.clientHeight&&(r=o(e)),"undefined"!=typeof s&&(i.overflowY=s);var c=(0,l.computeVerticalPadding)(n),u=r-c;return(0,a["default"])(u,n)}function o(e){var t="0px",n=e.style,i=n.height;n.height=t;var s=e.scrollHeight;return n.height=i,s}n.__esModule=!0;var r=e("./computeHeightForBoxSizing"),a=i(r),l=e("./computeVerticalStyle");n["default"]=s},{"./computeHeightForBoxSizing":674,"./computeVerticalStyle":677}],674:[function(e,t,n){"use strict";function i(e,t){if("border-box"===t.boxSizing){var n=(0,s.computeVerticalPadding)(t),i=(0,s.computeVerticalBorders)(t);return e+n+i}return e}n.__esModule=!0,n["default"]=i;var s=e("./computeVerticalStyle")},{"./computeVerticalStyle":677}],675:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){var n=r(t),i=o(e,t);return{min:Math.max(n.min,i.min),max:Math.min(n.max,i.max)
}}function o(e,t){var n=e.minRows,i=e.maxRows,s=parseFloat(t.lineHeight);return{min:(0,u["default"])(s*Math.floor(n),t),max:(0,u["default"])(s*Math.floor(i),t)}}function r(e){var t=e.minHeight,n=e.maxHeight,i=0,s=1/0,o=parseFloat(t),r=parseFloat(n),a=(0,l["default"])(r);return{min:Math.max(o,i),max:a?Math.min(r,s):s}}n.__esModule=!0;var a=e("./../utils/isNumber"),l=i(a),c=e("./computeHeightForBoxSizing"),u=i(c);n["default"]=s},{"./../utils/isNumber":680,"./computeHeightForBoxSizing":674}],676:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){t=t||{},t.canShrink="undefined"==typeof t.canShrink||t.canShrink;var n=0,i=1/0,s=(0,r["default"])(t.minRows)&&t.minRows>=n?t.minRows:n,o=parseInt(e.getAttribute("rows"));s=o?Math.max(s,o):s;var a=(0,r["default"])(t.maxRows)&&t.maxRows<=i?t.maxRows:i;return t.minRows=s,t.maxRows=Math.max(a,s),t}n.__esModule=!0,n["default"]=s;var o=e("./../utils/isNumber"),r=i(o)},{"./../utils/isNumber":680}],677:[function(e,t,n){"use strict";function i(e){var t=null,n=null;return function(i){if(t===i)return n;var s=e(i);return t=i,n=s,s}}n.__esModule=!0;var s=i(function(e){return parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)}),o=i(function(e){return parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth)});n.computeVerticalPadding=s,n.computeVerticalBorders=o},{}],678:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){(0,o.validateEnvironment)(),(0,o.validateArguments)(e,t),t=(0,a["default"])(e,t);var n=window.getComputedStyle(e,""),i=(0,c["default"])(e,t,n),s=(0,d["default"])(t,n),r=(0,p["default"])(i,s);return{height:r.height+"px",overflowY:r.overflowY}}n.__esModule=!0,n["default"]=s;var o=e("./validation"),r=e("./computeOptions"),a=i(r),l=e("./computeHeight"),c=i(l),u=e("./computeHeightLimits"),d=i(u),h=e("./computeFinalStyle"),p=i(h)},{"./computeFinalStyle":672,"./computeHeight":673,"./computeHeightLimits":675,"./computeOptions":676,"./validation":679}],679:[function(e,t,n){(function(t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(){var e=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement);if(!e)throw new Error("Expected to be called in browser environment only.")}function o(e,t){r(e),a(t)}function r(e){var t=1;if(!e||e.nodeType!==t)throw new TypeError("You must provide a valid textarea DOM Element.")}function a(e){if("undefined"!=typeof e&&null!==e){var n="[object Object]"===Object.prototype.toString.call(e);if(!n)throw new TypeError('Expected plain object for "options", instead got '+typeof e+":");for(var i=["minRows","maxRows"],s=0,o=i.length;s<o;s++){var r=i[s],a=e[r];if("undefined"!=typeof a){if(!(0,c["default"])(a)||a<0)throw new TypeError('Expected value of "'+r+'" to be positive integer.');if("production"!==t.env.NODE_ENV){var l=a%1===0;l||console.warn('Expected value of "'+r+'" to be positive integer, instead got:',a,'Will run "Math.floor" on it.')}}}}}n.__esModule=!0,n.validateArguments=n.validateEnvironment=void 0;var l=e("./../utils/isNumber"),c=i(l);n.validateEnvironment=s,n.validateArguments=o}).call(this,e("_process"))},{"./../utils/isNumber":680,_process:550}],680:[function(e,t,n){"use strict";function i(e){return"number"==typeof e&&!isNaN(e)}n.__esModule=!0,n["default"]=i},{}],681:[function(e,t,n){(function(n){var i=function(e){return e.VERSION="0.8.9",e}(i||{}),i=function(e){"use strict";function t(e,t){var n=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&n===e}return e.trace=!1,e.debug=!1,e.cache=!0,e.placeholders={parent:"{{|PARENT|}}"},e.indexOf=function(e,t){if(Array.prototype.hasOwnProperty("indexOf"))return e.indexOf(t);if(void 0===e||null===e)throw new TypeError;var n=Object(e),i=n.length>>>0;if(0===i)return-1;var s=0;if(arguments.length>0&&(s=Number(arguments[1]),s!==s?s=0:0!==s&&s!==1/0&&s!==-(1/0)&&(s=(s>0||-1)*Math.floor(Math.abs(s)))),s>=i)return-1;for(var o=s>=0?s:Math.max(i-Math.abs(s),0);o<i;o++)if(o in n&&n[o]===t)return o;return e==t?0:-1},e.forEach=function(e,t,n){if(Array.prototype.forEach)return e.forEach(t,n);var i,s;if(null==e)throw new TypeError(" this is null or not defined");var o=Object(e),r=o.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(n&&(i=n),s=0;s<r;){var a;s in o&&(a=o[s],t.call(i,a,s,o)),s++}},e.merge=function(t,n,i){return e.forEach(Object.keys(n),function(e){(!i||e in t)&&(t[e]=n[e])}),t},e.Error=function(e){this.message=e,this.name="TwigException",this.type="TwigException"},e.Error.prototype.toString=function(){var e=this.name+": "+this.message;return e},e.log={trace:function(){e.trace&&console&&console.log(Array.prototype.slice.call(arguments))},debug:function(){e.debug&&console&&console.log(Array.prototype.slice.call(arguments))}},"undefined"!=typeof console?"undefined"!=typeof console.error?e.log.error=function(){console.error.apply(console,arguments)}:"undefined"!=typeof console.log&&(e.log.error=function(){console.log.apply(console,arguments)}):e.log.error=function(){},e.ChildContext=function(e){var t=function(){};return t.prototype=e,new t},e.token={},e.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",output_whitespace_pre:"output_whitespace_pre",output_whitespace_post:"output_whitespace_post",output_whitespace_both:"output_whitespace_both",logic_whitespace_pre:"logic_whitespace_pre",logic_whitespace_post:"logic_whitespace_post",logic_whitespace_both:"logic_whitespace_both"},e.token.definitions=[{type:e.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:e.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:e.token.type.output_whitespace_pre,open:"{{-",close:"}}"},{type:e.token.type.output_whitespace_post,open:"{{",close:"-}}"},{type:e.token.type.output_whitespace_both,open:"{{-",close:"-}}"},{type:e.token.type.logic_whitespace_pre,open:"{%-",close:"%}"},{type:e.token.type.logic_whitespace_post,open:"{%",close:"-%}"},{type:e.token.type.logic_whitespace_both,open:"{%-",close:"-%}"},{type:e.token.type.output,open:"{{",close:"}}"},{type:e.token.type.logic,open:"{%",close:"%}"},{type:e.token.type.comment,open:"{#",close:"#}"}],e.token.strings=['"',"'"],e.token.findStart=function(t){var n,i,s,o,r={position:null,close_position:null,def:null};for(n=0;n<e.token.definitions.length;n++)i=e.token.definitions[n],s=t.indexOf(i.open),o=t.indexOf(i.close),e.log.trace("Twig.token.findStart: ","Searching for ",i.open," found at ",s),s>=0&&i.open.length!==i.close.length&&o<0||(s>=0&&(null===r.position||s<r.position)?(r.position=s,r.def=i,r.close_position=o):s>=0&&null!==r.position&&s===r.position&&(i.open.length>r.def.open.length?(r.position=s,r.def=i,r.close_position=o):i.open.length===r.def.open.length&&(i.close.length>r.def.close.length?o>=0&&o<r.close_position&&(r.position=s,r.def=i,r.close_position=o):o>=0&&o<r.close_position&&(r.position=s,r.def=i,r.close_position=o))));return delete r.close_position,r},e.token.findEnd=function(t,n,i){for(var s,o,r=null,a=!1,l=0,c=null,u=null,d=null,h=null,p=null,f=null;!a;){if(c=null,u=null,d=t.indexOf(n.close,l),!(d>=0))throw new e.Error("Unable to find closing bracket '"+n.close+"' opened near template position "+i);if(r=d,a=!0,n.type===e.token.type.comment)break;if(n.type===e.token.type.raw)break;for(o=e.token.strings.length,s=0;s<o;s+=1)p=t.indexOf(e.token.strings[s],l),p>0&&p<d&&(null===c||p<c)&&(c=p,u=e.token.strings[s]);if(null!==c)for(h=c+1,r=null,a=!1;;){if(f=t.indexOf(u,h),f<0)throw"Unclosed string in template";if("\\"!==t.substr(f-1,1)){l=f+1;break}h=f+1}}return r},e.tokenize=function(t){for(var n=[],i=0,s=null,o=null;t.length>0;)if(s=e.token.findStart(t),e.log.trace("Twig.tokenize: ","Found token: ",s),null!==s.position){if(s.position>0&&n.push({type:e.token.type.raw,value:t.substring(0,s.position)}),t=t.substr(s.position+s.def.open.length),i+=s.position+s.def.open.length,o=e.token.findEnd(t,s.def,i),e.log.trace("Twig.tokenize: ","Token ends at ",o),n.push({type:s.def.type,value:t.substring(0,o).trim()}),"\n"===t.substr(o+s.def.close.length,1))switch(s.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":o+=1}t=t.substr(o+s.def.close.length),i+=o+s.def.close.length}else n.push({type:e.token.type.raw,value:t}),t="";return n},e.compile=function(t){try{for(var n=[],i=[],s=[],o=null,r=null,a=null,l=null,c=null,u=null,d=null,h=null,p=null,f=null,m=null,v=null,g=function(t){e.expression.compile.apply(this,[t]),i.length>0?s.push(t):n.push(t)},b=function(t){if(r=e.logic.compile.apply(this,[t]),f=r.type,m=e.logic.handler[f].open,v=e.logic.handler[f].next,e.log.trace("Twig.compile: ","Compiled logic token to ",r," next is: ",v," open is : ",m),void 0!==m&&!m){if(l=i.pop(),d=e.logic.handler[l.type],e.indexOf(d.next,f)<0)throw new Error(f+" not expected after a "+l.type);l.output=l.output||[],l.output=l.output.concat(s),s=[],p={type:e.token.type.logic,token:l},i.length>0?s.push(p):n.push(p)}void 0!==v&&v.length>0?(e.log.trace("Twig.compile: ","Pushing ",r," to logic stack."),i.length>0&&(l=i.pop(),l.output=l.output||[],l.output=l.output.concat(s),i.push(l),s=[]),i.push(r)):void 0!==m&&m&&(p={type:e.token.type.logic,token:r},i.length>0?s.push(p):n.push(p))};t.length>0;){switch(o=t.shift(),c=n[n.length-1],u=s[s.length-1],h=t[0],e.log.trace("Compiling token ",o),o.type){case e.token.type.raw:i.length>0?s.push(o):n.push(o);break;case e.token.type.logic:b.call(this,o);break;case e.token.type.comment:break;case e.token.type.output:g.call(this,o);break;case e.token.type.logic_whitespace_pre:case e.token.type.logic_whitespace_post:case e.token.type.logic_whitespace_both:case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:switch(o.type!==e.token.type.output_whitespace_post&&o.type!==e.token.type.logic_whitespace_post&&(c&&c.type===e.token.type.raw&&(n.pop(),null===c.value.match(/^\s*$/)&&(c.value=c.value.trim(),n.push(c))),u&&u.type===e.token.type.raw&&(s.pop(),null===u.value.match(/^\s*$/)&&(u.value=u.value.trim(),s.push(u)))),o.type){case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:g.call(this,o);break;case e.token.type.logic_whitespace_pre:case e.token.type.logic_whitespace_post:case e.token.type.logic_whitespace_both:b.call(this,o)}o.type!==e.token.type.output_whitespace_pre&&o.type!==e.token.type.logic_whitespace_pre&&h&&h.type===e.token.type.raw&&(t.shift(),null===h.value.match(/^\s*$/)&&(h.value=h.value.trim(),t.unshift(h)))}e.log.trace("Twig.compile: "," Output: ",n," Logic Stack: ",i," Pending Output: ",s)}if(i.length>0)throw a=i.pop(),new Error("Unable to find an end tag for "+a.type+", expecting one of "+a.next);return n}catch(y){if(e.log.error("Error compiling twig template "+this.id+": "),y.stack?e.log.error(y.stack):e.log.error(y.toString()),this.options.rethrow)throw y}},e.parse=function(t,n){try{var i=[],s=!0,o=this;return e.forEach(t,function(t){switch(e.log.debug("Twig.parse: ","Parsing token: ",t),t.type){case e.token.type.raw:i.push(e.filters.raw(t.value));break;case e.token.type.logic:var r=t.token,a=e.logic.parse.apply(o,[r,n,s]);void 0!==a.chain&&(s=a.chain),void 0!==a.context&&(n=a.context),void 0!==a.output&&i.push(a.output);break;case e.token.type.comment:break;case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:case e.token.type.output:e.log.debug("Twig.parse: ","Output token: ",t.stack),i.push(e.expression.parse.apply(o,[t.stack,n]))}}),e.output.apply(this,[i])}catch(r){if(e.log.error("Error parsing twig template "+this.id+": "),r.stack?e.log.error(r.stack):e.log.error(r.toString()),this.options.rethrow)throw r;if(e.debug)return r.toString()}},e.prepare=function(t){var n,i;return e.log.debug("Twig.prepare: ","Tokenizing ",t),i=e.tokenize.apply(this,[t]),e.log.debug("Twig.prepare: ","Compiling ",i),n=e.compile.apply(this,[i]),e.log.debug("Twig.prepare: ","Compiled ",n),n},e.output=function(t){if(!this.options.autoescape)return t.join("");var n="html";"string"==typeof this.options.autoescape&&(n=this.options.autoescape);var i=[];return e.forEach(t,function(t){t&&t.twig_markup!==!0&&t.twig_markup!=n&&(t=e.filters.escape(t,[n])),i.push(t)}),e.Markup(i.join(""))},e.Templates={loaders:{},parsers:{},registry:{}},e.validateId=function(t){if("prototype"===t)throw new e.Error(t+" is not a valid twig identifier");if(e.cache&&e.Templates.registry.hasOwnProperty(t))throw new e.Error("There is already a template with the ID "+t);return!0},e.Templates.registerLoader=function(t,n,i){if("function"!=typeof n)throw new e.Error("Unable to add loader for "+t+": Invalid function reference given.");i&&(n=n.bind(i)),this.loaders[t]=n},e.Templates.unRegisterLoader=function(e){this.isRegisteredLoader(e)&&delete this.loaders[e]},e.Templates.isRegisteredLoader=function(e){return this.loaders.hasOwnProperty(e)},e.Templates.registerParser=function(t,n,i){if("function"!=typeof n)throw new e.Error("Unable to add parser for "+t+": Invalid function regerence given.");i&&(n=n.bind(i)),this.parsers[t]=n},e.Templates.unRegisterParser=function(e){this.isRegisteredParser(e)&&delete this.parsers[e]},e.Templates.isRegisteredParser=function(e){return this.parsers.hasOwnProperty(e)},e.Templates.save=function(t){if(void 0===t.id)throw new e.Error("Unable to save template with no id");e.Templates.registry[t.id]=t},e.Templates.load=function(t){return e.Templates.registry.hasOwnProperty(t)?e.Templates.registry[t]:null},e.Templates.loadRemote=function(t,n,i,s){var o;return void 0===n.async&&(n.async=!0),void 0===n.id&&(n.id=t),e.cache&&e.Templates.registry.hasOwnProperty(n.id)?("function"==typeof i&&i(e.Templates.registry[n.id]),e.Templates.registry[n.id]):(n.parser=n.parser||"twig",o=this.loaders[n.method]||this.loaders.fs,o.apply(this,arguments))},e.Template=function(n){var i=n.data,s=n.id,o=n.blocks,r=n.macros||{},a=n.base,l=n.path,c=n.url,u=n.name,d=n.method,h=n.options;this.id=s,this.method=d,this.base=a,this.path=l,this.url=c,this.name=u,this.macros=r,this.options=h,this.reset(o),t("String",i)?this.tokens=e.prepare.apply(this,[i]):this.tokens=i,void 0!==s&&e.Templates.save(this)},e.Template.prototype.reset=function(t){e.log.debug("Twig.Template.reset","Reseting template "+this.id),this.blocks={},this.importedBlocks=[],this.originalBlockTokens={},this.child={blocks:t||{}},this.extend=null},e.Template.prototype.render=function(t,n){n=n||{};var i,s;if(this.context=t||{},this.reset(),n.blocks&&(this.blocks=n.blocks),n.macros&&(this.macros=n.macros),i=e.parse.apply(this,[this.tokens,this.context]),this.extend){var o;return this.options.allowInlineIncludes&&(o=e.Templates.load(this.extend),o&&(o.options=this.options)),o||(s=e.path.parsePath(this,this.extend),o=e.Templates.loadRemote(s,{method:this.getLoaderMethod(),base:this.base,async:!1,id:s,options:this.options})),this.parent=o,this.parent.render(this.context,{blocks:this.blocks})}return"blocks"==n.output?this.blocks:"macros"==n.output?this.macros:i},e.Template.prototype.importFile=function(t){var n,i;if(!this.url&&this.options.allowInlineIncludes){if(t=this.path?this.path+"/"+t:t,i=e.Templates.load(t),!i&&(i=e.Templates.loadRemote(n,{id:t,method:this.getLoaderMethod(),async:!1,options:this.options}),!i))throw new e.Error("Unable to find the template "+t);return i.options=this.options,i}return n=e.path.parsePath(this,t),i=e.Templates.loadRemote(n,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:n})},e.Template.prototype.importBlocks=function(t,n){var i=this.importFile(t),s=this.context,o=this;n=n||!1,i.render(s),e.forEach(Object.keys(i.blocks),function(e){(n||void 0===o.blocks[e])&&(o.blocks[e]=i.blocks[e],o.importedBlocks.push(e))})},e.Template.prototype.importMacros=function(t){var n=e.path.parsePath(this,t),i=e.Templates.loadRemote(n,{method:this.getLoaderMethod(),async:!1,id:n});return i},e.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},e.Template.prototype.compile=function(t){return e.compiler.compile(this,t)},e.Markup=function(e,t){return"undefined"==typeof t&&(t=!0),"string"==typeof e&&e.length>0&&(e=new String(e),e.twig_markup=t),e},e}(i||{});!function(e){"use strict";e.Templates.registerLoader("ajax",function(t,n,i,s){var o,r,a=n.precompiled,l=this.parsers[n.parser]||this.parser.twig;if("undefined"==typeof XMLHttpRequest)throw new e.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');return r=new XMLHttpRequest,r.onreadystatechange=function(){var c=null;4===r.readyState&&(200===r.status||window.cordova&&0==r.status?(e.log.debug("Got template ",r.responseText),c=a===!0?JSON.parse(r.responseText):r.responseText,n.url=t,n.data=c,o=l.call(this,n),"function"==typeof i&&i(o)):"function"==typeof s&&s(r))},r.open("GET",t,!!n.async),r.send(),!!n.async||o})}(i),function(t){"use strict";var n,i;try{n=e("fs"),i=e("path")}catch(s){}t.Templates.registerLoader("fs",function(e,s,o,r){var a,l=null,c=s.precompiled,u=this.parsers[s.parser]||this.parser.twig;if(!n||!i)throw new t.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');var d=function(t,n){return t?void("function"==typeof r&&r(t)):(c===!0&&(n=JSON.parse(n)),s.data=n,s.path=s.path||e,a=u.call(this,s),void("function"==typeof o&&o(a)))};if(s.path=s.path||e,s.async)return n.stat(s.path,function(i,o){if(i||!o.isFile())throw new t.Error("Unable to find template file "+e);n.readFile(s.path,"utf8",d)}),!0;if(!n.statSync(s.path).isFile())throw new t.Error("Unable to find template file "+e);return l=n.readFileSync(s.path,"utf8"),d(void 0,l),a})}(i),function(e){"use strict";e.Templates.registerParser("source",function(e){return e.data||""})}(i),function(e){"use strict";e.Templates.registerParser("twig",function(t){return new e.Template(t)})}(i),function(){"use strict";String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n})}();var i=function(e){e.lib={};var t=function(){function e(){var t=arguments[0],n=e.cache;return n[t]&&n.hasOwnProperty(t)||(n[t]=e.parse(t)),e.format.call(null,n[t],arguments)}function t(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function n(e,t){return Array(t+1).join(e)}var i={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};e.format=function(s,o){var r,a,l,c,u,d,h,p=1,f=s.length,m="",v=[],g=!0,b="";for(a=0;a<f;a++)if(m=t(s[a]),"string"===m)v[v.length]=s[a];else if("array"===m){if(c=s[a],c[2])for(r=o[p],l=0;l<c[2].length;l++){if(!r.hasOwnProperty(c[2][l]))throw new Error(e("[sprintf] property '%s' does not exist",c[2][l]));r=r[c[2][l]]}else r=c[1]?o[c[1]]:o[p++];if("function"==t(r)&&(r=r()),i.not_string.test(c[8])&&i.not_json.test(c[8])&&"number"!=t(r)&&isNaN(r))throw new TypeError(e("[sprintf] expecting number but found %s",t(r)));switch(i.number.test(c[8])&&(g=r>=0),c[8]){case"b":r=r.toString(2);break;case"c":r=String.fromCharCode(r);break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,c[6]?parseInt(c[6]):0);break;case"e":r=c[7]?r.toExponential(c[7]):r.toExponential();break;case"f":r=c[7]?parseFloat(r).toFixed(c[7]):parseFloat(r);break;case"g":r=c[7]?parseFloat(r).toPrecision(c[7]):parseFloat(r);break;case"o":r=r.toString(8);break;case"s":r=(r=String(r))&&c[7]?r.substring(0,c[7]):r;break;case"u":r>>>=0;break;case"x":r=r.toString(16);break;case"X":r=r.toString(16).toUpperCase()}i.json.test(c[8])?v[v.length]=r:(!i.number.test(c[8])||g&&!c[3]?b="":(b=g?"+":"-",r=r.toString().replace(i.sign,"")),d=c[4]?"0"===c[4]?"0":c[4].charAt(1):" ",h=c[6]-(b+r).length,u=c[6]&&h>0?n(d,h):"",v[v.length]=c[5]?b+r+u:"0"===d?b+u+r:u+b+r)}return v.join("")},e.cache={},e.parse=function(e){for(var t=e,n=[],s=[],o=0;t;){if(null!==(n=i.text.exec(t)))s[s.length]=n[0];else if(null!==(n=i.modulo.exec(t)))s[s.length]="%";else{if(null===(n=i.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){o|=1;var r=[],a=n[2],l=[];if(null===(l=i.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(r[r.length]=l[1];""!==(a=a.substring(l[0].length));)if(null!==(l=i.key_access.exec(a)))r[r.length]=l[1];else{if(null===(l=i.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");r[r.length]=l[1]}n[2]=r}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");s[s.length]=n}t=t.substring(n[0].length)}return s};var s=function(t,n,i){return i=(n||[]).slice(0),i.splice(0,0,t),e.apply(null,i)};return{sprintf:e,vsprintf:s}}(),n=t.sprintf,i=t.vsprintf;return e.lib.sprintf=n,e.lib.vsprintf=i,function(){function t(e){return(e=Math.abs(e)%100)%10==1&&11!=e?"st":e%10==2&&12!=e?"nd":e%10==3&&13!=e?"rd":"th"}function n(e){var t=new Date(e.getFullYear()+1,0,4);return(t-e)/864e5<7&&(e.getDay()+6)%7<(t.getDay()+6)%7?t.getFullYear():e.getMonth()>0||e.getDate()>=4?e.getFullYear():e.getFullYear()-((e.getDay()+6)%7-e.getDate()>2?1:0)}function i(e){var t=new Date(n(e),0,4);return t.setDate(t.getDate()-(t.getDay()+6)%7),parseInt((e-t)/6048e5)+1}var s="Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),o="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),r="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),a="January,February,March,April,May,June,July,August,September,October,November,December".split(",");e.lib.formatDate=function(e,l){if("string"!=typeof l||/^\s*$/.test(l))return e+"";var c=new Date(e.getFullYear(),0,1),u=e;return l.replace(/[dDjlNSwzWFmMntLoYyaABgGhHisuU]/g,function(e){switch(e){case"d":return("0"+u.getDate()).replace(/^.+(..)$/,"$1");case"D":return s[u.getDay()];case"j":return u.getDate();case"l":return o[u.getDay()];case"N":return(u.getDay()+6)%7+1;case"S":return t(u.getDate());case"w":return u.getDay();case"z":return Math.ceil((c-u)/864e5);case"W":return("0"+i(u)).replace(/^.(..)$/,"$1");case"F":return a[u.getMonth()];case"m":return("0"+(u.getMonth()+1)).replace(/^.+(..)$/,"$1");case"M":return r[u.getMonth()];case"n":return u.getMonth()+1;case"t":return new Date(u.getFullYear(),u.getMonth()+1,(-1)).getDate();case"L":return 29==new Date(u.getFullYear(),1,29).getDate()?1:0;case"o":return n(u);case"Y":return u.getFullYear();case"y":return(u.getFullYear()+"").replace(/^.+(..)$/,"$1");case"a":return u.getHours()<12?"am":"pm";case"A":return u.getHours()<12?"AM":"PM";case"B":return Math.floor(1e3*((u.getUTCHours()+1)%24+u.getUTCMinutes()/60+u.getUTCSeconds()/3600)/24);case"g":return u.getHours()%12!=0?u.getHours()%12:12;case"G":return u.getHours();case"h":return("0"+(u.getHours()%12!=0?u.getHours()%12:12)).replace(/^.+(..)$/,"$1");case"H":return("0"+u.getHours()).replace(/^.+(..)$/,"$1");case"i":return("0"+u.getMinutes()).replace(/^.+(..)$/,"$1");case"s":return("0"+u.getSeconds()).replace(/^.+(..)$/,"$1");case"u":return u.getMilliseconds();case"U":return u.getTime()/1e3}})}}(),e.lib.strip_tags=function(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var n=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,i=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return e.replace(i,"").replace(n,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})},e.lib.parseISO8601Date=function(e){var t=/(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(\.\d+)?(Z|([+-])(\d\d):(\d\d))/,n=[];if(n=e.match(t),!n)throw"Couldn't parse ISO 8601 date string '"+e+"'";var i=[1,2,3,4,5,6,10,11];for(var s in i)n[i[s]]=parseInt(n[i[s]],10);n[7]=parseFloat(n[7]);var o=Date.UTC(n[1],n[2]-1,n[3],n[4],n[5],n[6]);if(n[7]>0&&(o+=Math.round(1e3*n[7])),"Z"!=n[8]&&n[10]){var r=60*n[10]*60*1e3;n[11]&&(r+=60*n[11]*1e3),"-"==n[9]?o-=r:o+=r}return new Date(o)},e.lib.strtotime=function(e,t){function n(e,t,n){var i,s=c[t];"undefined"!=typeof s&&(i=s-l.getDay(),0===i?i=7*n:i>0&&"last"===e?i-=7:i<0&&"next"===e&&(i+=7),l.setDate(l.getDate()+i))}function i(e){var t=e.split(" "),i=t[0],s=t[1].substring(0,3),o=/\d+/.test(i),r="ago"===t[2],a=("last"===i?-1:1)*(r?-1:1);if(o&&(a*=parseInt(i,10)),u.hasOwnProperty(s)&&!t[1].match(/^mon(day|\.)?$/i))return l["set"+u[s]](l["get"+u[s]]()+a);if("wee"===s)return l.setDate(l.getDate()+7*a);if("next"===i||"last"===i)n(i,s,a);else if(!o)return!1;return!0}var s,o,r,a,l,c,u,d,h,p,f,m=!1;if(!e)return m;if(e=e.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase(),o=e.match(/^(\d{1,4})([\-\.\/\:])(\d{1,2})([\-\.\/\:])(\d{1,4})(?:\s(\d{1,2}):(\d{2})?:?(\d{2})?)?(?:\s([A-Z]+)?)?$/),o&&o[2]===o[4])if(o[1]>1901)switch(o[2]){case"-":return o[3]>12||o[5]>31?m:new Date(o[1],parseInt(o[3],10)-1,o[5],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3;case".":return m;case"/":return o[3]>12||o[5]>31?m:new Date(o[1],parseInt(o[3],10)-1,o[5],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3}else if(o[5]>1901)switch(o[2]){case"-":return o[3]>12||o[1]>31?m:new Date(o[5],parseInt(o[3],10)-1,o[1],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3;case".":return o[3]>12||o[1]>31?m:new Date(o[5],parseInt(o[3],10)-1,o[1],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3;case"/":return o[1]>12||o[3]>31?m:new Date(o[5],parseInt(o[1],10)-1,o[3],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3}else switch(o[2]){case"-":return o[3]>12||o[5]>31||o[1]<70&&o[1]>38?m:(a=o[1]>=0&&o[1]<=38?+o[1]+2e3:o[1],new Date(a,parseInt(o[3],10)-1,o[5],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3);case".":return o[5]>=70?o[3]>12||o[1]>31?m:new Date(o[5],parseInt(o[3],10)-1,o[1],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3:o[5]<60&&!o[6]?o[1]>23||o[3]>59?m:(r=new Date,new Date(r.getFullYear(),r.getMonth(),r.getDate(),o[1]||0,o[3]||0,o[5]||0,o[9]||0)/1e3):m;case"/":return o[1]>12||o[3]>31||o[5]<70&&o[5]>38?m:(a=o[5]>=0&&o[5]<=38?+o[5]+2e3:o[5],new Date(a,parseInt(o[1],10)-1,o[3],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3);case":":return o[1]>23||o[3]>59||o[5]>59?m:(r=new Date,new Date(r.getFullYear(),r.getMonth(),r.getDate(),o[1]||0,o[3]||0,o[5]||0)/1e3)}if("now"===e)return null===t||isNaN(t)?(new Date).getTime()/1e3|0:0|t;if(!isNaN(s=Date.parse(e)))return s/1e3|0;if((o=e.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2})[ t]([0-9]{2}:[0-9]{2}:[0-9]{2}(\.[0-9]+)?)([\+-][0-9]{2}(:[0-9]{2})?|z)/))&&("z"==o[4]?o[4]="Z":o[4].match(/^([\+-][0-9]{2})$/)&&(o[4]=o[4]+":00"),!isNaN(s=Date.parse(o[1]+"T"+o[2]+o[4]))))return s/1e3|0;if(l=t?new Date(1e3*t):new Date,c={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},u={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"},h="(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)",p="([+-]?\\d+\\s"+h+"|(last|next)\\s"+h+")(\\sago)?",o=e.match(new RegExp(p,"gi")),!o)return m;for(f=0,d=o.length;f<d;f++)if(!i(o[f]))return m;return l.getTime()/1e3},e.lib.is=function(e,t){var n=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&n===e},e.lib.copy=function(e){var t,n={};for(t in e)n[t]=e[t];return n},e.lib.replaceAll=function(e,t,n){return e.split(t).join(n)},e.lib.chunkArray=function(t,n){var i=[],s=0,o=t.length;if(n<1||!e.lib.is("Array",t))return[];for(;s<o;)i.push(t.slice(s,s+=n));return i},e.lib.round=function(e,t,n){var i,s,o,r;if(t|=0,i=Math.pow(10,t),e*=i,r=e>0|-(e<0),o=e%1===.5*r,s=Math.floor(e),o)switch(n){case"PHP_ROUND_HALF_DOWN":e=s+(r<0);break;case"PHP_ROUND_HALF_EVEN":e=s+s%2*r;break;case"PHP_ROUND_HALF_ODD":e=s+!(s%2);break;default:e=s+(r>0)}return(o?e:Math.round(e))/i},e.lib.max=function(){var e,t,n=0,i=0,s=arguments,o=s.length,r=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},a=function(e,t){var n=0,i=0,s=0,o=0,l=0;if(e===t)return 0;if("object"==typeof e){if("object"==typeof t){if(e=r(e),t=r(t),l=e.length,o=t.length,o>l)return 1;if(o<l)return-1;for(n=0,i=l;n<i;++n){if(s=a(e[n],t[n]),1==s)return 1;if(s==-1)return-1}return 0}return-1}return"object"==typeof t?1:isNaN(t)&&!isNaN(e)?0==e?0:e<0?1:-1:isNaN(e)&&!isNaN(t)?0==t?0:t>0?1:-1:t==e?0:t>e?1:-1};if(0===o)throw new Error("At least one value should be passed to max()");if(1===o){if("object"!=typeof s[0])throw new Error("Wrong parameter count for max()");if(e=r(s[0]),0===e.length)throw new Error("Array must contain at least one element for max()")}else e=s;for(t=e[0],n=1,i=e.length;n<i;++n)1==a(t,e[n])&&(t=e[n]);return t},e.lib.min=function(){var e,t,n=0,i=0,s=arguments,o=s.length,r=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},a=function(e,t){var n=0,i=0,s=0,o=0,l=0;if(e===t)return 0;if("object"==typeof e){if("object"==typeof t){if(e=r(e),t=r(t),l=e.length,o=t.length,o>l)return 1;if(o<l)return-1;for(n=0,i=l;n<i;++n){if(s=a(e[n],t[n]),1==s)return 1;if(s==-1)return-1}return 0}return-1}return"object"==typeof t?1:isNaN(t)&&!isNaN(e)?0==e?0:e<0?1:-1:isNaN(e)&&!isNaN(t)?0==t?0:t>0?1:-1:t==e?0:t>e?1:-1};if(0===o)throw new Error("At least one value should be passed to min()");if(1===o){if("object"!=typeof s[0])throw new Error("Wrong parameter count for min()");if(e=r(s[0]),0===e.length)throw new Error("Array must contain at least one element for min()")}else e=s;for(t=e[0],n=1,i=e.length;n<i;++n)a(t,e[n])==-1&&(t=e[n]);return t},e}(i||{}),i=function(e){"use strict";for(e.logic={},e.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed"},e.logic.definitions=[{type:e.logic.type.if_,regex:/^if\s+([\s\S]+)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!0,compile:function(t){var n=t.match[1];return t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack,delete t.match,t},parse:function(t,n,i){var s="",o=e.expression.parse.apply(this,[t.stack,n]);return i=!0,o&&(i=!1,s=e.parse.apply(this,[t.output,n])),{chain:i,output:s}}},{type:e.logic.type.elseif,regex:/^elseif\s+([^\s].*)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!1,compile:function(t){var n=t.match[1];return t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack,delete t.match,t},parse:function(t,n,i){var s="";return i&&e.expression.parse.apply(this,[t.stack,n])===!0&&(i=!1,s=e.parse.apply(this,[t.output,n])),{chain:i,output:s}}},{type:e.logic.type.else_,regex:/^else$/,next:[e.logic.type.endif,e.logic.type.endfor],open:!1,parse:function(t,n,i){var s="";return i&&(s=e.parse.apply(this,[t.output,n])),{chain:i,output:s}}},{type:e.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:e.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([^\s].*?)(?:\s+if\s+([^\s].*))?$/,next:[e.logic.type.else_,e.logic.type.endfor],open:!0,compile:function(t){
var n=t.match[1],i=t.match[2],s=t.match[3],o=null;if(t.key_var=null,t.value_var=null,n.indexOf(",")>=0){if(o=n.split(","),2!==o.length)throw new e.Error("Invalid expression in for loop: "+n);t.key_var=o[0].trim(),t.value_var=o[1].trim()}else t.value_var=n;return t.expression=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,s&&(t.conditional=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:s}]).stack),delete t.match,t},parse:function(t,n,i){var s,o,r=e.expression.parse.apply(this,[t.expression,n]),a=[],l=0,c=this,u=t.conditional,d=function(e,t){var i=void 0!==u;return{index:e+1,index0:e,revindex:i?void 0:t-e,revindex0:i?void 0:t-e-1,first:0===e,last:i?void 0:e===t-1,length:i?void 0:t,parent:n}},h=function(i,o){var r=e.ChildContext(n);r[t.value_var]=o,t.key_var&&(r[t.key_var]=i),r.loop=d(l,s),(void 0===u||e.expression.parse.apply(c,[u,r]))&&(a.push(e.parse.apply(c,[t.output,r])),l+=1),delete r.loop,delete r[t.value_var],delete r[t.key_var],e.merge(n,r,!0)};return e.lib.is("Array",r)?(s=r.length,e.forEach(r,function(e){var t=l;h(t,e)})):e.lib.is("Object",r)&&(o=void 0!==r._keys?r._keys:Object.keys(r),s=o.length,e.forEach(o,function(e){"_keys"!==e&&h(e,r[e])})),i=0===a.length,{chain:i,output:e.output.apply(this,[a])}}},{type:e.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:e.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile:function(t){var n=t.match[1].trim(),i=t.match[2],s=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack;return t.key=n,t.expression=s,delete t.match,t},parse:function(t,n,i){var s=e.expression.parse.apply(this,[t.expression,n]),o=t.key;return n[o]=s,{chain:i,context:n}}},{type:e.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[e.logic.type.endset],open:!0,compile:function(e){var t=e.match[1].trim();return e.key=t,delete e.match,e},parse:function(t,n,i){var s=e.parse.apply(this,[t.output,n]),o=t.key;return this.context[o]=s,n[o]=s,{chain:i,context:n}}},{type:e.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:e.logic.type.filter,regex:/^filter\s+(.+)$/,next:[e.logic.type.endfilter],open:!0,compile:function(t){var n="|"+t.match[1].trim();return t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack,delete t.match,t},parse:function(t,n,i){var s=e.parse.apply(this,[t.output,n]),o=[{type:e.expression.type.string,value:s}].concat(t.stack),r=e.expression.parse.apply(this,[o,n]);return{chain:i,output:r}}},{type:e.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:e.logic.type.block,regex:/^block\s+([a-zA-Z0-9_]+)$/,next:[e.logic.type.endblock],open:!0,compile:function(e){return e.block=e.match[1].trim(),delete e.match,e},parse:function(t,n,i){var s,o,r=e.indexOf(this.importedBlocks,t.block)>-1,a=this.blocks[t.block]&&e.indexOf(this.blocks[t.block],e.placeholders.parent)>-1;return(void 0===this.blocks[t.block]||r||a||n.loop||t.overwrite)&&(s=t.expression?e.expression.parse.apply(this,[{type:e.expression.type.string,value:e.expression.parse.apply(this,[t.output,n])},n]):e.expression.parse.apply(this,[{type:e.expression.type.string,value:e.parse.apply(this,[t.output,n])},n]),r&&this.importedBlocks.splice(this.importedBlocks.indexOf(t.block),1),a?this.blocks[t.block]=e.Markup(this.blocks[t.block].replace(e.placeholders.parent,s)):this.blocks[t.block]=s,this.originalBlockTokens[t.block]={type:t.type,block:t.block,output:t.output,overwrite:!0}),o=this.child.blocks[t.block]?this.child.blocks[t.block]:this.blocks[t.block],{chain:i,output:o}}},{type:e.logic.type.shortblock,regex:/^block\s+([a-zA-Z0-9_]+)\s+(.+)$/,next:[],open:!0,compile:function(t){return t.expression=t.match[2].trim(),t.output=e.expression.compile({type:e.expression.type.expression,value:t.expression}).stack,t.block=t.match[1].trim(),delete t.match,t},parse:function(t,n,i){return e.logic.handler[e.logic.type.block].parse.apply(this,arguments)}},{type:e.logic.type.endblock,regex:/^endblock(?:\s+([a-zA-Z0-9_]+))?$/,next:[],open:!1},{type:e.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile:function(t){var n=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack,t},parse:function(t,n,i){var s=e.expression.parse.apply(this,[t.stack,n]);return this.extend=s,{chain:i,output:""}}},{type:e.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile:function(t){var n=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack,t},parse:function(t,n,i){var s=e.expression.parse.apply(this,[t.stack,n]);return this.importBlocks(s),{chain:i,output:""}}},{type:e.logic.type.include,regex:/^include\s+(ignore missing\s+)?(.+?)\s*(?:with\s+([\S\s]+?))?\s*(only)?$/,next:[],open:!0,compile:function(t){var n=t.match,i=void 0!==n[1],s=n[2].trim(),o=n[3],r=void 0!==n[4]&&n[4].length;return delete t.match,t.only=r,t.includeMissing=i,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:s}]).stack,void 0!==o&&(t.withStack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:o.trim()}]).stack),t},parse:function(t,n,i){var s,o,r,a={};if(t.only||(a=e.ChildContext(n)),void 0!==t.withStack){s=e.expression.parse.apply(this,[t.withStack,n]);for(o in s)s.hasOwnProperty(o)&&(a[o]=s[o])}var l=e.expression.parse.apply(this,[t.stack,a]);return r=l instanceof e.Template?l:this.importFile(l),{chain:i,output:r.render(a)}}},{type:e.logic.type.spaceless,regex:/^spaceless$/,next:[e.logic.type.endspaceless],open:!0,parse:function(t,n,i){var s=e.parse.apply(this,[t.output,n]),o=/>\s+</g,r=s.replace(o,"><").trim();return{chain:i,output:r}}},{type:e.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:e.logic.type.macro,regex:/^macro\s+([a-zA-Z0-9_]+)\s*\(\s*((?:[a-zA-Z0-9_]+(?:,\s*)?)*)\s*\)$/,next:[e.logic.type.endmacro],open:!0,compile:function(t){for(var n=t.match[1],i=t.match[2].split(/[\s,]+/),s=0;s<i.length;s++)for(var o=0;o<i.length;o++)if(i[s]===i[o]&&s!==o)throw new e.Error("Duplicate arguments for parameter: "+i[s]);return t.macroName=n,t.parameters=i,delete t.match,t},parse:function(t,n,i){var s=this;return this.macros[t.macroName]=function(){for(var n={_self:s.macros},i=0;i<t.parameters.length;i++){var o=t.parameters[i];"undefined"!=typeof arguments[i]?n[o]=arguments[i]:n[o]=void 0}return e.parse.apply(s,[t.output,n])},{chain:i,output:""}}},{type:e.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:e.logic.type.import_,regex:/^import\s+(.+)\s+as\s+([a-zA-Z0-9_]+)$/,next:[],open:!0,compile:function(t){var n=t.match[1].trim(),i=t.match[2].trim();return delete t.match,t.expression=n,t.contextName=i,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack,t},parse:function(t,n,i){if("_self"!==t.expression){var s=e.expression.parse.apply(this,[t.stack,n]),o=this.importFile(s||t.expression);n[t.contextName]=o.render({},{output:"macros"})}else n[t.contextName]=this.macros;return{chain:i,output:""}}},{type:e.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile:function(t){for(var n=t.match[1].trim(),i=t.match[2].trim().split(/[ ,]+/),s={},o=0;o<i.length;o++){var r=i[o],a=r.match(/^([a-zA-Z0-9_]+)\s+(.+)\s+as\s+([a-zA-Z0-9_]+)$/);a?s[a[1].trim()]=a[2].trim():r.match(/^([a-zA-Z0-9_]+)$/)&&(s[r]=r)}return delete t.match,t.expression=n,t.macroNames=s,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack,t},parse:function(t,n,i){var s;if("_self"!==t.expression){var o=e.expression.parse.apply(this,[t.stack,n]),r=this.importFile(o||t.expression);s=r.render({},{output:"macros"})}else s=this.macros;for(var a in t.macroNames)s.hasOwnProperty(a)&&(n[t.macroNames[a]]=s[a]);return{chain:i,output:""}}},{type:e.logic.type.embed,regex:/^embed\s+(ignore missing\s+)?(.+?)\s*(?:with\s+(.+?))?\s*(only)?$/,next:[e.logic.type.endembed],open:!0,compile:function(t){var n=t.match,i=void 0!==n[1],s=n[2].trim(),o=n[3],r=void 0!==n[4]&&n[4].length;return delete t.match,t.only=r,t.includeMissing=i,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:s}]).stack,void 0!==o&&(t.withStack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:o.trim()}]).stack),t},parse:function(t,n,i){var s,o,r,a={};if(!t.only)for(o in n)n.hasOwnProperty(o)&&(a[o]=n[o]);if(void 0!==t.withStack){s=e.expression.parse.apply(this,[t.withStack,n]);for(o in s)s.hasOwnProperty(o)&&(a[o]=s[o])}var l=e.expression.parse.apply(this,[t.stack,a]);r=l instanceof e.Template?l:this.importFile(l),this.blocks={};e.parse.apply(this,[t.output,a]);return{chain:i,output:r.render(a,{blocks:this.blocks})}}},{type:e.logic.type.endembed,regex:/^endembed$/,next:[],open:!1}],e.logic.handler={},e.logic.extendType=function(t,n){n=n||"Twig.logic.type"+t,e.logic.type[t]=n},e.logic.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.logic.extendType(t.type),e.logic.handler[t.type]=t};e.logic.definitions.length>0;)e.logic.extend(e.logic.definitions.shift());return e.logic.compile=function(t){var n=t.value.trim(),i=e.logic.tokenize.apply(this,[n]),s=e.logic.handler[i.type];return s.compile&&(i=s.compile.apply(this,[i]),e.log.trace("Twig.logic.compile: ","Compiled logic token to ",i)),i},e.logic.tokenize=function(t){var n={},i=null,s=null,o=null,r=null,a=null,l=null;t=t.trim();for(i in e.logic.handler)if(e.logic.handler.hasOwnProperty(i))for(s=e.logic.handler[i].type,o=e.logic.handler[i].regex,r=[],o instanceof Array?r=o:r.push(o);r.length>0;)if(a=r.shift(),l=a.exec(t.trim()),null!==l)return n.type=s,n.match=l,e.log.trace("Twig.logic.tokenize: ","Matched a ",s," regular expression of ",l),n;throw new e.Error("Unable to parse '"+t.trim()+"'")},e.logic.parse=function(t,n,i){var s,o="";return n=n||{},e.log.debug("Twig.logic.parse: ","Parsing logic token ",t),s=e.logic.handler[t.type],s.parse&&(o=s.parse.apply(this,[t,n,i])),o},e}(i||{}),i=function(e){"use strict";e.expression={},e.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context"],e.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},e.expression.set={operations:[e.expression.type.filter,e.expression.type.operator.unary,e.expression.type.operator.binary,e.expression.type.array.end,e.expression.type.object.end,e.expression.type.parameter.end,e.expression.type.comma,e.expression.type.test],expressions:[e.expression.type._function,e.expression.type.bool,e.expression.type.string,e.expression.type.variable,e.expression.type.number,e.expression.type._null,e.expression.type.context,e.expression.type.parameter.start,e.expression.type.array.start,e.expression.type.object.start]},e.expression.set.operations_extended=e.expression.set.operations.concat([e.expression.type.key.period,e.expression.type.key.brackets]),e.expression.fn={compile:{push:function(e,t,n){n.push(e)},push_both:function(e,t,n){n.push(e),t.push(e)}},parse:{push:function(e,t,n){t.push(e)},push_value:function(e,t,n){t.push(e.value)}}},e.expression.definitions=[{type:e.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_][a-zA-Z0-9_]*)/,next:e.expression.set.operations.concat([e.expression.type.parameter.start]),compile:function(e,t,n){e.filter=e.match[2],e.modifier=e.match[1],delete e.match,delete e.value,n.push(e)},parse:function(t,n,i){var s=n.pop(),o=t.params&&e.expression.parse.apply(this,[t.params,i]),r=e.test(t.filter,s,o);"not"==t.modifier?n.push(!r):n.push(r)}},{type:e.expression.type.comma,regex:/^,/,next:e.expression.set.expressions.concat([e.expression.type.array.end,e.expression.type.object.end]),compile:function(t,n,i){var s,o=n.length-1;for(delete t.match,delete t.value;o>=0;o--){if(s=n.pop(),s.type===e.expression.type.object.start||s.type===e.expression.type.parameter.start||s.type===e.expression.type.array.start){n.push(s);break}i.push(s)}i.push(t)}},{type:e.expression.type.operator.binary,regex:/(^[\+\-~%\?\:]|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^and\s+|^or\s+|^in\s+|^not in\s+|^\.\.)/,next:e.expression.set.expressions.concat([e.expression.type.operator.unary]),compile:function(t,n,i){delete t.match,t.value=t.value.trim();var s=t.value,o=e.expression.operator.lookup(s,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",o," from ",s);n.length>0&&(n[n.length-1].type==e.expression.type.operator.unary||n[n.length-1].type==e.expression.type.operator.binary)&&(o.associativity===e.expression.operator.leftToRight&&o.precidence>=n[n.length-1].precidence||o.associativity===e.expression.operator.rightToLeft&&o.precidence>n[n.length-1].precidence);){var r=n.pop();i.push(r)}if(":"===s){if(!n[n.length-1]||"?"!==n[n.length-1].value){var a=i.pop();if(a.type===e.expression.type.string||a.type===e.expression.type.variable)t.key=a.value;else if(a.type===e.expression.type.number)t.key=a.value.toString();else{if(a.type!==e.expression.type.parameter.end||!a.expression)throw new e.Error("Unexpected value before ':' of "+a.type+" = "+a.value);t.params=a.params}return void i.push(t)}}else n.push(o)},parse:function(t,n,i){t.key?n.push(t):t.params?(t.key=e.expression.parse.apply(this,[t.params,i]),n.push(t),delete t.params):e.expression.operator.parse(t.value,n)}},{type:e.expression.type.operator.unary,regex:/(^not\s+)/,next:e.expression.set.expressions,compile:function(t,n,i){delete t.match,t.value=t.value.trim();var s=t.value,o=e.expression.operator.lookup(s,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",o," from ",s);n.length>0&&(n[n.length-1].type==e.expression.type.operator.unary||n[n.length-1].type==e.expression.type.operator.binary)&&(o.associativity===e.expression.operator.leftToRight&&o.precidence>=n[n.length-1].precidence||o.associativity===e.expression.operator.rightToLeft&&o.precidence>n[n.length-1].precidence);){var r=n.pop();i.push(r)}n.push(o)},parse:function(t,n,i){e.expression.operator.parse(t.value,n)}},{type:e.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:e.expression.set.operations,compile:function(t,n,i){var s=t.value;delete t.match,s='"'===s.substring(0,1)?s.replace('\\"','"'):s.replace("\\'","'"),t.value=s.substring(1,s.length-1).replace(/\\n/g,"\n").replace(/\\r/g,"\r"),e.log.trace("Twig.expression.compile: ","String value: ",t.value),i.push(t)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.parameter.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.parameter.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.parameter.end,regex:/^\)/,next:e.expression.set.operations_extended,compile:function(t,n,i){var s,o=t;for(s=n.pop();n.length>0&&s.type!=e.expression.type.parameter.start;)i.push(s),s=n.pop();for(var r=[];t.type!==e.expression.type.parameter.start;)r.unshift(t),t=i.pop();r.unshift(t);t=i[i.length-1],void 0===t||t.type!==e.expression.type._function&&t.type!==e.expression.type.filter&&t.type!==e.expression.type.test&&t.type!==e.expression.type.key.brackets&&t.type!==e.expression.type.key.period?(o.expression=!0,r.pop(),r.shift(),o.params=r,i.push(o)):(o.expression=!1,t.params=r)},parse:function(t,n,i){var s=[],o=!1,r=null;if(t.expression)r=e.expression.parse.apply(this,[t.params,i]),n.push(r);else{for(;n.length>0;){if(r=n.pop(),r&&r.type&&r.type==e.expression.type.parameter.start){o=!0;break}s.unshift(r)}if(!o)throw new e.Error("Expected end of parameter set.");n.push(s)}}},{type:e.expression.type.array.start,regex:/^\[/,next:e.expression.set.expressions.concat([e.expression.type.array.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.array.end,regex:/^\]/,next:e.expression.set.operations_extended,compile:function(t,n,i){for(var s,o=n.length-1;o>=0&&(s=n.pop(),s.type!==e.expression.type.array.start);o--)i.push(s);i.push(t)},parse:function(t,n,i){for(var s=[],o=!1,r=null;n.length>0;){if(r=n.pop(),r.type&&r.type==e.expression.type.array.start){o=!0;break}s.unshift(r)}if(!o)throw new e.Error("Expected end of array.");n.push(s)}},{type:e.expression.type.object.start,regex:/^\{/,next:e.expression.set.expressions.concat([e.expression.type.object.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.object.end,regex:/^\}/,next:e.expression.set.operations_extended,compile:function(t,n,i){for(var s,o=n.length-1;o>=0&&(s=n.pop(),!s||s.type!==e.expression.type.object.start);o--)i.push(s);i.push(t)},parse:function(t,n,i){for(var s={},o=!1,r=null,a=!1,l=null;n.length>0;){if(r=n.pop(),r&&r.type&&r.type===e.expression.type.object.start){o=!0;break}if(r&&r.type&&(r.type===e.expression.type.operator.binary||r.type===e.expression.type.operator.unary)&&r.key){if(!a)throw new e.Error("Missing value for key '"+r.key+"' in object definition.");s[r.key]=l,void 0===s._keys&&(s._keys=[]),s._keys.unshift(r.key),l=null,a=!1}else a=!0,l=r}if(!o)throw new e.Error("Unexpected end of object.");n.push(s)}},{type:e.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_\-]*)/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(e,t,n){e.value=e.match[1],n.push(e)},parse:function(t,n,i){var s=n.pop(),o=t.params&&e.expression.parse.apply(this,[t.params,i]);n.push(e.filter.apply(this,[t.value,s,o]))}},{type:e.expression.type._function,regex:/^([a-zA-Z_][a-zA-Z0-9_]*)\s*\(/,next:e.expression.type.parameter.start,transform:function(e,t){return"("},compile:function(e,t,n){var i=e.match[1];e.fn=i,delete e.match,delete e.value,n.push(e)},parse:function(t,n,i){var s,o=t.params&&e.expression.parse.apply(this,[t.params,i]),r=t.fn;if(e.functions[r])s=e.functions[r].apply(this,o);else{if("function"!=typeof i[r])throw new e.Error(r+" function does not exist and is not defined in the context");s=i[r].apply(i,o)}n.push(s)}},{type:e.expression.type.variable,regex:/^[a-zA-Z_][a-zA-Z0-9_]*/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,validate:function(t,n){return e.indexOf(e.expression.reservedWords,t[0])<0},parse:function(t,n,i){var s=e.expression.resolve(i[t.value],i);n.push(s)}},{type:e.expression.type.key.period,regex:/^\.([a-zA-Z0-9_]+)/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(e,t,n){e.key=e.match[1],delete e.match,delete e.value,n.push(e)},parse:function(t,n,i){var s,o=t.params&&e.expression.parse.apply(this,[t.params,i]),r=t.key,a=n.pop();if(null===a||void 0===a){if(this.options.strict_variables)throw new e.Error("Can't access a key "+r+" on an null or undefined object.");return null}var l=function(e){return e.substr(0,1).toUpperCase()+e.substr(1)};s="object"==typeof a&&r in a?a[r]:void 0!==a["get"+l(r)]?a["get"+l(r)]:void 0!==a["is"+l(r)]?a["is"+l(r)]:void 0,n.push(e.expression.resolve(s,a,o))}},{type:e.expression.type.key.brackets,regex:/^\[([^\]]*)\]/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(t,n,i){var s=t.match[1];delete t.value,delete t.match,t.stack=e.expression.compile({value:s}).stack,i.push(t)},parse:function(t,n,i){var s,o=t.params&&e.expression.parse.apply(this,[t.params,i]),r=e.expression.parse.apply(this,[t.stack,i]),a=n.pop();if(null===a||void 0===a){if(this.options.strict_variables)throw new e.Error("Can't access a key "+r+" on an null or undefined object.");return null}s="object"==typeof a&&r in a?a[r]:null,n.push(e.expression.resolve(s,a,o))}},{type:e.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:e.expression.set.operations,compile:function(e,t,n){delete e.match,e.value=null,n.push(e)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.context,regex:/^_context/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,parse:function(e,t,n){t.push(n)}},{type:e.expression.type.number,regex:/^\-?\d+(\.\d+)?/,next:e.expression.set.operations,compile:function(e,t,n){e.value=Number(e.value),n.push(e)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:e.expression.set.operations,compile:function(e,t,n){e.value="true"===e.match[0].toLowerCase(),delete e.match,n.push(e)},parse:e.expression.fn.parse.push_value}],e.expression.resolve=function(e,t,n){return"function"==typeof e?e.apply(t,n||[]):e},e.expression.handler={},e.expression.extendType=function(t){e.expression.type[t]="Twig.expression.type."+t},e.expression.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.expression.handler[t.type]=t};for(;e.expression.definitions.length>0;)e.expression.extend(e.expression.definitions.shift());return e.expression.tokenize=function(t){var n,i,s,o,r,a,l=[],c=0,u=null,d=[];for(a=function(){var t=Array.prototype.slice.apply(arguments);t.pop(),t.pop();return e.log.trace("Twig.expression.tokenize","Matched a ",n," regular expression of ",t),u&&e.indexOf(u,n)<0?(d.push(n+" cannot follow a "+l[l.length-1].type+" at template:"+c+" near '"+t[0].substring(0,20)+"...'"),t[0]):e.expression.handler[n].validate&&!e.expression.handler[n].validate(t,l)?t[0]:(d=[],l.push({type:n,value:t[0],match:t}),r=!0,u=o,c+=t[0].length,e.expression.handler[n].transform?e.expression.handler[n].transform(t,l):"")},e.log.debug("Twig.expression.tokenize","Tokenizing expression ",t);t.length>0;){t=t.trim();for(n in e.expression.handler)if(e.expression.handler.hasOwnProperty(n)){for(o=e.expression.handler[n].next,i=e.expression.handler[n].regex,s=i instanceof Array?i:[i],r=!1;s.length>0;)i=s.pop(),t=t.replace(i,a);if(r)break}if(!r)throw d.length>0?new e.Error(d.join(" OR ")):new e.Error("Unable to parse '"+t+"' at template position"+c)}return e.log.trace("Twig.expression.tokenize","Tokenized to ",l),l},e.expression.compile=function(t){var n=t.value,i=e.expression.tokenize(n),s=null,o=[],r=[],a=null;for(e.log.trace("Twig.expression.compile: ","Compiling ",n);i.length>0;)s=i.shift(),a=e.expression.handler[s.type],e.log.trace("Twig.expression.compile: ","Compiling ",s),a.compile&&a.compile(s,r,o),e.log.trace("Twig.expression.compile: ","Stack is",r),e.log.trace("Twig.expression.compile: ","Output is",o);for(;r.length>0;)o.push(r.pop());return e.log.trace("Twig.expression.compile: ","Final output is",o),t.stack=o,delete t.value,t},e.expression.parse=function(t,n){var i=this;t instanceof Array||(t=[t]);var s=[],o=null;return e.forEach(t,function(t){o=e.expression.handler[t.type],o.parse&&o.parse.apply(i,[t,s,n])}),s.pop()},e}(i||{}),i=function(e){"use strict";e.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};var t=function(e,t){if(void 0===t||null===t)return null;if(void 0!==t.indexOf)return e===t||""!==e&&t.indexOf(e)>-1;var n;for(n in t)if(t.hasOwnProperty(n)&&t[n]===e)return!0;return!1};return e.expression.operator.lookup=function(t,n){switch(t){case"..":case"not in":case"in":n.precidence=20,n.associativity=e.expression.operator.leftToRight;break;case",":n.precidence=18,n.associativity=e.expression.operator.leftToRight;break;case"?":case":":n.precidence=16,n.associativity=e.expression.operator.rightToLeft;break;case"or":n.precidence=14,n.associativity=e.expression.operator.leftToRight;break;case"and":n.precidence=13,n.associativity=e.expression.operator.leftToRight;break;case"==":case"!=":n.precidence=9,n.associativity=e.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":n.precidence=8,n.associativity=e.expression.operator.leftToRight;break;case"~":case"+":case"-":n.precidence=6,n.associativity=e.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":n.precidence=5,n.associativity=e.expression.operator.leftToRight;break;case"not":n.precidence=3,n.associativity=e.expression.operator.rightToLeft;break;default:throw new e.Error(t+" is an unknown operator.")}return n.operator=t,n},e.expression.operator.parse=function(n,i){e.log.trace("Twig.expression.operator.parse: ","Handling ",n);var s,o,r;switch(n){case":":break;case"?":r=i.pop(),o=i.pop(),s=i.pop(),s?i.push(o):i.push(r);break;case"+":o=parseFloat(i.pop()),s=parseFloat(i.pop()),i.push(s+o);break;case"-":o=parseFloat(i.pop()),s=parseFloat(i.pop()),i.push(s-o);break;case"*":o=parseFloat(i.pop()),s=parseFloat(i.pop()),i.push(s*o);break;case"/":o=parseFloat(i.pop()),s=parseFloat(i.pop()),i.push(s/o);break;case"//":o=parseFloat(i.pop()),s=parseFloat(i.pop()),i.push(parseInt(s/o));break;case"%":o=parseFloat(i.pop()),s=parseFloat(i.pop()),i.push(s%o);break;case"~":o=i.pop(),s=i.pop(),i.push((null!=s?s.toString():"")+(null!=o?o.toString():""));break;case"not":case"!":i.push(!i.pop());break;case"<":o=i.pop(),s=i.pop(),i.push(s<o);break;case"<=":o=i.pop(),s=i.pop(),i.push(s<=o);break;case">":o=i.pop(),s=i.pop(),i.push(s>o);break;case">=":o=i.pop(),s=i.pop(),i.push(s>=o);break;case"===":o=i.pop(),s=i.pop(),i.push(s===o);break;case"==":o=i.pop(),s=i.pop(),i.push(s==o);break;case"!==":o=i.pop(),s=i.pop(),i.push(s!==o);break;case"!=":o=i.pop(),s=i.pop(),i.push(s!=o);break;case"or":o=i.pop(),s=i.pop(),i.push(s||o);break;case"and":o=i.pop(),s=i.pop(),i.push(s&&o);break;case"**":o=i.pop(),s=i.pop(),i.push(Math.pow(s,o));break;case"not in":o=i.pop(),s=i.pop(),i.push(!t(s,o));break;case"in":o=i.pop(),s=i.pop(),i.push(t(s,o));break;case"..":o=i.pop(),s=i.pop(),i.push(e.functions.range(s,o));break;default:throw new e.Error(n+" is an unknown operator.")}},e}(i||{}),i=function(e){function t(e,t){var n=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&n===e}return e.filters={upper:function(e){return"string"!=typeof e?e:e.toUpperCase()},lower:function(e){return"string"!=typeof e?e:e.toLowerCase()},capitalize:function(e){return"string"!=typeof e?e:e.substr(0,1).toUpperCase()+e.toLowerCase().substr(1)},title:function(e){return"string"!=typeof e?e:e.toLowerCase().replace(/(^|\s)([a-z])/g,function(e,t,n){return t+n.toUpperCase()})},length:function(t){return e.lib.is("Array",t)||"string"==typeof t?t.length:e.lib.is("Object",t)?void 0===t._keys?Object.keys(t).length:t._keys.length:0},reverse:function(e){if(t("Array",e))return e.reverse();if(t("String",e))return e.split("").reverse().join("");if(t("Object",e)){var n=e._keys||Object.keys(e).reverse();return e._keys=n,e}},sort:function(e){if(t("Array",e))return e.sort();if(t("Object",e)){delete e._keys;var n=Object.keys(e),i=n.sort(function(t,n){var i;return e[t]>e[n]==!(e[t]<=e[n])?e[t]>e[n]?1:e[t]<e[n]?-1:0:isNaN(i=parseFloat(e[t]))||isNaN(b1=parseFloat(e[n]))?"string"==typeof e[t]?e[t]>e[n].toString()?1:e[t]<e[n].toString()?-1:0:"string"==typeof e[n]?e[t].toString()>e[n]?1:e[t].toString()<e[n]?-1:0:null:i>b1?1:i<b1?-1:0});return e._keys=i,e}},keys:function(t){if(void 0!==t&&null!==t){var n=t._keys||Object.keys(t),i=[];return e.forEach(n,function(e){"_keys"!==e&&t.hasOwnProperty(e)&&i.push(e)}),i}},url_encode:function(e){if(void 0!==e&&null!==e){var t=encodeURIComponent(e);return t=t.replace("'","%27")}},join:function(n,i){if(void 0!==n&&null!==n){var s="",o=[],r=null;return i&&i[0]&&(s=i[0]),t("Array",n)?o=n:(r=n._keys||Object.keys(n),e.forEach(r,function(e){"_keys"!==e&&n.hasOwnProperty(e)&&o.push(n[e])})),o.join(s)}},"default":function(t,n){if(void 0!==n&&n.length>1)throw new e.Error("default filter expects one argument");return void 0===t||null===t||""===t?void 0===n?"":n[0]:t},json_encode:function(n){if(void 0===n||null===n)return"null";if("object"==typeof n&&t("Array",n))return s=[],e.forEach(n,function(t){s.push(e.filters.json_encode(t))}),"["+s.join(",")+"]";if("object"==typeof n){var i=n._keys||Object.keys(n),s=[];return e.forEach(i,function(t){s.push(JSON.stringify(t)+":"+e.filters.json_encode(n[t]))}),"{"+s.join(",")+"}"}return JSON.stringify(n)},merge:function(n,i){var s=[],o=0,r=[];if(t("Array",n)?e.forEach(i,function(e){t("Array",e)||(s={})}):s={},t("Array",s)||(s._keys=[]),t("Array",n)?e.forEach(n,function(e){s._keys&&s._keys.push(o),s[o]=e,o++}):(r=n._keys||Object.keys(n),e.forEach(r,function(e){s[e]=n[e],s._keys.push(e);var t=parseInt(e,10);!isNaN(t)&&t>=o&&(o=t+1)})),e.forEach(i,function(n){t("Array",n)?e.forEach(n,function(e){s._keys&&s._keys.push(o),s[o]=e,o++}):(r=n._keys||Object.keys(n),e.forEach(r,function(e){s[e]||s._keys.push(e),s[e]=n[e];var t=parseInt(e,10);!isNaN(t)&&t>=o&&(o=t+1)}))}),0===i.length)throw new e.Error("Filter merge expects at least one parameter");return s},date:function(t,n){var i=e.functions.date(t),s=n&&n.length?n[0]:"F j, Y H:i";return e.lib.formatDate(i,s)},date_modify:function(t,n){if(void 0!==t&&null!==t){if(void 0===n||1!==n.length)throw new e.Error("date_modify filter expects 1 argument");var i,s=n[0];return e.lib.is("Date",t)&&(i=e.lib.strtotime(s,t.getTime()/1e3)),e.lib.is("String",t)&&(i=e.lib.strtotime(s,e.lib.strtotime(t))),e.lib.is("Number",t)&&(i=e.lib.strtotime(s,t)),new Date(1e3*i)}},replace:function(t,n){if(void 0!==t&&null!==t){var i,s=n[0];for(i in s)s.hasOwnProperty(i)&&"_keys"!==i&&(t=e.lib.replaceAll(t,i,s[i]));return t}},format:function(t,n){if(void 0!==t&&null!==t)return e.lib.vsprintf(t,n)},striptags:function(t){if(void 0!==t&&null!==t)return e.lib.strip_tags(t)},escape:function(t,n){if(void 0!==t&&null!==t){var i="html";if(n&&n.length&&n[0]!==!0&&(i=n[0]),"html"==i){var s=t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return e.Markup(s,"html")}if("js"==i){for(var s=t.toString(),o="",r=0;r<s.length;r++)if(s[r].match(/^[a-zA-Z0-9,\._]$/))o+=s[r];else{var a=s.charCodeAt(r);o+=a<128?"\\x"+a.toString(16).toUpperCase():e.lib.sprintf("\\u%04s",a.toString(16).toUpperCase())}return e.Markup(o,"js")}if("css"==i){for(var s=t.toString(),o="",r=0;r<s.length;r++)if(s[r].match(/^[a-zA-Z0-9]$/))o+=s[r];else{var a=s.charCodeAt(r);o+="\\"+a.toString(16).toUpperCase()+" "}return e.Markup(o,"css")}if("url"==i){var o=e.filters.url_encode(t);return e.Markup(o,"url")}if("html_attr"==i){for(var s=t.toString(),o="",r=0;r<s.length;r++)if(s[r].match(/^[a-zA-Z0-9,\.\-_]$/))o+=s[r];else if(s[r].match(/^[&<>"]$/))o+=s[r].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");else{var a=s.charCodeAt(r);o+=a<=31&&9!=a&&10!=a&&13!=a?"&#xFFFD;":a<128?e.lib.sprintf("&#x%02s;",a.toString(16).toUpperCase()):e.lib.sprintf("&#x%04s;",a.toString(16).toUpperCase())}return e.Markup(o,"html_attr")}throw new e.Error("escape strategy unsupported")}},e:function(t,n){return e.filters.escape(t,n)},nl2br:function(t){if(void 0!==t&&null!==t){var n="BACKSLASH_n_replace",i="<br />"+n;return t=e.filters.escape(t).replace(/\r\n/g,i).replace(/\r/g,i).replace(/\n/g,i),t=e.lib.replaceAll(t,n,"\n"),e.Markup(t)}},number_format:function(e,t){var n=e,i=t&&t[0]?t[0]:void 0,s=t&&void 0!==t[1]?t[1]:".",o=t&&void 0!==t[2]?t[2]:",";n=(n+"").replace(/[^0-9+\-Ee.]/g,"");var r=isFinite(+n)?+n:0,a=isFinite(+i)?Math.abs(i):0,l="",c=function(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n};return l=(a?c(r,a):""+Math.round(r)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,o)),
(l[1]||"").length<a&&(l[1]=l[1]||"",l[1]+=new Array(a-l[1].length+1).join("0")),l.join(s)},trim:function(t,n){if(void 0!==t&&null!==t){var i,s=e.filters.escape(""+t);i=n&&n[0]?""+n[0]:" \n\r\t\f\x0B            ​\u2028\u2029　";for(var o=0;o<s.length;o++)if(i.indexOf(s.charAt(o))===-1){s=s.substring(o);break}for(o=s.length-1;o>=0;o--)if(i.indexOf(s.charAt(o))===-1){s=s.substring(0,o+1);break}return i.indexOf(s.charAt(0))===-1?s:""}},truncate:function(e,t){var n=30,i=!1,s="...";if(e+="",t&&(t[0]&&(n=t[0]),t[1]&&(i=t[1]),t[2]&&(s=t[2])),e.length>n){if(i&&(n=e.indexOf(" ",n),n===-1))return e;e=e.substr(0,n)+s}return e},slice:function(t,n){if(void 0!==t&&null!==t){if(void 0===n||n.length<1)throw new e.Error("slice filter expects at least 1 argument");var i=n[0]||0,s=n.length>1?n[1]:t.length,o=i>=0?i:Math.max(t.length+i,0);if(e.lib.is("Array",t)){for(var r=[],a=o;a<o+s&&a<t.length;a++)r.push(t[a]);return r}if(e.lib.is("String",t))return t.substr(o,s);throw new e.Error("slice filter expects value to be an array or string")}},abs:function(e){if(void 0!==e&&null!==e)return Math.abs(e)},first:function(e){if(t("Array",e))return e[0];if(t("Object",e)){if("_keys"in e)return e[e._keys[0]]}else if("string"==typeof e)return e.substr(0,1)},split:function(t,n){if(void 0!==t&&null!==t){if(void 0===n||n.length<1||n.length>2)throw new e.Error("split filter expects 1 or 2 argument");if(e.lib.is("String",t)){var i=n[0],s=n[1],o=t.split(i);if(void 0===s)return o;if(s<0)return t.split(i,o.length+s);var r=[];if(""==i)for(;o.length>0;){for(var a="",l=0;l<s&&o.length>0;l++)a+=o.shift();r.push(a)}else{for(var l=0;l<s-1&&o.length>0;l++)r.push(o.shift());o.length>0&&r.push(o.join(i))}return r}throw new e.Error("split filter expects value to be a string")}},last:function(t){if(e.lib.is("Object",t)){var n;return n=void 0===t._keys?Object.keys(t):t._keys,t[n[n.length-1]]}return t[t.length-1]},raw:function(t){return e.Markup(t)},batch:function(t,n){var i,s,o,r=n.shift(),a=n.shift();if(!e.lib.is("Array",t))throw new e.Error("batch filter expects items to be an array");if(!e.lib.is("Number",r))throw new e.Error("batch filter expects size to be a number");if(r=Math.ceil(r),i=e.lib.chunkArray(t,r),a&&t.length%r!=0){for(s=i.pop(),o=r-s.length;o--;)s.push(a);i.push(s)}return i},round:function(t,n){n=n||[];var i=n.length>0?n[0]:0,s=n.length>1?n[1]:"common";if(t=parseFloat(t),i&&!e.lib.is("Number",i))throw new e.Error("round filter expects precision to be a number");if("common"===s)return e.lib.round(t,i);if(!e.lib.is("Function",Math[s]))throw new e.Error("round filter expects method to be 'floor', 'ceil', or 'common'");return Math[s](t*Math.pow(10,i))/Math.pow(10,i)}},e.filter=function(t,n,i){if(!e.filters[t])throw"Unable to find filter "+t;return e.filters[t].apply(this,[n,i])},e.filter.extend=function(t,n){e.filters[t]=n},e}(i||{}),i=function(e){var i='Template "{name}" is not defined.';return e.functions={range:function(e,t,n){var i,s,o,r=[],a=n||1,l=!1;if(isNaN(e)||isNaN(t)?isNaN(e)&&isNaN(t)?(l=!0,i=e.charCodeAt(0),s=t.charCodeAt(0)):(i=isNaN(e)?0:e,s=isNaN(t)?0:t):(i=parseInt(e,10),s=parseInt(t,10)),o=!(i>s))for(;i<=s;)r.push(l?String.fromCharCode(i):i),i+=a;else for(;i>=s;)r.push(l?String.fromCharCode(i):i),i-=a;return r},cycle:function(e,t){var n=t%e.length;return e[n]},dump:function(){var t="\n",n="  ",i=0,s="",o=Array.prototype.slice.call(arguments),r=function(e){for(var t="";e>0;)e--,t+=n;return t},a=function(e){s+=r(i),"object"==typeof e?l(e):"function"==typeof e?s+="function()"+t:"string"==typeof e?s+="string("+e.length+') "'+e+'"'+t:"number"==typeof e?s+="number("+e+")"+t:"boolean"==typeof e&&(s+="bool("+e+")"+t)},l=function(e){var n;if(null===e)s+="NULL"+t;else if(void 0===e)s+="undefined"+t;else if("object"==typeof e){s+=r(i)+typeof e,i++,s+="("+function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(e)+") {"+t;for(n in e)s+=r(i)+"["+n+"]=> "+t,a(e[n]);i--,s+=r(i)+"}"+t}else a(e)};return 0==o.length&&o.push(this.context),e.forEach(o,function(e){l(e)}),s},date:function(t,n){var i;if(void 0===t)i=new Date;else if(e.lib.is("Date",t))i=t;else if(e.lib.is("String",t))i=t.match(/^[0-9]+$/)?new Date(1e3*t):new Date(1e3*e.lib.strtotime(t));else{if(!e.lib.is("Number",t))throw new e.Error("Unable to parse date "+t);i=new Date(1e3*t)}return i},block:function(t){return this.originalBlockTokens[t]?e.logic.parse.apply(this,[this.originalBlockTokens[t],this.context]).output:this.blocks[t]},parent:function(){return e.placeholders.parent},attribute:function(t,n,i){return e.lib.is("Object",t)&&t.hasOwnProperty(n)?"function"==typeof t[n]?t[n].apply(void 0,i):t[n]:t[n]||void 0},max:function(t){return e.lib.is("Object",t)?(delete t._keys,e.lib.max(t)):e.lib.max.apply(null,arguments)},min:function(t){return e.lib.is("Object",t)?(delete t._keys,e.lib.min(t)):e.lib.min.apply(null,arguments)},template_from_string:function(t){return void 0===t&&(t=""),e.Templates.parsers.twig({options:this.options,data:t})},random:function(t){function n(e){var t=Math.floor(Math.random()*i),n=[0,e],s=Math.min.apply(null,n),o=Math.max.apply(null,n);return s+Math.floor((o-s+1)*t/i)}var i=2147483648;if(e.lib.is("Number",t))return n(t);if(e.lib.is("String",t))return t.charAt(n(t.length-1));if(e.lib.is("Array",t))return t[n(t.length-1)];if(e.lib.is("Object",t)){var s=Object.keys(t);return t[s[n(s.length-1)]]}return n(i-1)},source:function(s,o){var r,a,l,c=!1,u="undefined"!=typeof t&&"undefined"!=typeof t.exports&&"undefined"==typeof window;u?(a="fs",l=n+"/"+s):(a="ajax",l=s);var d={id:s,path:l,method:a,parser:"source",async:!1,fetchTemplateSource:!0};"undefined"==typeof o&&(o=!1);try{r=e.Templates.loadRemote(s,d),"undefined"==typeof r||null===r?r="":c=!0}catch(h){e.log.debug("Twig.functions.source: ","Problem loading template  ",h)}return c||o?r:i.replace("{name}",s)}},e._function=function(t,n,i){if(!e.functions[t])throw"Unable to find function "+t;return e.functions[t](n,i)},e._function.extend=function(t,n){e.functions[t]=n},e}(i||{}),i=function(t){"use strict";return t.path={},t.path.parsePath=function(e,n){var i=null,n=n||"";if("object"==typeof e&&"object"==typeof e.options&&(i=e.options.namespaces),"object"==typeof i&&n.indexOf("::")>0||n.indexOf("@")>=0){for(var s in i)i.hasOwnProperty(s)&&(n=n.replace(s+"::",i[s]),n=n.replace("@"+s,i[s]));return n}return t.path.relativePath(e,n)},t.path.relativePath=function(n,i){var s,o,r,a="/",l=[],i=i||"";if(n.url)s="undefined"!=typeof n.base?n.base+("/"===n.base.charAt(n.base.length-1)?"":"/"):n.url;else if(n.path){var c=e("path"),u=c.sep||a,d=new RegExp("^\\.{1,2}"+u.replace("\\","\\\\"));i=i.replace(/\//g,u),void 0!==n.base&&null==i.match(d)?(i=i.replace(n.base,""),s=n.base+u):s=c.normalize(n.path),s=s.replace(u+u,u),a=u}else{if(!n.name&&!n.id||!n.method||"fs"===n.method||"ajax"===n.method)throw new t.Error("Cannot extend an inline template.");s=n.base||n.name||n.id}for(o=s.split(a),o.pop(),o=o.concat(i.split(a));o.length>0;)r=o.shift(),"."==r||(".."==r&&l.length>0&&".."!=l[l.length-1]?l.pop():l.push(r));return l.join(a)},t}(i||{}),i=function(e){"use strict";return e.tests={empty:function(e){if(null===e||void 0===e)return!0;if("number"==typeof e)return!1;if(e.length&&e.length>0)return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},odd:function(e){return e%2===1},even:function(e){return e%2===0},divisibleby:function(e,t){return e%t[0]===0},defined:function(e){return void 0!==e},none:function(e){return null===e},"null":function(e){return this.none(e)},sameas:function(e,t){return e===t[0]},iterable:function(t){return t&&(e.lib.is("Array",t)||e.lib.is("Object",t))}},e.test=function(t,n,i){if(!e.tests[t])throw"Test "+t+" is not defined.";return e.tests[t](n,i)},e.test.extend=function(t,n){e.tests[t]=n},e}(i||{}),i=function(e){"use strict";return e.exports={VERSION:e.VERSION},e.exports.twig=function(t){var n=t.id,i={strict_variables:t.strict_variables||!1,autoescape:null!=t.autoescape&&t.autoescape||!1,allowInlineIncludes:t.allowInlineIncludes||!1,rethrow:t.rethrow||!1,namespaces:t.namespaces};if(e.cache&&n&&e.validateId(n),void 0!==t.debug&&(e.debug=t.debug),void 0!==t.trace&&(e.trace=t.trace),void 0!==t.data)return e.Templates.parsers.twig({data:t.data,path:t.hasOwnProperty("path")?t.path:void 0,module:t.module,id:n,options:i});if(void 0!==t.ref){if(void 0!==t.id)throw new e.Error("Both ref and id cannot be set on a twig.js template.");return e.Templates.load(t.ref)}if(void 0!==t.method){if(!e.Templates.isRegisteredLoader(t.method))throw new e.Error('Loader for "'+t.method+'" is not defined.');return e.Templates.loadRemote(t.name||t.href||t.path||n||void 0,{id:n,method:t.method,parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:i},t.load,t.error)}return void 0!==t.href?e.Templates.loadRemote(t.href,{id:n,method:"ajax",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:i},t.load,t.error):void 0!==t.path?e.Templates.loadRemote(t.path,{id:n,method:"fs",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:i},t.load,t.error):void 0},e.exports.extendFilter=function(t,n){e.filter.extend(t,n)},e.exports.extendFunction=function(t,n){e._function.extend(t,n)},e.exports.extendTest=function(t,n){e.test.extend(t,n)},e.exports.extendTag=function(t){e.logic.extend(t)},e.exports.extend=function(t){t(e)},e.exports.compile=function(t,n){var i,s=n.filename,o=n.filename;return i=new e.Template({data:t,path:o,id:s,options:n.settings["twig options"]}),function(e){return i.render(e)}},e.exports.renderFile=function(t,n,i){"function"==typeof n&&(i=n,n={}),n=n||{};var s=n.settings||{},o={path:t,base:s.views,load:function(e){i(null,e.render(n))}},r=s["twig options"];if(r)for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);e.exports.twig(o)},e.exports.__express=e.exports.renderFile,e.exports.cache=function(t){e.cache=t},e.exports.path=e.path,e}(i||{}),i=function(e){return e.compiler={module:{}},e.compiler.compile=function(t,n){var i,s=JSON.stringify(t.tokens),o=t.id;if(n.module){if(void 0===e.compiler.module[n.module])throw new e.Error("Unable to find module type "+n.module);i=e.compiler.module[n.module](o,s,n.twig)}else i=e.compiler.wrap(o,s);return i},e.compiler.module={amd:function(t,n,i){return'define(["'+i+'"], function (Twig) {\n\tvar twig, templates;\ntwig = Twig.twig;\ntemplates = '+e.compiler.wrap(t,n)+"\n\treturn templates;\n});"},node:function(t,n){return'var twig = require("twig").twig;\nexports.template = '+e.compiler.wrap(t,n)},cjs2:function(t,n,i){return'module.declare([{ twig: "'+i+'" }], function (require, exports, module) {\n\tvar twig = require("twig").twig;\n\texports.template = '+e.compiler.wrap(t,n)+"\n});"}},e.compiler.wrap=function(e,t){return'twig({id:"'+e.replace('"','\\"')+'", data:'+t+", precompiled: true});\n"},e}(i||{});"undefined"!=typeof t&&t.declare?t.declare([],function(e,t,n){for(key in i.exports)i.exports.hasOwnProperty(key)&&(t[key]=i.exports[key])}):"function"==typeof define&&define.amd?define(function(){return i.exports}):"undefined"!=typeof t&&t.exports?t.exports=i.exports:(window.twig=i.exports.twig,window.Twig=i.exports)}).call(this,"/node_modules/twig")},{fs:540,path:549}],682:[function(e,t,n){(function(){function e(e){function t(t,n,i,s,o,r){for(;o>=0&&o<r;o+=e){var a=s?s[o]:o;i=n(i,t[a],a,t)}return i}return function(n,i,s,o){i=x(i,o,4);var r=!E(n)&&w.keys(n),a=(r||n).length,l=e>0?0:a-1;return arguments.length<3&&(s=n[r?r[l]:l],l+=e),t(n,i,s,r,l,a)}}function i(e){return function(t,n,i){n=_(n,i);for(var s=T(t),o=e>0?0:s-1;o>=0&&o<s;o+=e)if(n(t[o],o,t))return o;return-1}}function s(e,t,n){return function(i,s,o){var r=0,a=T(i);if("number"==typeof o)e>0?r=o>=0?o:Math.max(o+a,r):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,s),i[o]===s?o:-1;if(s!==s)return o=t(h.call(i,r,a),w.isNaN),o>=0?o+r:-1;for(o=e>0?r:a-1;o>=0&&o<a;o+=e)if(i[o]===s)return o;return-1}}function o(e,t){var n=R.length,i=e.constructor,s=w.isFunction(i)&&i.prototype||c,o="constructor";for(w.has(e,o)&&!w.contains(t,o)&&t.push(o);n--;)o=R[n],o in e&&e[o]!==s[o]&&!w.contains(t,o)&&t.push(o)}var r=this,a=r._,l=Array.prototype,c=Object.prototype,u=Function.prototype,d=l.push,h=l.slice,p=c.toString,f=c.hasOwnProperty,m=Array.isArray,v=Object.keys,g=u.bind,b=Object.create,y=function(){},w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=w),n._=w):r._=w,w.VERSION="1.8.3";var x=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,s){return e.call(t,n,i,s)};case 4:return function(n,i,s,o){return e.call(t,n,i,s,o)}}return function(){return e.apply(t,arguments)}},_=function(e,t,n){return null==e?w.identity:w.isFunction(e)?x(e,t,n):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return _(e,t,1/0)};var k=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var s=1;s<i;s++)for(var o=arguments[s],r=e(o),a=r.length,l=0;l<a;l++){var c=r[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}},S=function(e){if(!w.isObject(e))return{};if(b)return b(e);y.prototype=e;var t=new y;return y.prototype=null,t},C=function(e){return function(t){return null==t?void 0:t[e]}},j=Math.pow(2,53)-1,T=C("length"),E=function(e){var t=T(e);return"number"==typeof t&&t>=0&&t<=j};w.each=w.forEach=function(e,t,n){t=x(t,n);var i,s;if(E(e))for(i=0,s=e.length;i<s;i++)t(e[i],i,e);else{var o=w.keys(e);for(i=0,s=o.length;i<s;i++)t(e[o[i]],o[i],e)}return e},w.map=w.collect=function(e,t,n){t=_(t,n);for(var i=!E(e)&&w.keys(e),s=(i||e).length,o=Array(s),r=0;r<s;r++){var a=i?i[r]:r;o[r]=t(e[a],a,e)}return o},w.reduce=w.foldl=w.inject=e(1),w.reduceRight=w.foldr=e(-1),w.find=w.detect=function(e,t,n){var i;if(i=E(e)?w.findIndex(e,t,n):w.findKey(e,t,n),void 0!==i&&i!==-1)return e[i]},w.filter=w.select=function(e,t,n){var i=[];return t=_(t,n),w.each(e,function(e,n,s){t(e,n,s)&&i.push(e)}),i},w.reject=function(e,t,n){return w.filter(e,w.negate(_(t)),n)},w.every=w.all=function(e,t,n){t=_(t,n);for(var i=!E(e)&&w.keys(e),s=(i||e).length,o=0;o<s;o++){var r=i?i[o]:o;if(!t(e[r],r,e))return!1}return!0},w.some=w.any=function(e,t,n){t=_(t,n);for(var i=!E(e)&&w.keys(e),s=(i||e).length,o=0;o<s;o++){var r=i?i[o]:o;if(t(e[r],r,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,n,i){return E(e)||(e=w.values(e)),("number"!=typeof n||i)&&(n=0),w.indexOf(e,t,n)>=0},w.invoke=function(e,t){var n=h.call(arguments,2),i=w.isFunction(t);return w.map(e,function(e){var s=i?t:e[t];return null==s?s:s.apply(e,n)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,n){var i,s,o=-(1/0),r=-(1/0);if(null==t&&null!=e){e=E(e)?e:w.values(e);for(var a=0,l=e.length;a<l;a++)i=e[a],i>o&&(o=i)}else t=_(t,n),w.each(e,function(e,n,i){s=t(e,n,i),(s>r||s===-(1/0)&&o===-(1/0))&&(o=e,r=s)});return o},w.min=function(e,t,n){var i,s,o=1/0,r=1/0;if(null==t&&null!=e){e=E(e)?e:w.values(e);for(var a=0,l=e.length;a<l;a++)i=e[a],i<o&&(o=i)}else t=_(t,n),w.each(e,function(e,n,i){s=t(e,n,i),(s<r||s===1/0&&o===1/0)&&(o=e,r=s)});return o},w.shuffle=function(e){for(var t,n=E(e)?e:w.values(e),i=n.length,s=Array(i),o=0;o<i;o++)t=w.random(0,o),t!==o&&(s[o]=s[t]),s[t]=n[o];return s},w.sample=function(e,t,n){return null==t||n?(E(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,n){return t=_(t,n),w.pluck(w.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var A=function(e){return function(t,n,i){var s={};return n=_(n,i),w.each(t,function(i,o){var r=n(i,o,t);e(s,i,r)}),s}};w.groupBy=A(function(e,t,n){w.has(e,n)?e[n].push(t):e[n]=[t]}),w.indexBy=A(function(e,t,n){e[n]=t}),w.countBy=A(function(e,t,n){w.has(e,n)?e[n]++:e[n]=1}),w.toArray=function(e){return e?w.isArray(e)?h.call(e):E(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:E(e)?e.length:w.keys(e).length},w.partition=function(e,t,n){t=_(t,n);var i=[],s=[];return w.each(e,function(e,n,o){(t(e,n,o)?i:s).push(e)}),[i,s]},w.first=w.head=w.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:w.initial(e,e.length-t)},w.initial=function(e,t,n){return h.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:w.rest(e,Math.max(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,n){return h.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var P=function(e,t,n,i){for(var s=[],o=0,r=i||0,a=T(e);r<a;r++){var l=e[r];if(E(l)&&(w.isArray(l)||w.isArguments(l))){t||(l=P(l,t,n));var c=0,u=l.length;for(s.length+=u;c<u;)s[o++]=l[c++]}else n||(s[o++]=l)}return s};w.flatten=function(e,t){return P(e,t,!1)},w.without=function(e){return w.difference(e,h.call(arguments,1))},w.uniq=w.unique=function(e,t,n,i){w.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=_(n,i));for(var s=[],o=[],r=0,a=T(e);r<a;r++){var l=e[r],c=n?n(l,r,e):l;t?(r&&o===c||s.push(l),o=c):n?w.contains(o,c)||(o.push(c),s.push(l)):w.contains(s,l)||s.push(l)}return s},w.union=function(){return w.uniq(P(arguments,!0,!0))},w.intersection=function(e){for(var t=[],n=arguments.length,i=0,s=T(e);i<s;i++){var o=e[i];if(!w.contains(t,o)){for(var r=1;r<n&&w.contains(arguments[r],o);r++);r===n&&t.push(o)}}return t},w.difference=function(e){var t=P(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,T).length||0,n=Array(t),i=0;i<t;i++)n[i]=w.pluck(e,i);return n},w.object=function(e,t){for(var n={},i=0,s=T(e);i<s;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},w.findIndex=i(1),w.findLastIndex=i(-1),w.sortedIndex=function(e,t,n,i){n=_(n,i,1);for(var s=n(t),o=0,r=T(e);o<r;){var a=Math.floor((o+r)/2);n(e[a])<s?o=a+1:r=a}return o},w.indexOf=s(1,w.findIndex,w.sortedIndex),w.lastIndexOf=s(-1,w.findLastIndex),w.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),s=Array(i),o=0;o<i;o++,e+=n)s[o]=e;return s};var $=function(e,t,n,i,s){if(!(i instanceof t))return e.apply(n,s);var o=S(e.prototype),r=e.apply(o,s);return w.isObject(r)?r:o};w.bind=function(e,t){if(g&&e.bind===g)return g.apply(e,h.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var n=h.call(arguments,2),i=function(){return $(e,i,t,this,n.concat(h.call(arguments)))};return i},w.partial=function(e){var t=h.call(arguments,1),n=function(){for(var i=0,s=t.length,o=Array(s),r=0;r<s;r++)o[r]=t[r]===w?arguments[i++]:t[r];for(;i<arguments.length;)o.push(arguments[i++]);return $(e,n,this,this,o)};return n},w.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)n=arguments[t],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var n=function(i){var s=n.cache,o=""+(t?t.apply(this,arguments):i);return w.has(s,o)||(s[o]=e.apply(this,arguments)),s[o]};return n.cache={},n},w.delay=function(e,t){var n=h.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,n){var i,s,o,r=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:w.now(),r=null,o=e.apply(i,s),r||(i=s=null)};return function(){var c=w.now();a||n.leading!==!1||(a=c);var u=t-(c-a);return i=this,s=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),a=c,o=e.apply(i,s),r||(i=s=null)):r||n.trailing===!1||(r=setTimeout(l,u)),o}},w.debounce=function(e,t,n){var i,s,o,r,a,l=function(){var c=w.now()-r;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(a=e.apply(o,s),i||(o=s=null)))};return function(){o=this,s=arguments,r=w.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(a=e.apply(o,s),o=s=null),a}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},w.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},w.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},w.once=w.partial(w.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(v)return v(e);var t=[];for(var n in e)w.has(e,n)&&t.push(n);return L&&o(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var n in e)t.push(n);return L&&o(e,t),t},w.values=function(e){for(var t=w.keys(e),n=t.length,i=Array(n),s=0;s<n;s++)i[s]=e[t[s]];return i},w.mapObject=function(e,t,n){t=_(t,n);for(var i,s=w.keys(e),o=s.length,r={},a=0;a<o;a++)i=s[a],r[i]=t(e[i],i,e);return r},w.pairs=function(e){for(var t=w.keys(e),n=t.length,i=Array(n),s=0;s<n;s++)i[s]=[t[s],e[t[s]]];return i},w.invert=function(e){for(var t={},n=w.keys(e),i=0,s=n.length;i<s;i++)t[e[n[i]]]=n[i];return t},w.functions=w.methods=function(e){var t=[];for(var n in e)w.isFunction(e[n])&&t.push(n);return t.sort()},w.extend=k(w.allKeys),w.extendOwn=w.assign=k(w.keys),w.findKey=function(e,t,n){t=_(t,n);for(var i,s=w.keys(e),o=0,r=s.length;o<r;o++)if(i=s[o],t(e[i],i,e))return i},w.pick=function(e,t,n){var i,s,o={},r=e;if(null==r)return o;w.isFunction(t)?(s=w.allKeys(r),i=x(t,n)):(s=P(arguments,!1,!1,1),i=function(e,t,n){return t in n},r=Object(r));for(var a=0,l=s.length;a<l;a++){var c=s[a],u=r[c];i(u,c,r)&&(o[c]=u)}return o},w.omit=function(e,t,n){if(w.isFunction(t))t=w.negate(t);else{var i=w.map(P(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(i,t)}}return w.pick(e,t,n)},w.defaults=k(w.allKeys,!0),w.create=function(e,t){var n=S(e);return t&&w.extendOwn(n,t),n},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var n=w.keys(t),i=n.length;if(null==e)return!i;for(var s=Object(e),o=0;o<i;o++){var r=n[o];if(t[r]!==s[r]||!(r in s))return!1}return!0};var D=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var s=p.call(e);if(s!==p.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===s;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var r=e.constructor,a=t.constructor;if(r!==a&&!(w.isFunction(r)&&r instanceof r&&w.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),o){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!D(e[l],t[l],n,i))return!1}else{var c,u=w.keys(e);if(l=u.length,w.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!w.has(t,c)||!D(e[c],t[c],n,i))return!1}return n.pop(),i.pop(),!0};w.isEqual=function(e,t){return D(e,t)},w.isEmpty=function(e){return null==e||(E(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length)},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=m||function(e){return"[object Array]"===p.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===p.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&f.call(e,t)},w.noConflict=function(){return r._=a,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=C,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var i=Array(Math.max(0,e));t=x(t,n,1);for(var s=0;s<e;s++)i[s]=t(s);return i},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=w.invert(N),M=function(e){var t=function(t){return e[t]},n="(?:"+w.keys(e).join("|")+")",i=RegExp(n),s=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(s,t):e}};w.escape=M(N),w.unescape=M(O),w.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),w.isFunction(i)?i.call(e):i};var I=0;w.uniqueId=function(e){var t=++I+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,z=function(e){return"\\"+F[e]};w.template=function(e,t,n){!t&&n&&(t=n),t=w.defaults({},t,w.templateSettings);var i=RegExp([(t.escape||B).source,(t.interpolate||B).source,(t.evaluate||B).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,i,r,a){return o+=e.slice(s,a).replace(U,z),s=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(o+="';\n"+r+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var r=new Function(t.variable||"obj","_",o)}catch(a){throw a.source=o,a}var l=function(e){return r.call(this,e,w)},c=t.variable||"obj";return l.source="function("+c+"){\n"+o+"}",l},w.chain=function(e){var t=w(e);return t._chain=!0,t};var V=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),V(this,n.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];w.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],V(this,n)}}),w.each(["concat","join","slice"],function(e){var t=l[e];w.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return w})}).call(this)},{}],683:[function(e,t,n){function i(e){this.permissions=[],this.roles={},this.resources={},this.sync=!!e}var s=e("./permission"),o=e("./permission_list");i.prototype.addRole=function(e,t){this.roles[e]=t||null},i.prototype.addResource=function(e,t){this.resources[e]=t||null},i.prototype.allow=function(e,t,n,i){u(n)||(n=[n]);for(var o in n)this.permissions.push(new s(e||null,t||null,n[o]||null,i||!0))},i.prototype.deny=function(e,t,n,i){u(n)||(n=[n]);for(var o in n)this.permissions.push(new s(e||null,t||null,n[o]||null,i||!1))},i.prototype.query=function(e,t,n,i){var s,r,c=[];s=a.call(this,e),r=l.call(this,t);for(var u in s)for(var d in r)for(var h=this.permissions.length-1;h>=0;h--)this.permissions[h].match(s[u]||null,r[d]||null,n||null)&&c.push(this.permissions[h]);var p=new o(c,e,t,n,i,this.sync);p.next()};var r=function(e){return this.roles[e]||null},a=function(e){var t=[];do t.push(e);while(e=r.call(this,e));return t},l=function(e){var t=[e];do t.push(e);while(e=c.call(this,e));return t},c=function(e){return this.resources[e]||null},u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=i},{"./permission":685,"./permission_list":686}],684:[function(e,t,n){var i=e("./acl");n.Acl=i},{"./acl":683}],685:[function(e,t,n){function i(e,t,n,i){this.role=e,this.resource=t,this.action=n,this.allowed=i}function s(e){if("string"==typeof e)return e;if(null===e)return null;if("function"==typeof e.getRoleId)return e.getRoleId();if("string"==typeof e.role_id)return e.role_id;throw"Unable to determine role"}function o(e){if("string"==typeof e)return e;if(null===e)return null;if("function"==typeof e.getResourceId)return e.getResourceId();if("string"==typeof e.resource_id)return e.resource_id;throw"Unable to determine resource"}i.prototype.match=function(e,t,n){var i=s(e),r=o(t);switch(!0){case i==this.role&&r==this.resource&&n==this.action:case null==this.role&&null==this.resource&&null==this.action:case this.role==i&&null==this.resource&&this.action==n:case null==this.role&&this.resource==r&&this.action==n:case this.role==i&&this.resource==r&&null==this.action:case null==this.role&&this.resource==r&&null==this.action:case null==this.role&&null==this.resource&&this.action==n:case null==this.role&&this.resource==t&&null==this.action:case this.role==i&&null==this.resource&&null==this.action:return!0}return!1},i.prototype.query=function(e,t,n,i,s){switch(typeof this.allowed){case"function":this.allowed(null,e,t,n,i,s);break;case"boolean":i(null,this.allowed);break;default:i("Unable to determine permission")}},t.exports=i},{}],686:[function(e,t,n){var i=function(e,t,n,i,s,o){this.permissions=e,this.role=t,this.resource=n,this.action=i,this.done=s,this.position=0,this.count=this.permissions.length,this.sync=o};i.prototype.next=function(){if(this.count==this.position)return this.done(null,!1);var e=this.permissions[this.position];this.sync?(e.query(this.role,this.resource,this.action,this.done,this.next.bind(this)),this.position++):(setTimeout(function(){e.query(this.role,this.resource,this.action,this.done,this.next.bind(this))}.bind(this)),this.position++)},t.exports=i},{}],687:[function(e,t,n){var i=e("vue").util;t.exports={acceptStatement:!0,priority:700,update:function(e){if("function"!=typeof e)return void i.warn("Directive "+this.name+'="'+this.expression+'" expects a function value, got '+e);this.reset();var t=this,n=this.vm;this.handler=function(i){if(!t.el.contains(i.target)){i.targetVM=n,n.$event=i;var s=e(i);return n.$event=null,s}},i.on(document.documentElement,"click",this.handler)},reset:function(){i.off(document.documentElement,"click",this.handler)},unbind:function(){this.reset()}}},{vue:752}],688:[function(e,t,n){var i=e("../util");n.$addChild=function(e,t){t=t||i.Vue,e=e||{};var n,s=this,o=e._context||s,r=void 0!==e.inherit?e.inherit:t.options.inherit;if(r){var a=o._childCtors;if(n=a[t.cid],!n){var l=t.options.name,c=l?i.classify(l):"VueComponent";n=new Function("return function "+c+" (options) {this.constructor = "+c+";this._init(options) }")(),n.options=t.options,n.linker=t.linker,n.prototype=o,a[t.cid]=n}}else n=t;e._parent=s,e._root=s.$root;var u=new n(e);return u}},{"../util":749}],689:[function(e,t,n){var i=e("../watcher"),s=e("../parsers/path"),o=e("../parsers/text"),r=e("../parsers/directive"),a=e("../parsers/expression"),l=/[^|]\|[^|]/;n.$get=function(e){var t=a.parse(e);if(t)try{return t.get.call(this,this)}catch(n){}},n.$set=function(e,t){var n=a.parse(e,!0);n&&n.set&&n.set.call(this,this,t)},n.$add=function(e,t){this._data.$add(e,t)},n.$delete=function(e){this._data.$delete(e);
},n.$watch=function(e,t,n){var s,o=this;"string"==typeof e&&(s=r.parse(e)[0],e=s.expression);var a=new i(o,e,t,{deep:n&&n.deep,user:!n||n.user!==!1,filters:s&&s.filters});return n&&n.immediate&&t.call(o,a.value),function(){a.teardown()}},n.$eval=function(e){if(l.test(e)){var t=r.parse(e)[0],n=this.$get(t.expression);return t.filters?this._applyFilters(n,null,t.filters):n}return this.$get(e)},n.$interpolate=function(e){var t=o.parse(e),n=this;return t?1===t.length?n.$eval(t[0].value)+"":t.map(function(e){return e.tag?n.$eval(e.value):e.value}).join(""):e},n.$log=function(e){var t=e?s.get(this._data,e):this._data;t&&(t=JSON.parse(JSON.stringify(t))),console.log(t)}},{"../parsers/directive":737,"../parsers/expression":738,"../parsers/path":739,"../parsers/text":741,"../watcher":753}],690:[function(e,t,n){function i(e,t,n,i,r,a){t=o(t);var l=!c.inDoc(t),u=i===!1||l?r:a,d=!l&&!e._isAttached&&!c.inDoc(e.$el);return e._isFragment?s(e,t,u,n):u(e.$el,t,e,n),d&&e._callHook("attached"),e}function s(e,t,n,i){for(var s,o=e._fragmentStart,r=e._fragmentEnd;s!==r;)s=o.nextSibling,n(o,t,e),o=s;n(r,t,e,i)}function o(e){return"string"==typeof e?document.querySelector(e):e}function r(e,t,n,i){t.appendChild(e),i&&i()}function a(e,t,n,i){c.before(e,t),i&&i()}function l(e,t,n){c.remove(e),n&&n()}var c=e("../util"),u=e("../transition");n.$nextTick=function(e){c.nextTick(e,this)},n.$appendTo=function(e,t,n){return i(this,e,t,n,r,u.append)},n.$prependTo=function(e,t,n){return e=o(e),e.hasChildNodes()?this.$before(e.firstChild,t,n):this.$appendTo(e,t,n),this},n.$before=function(e,t,n){return i(this,e,t,n,a,u.before)},n.$after=function(e,t,n){return e=o(e),e.nextSibling?this.$before(e.nextSibling,t,n):this.$appendTo(e.parentNode,t,n),this},n.$remove=function(e,t){if(!this.$el.parentNode)return e&&e();var n=this._isAttached&&c.inDoc(this.$el);n||(t=!1);var i,o=this,a=function(){n&&o._callHook("detached"),e&&e()};return this._isFragment&&!this._blockFragment.hasChildNodes()?(i=t===!1?r:u.removeThenAppend,s(this,this._blockFragment,i,a)):(i=t===!1?l:u.remove)(this.$el,this,a),this}},{"../transition":742,"../util":749}],691:[function(e,t,n){function i(e,t,n){var i=e.$parent;if(i&&n&&!o.test(t))for(;i;)i._eventsCount[t]=(i._eventsCount[t]||0)+n,i=i.$parent}var s=e("../util");n.$on=function(e,t){return(this._events[e]||(this._events[e]=[])).push(t),i(this,e,1),this},n.$once=function(e,t){function n(){i.$off(e,n),t.apply(this,arguments)}var i=this;return n.fn=t,this.$on(e,n),this},n.$off=function(e,t){var n;if(!arguments.length){if(this.$parent)for(e in this._events)n=this._events[e],n&&i(this,e,-n.length);return this._events={},this}if(n=this._events[e],!n)return this;if(1===arguments.length)return i(this,e,-n.length),this._events[e]=null,this;for(var s,o=n.length;o--;)if(s=n[o],s===t||s.fn===t){i(this,e,-1),n.splice(o,1);break}return this},n.$emit=function(e){this._eventCancelled=!1;var t=this._events[e];if(t){for(var n=arguments.length-1,i=new Array(n);n--;)i[n]=arguments[n+1];n=0,t=t.length>1?s.toArray(t):t;for(var o=t.length;n<o;n++)t[n].apply(this,i)===!1&&(this._eventCancelled=!0)}return this},n.$broadcast=function(e){if(this._eventsCount[e]){for(var t=this.$children,n=0,i=t.length;n<i;n++){var s=t[n];s.$emit.apply(s,arguments),s._eventCancelled||s.$broadcast.apply(s,arguments)}return this}},n.$dispatch=function(){for(var e=this.$parent;e;)e.$emit.apply(e,arguments),e=e._eventCancelled?null:e.$parent;return this};var o=/^hook:/},{"../util":749}],692:[function(e,t,n){function i(e){return new Function("return function "+s.classify(e)+" (options) { this._init(options) }")()}var s=e("../util"),o=e("../config");n.util=s,n.config=o,n.nextTick=s.nextTick,n.compiler=e("../compiler"),n.parsers={path:e("../parsers/path"),text:e("../parsers/text"),template:e("../parsers/template"),directive:e("../parsers/directive"),expression:e("../parsers/expression")},n.cid=0;var r=1;n.extend=function(e){e=e||{};var t=this,n=i(e.name||t.options.name||"VueComponent");return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.cid=r++,n.options=s.mergeOptions(t.options,e),n["super"]=t,n.extend=t.extend,o._assetTypes.forEach(function(e){n[e]=t[e]}),n},n.use=function(e){var t=s.toArray(arguments,1);return t.unshift(this),"function"==typeof e.install?e.install.apply(e,t):e.apply(null,t),this},n.mixin=function(e){var t=s.Vue;t.options=s.mergeOptions(t.options,e)},o._assetTypes.forEach(function(e){n[e]=function(t,n){return n?("component"===e&&s.isPlainObject(n)&&(n.name=t,n=s.Vue.extend(n)),void(this.options[e+"s"][t]=n)):this.options[e+"s"][t]}})},{"../compiler":698,"../config":700,"../parsers/directive":737,"../parsers/expression":738,"../parsers/path":739,"../parsers/template":740,"../parsers/text":741,"../util":749}],693:[function(e,t,n){function i(){this._isAttached=!0,this._isReady=!0,this._callHook("ready")}var s=e("../util"),o=e("../compiler");n.$mount=function(e){return this._isCompiled?void s.warn("$mount() should be called only once."):(e=s.query(e),e||(e=document.createElement("div")),this._compile(e),this._isCompiled=!0,this._callHook("compiled"),this._initDOMHooks(),s.inDoc(this.$el)?(this._callHook("attached"),i.call(this)):this.$once("hook:attached",i),this)},n.$destroy=function(e,t){this._destroy(e,t)},n.$compile=function(e,t){return o.compile(e,this.$options,!0)(this,e,t)}},{"../compiler":698,"../util":749}],694:[function(e,t,n){function i(){l=[],c=[],u={},d={},h=p=!1}function s(){o(l),p=!0,o(c),i()}function o(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.id;u[i]=null,n.run(),null!=u[i]&&(d[i]=(d[i]||0)+1,d[i]>a._maxUpdateCount&&(e.splice(u[i],1),r.warn("You may have an infinite update loop for watcher with expression: "+n.expression)))}}var r=e("./util"),a=e("./config"),l=[],c=[],u={},d={},h=!1,p=!1;n.push=function(e){var t=e.id;if(null==u[t]){if(p&&!e.user)return void e.run();var n=e.user?c:l;u[t]=n.length,n.push(e),h||(h=!0,r.nextTick(s))}}},{"./config":700,"./util":749}],695:[function(e,t,n){function i(e){this.size=0,this.limit=e,this.head=this.tail=void 0,this._keymap=Object.create(null)}var s=i.prototype;s.put=function(e,t){var n={key:e,value:t};return this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit?this.shift():void this.size++},s.shift=function(){var e=this.head;return e&&(this.head=this.head.newer,this.head.older=void 0,e.newer=e.older=void 0,this._keymap[e.key]=void 0),e},s.get=function(e,t){var n=this._keymap[e];if(void 0!==n)return n===this.tail?t?n:n.value:(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n,t?n:n.value)},t.exports=i},{}],696:[function(e,t,n){function i(e){return function(t,n){t._props={};for(var i,r,c,u,d=e.length;d--;)if(i=e[d],r=i.path,t._props[r]=i,c=i.options,null===i.raw)o.initProp(t,i,s(c));else if(i.dynamic)t._context?i.mode===l.ONE_TIME?(u=t._context.$get(i.parentPath),o.initProp(t,i,u)):t._bindDir("prop",n,i,a):o.warn("Cannot bind dynamic prop on a root instance with no parent: "+i.name+'="'+i.raw+'"');else{var h=i.raw;u=c.type===Boolean&&""===h||(h.trim()?o.toBoolean(o.toNumber(h)):h),o.initProp(t,i,u)}}}function s(e){if(!e.hasOwnProperty("default"))return e.type!==Boolean&&void 0;var t=e["default"];return o.isObject(t)&&o.warn("Object/Array as default prop values will be shared across multiple instances. Use a factory function to return the default value instead."),"function"==typeof t&&e.type!==Function?t():t}var o=e("../util"),r=e("../parsers/text"),a=e("../directives/prop"),l=e("../config")._propBindingModes,c=e("../parsers/path").identRE,u=/^data-/,d=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\[[^\[\]]+\])*$/,h=/^(true|false)$|^\d.*/;t.exports=function(e,t){for(var n,s,a,p,f,m,v,g,b=[],y=t.length;y--;)if(n=t[y],s=n.name,f=o.camelize(s.replace(u,"")),c.test(f)){if(a=o.hyphenate(s),p=e.getAttribute(a),null===p&&(a="data-"+a,p=e.getAttribute(a)),m={name:s,raw:p,path:f,options:n,mode:l.ONE_WAY},null!==p){e.removeAttribute(a);var w=r.parse(p);w&&(m.dynamic=!0,m.parentPath=r.tokensToExp(w),g=1===w.length,v=h.test(m.parentPath),v||g&&w[0].oneTime?m.mode=l.ONE_TIME:!v&&g&&w[0].twoWay&&(d.test(m.parentPath)?m.mode=l.TWO_WAY:o.warn("Cannot bind two-way prop with non-settable parent path: "+m.parentPath)),n.twoWay&&m.mode!==l.TWO_WAY&&o.warn('Prop "'+s+'" expects a two-way binding type.'))}else n&&n.required&&o.warn("Missing required prop: "+s);b.push(m)}else o.warn('Invalid prop key: "'+s+'". Prop keys must be valid identifiers.');return i(b)}},{"../config":700,"../directives/prop":716,"../parsers/path":739,"../parsers/text":741,"../util":749}],697:[function(e,t,n){function i(e,t){var n=t._directives.length;return e(),t._directives.slice(n)}function s(e,t,n,i){return function(s){o(e,t,s),n&&i&&o(n,i)}}function o(e,t,n){for(var i=t.length;i--;)t[i]._teardown(),n||e._directives.$remove(t[i])}function r(e,t){var n=e.nodeType;return 1===n&&"SCRIPT"!==e.tagName?a(e,t):3===n&&S.interpolate&&e.data.trim()?l(e,t):null}function a(e,t){"TEXTAREA"===e.tagName&&C.parse(e.value)&&e.setAttribute("value",e.value);var n,i=e.hasAttributes();return i&&(n=m(e,t)),n||(n=p(e,t)),n||(n=f(e,t)),!n&&i&&(n=b(e.attributes,t)),n}function l(e,t){var n=C.parse(e.data);if(!n)return null;for(var i,s,o=document.createDocumentFragment(),r=0,a=n.length;r<a;r++)s=n[r],i=s.tag?c(s,t):document.createTextNode(s.value),o.appendChild(i);return u(n,o,t)}function c(e,t){function n(n){e.type=n,e.def=E(t,"directives",n),e.descriptor=j.parse(e.value)[0]}var i;return e.oneTime?i=document.createTextNode(e.value):e.html?(i=document.createComment("v-html"),n("html")):(i=document.createTextNode(" "),n("text")),i}function u(e,t){return function(n,i){for(var s,o,r,a=t.cloneNode(!0),l=_.toArray(a.childNodes),c=0,u=e.length;c<u;c++)s=e[c],o=s.value,s.tag&&(r=l[c],s.oneTime?(o=n.$eval(o),s.html?_.replace(r,T.parse(o,!0)):r.data=o):n._bindDir(s.type,r,s.descriptor,s.def));_.replace(i,a)}}function d(e,t){for(var n,i,s,o=[],a=0,l=e.length;a<l;a++)s=e[a],n=r(s,t),i=n&&n.terminal||"SCRIPT"===s.tagName||!s.hasChildNodes()?null:d(s.childNodes,t),o.push(n,i);return o.length?h(o):null}function h(e){return function(t,n,i){for(var s,o,r,a=0,l=0,c=e.length;a<c;l++){s=n[l],o=e[a++],r=e[a++];var u=_.toArray(s.childNodes);o&&o(t,s,i),r&&r(t,u,i)}}}function p(e,t){var n=e.tagName.toLowerCase();if(!_.commonTagRE.test(n)){var i=E(t,"elementDirectives",n);return i?g(e,n,"",t,i):void 0}}function f(e,t,n){var i=_.checkComponent(e,t,n);if(i){var s=function(e,t,n){e._bindDir("component",t,{expression:i},A,n)};return s.terminal=!0,s}}function m(e,t){if(null!==_.attr(e,"pre"))return v;for(var n,i,s=0,o=P.length;s<o;s++)if(i=P[s],null!==(n=_.attr(e,i)))return g(e,i,n,t)}function v(){}function g(e,t,n,i,s){var o=j.parse(n)[0];s=s||i.directives[t];var r=function(e,n,i){e._bindDir(t,n,o,s,i)};return r.terminal=!0,r}function b(e,t){for(var n,i,s,o,r,a,l=e.length,c=[];l--;)n=e[l],i=n.name,s=n.value,0===i.indexOf(S.prefix)?(r=i.slice(S.prefix.length),a=E(t,"directives",r),_.assertAsset(a,"directive",r),a&&c.push({name:r,descriptors:j.parse(s),def:a})):S.interpolate&&(o=w(i,s,t),o&&c.push(o));if(c.length)return c.sort(x),y(c)}function y(e){return function(t,n,i){for(var s,o,r,a=e.length;a--;)if(s=e[a],s._link)s._link(t,n);else for(r=s.descriptors.length,o=0;o<r;o++)t._bindDir(s.name,n,s.descriptors[o],s.def,i)}}function w(e,t,n){var i=C.parse(t),s="class"===e;if(i){for(var o=s?"class":"attr",r=n.directives[o],a=i.length,l=!0;a--;){var c=i[a];c.tag&&!c.oneTime&&(l=!1)}var u;return u=l?function(n,i){i.setAttribute(e,n.$interpolate(t))}:function(n,a){var l=C.tokensToExp(i,n),c=s?j.parse(l)[0]:j.parse(e+":"+l)[0];s&&(c._rawClass=t),n._bindDir(o,a,c,r)},{def:r,_link:u}}}function x(e,t){return e=e.def.priority||0,t=t.def.priority||0,e>t?1:-1}var _=e("../util"),k=e("./compile-props"),S=e("../config"),C=e("../parsers/text"),j=e("../parsers/directive"),T=e("../parsers/template"),E=_.resolveAsset,A=e("../directives/component"),P=["repeat","if"];n.compile=function(e,t,n){var o=n||!t._asComponent?r(e,t):null,a=o&&o.terminal||"SCRIPT"===e.tagName||!e.hasChildNodes()?null:d(e.childNodes,t);return function(e,t,n){var r=_.toArray(t.childNodes),l=i(function(){o&&o(e,t,n),a&&a(e,r,n)},e);return s(e,l)}},n.compileAndLinkProps=function(e,t,n){var o=k(t,n),r=i(function(){o(e,null)},e);return s(e,r)},n.compileRoot=function(e,t){var n,o,r=t._containerAttrs,a=t._replacerAttrs;return 11!==e.nodeType&&(t._asComponent?(r&&(n=b(r,t)),a&&(o=b(a,t))):o=b(e.attributes,t)),function(e,t){var r,a=e._context;a&&n&&(r=i(function(){n(a,t)},a));var l=i(function(){o&&o(e,t)},e);return s(e,l,a,r)}},v.terminal=!0},{"../config":700,"../directives/component":705,"../parsers/directive":737,"../parsers/template":740,"../parsers/text":741,"../util":749,"./compile-props":696}],698:[function(e,t,n){var i=e("../util");i.extend(n,e("./compile")),i.extend(n,e("./transclude"))},{"../util":749,"./compile":697,"./transclude":699}],699:[function(e,t,n){function i(e,t){var n=t.template,i=l.parse(n,!0);if(i){var c=i.firstChild,u=c.tagName&&c.tagName.toLowerCase();return t.replace?(e===document.body&&r.warn("You are mounting an instance with a template to <body>. This will replace <body> entirely. You should probably use `replace: false` here."),i.childNodes.length>1||1!==c.nodeType||"component"===u||r.resolveAsset(t,"components",u)||c.hasAttribute(a.prefix+"component")||r.resolveAsset(t,"elementDirectives",u)||c.hasAttribute(a.prefix+"repeat")?i:(t._replacerAttrs=s(c),o(e,c),c)):(e.appendChild(i),e)}r.warn("Invalid template option: "+n)}function s(e){if(1===e.nodeType&&e.hasAttributes())return r.toArray(e.attributes)}function o(e,t){for(var n,i,s=e.attributes,o=s.length;o--;)n=s[o].name,i=s[o].value,t.hasAttribute(n)?"class"===n&&(i=t.getAttribute(n)+" "+i,t.setAttribute(n,i)):t.setAttribute(n,i)}var r=e("../util"),a=e("../config"),l=e("../parsers/template");n.transclude=function(e,t){return t&&(t._containerAttrs=s(e)),r.isTemplate(e)&&(e=l.parse(e)),t&&(t._asComponent&&!t.template&&(t.template="<content></content>"),t.template&&(t._content=r.extractContent(e),e=i(e,t))),e instanceof DocumentFragment&&(r.prepend(r.createAnchor("v-start",!0),e),e.appendChild(r.createAnchor("v-end",!0))),e}},{"../config":700,"../parsers/template":740,"../util":749}],700:[function(e,t,n){t.exports={prefix:"v-",debug:!1,strict:!1,silent:!1,proto:!0,interpolate:!0,async:!0,warnExpressionErrors:!0,_delimitersChanged:!0,_assetTypes:["component","directive","elementDirective","filter","transition","partial"],_propBindingModes:{ONE_WAY:0,TWO_WAY:1,ONE_TIME:2},_maxUpdateCount:100};var i=["{{","}}"];Object.defineProperty(t.exports,"delimiters",{get:function(){return i},set:function(e){i=e,this._delimitersChanged=!0}})},{}],701:[function(e,t,n){function i(){}function s(e,t,n,i,s,o){this.name=e,this.el=t,this.vm=n,this.raw=i.raw,this.expression=i.expression,this.arg=i.arg,this.filters=i.filters,this._descriptor=i,this._host=o,this._locked=!1,this._bound=!1,this._listeners=null,this._bind(s)}var o=e("./util"),r=e("./config"),a=e("./watcher"),l=e("./parsers/text"),c=e("./parsers/expression");s.prototype._bind=function(e){if(("cloak"!==this.name||this.vm._isCompiled)&&this.el&&this.el.removeAttribute&&this.el.removeAttribute(r.prefix+this.name),"function"==typeof e?this.update=e:o.extend(this,e),this._watcherExp=this.expression,this._checkDynamicLiteral(),this.bind&&this.bind(),this._watcherExp&&(this.update||this.twoWay)&&(!this.isLiteral||this._isDynamicLiteral)&&!this._checkStatement()){var t=this;this.update?this._update=function(e,n){t._locked||t.update(e,n)}:this._update=i;var n=this._preProcess?o.bind(this._preProcess,this):null,s=this._watcher=new a(this.vm,this._watcherExp,this._update,{filters:this.filters,twoWay:this.twoWay,deep:this.deep,preProcess:n});null!=this._initValue?s.set(this._initValue):this.update&&this.update(s.value)}this._bound=!0},s.prototype._checkDynamicLiteral=function(){var e=this.expression;if(e&&this.isLiteral){var t=l.parse(e);if(t){var n=l.tokensToExp(t);this.expression=this.vm.$get(n),this._watcherExp=n,this._isDynamicLiteral=!0}}},s.prototype._checkStatement=function(){var e=this.expression;if(e&&this.acceptStatement&&!c.isSimplePath(e)){var t=c.parse(e).get,n=this.vm,i=function(){t.call(n,n)};return this.filters&&(i=n._applyFilters(i,null,this.filters)),this.update(i),!0}},s.prototype._checkParam=function(e){var t=this.el.getAttribute(e);return null!==t&&(this.el.removeAttribute(e),t=this.vm.$interpolate(t)),t},s.prototype.set=function(e){this.twoWay?this._withLock(function(){this._watcher.set(e)}):o.warn("Directive.set() can only be used inside twoWaydirectives.")},s.prototype._withLock=function(e){var t=this;t._locked=!0,e.call(t),o.nextTick(function(){t._locked=!1})},s.prototype.on=function(e,t){o.on(this.el,e,t),(this._listeners||(this._listeners=[])).push([e,t])},s.prototype._teardown=function(){if(this._bound){this._bound=!1,this.unbind&&this.unbind(),this._watcher&&this._watcher.teardown();var e=this._listeners;if(e)for(var t=0;t<e.length;t++)o.off(this.el,e[t][0],e[t][1]);this.vm=this.el=this._watcher=this._listeners=null}},t.exports=s},{"./config":700,"./parsers/expression":738,"./parsers/text":741,"./util":749,"./watcher":753}],702:[function(e,t,n){var i="http://www.w3.org/1999/xlink",s=/^xlink:/,o={value:1,checked:1,selected:1};t.exports={priority:850,update:function(e){this.arg?this.setAttr(this.arg,e):"object"==typeof e&&this.objectHandler(e)},objectHandler:function(e){var t,n,i=this.cache||(this.cache={});for(t in i)t in e||(this.setAttr(t,null),delete i[t]);for(t in e)n=e[t],n!==i[t]&&(i[t]=n,this.setAttr(t,n))},setAttr:function(e,t){o[e]&&e in this.el?(this.valueRemoved||(this.el.removeAttribute(e),this.valueRemoved=!0),this.el[e]=t):null!=t&&t!==!1?s.test(e)?this.el.setAttributeNS(i,e,t):this.el.setAttribute(e,t):this.el.removeAttribute(e)}}},{}],703:[function(e,t,n){function i(e){for(var t={},n=e.trim().split(/\s+/),i=n.length;i--;)t[n[i]]=!0;return t}var s=e("../util"),o=s.addClass,r=s.removeClass;t.exports={bind:function(){var e=this._descriptor._rawClass;e&&(this.prevKeys=e.trim().split(/\s+/))},update:function(e){this.arg?e?o(this.el,this.arg):r(this.el,this.arg):e&&"string"==typeof e?this.handleObject(i(e)):s.isPlainObject(e)?this.handleObject(e):this.cleanup()},handleObject:function(e){this.cleanup(e);for(var t=this.prevKeys=Object.keys(e),n=0,i=t.length;n<i;n++){var s=t[n];e[s]?o(this.el,s):r(this.el,s)}},cleanup:function(e){if(this.prevKeys)for(var t=this.prevKeys.length;t--;){var n=this.prevKeys[t];e&&e.hasOwnProperty(n)||r(this.el,n)}}}},{"../util":749}],704:[function(e,t,n){var i=e("../config");t.exports={bind:function(){var e=this.el;this.vm.$once("hook:compiled",function(){e.removeAttribute(i.prefix+"cloak")})}}},{"../config":700}],705:[function(e,t,n){var i=e("../util"),s=e("../config"),o=e("../parsers/template");t.exports={isLiteral:!0,bind:function(){this.el.__vue__?i.warn('cannot mount component "'+this.expression+'" on already mounted element: '+this.el):(this.anchor=i.createAnchor("v-component"),i.replace(this.el,this.anchor),this.keepAlive=null!=this._checkParam("keep-alive"),this.waitForEvent=this._checkParam("wait-for"),this.refID=this._checkParam(s.prefix+"ref"),this.keepAlive&&(this.cache={}),null!==this._checkParam("inline-template")&&(this.template=i.extractContent(this.el,!0)),this.pendingComponentCb=this.Component=null,this.pendingRemovals=0,this.pendingRemovalCb=null,this._isDynamicLiteral?this.transMode=this._checkParam("transition-mode"):this.resolveComponent(this.expression,i.bind(this.initStatic,this)))},initStatic:function(){var e,t=this.anchor,n=this.waitForEvent;n&&(e={created:function(){this.$once(n,function(){this.$before(t)})}});var i=this.build(e);this.setCurrent(i),this.waitForEvent||i.$before(t)},update:function(e){this.setComponent(e)},setComponent:function(e,t){this.invalidatePending(),e?this.resolveComponent(e,i.bind(function(){this.unbuild(!0);var e,n=this,i=this.waitForEvent;i&&(e={created:function(){this.$once(i,function(){n.waitingFor=null,n.transition(this,t)})}});var s=this.getCached(),o=this.build(e);!i||s?this.transition(o,t):this.waitingFor=o},this)):(this.unbuild(!0),this.remove(this.childVM,t),this.unsetCurrent())},resolveComponent:function(e,t){var n=this;this.pendingComponentCb=i.cancellable(function(e){n.Component=e,t()}),this.vm._resolveComponent(e,this.pendingComponentCb)},invalidatePending:function(){this.pendingComponentCb&&(this.pendingComponentCb.cancel(),this.pendingComponentCb=null)},build:function(e){var t=this.getCached();if(t)return t;if(this.Component){var n={el:o.clone(this.el),template:this.template,_linkerCachable:!this.template,_asComponent:!0,_isRouterView:this._isRouterView,_context:this.vm};e&&i.extend(n,e);var s=this._host||this.vm,r=s.$addChild(n,this.Component);return this.keepAlive&&(this.cache[this.Component.cid]=r),r}},getCached:function(){return this.keepAlive&&this.cache[this.Component.cid]},unbuild:function(e){this.waitingFor&&(this.waitingFor.$destroy(),this.waitingFor=null);var t=this.childVM;t&&!this.keepAlive&&t.$destroy(!1,e)},remove:function(e,t){var n=this.keepAlive;if(e){this.pendingRemovals++,this.pendingRemovalCb=t;var i=this;e.$remove(function(){i.pendingRemovals--,n||e._cleanup(),!i.pendingRemovals&&i.pendingRemovalCb&&(i.pendingRemovalCb(),i.pendingRemovalCb=null)})}else t&&t()},transition:function(e,t){var n=this,i=this.childVM;switch(this.setCurrent(e),n.transMode){case"in-out":e.$before(n.anchor,function(){n.remove(i,t)});break;case"out-in":n.remove(i,function(){e.$before(n.anchor,t)});break;default:n.remove(i),e.$before(n.anchor,t)}},setCurrent:function(e){this.unsetCurrent(),this.childVM=e;var t=e._refID||this.refID;t&&(this.vm.$[t]=e)},unsetCurrent:function(){var e=this.childVM;this.childVM=null;var t=e&&e._refID||this.refID;t&&(this.vm.$[t]=null)},unbind:function(){if(this.invalidatePending(),this.unbuild(),this.unsetCurrent(),this.cache){for(var e in this.cache)this.cache[e].$destroy();this.cache=null}}}},{"../config":700,"../parsers/template":740,"../util":749}],706:[function(e,t,n){t.exports={isLiteral:!0,bind:function(){this.vm.$$[this.expression]=this.el},unbind:function(){delete this.vm.$$[this.expression]}}},{}],707:[function(e,t,n){var i=e("../util"),s=e("../parsers/template");t.exports={bind:function(){8===this.el.nodeType&&(this.nodes=[],this.anchor=i.createAnchor("v-html"),i.replace(this.el,this.anchor))},update:function(e){e=i.toString(e),this.nodes?this.swap(e):this.el.innerHTML=e},swap:function(e){for(var t=this.nodes.length;t--;)i.remove(this.nodes[t]);var n=s.parse(e,!0,!0);this.nodes=i.toArray(n.childNodes),i.before(n,this.anchor)}}},{"../parsers/template":740,"../util":749}],708:[function(e,t,n){function i(e){e._isAttached||e._callHook("attached")}function s(e){e._isAttached&&e._callHook("detached")}var o=e("../util"),r=e("../compiler"),a=e("../parsers/template"),l=e("../transition"),c=e("../cache"),u=new c(1e3);t.exports={bind:function(){var e=this.el;if(e.__vue__)o.warn('v-if="'+this.expression+'" cannot be used on an instance root element.'),this.invalid=!0;else{this.start=o.createAnchor("v-if-start"),this.end=o.createAnchor("v-if-end"),o.replace(e,this.end),o.before(this.start,this.end),o.isTemplate(e)?this.template=a.parse(e,!0):(this.template=document.createDocumentFragment(),this.template.appendChild(a.clone(e)));var t=(this.vm.constructor.cid||"")+e.outerHTML;this.linker=u.get(t),this.linker||(this.linker=r.compile(this.template,this.vm.$options,!0),u.put(t,this.linker))}},update:function(e){this.invalid||(e?this.unlink||this.link(a.clone(this.template),this.linker):this.teardown())},link:function(e,t){var n=this.vm;if(this.unlink=t(n,e,this._host),l.blockAppend(e,this.end,n),o.inDoc(n.$el)){var s=this.getContainedComponents();s&&s.forEach(i)}},teardown:function(){if(this.unlink){var e;o.inDoc(this.vm.$el)&&(e=this.getContainedComponents()),l.blockRemove(this.start,this.end,this.vm),e&&e.forEach(s),this.unlink(),this.unlink=null}},getContainedComponents:function(){function e(e){for(var t,s=n;t!==i;){if(t=s.nextSibling,s===e.$el||s.contains&&s.contains(e.$el))return!0;s=t}return!1}var t=this._host||this.vm,n=this.start.nextSibling,i=this.end;return t.$children.length&&t.$children.filter(e)},unbind:function(){this.unlink&&this.unlink()}}},{"../cache":695,"../compiler":698,"../parsers/template":740,"../transition":742,"../util":749}],709:[function(e,t,n){n.text=e("./text"),n.html=e("./html"),n.attr=e("./attr"),n.show=e("./show"),n["class"]=e("./class"),n.el=e("./el"),n.ref=e("./ref"),n.cloak=e("./cloak"),n.style=e("./style"),n.transition=e("./transition"),n.on=e("./on"),n.model=e("./model"),n.repeat=e("./repeat"),n["if"]=e("./if"),n._component=e("./component"),n._prop=e("./prop")},{"./attr":702,"./class":703,"./cloak":704,"./component":705,"./el":706,"./html":707,"./if":708,"./model":711,"./on":715,"./prop":716,"./ref":717,"./repeat":718,"./show":719,"./style":720,"./text":721,"./transition":722}],710:[function(e,t,n){var i=e("../../util");t.exports={bind:function(){function e(){var e=n.checked;return e&&null!==s&&(e=t.vm.$eval(s)),e||null===o||(e=t.vm.$eval(o)),e}var t=this,n=this.el,s=this._checkParam("true-exp"),o=this._checkParam("false-exp");this._matchValue=function(e){return null!==s?i.looseEqual(e,t.vm.$eval(s)):!!e},this.on("change",function(){t.set(e())}),n.checked&&(this._initValue=e())},update:function(e){this.el.checked=this._matchValue(e)}}},{"../../util":749}],711:[function(e,t,n){var i=e("../../util"),s={text:e("./text"),radio:e("./radio"),select:e("./select"),checkbox:e("./checkbox")};t.exports={priority:800,twoWay:!0,handlers:s,bind:function(){this.checkFilters(),this.hasRead&&!this.hasWrite&&i.warn("It seems you are using a read-only filter with v-model. You might want to use a two-way filter to ensure correct behavior.");var e,t=this.el,n=t.tagName;if("INPUT"===n)e=s[t.type]||s.text;else if("SELECT"===n)e=s.select;else{if("TEXTAREA"!==n)return void i.warn("v-model does not support element type: "+n);e=s.text}t.__v_model=this,e.bind.call(this),this.update=e.update,this._unbind=e.unbind},checkFilters:function(){var e=this.filters;if(e)for(var t=e.length;t--;){var n=i.resolveAsset(this.vm.$options,"filters",e[t].name);("function"==typeof n||n.read)&&(this.hasRead=!0),n.write&&(this.hasWrite=!0)}},unbind:function(){this.el.__v_model=null,this._unbind&&this._unbind()}}},{"../../util":749,"./checkbox":710,"./radio":712,"./select":713,"./text":714}],712:[function(e,t,n){var i=e("../../util");t.exports={bind:function(){var e=this,t=this.el,n=null!=this._checkParam("number"),s=this._checkParam("exp");this.getValue=function(){var o=t.value;return n?o=i.toNumber(o):null!==s&&(o=e.vm.$eval(s)),o},this.on("change",function(){e.set(e.getValue())}),t.checked&&(this._initValue=this.getValue())},update:function(e){this.el.checked=i.looseEqual(e,this.getValue())}}},{"../../util":749}],713:[function(e,t,n){function i(e){function t(e){if(l.isArray(e)){for(var t=i.options.length;t--;){var r=i.options[t];if(r!==o){var a=r.parentNode;a===i?a.removeChild(r):(i.removeChild(a),t=i.options.length)}}s(i,e),n.forceUpdate()}else l.warn("Invalid options value for v-model: "+e)}var n=this,i=n.el,o=n.defaultOption=n.el.options[0],r=u.parse(e)[0];this.optionWatcher=new c(this.vm,r.expression,t,{deep:!0,filters:r.filters}),t(this.optionWatcher.value)}function s(e,t){for(var n,i,o=0,r=t.length;o<r;o++)n=t[o],n.options?(i=document.createElement("optgroup"),i.label=n.label,s(i,n.options)):(i=document.createElement("option"),"string"==typeof n||"number"==typeof n?i.text=i.value=n:(null==n.value||l.isObject(n.value)||(i.value=n.value),i._value=n.value,i.text=n.text||"",n.disabled&&(i.disabled=!0))),e.appendChild(i)}function o(){for(var e,t=this.el.options,n=0,i=t.length;n<i;n++)t[n].hasAttribute("selected")&&(this.multiple?(e||(e=[])).push(t[n].value):e=t[n].value);"undefined"!=typeof e&&(this._initValue=this.number?l.toNumber(e):e)}function r(e,t){for(var n,i,s=t?[]:null,o=0,r=e.options.length;o<r;o++)if(n=e.options[o],n.selected){if(i=n.hasOwnProperty("_value")?n._value:n.value,!t)return i;s.push(i)}return s}function a(e,t){for(var n=e.length;n--;)if(l.looseEqual(e[n],t))return n;return-1}var l=e("../../util"),c=e("../../watcher"),u=e("../../parsers/directive");t.exports={bind:function(){var e=this,t=this.el;this.forceUpdate=function(){e._watcher&&e.update(e._watcher.get())};var n=this._checkParam("options");n&&i.call(this,n),this.number=null!=this._checkParam("number"),this.multiple=t.hasAttribute("multiple"),this.on("change",function(){var n=r(t,e.multiple);n=e.number?l.isArray(n)?n.map(l.toNumber):l.toNumber(n):n,e.set(n)}),o.call(this),this.vm.$on("hook:attached",this.forceUpdate)},update:function(e){var t=this.el;if(t.selectedIndex=-1,null==e)return void(this.defaultOption&&(this.defaultOption.selected=!0));for(var n,i,s=this.multiple&&l.isArray(e),o=t.options,r=o.length;r--;)n=o[r],i=n.hasOwnProperty("_value")?n._value:n.value,n.selected=s?a(e,i)>-1:l.looseEqual(e,i)},unbind:function(){this.vm.$off("hook:attached",this.forceUpdate),this.optionWatcher&&this.optionWatcher.teardown()}}},{"../../parsers/directive":737,"../../util":749,"../../watcher":753}],714:[function(e,t,n){var i=e("../../util");t.exports={bind:function(){var e=this,t=this.el,n="range"===t.type,s=null!=this._checkParam("lazy"),o=null!=this._checkParam("number"),r=parseInt(this._checkParam("debounce"),10),a=!1;i.isAndroid||n||(this.on("compositionstart",function(){a=!0}),this.on("compositionend",function(){a=!1,s||e.listener()})),this.focused=!1,n||(this.on("focus",function(){e.focused=!0}),this.on("blur",function(){e.focused=!1,e.listener()})),this.listener=function(){if(!a){var s=o||n?i.toNumber(t.value):t.value;e.set(s),i.nextTick(function(){e._bound&&!e.focused&&e.update(e._watcher.value)})}},r&&(this.listener=i.debounce(this.listener,r)),this.hasjQuery="function"==typeof jQuery,this.hasjQuery?(jQuery(t).on("change",this.listener),s||jQuery(t).on("input",this.listener)):(this.on("change",this.listener),s||this.on("input",this.listener)),!s&&i.isIE9&&(this.on("cut",function(){i.nextTick(e.listener)}),this.on("keyup",function(t){46!==t.keyCode&&8!==t.keyCode||e.listener()})),(t.hasAttribute("value")||"TEXTAREA"===t.tagName&&t.value.trim())&&(this._initValue=o?i.toNumber(t.value):t.value)},update:function(e){this.el.value=i.toString(e)},unbind:function(){var e=this.el;this.hasjQuery&&(jQuery(e).off("change",this.listener),jQuery(e).off("input",this.listener))}}},{"../../util":749}],715:[function(e,t,n){var i=e("../util");t.exports={acceptStatement:!0,priority:700,bind:function(){if("IFRAME"===this.el.tagName&&"load"!==this.arg){var e=this;this.iframeBind=function(){i.on(e.el.contentWindow,e.arg,e.handler)},this.on("load",this.iframeBind)}},update:function(e){if("function"!=typeof e)return void i.warn('Directive v-on="'+this.arg+": "+this.expression+'" expects a function value, got '+e);this.reset();var t=this.vm;this.handler=function(n){n.targetVM=t,t.$event=n;var i=e(n);return t.$event=null,i},this.iframeBind?this.iframeBind():i.on(this.el,this.arg,this.handler)},reset:function(){var e=this.iframeBind?this.el.contentWindow:this.el;this.handler&&i.off(e,this.arg,this.handler)},unbind:function(){this.reset()}}},{"../util":749}],716:[function(e,t,n){var i=e("../util"),s=e("../watcher"),o=e("../config")._propBindingModes;t.exports={bind:function(){var e=this.vm,t=e._context,n=this._descriptor,r=n.path,a=n.parentPath;this.parentWatcher=new s(t,a,function(t){i.assertProp(n,t)&&(e[r]=t)},{sync:!0});var l=this.parentWatcher.value;if("$data"===r?e._data=l:i.initProp(e,n,l),n.mode===o.TWO_WAY){var c=this;e.$once("hook:created",function(){c.childWatcher=new s(e,r,function(e){t.$set(a,e)},{sync:!0})})}},unbind:function(){this.parentWatcher.teardown(),this.childWatcher&&this.childWatcher.teardown()}}},{"../config":700,"../util":749,"../watcher":753
}],717:[function(e,t,n){var i=e("../util");t.exports={isLiteral:!0,bind:function(){var e=this.el.__vue__;return e?void(e._refID=this.expression):void i.warn("v-ref should only be used on a component root element.")}}},{"../util":749}],718:[function(e,t,n){function i(e,t,n){var i=e.$el.previousSibling;if(i){for(;(!i.__vue__||i.__vue__.$options._repeatId!==n)&&i!==t;)i=i.previousSibling;return i.__vue__}}function s(e){for(var t=-1,n=new Array(e);++t<e;)n[t]=t;return n}function o(e){for(var t={},n=0,i=e.length;n<i;n++)t[e[n].$key]=e[n];return t}function r(e){var t=typeof e;return null==e||"string"===t||"number"===t||"boolean"===t}var a=e("../util"),l=e("../config"),c=a.isObject,u=a.isPlainObject,d=e("../parsers/text"),h=e("../parsers/expression"),p=e("../parsers/template"),f=e("../compiler"),m=0,v=0,g=1,b=2,y=3;t.exports={bind:function(){"OPTION"===this.el.tagName&&this.el.parentNode&&this.el.parentNode.__v_model&&a.warn("Don't use v-repeat for v-model options; use the `options` param instead: http://vuejs.org/guide/forms.html#Dynamic_Select_Options");var e=this.expression.match(/(.*) in (.*)/);e&&(this.arg=e[1],this._watcherExp=e[2]),this.id="__v_repeat_"+ ++m,this.start=a.createAnchor("v-repeat-start"),this.end=a.createAnchor("v-repeat-end"),a.replace(this.el,this.end),a.before(this.start,this.end),this.template=a.isTemplate(this.el)?p.parse(this.el,!0):this.el,this.idKey=this._checkParam("track-by");var t=+this._checkParam("stagger");this.enterStagger=+this._checkParam("enter-stagger")||t,this.leaveStagger=+this._checkParam("leave-stagger")||t,this.refID=this._checkParam(l.prefix+"ref"),this.elID=this._checkParam(l.prefix+"el"),this.checkIf(),this.checkComponent(),this.cache=Object.create(null)},checkIf:function(){null!==a.attr(this.el,"if")&&a.warn('Don\'t use v-if with v-repeat. Use v-show or the "filterBy" filter instead.')},checkComponent:function(){this.componentState=v;var e=this.vm.$options,t=a.checkComponent(this.el,e);if(t){this.Component=null,this.asComponent=!0,null!==this._checkParam("inline-template")&&(this.inlineTemplate=a.extractContent(this.el,!0));var n=d.parse(t);if(n){var i=d.tokensToExp(n);this.componentGetter=h.parse(i).get}else this.componentId=t,this.pendingData=null}else{this.Component=a.Vue,this.inline=!0,this.template=f.transclude(this.template);var s=a.extend({},e);s._asComponent=!1,this._linkFn=f.compile(this.template,s)}},resolveComponent:function(){this.componentState=g,this.vm._resolveComponent(this.componentId,a.bind(function(e){this.componentState!==y&&(this.Component=e,this.componentState=b,this.realUpdate(this.pendingData),this.pendingData=null)},this))},resolveDynamicComponent:function(e,t){var n,i=Object.create(this.vm);for(n in e)a.define(i,n,e[n]);for(n in t)a.define(i,n,t[n]);var s=this.componentGetter.call(i,i),o=a.resolveAsset(this.vm.$options,"components",s);return a.assertAsset(o,"component",s),o.options?o:(a.warn("Async resolution is not supported for v-repeat + dynamic component. (component: "+s+")"),a.Vue)},update:function(e){if(a.isArray(e)||a.warn("v-repeat pre-converts Objects into Arrays, and v-repeat filters should always return Arrays."),this.componentId){var t=this.componentState;t===v?(this.pendingData=e,this.resolveComponent()):t===g?this.pendingData=e:t===b&&this.realUpdate(e)}else this.realUpdate(e)},realUpdate:function(e){this.vms=this.diff(e,this.vms),this.refID&&(this.vm.$[this.refID]=this.converted?o(this.vms):this.vms),this.elID&&(this.vm.$$[this.elID]=this.vms.map(function(e){return e.$el}))},diff:function(e,t){var n,s,o,r,l,u,d=this.idKey,h=this.converted,p=this.start,f=this.end,m=a.inDoc(p),v=this.arg,g=!t,b=new Array(e.length);for(r=0,l=e.length;r<l;r++)n=e[r],s=h?n.$value:n,u=!c(s),o=!g&&this.getVm(s,r,h?n.$key:null),o?(o._reused&&a.warn('Duplicate objects found in v-repeat="'+this.expression+'": '+JSON.stringify(s)),o._reused=!0,o.$index=r,(d||h||u)&&(v?o[v]=s:a.isPlainObject(s)?o.$data=s:o.$value=s)):(o=this.build(n,r,!0),o._reused=!1),b[r]=o,g&&o.$before(f);if(g)return b;var y=0,w=t.length-b.length;for(r=0,l=t.length;r<l;r++)o=t[r],o._reused||(this.uncacheVm(o),o.$destroy(!1,!0),this.remove(o,y++,w,m));var x,_,k,S=0;for(r=0,l=b.length;r<l;r++)o=b[r],x=b[r-1],_=x?x._staggerCb?x._staggerAnchor:x._fragmentEnd||x.$el:p,o._reused&&!o._staggerCb?(k=i(o,p,this.id),k!==x&&this.move(o,_)):this.insert(o,S++,_,m),o._reused=!1;return b},build:function(e,t,n){var i={$index:t};this.converted&&(i.$key=e.$key);var s=this.converted?e.$value:e,o=this.arg;o?(e={},e[o]=s):u(s)?e=s:(e={},i.$value=s);var l=this.Component||this.resolveDynamicComponent(e,i),c=this._host||this.vm,d=c.$addChild({el:p.clone(this.template),data:e,inherit:this.inline,template:this.inlineTemplate,_meta:i,_repeat:this.inline,_asComponent:this.asComponent,_linkerCachable:!this.inlineTemplate&&l!==a.Vue,_linkFn:this._linkFn,_repeatId:this.id,_context:this.vm},l);n&&this.cacheVm(s,d,t,this.converted?i.$key:null);var h=this;return"object"===this.rawType&&r(s)&&d.$watch(o||"$value",function(e){h.filters&&a.warn("You seem to be mutating the $value reference of a v-repeat instance (likely through v-model) and filtering the v-repeat at the same time. This will not work properly with an Array of primitive values. Please use an Array of Objects instead."),h._withLock(function(){h.converted?h.rawValue[d.$key]=e:h.rawValue.$set(d.$index,e)})}),d},unbind:function(){if(this.componentState=y,this.refID&&(this.vm.$[this.refID]=null),this.vms)for(var e,t=this.vms.length;t--;)e=this.vms[t],this.uncacheVm(e),e.$destroy()},cacheVm:function(e,t,n,i){var s,o=this.idKey,r=this.cache,l=!c(e);i||o||l?(s=o?"$index"===o?n:e[o]:i||n,r[s]?l||"$index"===o||a.warn("Duplicate objects with the same track-by key in v-repeat: "+s):r[s]=t):(s=this.id,e.hasOwnProperty(s)?null===e[s]?e[s]=t:a.warn('Duplicate objects found in v-repeat="'+this.expression+'": '+JSON.stringify(e)):a.define(e,s,t)),t._raw=e},getVm:function(e,t,n){var i=this.idKey,s=!c(e);if(n||i||s){var o=i?"$index"===i?t:e[i]:n||t;return this.cache[o]}return e[this.id]},uncacheVm:function(e){var t=e._raw,n=this.idKey,i=e.$index,s=e.hasOwnProperty("$key")&&e.$key,o=!c(t);if(n||s||o){var r=n?"$index"===n?i:t[n]:s||i;this.cache[r]=null}else t[this.id]=null,e._raw=null},insert:function(e,t,n,i){e._staggerCb&&(e._staggerCb.cancel(),e._staggerCb=null);var s=this.getStagger(e,t,null,"enter");if(i&&s){var o=e._staggerAnchor;o||(o=e._staggerAnchor=a.createAnchor("stagger-anchor"),o.__vue__=e),a.after(o,n);var r=e._staggerCb=a.cancellable(function(){e._staggerCb=null,e.$before(o),a.remove(o)});setTimeout(r,s)}else e.$after(n)},move:function(e,t){e.$after(t,null,!1)},remove:function(e,t,n,i){function s(){e.$remove(function(){e._cleanup()})}if(e._staggerCb)return e._staggerCb.cancel(),void(e._staggerCb=null);var o=this.getStagger(e,t,n,"leave");if(i&&o){var r=e._staggerCb=a.cancellable(function(){e._staggerCb=null,s()});setTimeout(r,o)}else s()},getStagger:function(e,t,n,i){i+="Stagger";var s=e.$el.__v_trans,o=s&&s.hooks,r=o&&(o[i]||o.stagger);return r?r.call(e,t,n):t*this[i]},_preProcess:function(e){this.rawValue=e;var t=this.rawType=typeof e;if(u(e)){for(var n,i=Object.keys(e),o=i.length,r=new Array(o);o--;)n=i[o],r[o]={$key:n,$value:e[n]};return this.converted=!0,r}return this.converted=!1,"number"===t?e=s(e):"string"===t&&(e=a.toArray(e)),e||[]}}},{"../compiler":698,"../config":700,"../parsers/expression":738,"../parsers/template":740,"../parsers/text":741,"../util":749}],719:[function(e,t,n){var i=e("../transition");t.exports=function(e){var t=this.el;i.apply(t,e?1:-1,function(){t.style.display=e?"":"none"},this.vm)}},{"../transition":742}],720:[function(e,t,n){function i(e){if(d[e])return d[e];var t=s(e);return d[e]=d[t]=t,t}function s(e){e=e.replace(c,"$1-$2").toLowerCase();var t=o.camelize(e),n=t.charAt(0).toUpperCase()+t.slice(1);if(u||(u=document.createElement("div")),t in u.style)return e;for(var i,s=r.length;s--;)if(i=a[s]+n,i in u.style)return r[s]+e}var o=e("../util"),r=["-webkit-","-moz-","-ms-"],a=["Webkit","Moz","ms"],l=/!important;?$/,c=/([a-z])([A-Z])/g,u=null,d={};t.exports={deep:!0,update:function(e){this.arg?this.setProp(this.arg,e):"object"==typeof e?this.objectHandler(e):this.el.style.cssText=e},objectHandler:function(e){var t,n,i=this.cache||(this.cache={});for(t in i)t in e||(this.setProp(t,null),delete i[t]);for(t in e)n=e[t],n!==i[t]&&(i[t]=n,this.setProp(t,n))},setProp:function(e,t){if(e=i(e))if(null!=t&&(t+=""),t){var n=l.test(t)?"important":"";n&&(t=t.replace(l,"").trim()),this.el.style.setProperty(e,t,n)}else this.el.style.removeProperty(e)}}},{"../util":749}],721:[function(e,t,n){var i=e("../util");t.exports={bind:function(){this.attr=3===this.el.nodeType?"data":"textContent"},update:function(e){this.el[this.attr]=i.toString(e)}}},{"../util":749}],722:[function(e,t,n){var i=e("../util"),s=e("../transition/transition");t.exports={priority:1e3,isLiteral:!0,bind:function(){this._isDynamicLiteral||this.update(this.expression)},update:function(e,t){var n=this.el,o=this.el.__vue__||this.vm,r=i.resolveAsset(o.$options,"transitions",e);e=e||"v",n.__v_trans=new s(n,e,r,o),t&&i.removeClass(n,t+"-transition"),i.addClass(n,e+"-transition")}}},{"../transition/transition":744,"../util":749}],723:[function(e,t,n){function i(e,t,n){for(var i=document.createDocumentFragment(),s=0,r=e.length;s<r;s++){var a=e[s];n&&!a.__v_selected?i.appendChild(o(a)):n||a.parentNode!==t||(a.__v_selected=!0,i.appendChild(o(a)))}return i}var s=e("../util"),o=e("../parsers/template").clone;t.exports={bind:function(){for(var e=this.vm,t=e;t.$options._repeat;)t=t.$parent;var n,s=t.$options._content;if(!s)return void this.fallback();var o=t._context,r=this._checkParam("select");if(r){var a=s.querySelectorAll(r);a.length?(n=i(a,s),n.hasChildNodes()?this.compile(n,o,e):this.fallback()):this.fallback()}else{var l=this,c=function(){l.compile(i(s.childNodes,s,!0),o,e)};t._isCompiled?c():t.$once("hook:compiled",c)}},fallback:function(){this.compile(s.extractContent(this.el,!0),this.vm)},compile:function(e,t,n){e&&t&&(this.unlink=t.$compile(e,n)),e?s.replace(this.el,e):s.remove(this.el)},unbind:function(){this.unlink&&this.unlink()}}},{"../parsers/template":740,"../util":749}],724:[function(e,t,n){n.content=e("./content"),n.partial=e("./partial")},{"./content":723,"./partial":725}],725:[function(e,t,n){var i=e("../util"),s=e("../parsers/template"),o=e("../parsers/text"),r=e("../compiler"),a=e("../cache"),l=new a(1e3),c=e("../directives/if");t.exports={link:c.link,teardown:c.teardown,getContainedComponents:c.getContainedComponents,bind:function(){var e=this.el;this.start=i.createAnchor("v-partial-start"),this.end=i.createAnchor("v-partial-end"),i.replace(e,this.end),i.before(this.start,this.end);var t=e.getAttribute("name"),n=o.parse(t);n?this.setupDynamic(n):this.insert(t)},setupDynamic:function(e){var t=this,n=o.tokensToExp(e);this.unwatch=this.vm.$watch(n,function(e){t.teardown(),t.insert(e)},{immediate:!0,user:!1})},insert:function(e){var t=i.resolveAsset(this.vm.$options,"partials",e);if(i.assertAsset(t,"partial",e),t){var n=s.parse(t,!0),o=(this.vm.constructor.cid||"")+t,r=this.compile(n,o);this.link(n,r)}},compile:function(e,t){var n=l.get(t);if(n)return n;var i=r.compile(e,this.vm.$options,!0);return l.put(t,i),i},unbind:function(){this.unlink&&this.unlink(),this.unwatch&&this.unwatch()}}},{"../cache":695,"../compiler":698,"../directives/if":708,"../parsers/template":740,"../parsers/text":741,"../util":749}],726:[function(e,t,n){function i(e,t){var n;if(s.isPlainObject(e)){var o=Object.keys(e);for(n=o.length;n--;)if(i(e[o[n]],t))return!0}else if(s.isArray(e)){for(n=e.length;n--;)if(i(e[n],t))return!0}else if(null!=e)return e.toString().toLowerCase().indexOf(t)>-1}var s=e("../util"),o=e("../parsers/path");n.filterBy=function(e,t,n){if(null==t)return e;if("function"==typeof t)return e.filter(t);t=(""+t).toLowerCase();var r="in"===n?3:2,a=s.toArray(arguments,r).reduce(function(e,t){return e.concat(t)},[]);return e.filter(function(e){return a.length?a.some(function(n){return i(o.get(e,n),t)}):i(e,t)})},n.orderBy=function(e,t,n){if(!t)return e;var i=1;return arguments.length>2&&(i="-1"===n?-1:n?-1:1),e.slice().sort(function(e,n){return"$key"!==t&&"$value"!==t&&(e&&"$value"in e&&(e=e.$value),n&&"$value"in n&&(n=n.$value)),e=s.isObject(e)?o.get(e,t):e,n=s.isObject(n)?o.get(n,t):n,e===n?0:e>n?i:-i})}},{"../parsers/path":739,"../util":749}],727:[function(e,t,n){var i=e("../util");n.json={read:function(e,t){return"string"==typeof e?e:JSON.stringify(e,null,Number(t)||2)},write:function(e){try{return JSON.parse(e)}catch(t){return e}}},n.capitalize=function(e){return e||0===e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""},n.uppercase=function(e){return e||0===e?e.toString().toUpperCase():""},n.lowercase=function(e){return e||0===e?e.toString().toLowerCase():""};var s=/(\d{3})(?=\d)/g;n.currency=function(e,t){if(e=parseFloat(e),!isFinite(e)||!e&&0!==e)return"";t=null!=t?t:"$";var n=Math.abs(e).toFixed(2),i=n.slice(0,-3),o=i.length%3,r=o>0?i.slice(0,o)+(i.length>3?",":""):"",a=n.slice(-3),l=e<0?"-":"";return t+l+r+i.slice(o).replace(s,"$1,")+a},n.pluralize=function(e){var t=i.toArray(arguments,1);return t.length>1?t[e%10-1]||t[t.length-1]:t[0]+(1===e?"":"s")};var o={esc:27,tab:9,enter:13,space:32,"delete":46,up:38,left:37,right:39,down:40};n.key=function(e,t){if(e){var n=o[t];return n||(n=parseInt(t,10)),function(t){if(t.keyCode===n)return e.call(this,t)}}},n.key.keyCodes=o,n.debounce=function(e,t){if(e)return t||(t=300),i.debounce(e,t)},i.extend(n,e("./array-filters"))},{"../util":749,"./array-filters":726}],728:[function(e,t,n){var i=e("../util"),s=e("../directive"),o=e("../compiler");n._compile=function(e){var t=this.$options,n=this._host;if(t._linkFn)this._initElement(e),this._unlinkFn=t._linkFn(this,e,n);else{var s=e;e=o.transclude(e,t),this._initElement(e);var r,a=o.compileRoot(e,t),l=this.constructor;t._linkerCachable&&(r=l.linker,r||(r=l.linker=o.compile(e,t)));var c=a(this,e),u=r?r(this,e):o.compile(e,t)(this,e,n);this._unlinkFn=function(){c(),u(!0)},t.replace&&i.replace(s,e)}return e},n._initElement=function(e){e instanceof DocumentFragment?(this._isFragment=!0,this.$el=this._fragmentStart=e.firstChild,this._fragmentEnd=e.lastChild,3===this._fragmentStart.nodeType&&(this._fragmentStart.data=this._fragmentEnd.data=""),this._blockFragment=e):this.$el=e,this.$el.__vue__=this,this._callHook("beforeCompile")},n._bindDir=function(e,t,n,i,o){this._directives.push(new s(e,t,this,n,i,o))},n._destroy=function(e,t){if(!this._isBeingDestroyed){this._callHook("beforeDestroy"),this._isBeingDestroyed=!0;var n,i=this.$parent;for(i&&!i._isBeingDestroyed&&i.$children.$remove(this),n=this.$children.length;n--;)this.$children[n].$destroy();for(this._propsUnlinkFn&&this._propsUnlinkFn(),this._unlinkFn&&this._unlinkFn(),n=this._watchers.length;n--;)this._watchers[n].teardown();this.$el&&(this.$el.__vue__=null);var s=this;e&&this.$el?this.$remove(function(){s._cleanup()}):t||this._cleanup()}},n._cleanup=function(){this._data.__ob__&&this._data.__ob__.removeVm(this),this.$el=this.$parent=this.$root=this.$children=this._watchers=this._directives=null,this._isDestroyed=!0,this._callHook("destroyed"),this.$off()}},{"../compiler":698,"../directive":701,"../util":749}],729:[function(e,t,n){function i(e,t,n){if(n){var i,o,r,a;for(o in n)if(i=n[o],c.isArray(i))for(r=0,a=i.length;r<a;r++)s(e,t,o,i[r]);else s(e,t,o,i)}}function s(e,t,n,i,o){var r=typeof i;if("function"===r)e[t](n,i,o);else if("string"===r){var a=e.$options.methods,l=a&&a[i];l?e[t](n,l,o):c.warn('Unknown method: "'+i+'" when registering callback for '+t+': "'+n+'".')}else i&&"object"===r&&s(e,t,n,i.handler,i)}function o(){this._isAttached||(this._isAttached=!0,this.$children.forEach(r))}function r(e){!e._isAttached&&u(e.$el)&&e._callHook("attached")}function a(){this._isAttached&&(this._isAttached=!1,this.$children.forEach(l))}function l(e){e._isAttached&&!u(e.$el)&&e._callHook("detached")}var c=e("../util"),u=c.inDoc;n._initEvents=function(){var e=this.$options;i(this,"$on",e.events),i(this,"$watch",e.watch)},n._initDOMHooks=function(){this.$on("hook:attached",o),this.$on("hook:detached",a)},n._callHook=function(e){var t=this.$options[e];if(t)for(var n=0,i=t.length;n<i;n++)t[n].call(this);this.$emit("hook:"+e)}},{"../util":749}],730:[function(e,t,n){var i=e("../util").mergeOptions;n._init=function(e){e=e||{},this.$el=null,this.$parent=e._parent,this.$root=e._root||this,this.$children=[],this.$={},this.$$={},this._watchers=[],this._directives=[],this._childCtors={},this._isVue=!0,this._events={},this._eventsCount={},this._eventCancelled=!1,this._isFragment=!1,this._fragmentStart=this._fragmentEnd=null,this._isCompiled=this._isDestroyed=this._isReady=this._isAttached=this._isBeingDestroyed=!1,this._unlinkFn=null,this._context=e._context||e._parent,this.$parent&&this.$parent.$children.push(this),this._reused=!1,this._staggerOp=null,e=this.$options=i(this.constructor.options,e,this),this._data={},this._initScope(),this._initEvents(),this._callHook("created"),e.el&&this.$mount(e.el)}},{"../util":749}],731:[function(e,t,n){var i=e("../util");n._applyFilters=function(e,t,n,s){var o,r,a,l,c,u,d,h,p;for(u=0,d=n.length;u<d;u++)if(o=n[u],r=i.resolveAsset(this.$options,"filters",o.name),i.assertAsset(r,"filter",o.name),r&&(r=s?r.write:r.read||r,"function"==typeof r)){if(a=s?[e,t]:[e],c=s?2:1,o.args)for(h=0,p=o.args.length;h<p;h++)l=o.args[h],a[h+c]=l.dynamic?this.$get(l.value):l.value;e=r.apply(this,a)}return e},n._resolveComponent=function(e,t){var n=i.resolveAsset(this.$options,"components",e);if(i.assertAsset(n,"component",e),n)if(n.options)t(n);else if(n.resolved)t(n.resolved);else if(n.requested)n.pendingCallbacks.push(t);else{n.requested=!0;var s=n.pendingCallbacks=[t];n(function(e){i.isPlainObject(e)&&(e=i.Vue.extend(e)),n.resolved=e;for(var t=0,o=s.length;t<o;t++)s[t](e)},function(t){i.warn("Failed to resolve async component: "+e+". "+(t?"\nReason: "+t:""))})}}},{"../util":749}],732:[function(e,t,n){function i(){}function s(e,t){var n=new c(t,e,null,{lazy:!0});return function(){return n.dirty&&n.evaluate(),l.target&&n.depend(),n.value}}var o=e("../util"),r=e("../compiler"),a=e("../observer"),l=e("../observer/dep"),c=e("../watcher");n._initScope=function(){this._initProps(),this._initMeta(),this._initMethods(),this._initData(),this._initComputed()},n._initProps=function(){var e=this.$options,t=e.el,n=e.props;n&&!t&&o.warn("Props will not be compiled if no `el` option is provided at instantiation."),t=e.el=o.query(t),this._propsUnlinkFn=t&&1===t.nodeType&&n?r.compileAndLinkProps(this,t,n):null},n._initData=function(){var e=this._data,t=this.$options.data,n=t&&t();if(n){this._data=n;for(var i in e)null===this._props[i].raw&&n.hasOwnProperty(i)||n.$set(i,e[i])}var s,r,l=this._data,c=Object.keys(l);for(s=c.length;s--;)r=c[s],o.isReserved(r)||this._proxy(r);a.create(l,this)},n._setData=function(e){e=e||{};var t=this._data;this._data=e;var n,i,s,r=this.$options.props;if(r)for(s=r.length;s--;)i=r[s].name,"$data"===i||e.hasOwnProperty(i)||e.$set(i,t[i]);for(n=Object.keys(t),s=n.length;s--;)i=n[s],o.isReserved(i)||i in e||this._unproxy(i);for(n=Object.keys(e),s=n.length;s--;)i=n[s],this.hasOwnProperty(i)||o.isReserved(i)||this._proxy(i);t.__ob__.removeVm(this),a.create(e,this),this._digest()},n._proxy=function(e){var t=this;Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return t._data[e]},set:function(n){t._data[e]=n}})},n._unproxy=function(e){delete this[e]},n._digest=function(){for(var e=this._watchers.length;e--;)this._watchers[e].update(!0);var t=this.$children;for(e=t.length;e--;){var n=t[e];n.$options.inherit&&n._digest()}},n._initComputed=function(){var e=this.$options.computed;if(e)for(var t in e){var n=e[t],r={enumerable:!0,configurable:!0};"function"==typeof n?(r.get=s(n,this),r.set=i):(r.get=n.get?n.cache!==!1?s(n.get,this):o.bind(n.get,this):i,r.set=n.set?o.bind(n.set,this):i),Object.defineProperty(this,t,r)}},n._initMethods=function(){var e=this.$options.methods;if(e)for(var t in e)this[t]=o.bind(e[t],this)},n._initMeta=function(){var e=this.$options._meta;if(e)for(var t in e)this._defineMeta(t,e[t])},n._defineMeta=function(e,t){var n=new l;Object.defineProperty(this,e,{get:function(){return l.target&&n.depend(),t},set:function(e){e!==t&&(t=e,n.notify())}})}},{"../compiler":698,"../observer":735,"../observer/dep":734,"../util":749,"../watcher":753}],733:[function(e,t,n){var i=e("../util"),s=Array.prototype,o=Object.create(s);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=s[e];i.define(o,e,function(){for(var n=arguments.length,i=new Array(n);n--;)i[n]=arguments[n];var s,o,r=t.apply(this,i),a=this.__ob__;switch(e){case"push":s=i;break;case"unshift":s=i;break;case"splice":s=i.slice(2),o=r;break;case"pop":case"shift":o=[r]}return s&&a.observeArray(s),o&&a.unobserveArray(o),a.notify(),r})}),i.define(s,"$set",function(e,t){return e>=this.length&&(this.length=e+1),this.splice(e,1,t)[0]}),i.define(s,"$remove",function(e){if(this.length)return"number"!=typeof e&&(e=i.indexOf(this,e)),e>-1?this.splice(e,1):void 0}),t.exports=o},{"../util":749}],734:[function(e,t,n){function i(){this.id=o++,this.subs=[]}var s=e("../util"),o=0;i.target=null,i.prototype.addSub=function(e){this.subs.push(e)},i.prototype.removeSub=function(e){this.subs.$remove(e)},i.prototype.depend=function(){i.target.addDep(this)},i.prototype.notify=function(){for(var e=s.toArray(this.subs),t=0,n=e.length;t<n;t++)e[t].update()},t.exports=i},{"../util":749}],735:[function(e,t,n){function i(e){if(this.value=e,this.dep=new l,r.define(e,"__ob__",this),r.isArray(e)){var t=a.proto&&r.hasProto?s:o;t(e,c,u),this.observeArray(e)}else this.walk(e)}function s(e,t){e.__proto__=t}function o(e,t,n){for(var i,s=n.length;s--;)i=n[s],r.define(e,i,t[i])}var r=e("../util"),a=e("../config"),l=e("./dep"),c=e("./array"),u=Object.getOwnPropertyNames(c);e("./object"),i.create=function(e,t){var n;return e&&e.hasOwnProperty("__ob__")&&e.__ob__ instanceof i?n=e.__ob__:!r.isArray(e)&&!r.isPlainObject(e)||Object.isFrozen(e)||e._isVue||(n=new i(e)),n&&t&&n.addVm(t),n},i.prototype.walk=function(e){for(var t=Object.keys(e),n=t.length;n--;)this.convert(t[n],e[t[n]])},i.prototype.observe=function(e){return i.create(e)},i.prototype.observeArray=function(e){for(var t=e.length;t--;){var n=this.observe(e[t]);n&&(n.parents||(n.parents=[])).push(this)}},i.prototype.unobserveArray=function(e){for(var t=e.length;t--;){var n=e[t]&&e[t].__ob__;n&&n.parents.$remove(this)}},i.prototype.notify=function(){this.dep.notify();var e=this.parents;if(e)for(var t=e.length;t--;)e[t].notify()},i.prototype.convert=function(e,t){var n=this,i=n.observe(t),s=new l;Object.defineProperty(n.value,e,{enumerable:!0,configurable:!0,get:function(){return l.target&&(s.depend(),i&&i.dep.depend()),t},set:function(e){e!==t&&(t=e,i=n.observe(e),s.notify())}})},i.prototype.addVm=function(e){(this.vms||(this.vms=[])).push(e)},i.prototype.removeVm=function(e){this.vms.$remove(e)},t.exports=i},{"../config":700,"../util":749,"./array":733,"./dep":734,"./object":736}],736:[function(e,t,n){var i=e("../util"),s=Object.prototype;i.define(s,"$add",function(e,t){if(!this.hasOwnProperty(e)){var n=this.__ob__;if(!n||i.isReserved(e))return void(this[e]=t);if(n.convert(e,t),n.notify(),n.vms)for(var s=n.vms.length;s--;){var o=n.vms[s];o._proxy(e),o._digest()}}}),i.define(s,"$set",function(e,t){this.$add(e,t),this[e]=t}),i.define(s,"$delete",function(e){if(this.hasOwnProperty(e)){delete this[e];var t=this.__ob__;if(t&&!i.isReserved(e)&&(t.notify(),t.vms))for(var n=t.vms.length;n--;){var s=t.vms[n];s._unproxy(e),s._digest()}}})},{"../util":749}],737:[function(e,t,n){function i(){b.raw=r.slice(m,l).trim(),void 0===b.expression?b.expression=r.slice(v,l).trim():y!==m&&s(),(0===l||b.expression)&&g.push(b)}function s(){var e,t=r.slice(y,l).trim();if(t){e={};var n=t.match(C);e.name=n[0],n.length>1&&(e.args=n.slice(1).map(o))}e&&(b.filters=b.filters||[]).push(e),y=l+1}function o(e){var t=j.test(e)?e:x.stripQuotes(e),n=t===!1;return{value:n?e:t,dynamic:n}}var r,a,l,c,u,d,h,p,f,m,v,g,b,y,w,x=e("../util"),_=e("../cache"),k=new _(1e3),S=/^[^\{\?]+$|^'[^']*'$|^"[^"]*"$/,C=/[^\s'"]+|'[^']*'|"[^"]*"/g,j=/^in$|^-?\d+/;n.parse=function(e){var t=k.get(e);if(t)return t;for(r=e,u=d=!1,h=p=f=m=v=0,y=0,g=[],b={},w=null,l=0,c=r.length;l<c;l++)if(a=r.charCodeAt(l),u)39===a&&(u=!u);else if(d)34===a&&(d=!d);else if(44!==a||f||h||p)if(58!==a||b.expression||b.arg)if(124===a&&124!==r.charCodeAt(l+1)&&124!==r.charCodeAt(l-1))void 0===b.expression?(y=l+1,b.expression=r.slice(v,l).trim()):s();else switch(a){case 34:d=!0;break;case 39:u=!0;break;case 40:f++;break;case 41:f--;break;case 91:p++;break;case 93:p--;break;case 123:h++;break;case 125:h--}else w=r.slice(m,l).trim(),S.test(w)&&(v=l+1,b.arg=x.stripQuotes(w)||w);else i(),b={},m=v=y=l+1;return 0!==l&&m===l||i(),k.put(e,g),g}},{"../cache":695,"../util":749}],738:[function(e,t,n){function i(e,t){var n=j.length;return j[n]=t?e.replace(w,"\\n"):e,'"'+n+'"'}function s(e){var t=e.charAt(0),n=e.slice(1);return v.test(n)?e:(n=n.indexOf('"')>-1?n.replace(_,o):n,t+"scope."+n)}function o(e,t){return j[t]}function r(e,t){b.test(e)&&d.warn("Avoid using reserved keywords in expression: "+e),j.length=0;var n=e.replace(x,i).replace(y,"");n=(" "+n).replace(S,s).replace(_,o);var r=l(n);if(r)return{get:r,body:n,set:t?c(n):null}}function a(e){var t,n;return e.indexOf("[")<0?(n=e.split("."),n.raw=e,t=h.compileGetter(n)):(n=h.parse(e),t=n.get),{get:t,set:function(e,t){h.set(e,n,t)}}}function l(e){try{return new Function("scope","return "+e+";")}catch(t){d.warn("Invalid expression. Generated function body: "+e)}}function c(e){try{return new Function("scope","value",e+"=value;")}catch(t){d.warn("Invalid setter function body: "+e)}}function u(e){e.set||(e.set=c(e.body))}var d=e("../util"),h=e("./path"),p=e("../cache"),f=new p(1e3),m="Math,Date,this,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,parseInt,parseFloat",v=new RegExp("^("+m.replace(/,/g,"\\b|")+"\\b)"),g="break,case,class,catch,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,let,return,super,switch,throw,try,var,while,with,yield,enum,await,implements,package,proctected,static,interface,private,public",b=new RegExp("^("+g.replace(/,/g,"\\b|")+"\\b)"),y=/\s/g,w=/\n/g,x=/[\{,]\s*[\w\$_]+\s*:|('[^']*'|"[^"]*")|new |typeof |void /g,_=/"(\d+)"/g,k=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,S=/[^\w$\.]([A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\])*)/g,C=/^(true|false)$/,j=[];n.parse=function(e,t){e=e.trim();var i=f.get(e);if(i)return t&&u(i),i;var s=n.isSimplePath(e)?a(e):r(e,t);return f.put(e,s),s},n.isSimplePath=function(e){return k.test(e)&&!C.test(e)&&"Math."!==e.slice(0,5)}},{"../cache":695,"../util":749,"./path":739}],739:[function(e,t,n){function i(e){if(void 0===e)return"eof";var t=e.charCodeAt(0);switch(t){case 91:case 93:case 46:case 34:case 39:case 48:return e;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return t>=97&&t<=122||t>=65&&t<=90?"ident":t>=49&&t<=57?"number":"else"}function s(e){function t(){var t=e[f+1];if(m===w&&"'"===t||m===x&&'"'===t)return f++,s=t,v[d](),!0}var n,s,o,r,a,l,c,u=[],f=-1,m=p,v=[];for(v[h]=function(){void 0!==o&&(u.push(o),o=void 0)},v[d]=function(){void 0===o?o=s:o+=s};null!=m;)if(f++,n=e[f],"\\"!==n||!t()){if(r=i(n),c=j[m],a=c[r]||c["else"]||C,a===C)return;if(m=a[0],l=v[a[1]],l&&(s=a[2],s=void 0===s?n:"*"===s?s+n:s,l()),m===S)return u.raw=e,u}}function o(e){return u.test(e)?"."+e:+e===e>>>0?"["+e+"]":"*"===e.charAt(0)?"[o"+o(e.slice(1))+"]":'["'+e.replace(/"/g,'\\"')+'"]'}function r(e){a.warn('You are setting a non-existent path "'+e.raw+'" on a vm instance. Consider pre-initializing the property with the "data" option for more reliable reactivity and better performance.')}var a=e("../util"),l=e("../cache"),c=new l(1e3),u=n.identRE=/^[$_a-zA-Z]+[\w$]*$/,d=0,h=1,p=0,f=1,m=2,v=3,g=4,b=5,y=6,w=7,x=8,_=9,k=10,S=11,C=12,j=[];j[p]={ws:[p],ident:[v,d],"[":[g],eof:[S]},j[f]={ws:[f],".":[m],"[":[g],eof:[S]},j[m]={ws:[m],ident:[v,d]},j[v]={ident:[v,d],0:[v,d],number:[v,d],ws:[f,h],".":[m,h],"[":[g,h],eof:[S,h]},j[g]={ws:[g],0:[b,d],number:[y,d],"'":[w,d,""],'"':[x,d,""],ident:[_,d,"*"]},j[b]={ws:[k,h],"]":[f,h]},j[y]={0:[y,d],number:[y,d],ws:[k],"]":[f,h]},j[w]={"'":[k],eof:C,"else":[w,d]},j[x]={'"':[k],eof:C,"else":[x,d]},j[_]={ident:[_,d],0:[_,d],number:[_,d],ws:[k],"]":[f,h]},j[k]={ws:[k],"]":[f,h]},n.compileGetter=function(e){var t="return o"+e.map(o).join("");return new Function("o",t)},n.parse=function(e){var t=c.get(e);return t||(t=s(e),t&&(t.get=n.compileGetter(t),c.put(e,t))),t},n.get=function(e,t){if(t=n.parse(t))return t.get(e)},n.set=function(e,t,i){var s=e;if("string"==typeof t&&(t=n.parse(t)),!t||!a.isObject(e))return!1;for(var o,l,c=0,u=t.length;c<u;c++)o=e,l=t[c],"*"===l.charAt(0)&&(l=s[l.slice(1)]),c<u-1?(e=e[l],a.isObject(e)||(r(t),e={},o.$add(l,e))):a.isArray(e)?e.$set(l,i):l in e?e[l]=i:(r(t),e.$add(l,i));return!0}},{"../cache":695,"../util":749}],740:[function(e,t,n){function i(e){return r.isTemplate(e)&&e.content instanceof DocumentFragment}function s(e){var t=l.get(e);if(t)return t;var n=document.createDocumentFragment(),i=e.match(d),s=h.test(e);if(i||s){var o=i&&i[1],r=u[o]||u._default,a=r[0],c=r[1],p=r[2],f=document.createElement("div");for(f.innerHTML=c+e.trim()+p;a--;)f=f.lastChild;for(var m;m=f.firstChild;)n.appendChild(m)}else n.appendChild(document.createTextNode(e));return l.put(e,n),n}function o(e){if(i(e))return r.trimNode(e.content),e.content;if("SCRIPT"===e.tagName)return s(e.textContent);for(var t,o=n.clone(e),a=document.createDocumentFragment();t=o.firstChild;)a.appendChild(t);return r.trimNode(a),a}var r=e("../util"),a=e("../cache"),l=new a(1e3),c=new a(1e3),u={_default:[0,"",""],legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]};u.td=u.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],u.option=u.optgroup=[1,'<select multiple="multiple">',"</select>"],u.thead=u.tbody=u.colgroup=u.caption=u.tfoot=[1,"<table>","</table>"],u.g=u.defs=u.symbol=u.use=u.image=u.text=u.circle=u.ellipse=u.line=u.path=u.polygon=u.polyline=u.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events"version="1.1">',"</svg>"];var d=/<([\w:]+)/,h=/&\w+;|&#\d+;|&#x[\dA-F]+;/,p=function(){if(r.inBrowser){var e=document.createElement("div");return e.innerHTML="<template>1</template>",!e.cloneNode(!0).firstChild.innerHTML}return!1}(),f=function(){if(r.inBrowser){var e=document.createElement("textarea");return e.placeholder="t","t"===e.cloneNode(!0).value}return!1}();n.clone=function(e){if(!e.querySelectorAll)return e.cloneNode();var t,s,o,r=e.cloneNode(!0);if(p){var a=r;if(i(e)&&(e=e.content,a=r.content),s=e.querySelectorAll("template"),s.length)for(o=a.querySelectorAll("template"),t=o.length;t--;)o[t].parentNode.replaceChild(n.clone(s[t]),o[t])}if(f)if("TEXTAREA"===e.tagName)r.value=e.value;else if(s=e.querySelectorAll("textarea"),s.length)for(o=r.querySelectorAll("textarea"),t=o.length;t--;)o[t].value=s[t].value;return r},n.parse=function(e,t,i){var a,l;return e instanceof DocumentFragment?(r.trimNode(e),t?n.clone(e):e):("string"==typeof e?i||"#"!==e.charAt(0)?l=s(e):(l=c.get(e),l||(a=document.getElementById(e.slice(1)),a&&(l=o(a),c.put(e,l)))):e.nodeType&&(l=o(e)),l&&t?n.clone(l):l)}},{"../cache":695,"../util":749}],741:[function(e,t,n){function i(e){return e.replace(m,"\\$&")}function s(){p._delimitersChanged=!1;var e=p.delimiters[0],t=p.delimiters[1];u=e.charAt(0),d=t.charAt(t.length-1);var n=i(u),s=i(d),o=i(e),r=i(t);l=new RegExp(n+"?"+o+"(.+?)"+r+s+"?","g"),c=new RegExp("^"+n+o+".*"+r+s+"$"),
a=new h(1e3)}function o(e,t,n){return e.tag?t&&e.oneTime?'"'+t.$eval(e.value)+'"':r(e.value,n):'"'+e.value+'"'}function r(e,t){if(v.test(e)){var n=f.parse(e)[0];return n.filters?"this._applyFilters("+n.expression+",null,"+JSON.stringify(n.filters)+",false)":"("+e+")"}return t?e:"("+e+")"}var a,l,c,u,d,h=e("../cache"),p=e("../config"),f=e("./directive"),m=/[-.*+?^${}()|[\]\/\\]/g;n.parse=function(e){p._delimitersChanged&&s();var t=a.get(e);if(t)return t;if(e=e.replace(/\n/g,""),!l.test(e))return null;for(var n,i,o,r,u,d,h=[],f=l.lastIndex=0;n=l.exec(e);)i=n.index,i>f&&h.push({value:e.slice(f,i)}),r=n[1].charCodeAt(0),u=42===r,d=64===r,o=u||d?n[1].slice(1):n[1],h.push({tag:!0,value:o.trim(),html:c.test(n[0]),oneTime:u,twoWay:d}),f=i+n[0].length;return f<e.length&&h.push({value:e.slice(f)}),a.put(e,h),h},n.tokensToExp=function(e,t){return e.length>1?e.map(function(e){return o(e,t)}).join("+"):o(e[0],t,!0)};var v=/[^|]\|[^|]/},{"../cache":695,"../config":700,"./directive":737}],742:[function(e,t,n){var i=e("../util");n.append=function(e,t,n,i){s(e,1,function(){t.appendChild(e)},n,i)},n.before=function(e,t,n,o){s(e,1,function(){i.before(e,t)},n,o)},n.remove=function(e,t,n){s(e,-1,function(){i.remove(e)},t,n)},n.removeThenAppend=function(e,t,n,i){s(e,-1,function(){t.appendChild(e)},n,i)},n.blockAppend=function(e,t,s){for(var o=i.toArray(e.childNodes),r=0,a=o.length;r<a;r++)n.before(o[r],t,s)},n.blockRemove=function(e,t,i){for(var s,o=e.nextSibling;o!==t;)s=o.nextSibling,n.remove(o,i),o=s};var s=n.apply=function(e,t,n,s,o){var r=e.__v_trans;if(!r||!r.hooks&&!i.transitionEndEvent||!s._isCompiled||s.$parent&&!s.$parent._isCompiled)return n(),void(o&&o());var a=t>0?"enter":"leave";r[a](n,o)}},{"../util":749}],743:[function(e,t,n){function i(){for(var e=document.documentElement.offsetHeight,t=0;t<o.length;t++)o[t]();return o=[],r=!1,e}var s=e("../util"),o=[],r=!1;n.push=function(e){o.push(e),r||(r=!0,s.nextTick(i))}},{"../util":749}],744:[function(e,t,n){function i(e,t,n,i){this.id=m++,this.el=e,this.enterClass=t+"-enter",this.leaveClass=t+"-leave",this.hooks=n,this.vm=i,this.pendingCssEvent=this.pendingCssCb=this.cancel=this.pendingJsCb=this.op=this.cb=null,this.justEntered=!1,this.entered=this.left=!1,this.typeCache={};var s=this;["enterNextTick","enterDone","leaveNextTick","leaveDone"].forEach(function(e){s[e]=o.bind(s[e],s)})}function s(e){return"none"===e.style.display||"hidden"===e.style.visibility||e.hidden}var o=e("../util"),r=e("./queue"),a=o.addClass,l=o.removeClass,c=o.transitionEndEvent,u=o.animationEndEvent,d=o.transitionProp+"Duration",h=o.animationProp+"Duration",p=1,f=2,m=0,v=i.prototype;v.enter=function(e,t){this.cancelPending(),this.callHook("beforeEnter"),this.cb=t,a(this.el,this.enterClass),e(),this.entered=!1,this.callHookWithCb("enter"),this.entered||(this.cancel=this.hooks&&this.hooks.enterCancelled,r.push(this.enterNextTick))},v.enterNextTick=function(){this.justEntered=!0,o.nextTick(function(){this.justEntered=!1},this);var e=this.enterDone,t=this.getCssTransitionType(this.enterClass);this.pendingJsCb?t===p&&l(this.el,this.enterClass):t===p?(l(this.el,this.enterClass),this.setupCssCb(c,e)):t===f?this.setupCssCb(u,e):e()},v.enterDone=function(){this.entered=!0,this.cancel=this.pendingJsCb=null,l(this.el,this.enterClass),this.callHook("afterEnter"),this.cb&&this.cb()},v.leave=function(e,t){this.cancelPending(),this.callHook("beforeLeave"),this.op=e,this.cb=t,a(this.el,this.leaveClass),this.left=!1,this.callHookWithCb("leave"),this.left||(this.cancel=this.hooks&&this.hooks.leaveCancelled,this.op&&!this.pendingJsCb&&(this.justEntered?this.leaveDone():r.push(this.leaveNextTick)))},v.leaveNextTick=function(){var e=this.getCssTransitionType(this.leaveClass);if(e){var t=e===p?c:u;this.setupCssCb(t,this.leaveDone)}else this.leaveDone()},v.leaveDone=function(){this.left=!0,this.cancel=this.pendingJsCb=null,this.op(),l(this.el,this.leaveClass),this.callHook("afterLeave"),this.cb&&this.cb(),this.op=null},v.cancelPending=function(){this.op=this.cb=null;var e=!1;this.pendingCssCb&&(e=!0,o.off(this.el,this.pendingCssEvent,this.pendingCssCb),this.pendingCssEvent=this.pendingCssCb=null),this.pendingJsCb&&(e=!0,this.pendingJsCb.cancel(),this.pendingJsCb=null),e&&(l(this.el,this.enterClass),l(this.el,this.leaveClass)),this.cancel&&(this.cancel.call(this.vm,this.el),this.cancel=null)},v.callHook=function(e){this.hooks&&this.hooks[e]&&this.hooks[e].call(this.vm,this.el)},v.callHookWithCb=function(e){var t=this.hooks&&this.hooks[e];t&&(t.length>1&&(this.pendingJsCb=o.cancellable(this[e+"Done"])),t.call(this.vm,this.el,this.pendingJsCb))},v.getCssTransitionType=function(e){if(!(!c||document.hidden||this.hooks&&this.hooks.css===!1||s(this.el))){var t=this.typeCache[e];if(t)return t;var n=this.el.style,i=window.getComputedStyle(this.el),o=n[d]||i[d];if(o&&"0s"!==o)t=p;else{var r=n[h]||i[h];r&&"0s"!==r&&(t=f)}return t&&(this.typeCache[e]=t),t}},v.setupCssCb=function(e,t){this.pendingCssEvent=e;var n=this,i=this.el,s=this.pendingCssCb=function(r){r.target===i&&(o.off(i,e,s),n.pendingCssEvent=n.pendingCssCb=null,!n.pendingJsCb&&t&&t())};o.on(i,e,s)},t.exports=i},{"../util":749,"./queue":743}],745:[function(e,t,n){function i(e){return e?e.charAt(0).toUpperCase()+e.slice(1):"custom type"}function s(e){return Object.prototype.toString.call(e).slice(8,-1)}var o=e("./index");n.commonTagRE=/^(div|p|span|img|a|br|ul|ol|li|h1|h2|h3|h4|h5|code|pre)$/,n.checkComponent=function(e,t){var i=e.tagName.toLowerCase();if("component"===i){var s=e.getAttribute("is");return e.removeAttribute("is"),s}return!n.commonTagRE.test(i)&&o.resolveAsset(t,"components",i)?i:(i=o.attr(e,"component"))?i:void 0},n.initProp=function(e,t,i){if(n.assertProp(t,i)){var s=t.path;s in e?o.define(e,s,i,!0):e[s]=i,e._data[s]=i}},n.assertProp=function(e,t){if(null===e.raw&&!e.required)return!0;var n,r=e.options,a=r.type,l=!0;if(a&&(a===String?(n="string",l=typeof t===n):a===Number?(n="number",l="number"==typeof t):a===Boolean?(n="boolean",l="boolean"==typeof t):a===Function?(n="function",l="function"==typeof t):a===Object?(n="object",l=o.isPlainObject(t)):a===Array?(n="array",l=o.isArray(t)):l=t instanceof a),!l)return o.warn("Invalid prop: type check failed for "+e.path+'="'+e.raw+'". Expected '+i(n)+", got "+s(t)+"."),!1;var c=r.validator;return!(c&&!c.call(null,t))||(o.warn("Invalid prop: custom validator check failed for "+e.path+'="'+e.raw+'"'),!1)}},{"./index":749}],746:[function(e,t,n){var i=e("../config"),s="undefined"!=typeof console;n.log=function(e){s&&i.debug&&console.log("[Vue info]: "+e)},n.warn=function(e,t){!s||i.silent&&!i.debug||(console.warn("[Vue warn]: "+e),i.debug&&console.warn((t||new Error("Warning Stack Trace")).stack))},n.assertAsset=function(e,t,i){if("directive"===t){if("with"===i)return void n.warn("v-with has been deprecated in ^0.12.0. Use props instead.");if("events"===i)return void n.warn("v-events has been deprecated in ^0.12.0. Pass down methods as callback props instead.")}e||n.warn("Failed to resolve "+t+": "+i)}},{"../config":700}],747:[function(e,t,n){function i(e,t){t&&3===t.nodeType&&!t.data.trim()&&e.removeChild(t)}var s=e("./index"),o=e("../config");n.query=function(e){if("string"==typeof e){var t=e;e=document.querySelector(e),e||s.warn("Cannot find element: "+t)}return e},n.inDoc=function(e){var t=document.documentElement,n=e&&e.parentNode;return t===e||t===n||!(!n||1!==n.nodeType||!t.contains(n))},n.attr=function(e,t){t=o.prefix+t;var n=e.getAttribute(t);return null!==n&&e.removeAttribute(t),n},n.before=function(e,t){t.parentNode.insertBefore(e,t)},n.after=function(e,t){t.nextSibling?n.before(e,t.nextSibling):t.parentNode.appendChild(e)},n.remove=function(e){e.parentNode.removeChild(e)},n.prepend=function(e,t){t.firstChild?n.before(e,t.firstChild):t.appendChild(e)},n.replace=function(e,t){var n=e.parentNode;n&&n.replaceChild(t,e)},n.on=function(e,t,n){e.addEventListener(t,n)},n.off=function(e,t,n){e.removeEventListener(t,n)},n.addClass=function(e,t){if(e.classList)e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}},n.removeClass=function(e,t){if(e.classList)e.classList.remove(t);else{for(var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");e.setAttribute("class",n.trim())}},n.extractContent=function(e,t){var i,s;if(n.isTemplate(e)&&e.content instanceof DocumentFragment&&(e=e.content),e.hasChildNodes())for(n.trimNode(e),s=t?document.createDocumentFragment():document.createElement("div");i=e.firstChild;)s.appendChild(i);return s},n.trimNode=function(e){i(e,e.firstChild),i(e,e.lastChild)},n.isTemplate=function(e){return e.tagName&&"template"===e.tagName.toLowerCase()},n.createAnchor=function(e,t){return o.debug?document.createComment(e):document.createTextNode(t?" ":"")}},{"../config":700,"./index":749}],748:[function(e,t,n){n.hasProto="__proto__"in{};var i=n.inBrowser="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window);if(n.isIE9=i&&navigator.userAgent.toLowerCase().indexOf("msie 9.0")>0,n.isAndroid=i&&navigator.userAgent.toLowerCase().indexOf("android")>0,i&&!n.isIE9){var s=void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend,o=void 0===window.onanimationend&&void 0!==window.onwebkitanimationend;n.transitionProp=s?"WebkitTransition":"transition",n.transitionEndEvent=s?"webkitTransitionEnd":"transitionend",n.animationProp=o?"WebkitAnimation":"animation",n.animationEndEvent=o?"webkitAnimationEnd":"animationend"}n.nextTick=function(){function e(){i=!1;var e=n.slice(0);n=[];for(var t=0;t<e.length;t++)e[t]()}var t,n=[],i=!1;if("undefined"!=typeof MutationObserver){var s=1,o=new MutationObserver(e),r=document.createTextNode(s);o.observe(r,{characterData:!0}),t=function(){s=(s+1)%2,r.data=s}}else t=setTimeout;return function(s,o){var r=o?function(){s.call(o)}:s;n.push(r),i||(i=!0,t(e,0))}}()},{}],749:[function(e,t,n){var i=e("./lang"),s=i.extend;s(n,i),s(n,e("./env")),s(n,e("./dom")),s(n,e("./options")),s(n,e("./component")),s(n,e("./debug"))},{"./component":745,"./debug":746,"./dom":747,"./env":748,"./lang":750,"./options":751}],750:[function(e,t,n){function i(e,t){return t?t.toUpperCase():""}n.isReserved=function(e){var t=(e+"").charCodeAt(0);return 36===t||95===t},n.toString=function(e){return null==e?"":e.toString()},n.toNumber=function(e){if("string"!=typeof e)return e;var t=Number(e);return isNaN(t)?e:t},n.toBoolean=function(e){return"true"===e||"false"!==e&&e},n.stripQuotes=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(34===t||39===t)&&e.slice(1,-1)},n.camelize=function(e){return e.replace(/-(\w)/g,i)},n.hyphenate=function(e){return e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()};var s=/(?:^|[-_\/])(\w)/g;n.classify=function(e){return e.replace(s,i)},n.bind=function(e,t){return function(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}},n.toArray=function(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i},n.extend=function(e,t){for(var n in t)e[n]=t[n];return e},n.isObject=function(e){return null!==e&&"object"==typeof e};var o=Object.prototype.toString,r="[object Object]";n.isPlainObject=function(e){return o.call(e)===r},n.isArray=Array.isArray,n.define=function(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})},n.debounce=function(e,t){var n,i,s,o,r,a=function(){var l=Date.now()-o;l<t&&l>=0?n=setTimeout(a,t-l):(n=null,r=e.apply(s,i),n||(s=i=null))};return function(){return s=this,i=arguments,o=Date.now(),n||(n=setTimeout(a,t)),r}},n.indexOf=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1},n.cancellable=function(e){var t=function(){if(!t.cancelled)return e.apply(this,arguments)};return t.cancel=function(){t.cancelled=!0},t},n.looseEqual=function(e,t){return e==t||!(!n.isObject(e)||!n.isObject(t))&&JSON.stringify(e)===JSON.stringify(t)}},{}],751:[function(e,t,n){function i(e,t){var n,s,o;for(n in t)s=e[n],o=t[n],e.hasOwnProperty(n)?l.isObject(s)&&l.isObject(o)&&i(s,o):e.$add(n,o);return e}function s(e,t){var n=Object.create(e);return t?u(n,a(t)):n}function o(e){if(e.components)for(var t,n=e.components=a(e.components),i=Object.keys(n),s=0,o=i.length;s<o;s++){var r=i[s];l.commonTagRE.test(r)?l.warn("Do not use built-in HTML elements as component id: "+r):(t=n[r],l.isPlainObject(t)&&(t.id=t.id||r,n[r]=t._Ctor||(t._Ctor=l.Vue.extend(t))))}}function r(e){var t=e.props;l.isPlainObject(t)?e.props=Object.keys(t).map(function(e){var n=t[e];return l.isPlainObject(n)||(n={type:n}),n.name=e,n}):l.isArray(t)&&(e.props=t.map(function(e){return"string"==typeof e?{name:e}:e}))}function a(e){if(l.isArray(e)){for(var t,n={},i=e.length;i--;){t=e[i];var s=t.id||t.options&&t.options.id;s?n[s]=t:l.warn("Array-syntax assets must provide an id field.")}return n}return e}var l=e("./index"),c=e("../config"),u=l.extend,d=c.optionMergeStrategies=Object.create(null);d.data=function(e,t,n){return n?e||t?function(){var s="function"==typeof t?t.call(n):t,o="function"==typeof e?e.call(n):void 0;return s?i(s,o):o}:void 0:t?"function"!=typeof t?(l.warn('The "data" option should be a function that returns a per-instance value in component definitions.'),e):e?function(){return i(t.call(this),e.call(this))}:t:e},d.el=function(e,t,n){if(!n&&t&&"function"!=typeof t)return void l.warn('The "el" option should be a function that returns a per-instance value in component definitions.');var i=t||e;return n&&"function"==typeof i?i.call(n):i},d.created=d.ready=d.attached=d.detached=d.beforeCompile=d.compiled=d.beforeDestroy=d.destroyed=d.props=function(e,t){return t?e?e.concat(t):l.isArray(t)?t:[t]:e},d.paramAttributes=function(){l.warn('"paramAttributes" option has been deprecated in 0.12. Use "props" instead.')},c._assetTypes.forEach(function(e){d[e+"s"]=s}),d.watch=d.events=function(e,t){if(!t)return e;if(!e)return t;var n={};u(n,e);for(var i in t){var s=n[i],o=t[i];s&&!l.isArray(s)&&(s=[s]),n[i]=s?s.concat(o):[o]}return n},d.methods=d.computed=function(e,t){if(!t)return e;if(!e)return t;var n=Object.create(e);return u(n,t),n};var h=function(e,t){return void 0===t?e:t};n.mergeOptions=function p(e,t,n){function i(i){var s=d[i]||h;a[i]=s(e[i],t[i],n,i)}o(t),r(t);var s,a={};if(t.mixins)for(var l=0,c=t.mixins.length;l<c;l++)e=p(e,t.mixins[l],n);for(s in e)i(s);for(s in t)e.hasOwnProperty(s)||i(s);return a},n.resolveAsset=function(e,t,n){for(var i=l.camelize(n),s=i.charAt(0).toUpperCase()+i.slice(1),o=e[t],r=o[n]||o[i]||o[s];!r&&e._parent&&(!c.strict||e._repeat);)e=(e._context||e._parent).$options,o=e[t],r=o[n]||o[i]||o[s];return r}},{"../config":700,"./index":749}],752:[function(e,t,n){function i(e){this._init(e)}var s=e("./util"),o=s.extend;o(i,e("./api/global")),i.options={replace:!0,directives:e("./directives"),elementDirectives:e("./element-directives"),filters:e("./filters"),transitions:{},components:{},partials:{}};var r=i.prototype;Object.defineProperty(r,"$data",{get:function(){return this._data},set:function(e){e!==this._data&&this._setData(e)}}),o(r,e("./instance/init")),o(r,e("./instance/events")),o(r,e("./instance/scope")),o(r,e("./instance/compile")),o(r,e("./instance/misc")),o(r,e("./api/data")),o(r,e("./api/dom")),o(r,e("./api/events")),o(r,e("./api/child")),o(r,e("./api/lifecycle")),t.exports=s.Vue=i},{"./api/child":688,"./api/data":689,"./api/dom":690,"./api/events":691,"./api/global":692,"./api/lifecycle":693,"./directives":709,"./element-directives":724,"./filters":727,"./instance/compile":728,"./instance/events":729,"./instance/init":730,"./instance/misc":731,"./instance/scope":732,"./util":749}],753:[function(e,t,n){function i(e,t,n,i){i&&o.extend(this,i);var s="function"==typeof t;if(this.vm=e,e._watchers.push(this),this.expression=s?t.toString():t,this.cb=n,this.id=++u,this.active=!0,this.dirty=this.lazy,this.deps=Object.create(null),this.newDeps=null,this.prevError=null,s)this.getter=t,this.setter=void 0;else{var r=l.parse(t,this.twoWay);this.getter=r.get,this.setter=r.set}this.value=this.lazy?void 0:this.get(),this.queued=this.shallow=!1}function s(e){var t,n,i;for(t in e)if(n=e[t],o.isArray(n))for(i=n.length;i--;)s(n[i]);else o.isObject(n)&&s(n)}var o=e("./util"),r=e("./config"),a=e("./observer/dep"),l=e("./parsers/expression"),c=e("./batcher"),u=0;i.prototype.addDep=function(e){var t=e.id;this.newDeps[t]||(this.newDeps[t]=e,this.deps[t]||(this.deps[t]=e,e.addSub(this)))},i.prototype.get=function(){this.beforeGet();var e,t=this.vm;try{e=this.getter.call(t,t)}catch(n){r.warnExpressionErrors&&o.warn('Error when evaluating expression "'+this.expression+'". '+(r.debug?"":"Turn on debug mode to see stack trace."),n)}return this.deep&&s(e),this.preProcess&&(e=this.preProcess(e)),this.filters&&(e=t._applyFilters(e,null,this.filters,!1)),this.afterGet(),e},i.prototype.set=function(e){var t=this.vm;this.filters&&(e=t._applyFilters(e,this.value,this.filters,!0));try{this.setter.call(t,t,e)}catch(n){r.warnExpressionErrors&&o.warn('Error when evaluating setter "'+this.expression+'"',n)}},i.prototype.beforeGet=function(){a.target=this,this.newDeps=Object.create(null)},i.prototype.afterGet=function(){a.target=null;for(var e=Object.keys(this.deps),t=e.length;t--;){var n=e[t];this.newDeps[n]||this.deps[n].removeSub(this)}this.deps=this.newDeps},i.prototype.update=function(e){this.lazy?this.dirty=!0:this.sync||!r.async?this.run():(this.shallow=this.queued?!!e&&this.shallow:!!e,this.queued=!0,r.debug&&(this.prevError=new Error("[vue] async stack trace")),c.push(this))},i.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||(o.isArray(e)||this.deep)&&!this.shallow){var t=this.value;this.value=e;var n=this.prevError;if(r.debug&&n){this.prevError=null;try{this.cb.call(this.vm,e,t)}catch(i){throw o.nextTick(function(){throw n},0),i}}else this.cb.call(this.vm,e,t)}this.queued=this.shallow=!1}},i.prototype.evaluate=function(){var e=a.target;this.value=this.get(),this.dirty=!1,a.target=e},i.prototype.depend=function(){for(var e=Object.keys(this.deps),t=e.length;t--;)this.deps[e[t]].depend()},i.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||this.vm._watchers.$remove(this);for(var e=Object.keys(this.deps),t=e.length;t--;)this.deps[e[t]].removeSub(this);this.active=!1,this.vm=this.cb=this.value=null}},t.exports=i},{"./batcher":694,"./config":700,"./observer/dep":734,"./parsers/expression":738,"./util":749}],754:[function(e,t,n){function i(e,t){return t()}function s(e){return function(){e&&console.log.apply(console,[].slice.call(arguments))}}function o(e,t){if(!e||!t||e.name!==t.name||e.params.length!==t.params.length||e.path!==t.path)return!1;for(var n=e.params.length-1;n>=0;n--)if(e.params[n]!==t.params[n])return!1;return!0}function r(e,t,n){var r=null,a=null,u=s(n.debug);a=l(n.prefix,c(t,function(t,n){u("hash->route received",t),i(e,function(){r&&o(r,t)||(n&&n.name!==t.name&&(u("emits a lanes:leave:<route_name> event",n),e.$emit("lanes:leave:"+n.name,n),e.$broadcast("lanes:leave:"+n.name,n)),u("emits a lanes:update:<route_name> event",t),e.$emit("lanes:update:"+t.name,t),e.$broadcast("lanes:update:"+t.name,t),u("emits a lanes:route event",t),e.$emit("lanes:route",t))})})),e.$on("lanes:route",function(t){u("lanes:route received",t),r=t,e.$broadcast("lanes:route",t)}),e.$on("lanes:path",function(t){u("lanes:path received",t),i(e,function(){u("change the hash value",t),a.value=t})}),e.$on("hook:beforeDestroy",function(){a.stop()})}function a(e){if(Array.isArray(e))return e;if("function"!=typeof e)return[];var t=[];return e(function(e,n){t.push([e,n])}),t}var l=e("minihash"),c=e("miniroutes");t.exports=function(e,t){return e.extend({ready:function(){this.$root===this&&r(this,a(t.routes),{prefix:t.prefix||"",debug:t.debug||!1})}})}},{minihash:601,miniroutes:602}],755:[function(e,t,n){!function(e){"use strict";"function"==typeof define&&define.amd?define(e):"undefined"!=typeof t&&"undefined"!=typeof t.exports?t.exports=e():window.Sortable=e()}(function(){"use strict";function e(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=y({},t),e[W]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var i in n)!(i in t)&&(t[i]=n[i]);re(t);for(var s in this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!t.forceFallback&&Z,o(e,"mousedown",this._onTapStart),o(e,"touchstart",this._onTapStart),o(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(o(e,"dragover",this),o(e,"dragenter",this)),se.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function t(e,t){"clone"!==e.lastPullMode&&(t=!0),C&&C.state!==t&&(l(C,"display",t?"none":""),t||C.state&&(e.options.group.revertClone?(j.insertBefore(C,T),e._animate(_,C)):j.insertBefore(C,_)),C.state=t)}function n(e,t,n){if(e){n=n||Y;do if(">*"===t&&e.parentNode===n||g(e,t))return e;while(e=i(e))}return null}function i(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function s(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.preventDefault()}function o(e,t,n){e.addEventListener(t,n,J)}function r(e,t,n){e.removeEventListener(t,n,J)}function a(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(V," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(V," ")}}function l(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return Y.defaultView&&Y.defaultView.getComputedStyle?n=Y.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function c(e,t,n){if(e){var i=e.getElementsByTagName(t),s=0,o=i.length;if(n)for(;s<o;s++)n(i[s],s);return i}return[]}function u(e,t,n,i,s,o,r){e=e||t[W];var a=Y.createEvent("Event"),l=e.options,c="on"+n.charAt(0).toUpperCase()+n.substr(1);a.initEvent(n,!0,!0),a.to=t,a.from=s||t,a.item=i||t,a.clone=C,a.oldIndex=o,a.newIndex=r,t.dispatchEvent(a),l[c]&&l[c].call(e,a)}function d(e,t,n,i,s,o,r,a){var l,c,u=e[W],d=u.options.onMove;return l=Y.createEvent("Event"),l.initEvent("move",!0,!0),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=s||t,l.relatedRect=o||t.getBoundingClientRect(),l.willInsertAfter=a,e.dispatchEvent(l),d&&(c=d.call(u,l,r)),c}function h(e){e.draggable=!1}function p(){ee=!1}function f(e,t){var n=e.lastElementChild,i=n.getBoundingClientRect();return t.clientY-(i.top+i.height)>5||t.clientX-(i.left+i.width)>5}function m(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function v(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!g(e,t)||n++;return n}function g(e,t){if(e){t=t.split(".");var n=t.shift().toUpperCase(),i=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==n&&e.nodeName.toUpperCase()!=n||t.length&&((" "+e.className+" ").match(i)||[]).length!=t.length)}return!1}function b(e,t){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?e.call(i,n[0]):e.apply(i,n),n=void 0},t))}}function y(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function w(e){return K?K(e).clone(!0)[0]:X&&X.dom?X.dom(e).cloneNode(!0):e.cloneNode(!0)}function x(e){for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var i=t[n];i.checked&&ie.push(i)}}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var _,k,S,C,j,T,E,A,P,$,L,R,D,N,O,M,I,B,F,U,z={},V=/\s+/g,H=/left|right|inline/,W="Sortable"+(new Date).getTime(),q=window,Y=q.document,G=q.parseInt,K=q.jQuery||q.Zepto,X=q.Polymer,J=!1,Z=!!("draggable"in Y.createElement("div")),Q=function(e){return!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&(e=Y.createElement("x"),e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents)}(),ee=!1,te=Math.abs,ne=Math.min,ie=[],se=[],oe=b(function(e,t,n){if(n&&t.scroll){var i,s,o,r,a,l,c=n[W],u=t.scrollSensitivity,d=t.scrollSpeed,h=e.clientX,p=e.clientY,f=window.innerWidth,m=window.innerHeight;if(P!==n&&(A=t.scroll,P=n,$=t.scrollFn,A===!0)){A=n;do if(A.offsetWidth<A.scrollWidth||A.offsetHeight<A.scrollHeight)break;while(A=A.parentNode)}A&&(i=A,s=A.getBoundingClientRect(),o=(te(s.right-h)<=u)-(te(s.left-h)<=u),r=(te(s.bottom-p)<=u)-(te(s.top-p)<=u)),o||r||(o=(f-h<=u)-(h<=u),r=(m-p<=u)-(p<=u),(o||r)&&(i=q)),z.vx===o&&z.vy===r&&z.el===i||(z.el=i,z.vx=o,z.vy=r,clearInterval(z.pid),i&&(z.pid=setInterval(function(){return l=r?r*d:0,a=o?o*d:0,"function"==typeof $?$.call(c,a,l,e):void(i===q?q.scrollTo(q.pageXOffset+a,q.pageYOffset+l):(i.scrollTop+=l,i.scrollLeft+=a))},24)))}},30),re=function(e){function t(e,t){return void 0!==e&&e!==!0||(e=n.name),"function"==typeof e?e:function(n,i){var s=i.options.group.name;return t?e:e&&(e.join?e.indexOf(s)>-1:s==e)}}var n={},i=e.group;i&&"object"==typeof i||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n};e.prototype={constructor:e,_onTapStart:function(e){var t,i=this,s=this.el,o=this.options,r=o.preventOnFilter,a=e.type,l=e.touches&&e.touches[0],c=(l||e).target,d=e.target.shadowRoot&&e.path&&e.path[0]||c,h=o.filter;if(x(s),!_&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||o.disabled)&&(c=n(c,o.draggable,s),c&&E!==c)){if(t=v(c,o.draggable),"function"==typeof h){if(h.call(this,e,c,this))return u(i,d,"filter",c,s,t),void(r&&e.preventDefault())}else if(h&&(h=h.split(",").some(function(e){if(e=n(d,e.trim(),s))return u(i,e,"filter",c,s,t),!0})))return void(r&&e.preventDefault());o.handle&&!n(d,o.handle,s)||this._prepareDragStart(e,l,c,t)}},_prepareDragStart:function(e,t,n,i){var s,r=this,l=r.el,d=r.options,p=l.ownerDocument;n&&!_&&n.parentNode===l&&(B=e,j=l,_=n,k=_.parentNode,T=_.nextSibling,E=n,M=d.group,N=i,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,_.style["will-change"]="transform",s=function(){r._disableDelayedDrag(),_.draggable=r.nativeDraggable,a(_,d.chosenClass,!0),r._triggerDragStart(e,t),u(r,j,"choose",_,j,N)},d.ignore.split(",").forEach(function(e){c(_,e.trim(),h)}),o(p,"mouseup",r._onDrop),o(p,"touchend",r._onDrop),o(p,"touchcancel",r._onDrop),o(p,"pointercancel",r._onDrop),o(p,"selectstart",r),d.delay?(o(p,"mouseup",r._disableDelayedDrag),o(p,"touchend",r._disableDelayedDrag),o(p,"touchcancel",r._disableDelayedDrag),o(p,"mousemove",r._disableDelayedDrag),o(p,"touchmove",r._disableDelayedDrag),o(p,"pointermove",r._disableDelayedDrag),r._dragStartTimer=setTimeout(s,d.delay)):s())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),r(e,"mouseup",this._disableDelayedDrag),r(e,"touchend",this._disableDelayedDrag),r(e,"touchcancel",this._disableDelayedDrag),r(e,"mousemove",this._disableDelayedDrag),r(e,"touchmove",this._disableDelayedDrag),r(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,t){t=t||("touch"==e.pointerType?e:null),t?(B={target:_,clientX:t.clientX,clientY:t.clientY},this._onDragStart(B,"touch")):this.nativeDraggable?(o(_,"dragend",this),o(j,"dragstart",this._onDragStart)):this._onDragStart(B,!0);try{Y.selection?setTimeout(function(){Y.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(){if(j&&_){var t=this.options;a(_,t.ghostClass,!0),a(_,t.dragClass,!1),e.active=this,u(this,j,"start",_,j,N)}else this._nulling()},_emulateDragOver:function(){if(F){if(this._lastX===F.clientX&&this._lastY===F.clientY)return;this._lastX=F.clientX,this._lastY=F.clientY,Q||l(S,"display","none");var e=Y.elementFromPoint(F.clientX,F.clientY),t=e,n=se.length;if(t)do{if(t[W]){for(;n--;)se[n]({clientX:F.clientX,clientY:F.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);Q||l(S,"display","")}},_onTouchMove:function(t){if(B){var n=this.options,i=n.fallbackTolerance,s=n.fallbackOffset,o=t.touches?t.touches[0]:t,r=o.clientX-B.clientX+s.x,a=o.clientY-B.clientY+s.y,c=t.touches?"translate3d("+r+"px,"+a+"px,0)":"translate("+r+"px,"+a+"px)";if(!e.active){if(i&&ne(te(o.clientX-this._lastX),te(o.clientY-this._lastY))<i)return;this._dragStarted()}this._appendGhost(),U=!0,F=o,l(S,"webkitTransform",c),l(S,"mozTransform",c),l(S,"msTransform",c),l(S,"transform",c),t.preventDefault()}},_appendGhost:function(){if(!S){var e,t=_.getBoundingClientRect(),n=l(_),i=this.options;S=_.cloneNode(!0),a(S,i.ghostClass,!1),a(S,i.fallbackClass,!0),a(S,i.dragClass,!0),l(S,"top",t.top-G(n.marginTop,10)),l(S,"left",t.left-G(n.marginLeft,10)),l(S,"width",t.width),l(S,"height",t.height),l(S,"opacity","0.8"),l(S,"position","fixed"),l(S,"zIndex","100000"),l(S,"pointerEvents","none"),i.fallbackOnBody&&Y.body.appendChild(S)||j.appendChild(S),e=S.getBoundingClientRect(),l(S,"width",2*t.width-e.width),l(S,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var n=e.dataTransfer,i=this.options;this._offUpEvents(),M.checkPull(this,this,_,e)&&(C=w(_),C.draggable=!1,C.style["will-change"]="",l(C,"display","none"),a(C,this.options.chosenClass,!1),j.insertBefore(C,_),u(this,j,"clone",_)),a(_,i.dragClass,!0),t?("touch"===t?(o(Y,"touchmove",this._onTouchMove),o(Y,"touchend",this._onDrop),o(Y,"touchcancel",this._onDrop),o(Y,"pointermove",this._onTouchMove),o(Y,"pointerup",this._onDrop)):(o(Y,"mousemove",this._onTouchMove),o(Y,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",i.setData&&i.setData.call(this,n,_)),o(Y,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(i){var s,o,r,a,c=this.el,u=this.options,h=u.group,m=e.active,v=M===h,g=!1,b=u.sort;if(void 0!==i.preventDefault&&(i.preventDefault(),!u.dragoverBubble&&i.stopPropagation()),!_.animated&&(U=!0,m&&!u.disabled&&(v?b||(a=!j.contains(_)):I===this||(m.lastPullMode=M.checkPull(this,m,_,i))&&h.checkPut(this,m,_,i))&&(void 0===i.rootEl||i.rootEl===this.el))){if(oe(i,u,this.el),ee)return;if(s=n(i.target,u.draggable,c),o=_.getBoundingClientRect(),I!==this&&(I=this,g=!0),a)return t(m,!0),k=j,void(C||T?j.insertBefore(_,C||T):b||j.appendChild(_));if(0===c.children.length||c.children[0]===S||c===i.target&&f(c,i)){if(0!==c.children.length&&c.children[0]!==S&&c===i.target&&(s=c.lastElementChild),s){if(s.animated)return;r=s.getBoundingClientRect()}t(m,v),d(j,c,_,o,s,r,i)!==!1&&(_.contains(c)||(c.appendChild(_),k=c),this._animate(o,_),s&&this._animate(r,s))}else if(s&&!s.animated&&s!==_&&void 0!==s.parentNode[W]){L!==s&&(L=s,R=l(s),D=l(s.parentNode)),r=s.getBoundingClientRect();var y=r.right-r.left,w=r.bottom-r.top,x=H.test(R.cssFloat+R.display)||"flex"==D.display&&0===D["flex-direction"].indexOf("row"),E=s.offsetWidth>_.offsetWidth,A=s.offsetHeight>_.offsetHeight,P=(x?(i.clientX-r.left)/y:(i.clientY-r.top)/w)>.5,$=s.nextElementSibling,N=!1;if(x){var O=_.offsetTop,B=s.offsetTop;N=O===B?s.previousElementSibling===_&&!E||P&&E:s.previousElementSibling===_||_.previousElementSibling===s?(i.clientY-r.top)/w>.5:B>O}else g||(N=$!==_&&!A||P&&A);var F=d(j,c,_,o,s,r,i,N);F!==!1&&(1!==F&&F!==-1||(N=1===F),ee=!0,setTimeout(p,30),t(m,v),_.contains(c)||(N&&!$?c.appendChild(_):s.parentNode.insertBefore(_,N?$:s)),k=_.parentNode,this._animate(o,_),this._animate(r,s))}}},_animate:function(e,t){var n=this.options.animation;if(n){var i=t.getBoundingClientRect();1===e.nodeType&&(e=e.getBoundingClientRect()),l(t,"transition","none"),l(t,"transform","translate3d("+(e.left-i.left)+"px,"+(e.top-i.top)+"px,0)"),
t.offsetWidth,l(t,"transition","all "+n+"ms"),l(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){l(t,"transition",""),l(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;r(Y,"touchmove",this._onTouchMove),r(Y,"pointermove",this._onTouchMove),r(e,"mouseup",this._onDrop),r(e,"touchend",this._onDrop),r(e,"pointerup",this._onDrop),r(e,"touchcancel",this._onDrop),r(e,"pointercancel",this._onDrop),r(e,"selectstart",this)},_onDrop:function(t){var n=this.el,i=this.options;clearInterval(this._loopId),clearInterval(z.pid),clearTimeout(this._dragStartTimer),r(Y,"mousemove",this._onTouchMove),this.nativeDraggable&&(r(Y,"drop",this),r(n,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(U&&(t.preventDefault(),!i.dropBubble&&t.stopPropagation()),S&&S.parentNode&&S.parentNode.removeChild(S),j!==k&&"clone"===e.active.lastPullMode||C&&C.parentNode&&C.parentNode.removeChild(C),_&&(this.nativeDraggable&&r(_,"dragend",this),h(_),_.style["will-change"]="",a(_,this.options.ghostClass,!1),a(_,this.options.chosenClass,!1),u(this,j,"unchoose",_,j,N),j!==k?(O=v(_,i.draggable),O>=0&&(u(null,k,"add",_,j,N,O),u(this,j,"remove",_,j,N,O),u(null,k,"sort",_,j,N,O),u(this,j,"sort",_,j,N,O))):_.nextSibling!==T&&(O=v(_,i.draggable),O>=0&&(u(this,j,"update",_,j,N,O),u(this,j,"sort",_,j,N,O))),e.active&&(null!=O&&O!==-1||(O=N),u(this,j,"end",_,j,N,O),this.save()))),this._nulling()},_nulling:function(){j=_=k=S=T=C=E=A=P=B=F=U=O=L=R=I=M=e.active=null,ie.forEach(function(e){e.checked=!0}),ie.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":_&&(this._onDragOver(e),s(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,s=0,o=i.length,r=this.options;s<o;s++)e=i[s],n(e,r.draggable,this.el)&&t.push(e.getAttribute(r.dataIdAttr)||m(e));return t},sort:function(e){var t={},i=this.el;this.toArray().forEach(function(e,s){var o=i.children[s];n(o,this.options.draggable,i)&&(t[e]=o)},this),e.forEach(function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return n(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;return void 0===t?n[e]:(n[e]=t,void("group"===e&&re(n)))},destroy:function(){var e=this.el;e[W]=null,r(e,"mousedown",this._onTapStart),r(e,"touchstart",this._onTapStart),r(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(r(e,"dragover",this),r(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),se.splice(se.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},o(Y,"touchmove",function(t){e.active&&t.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){J={capture:!1,passive:!1}}}))}catch(ae){}return e.utils={on:o,off:r,css:l,find:c,is:function(e,t){return!!n(e,t,e)},extend:y,throttle:b,closest:n,toggleClass:a,clone:w,index:v},e.create=function(t,n){return new e(t,n)},e.version="1.6.1",e})},{}],756:[function(e,t,n){!function(){var i={},s="function"==typeof e?e("sortablejs"):window.Sortable;if(!s)throw new Error("[vue-sortable] cannot locate Sortable.js.");i.config={},i.install=function(e){e.directive("sortable",function(e){e=e||{};var t=new s(this.el,e);this.arg&&!this.vm.sortable&&(this.vm.sortable={}),this.arg&&this.vm.sortable[this.arg]?console.warn("[vue-sortable] cannot set already defined sortable id: '"+this.arg+"'"):this.arg&&(this.vm.sortable[this.arg]=t)})},"object"==typeof n?t.exports=i:"function"==typeof define&&define.amd?define([],function(){return i}):window.Vue&&(window.vSortable=i,Vue.use(i))}()},{sortablejs:755}],757:[function(e,t,n){function i(t,n){function i(e,t){var n=null;try{n=l.get(e,t)}catch(i){}return n}n=n||{};var r=n.component=n.component||"$validator",a=n.directive=n.directive||"validate",l=t.parsers.path,c=t.util;t.directive(a,{priority:1024,bind:function(){var n=this.vm,i=this.el,a=n[r],l=this._keypath=this._parseModelAttribute(i.getAttribute(t.config.prefix+"model")),u=this.arg?this.arg:this.expression,d=this.arg?this.expression:null,h=n.$options.validator&&n.$options.validator.validates||{};if(!this._checkDirective(u,s,h))return o.warn("specified invalid v-validate directive !! please check v-validator directive !!"),void(this._ignore=!0);a||(n[r]=a=n.$addChild({validator:n.$options.validator},t.extend(e("./lib/validator"))));var p=i.getAttribute("value");null!==i.getAttribute("number")&&(p=c.toNumber(p)),this._init=p;var f=a._getValidationNamespace("validation"),m=p||n.$get(l),v=i.getAttribute("wait-for");v&&!a._isRegistedReadyEvent(l)&&a._addReadyEvents(l,this._checkParam("wait-for")),this._setupValidator(a,l,f,u,i,d,m)},update:function(e,t){if(!this._ignore){var n=this,i=this.vm,s=this._keypath,o=this.arg?this.arg:this.expression,a=i[r];a._changeValidator(s,o,e),a._isRegistedReadyEvent(s)?i.$once(a._getReadyEvents(s),function(e){a._setInitialValue(s,e),i.$set(s,e),n._updateValidator(a,o,s)}):this._updateValidator(a,o,s)}},unbind:function(){if(!this._ignore){var e=this.vm,t=this._keypath,n=this.arg?this.arg:this.expression,i=e[r];this._teardownValidator(e,i,t,n)}},_parseModelAttribute:function(e){var n=t.parsers.directive.parse(e);return n[0].arg?n[0].arg:n[0].expression},_checkDirective:function(e,t,n){var i=Object.keys(t).concat(Object.keys(n));return i.some(function(t){return t===e})},_setupValidator:function(e,t,n,s,o,r,a){var l=this.vm;i(e[n],t)||(e._defineModelValidationScope(t),"INPUT"===o.tagName&&"radio"===o.type?i(l,t)===a&&e._setInitialValue(t,a):e._setInitialValue(t,a)),i(e[n],[t,s].join("."))||(e._defineValidatorToValidationScope(t,s),e._addValidator(t,s,i(l,r)||r))},_updateValidator:function(e,t,n){var i=e.$get(n),s=this.el;this._init&&(i=this._init,delete this._init),"INPUT"===s.tagName&&"radio"===s.type?i===e.$get(n)&&e._updateDirtyProperty(n,i):e._updateDirtyProperty(n,i),e._doValidate(n,t,e.$get(n))},_teardownValidator:function(e,t,n,i){t._undefineValidatorToValidationScope(n,i),t._undefineModelValidationScope(n,i)}})}var s=e("./lib/validates"),o=e("./lib/util");t.exports=i},{"./lib/util":758,"./lib/validates":759,"./lib/validator":760}],758:[function(e,t,n){n.warn=function(e,t){window.console&&(console.warn("[vue-validator] "+e),t&&console.warn(t.stack))},n.getTarget=function(e,t){for(var n,i,s=e,o=t.split("."),r=0;r<o.length&&(n=o[r],i=s[n],s=i,s);r++);return s}},{}],759:[function(e,t,n){function i(e){return Array.isArray(e)?e.length>0:"number"==typeof e||(null!==e&&"object"==typeof e?Object.keys(e).length>0:!!e)}function s(e,t){if("string"!=typeof t)return!1;var n=t.match(new RegExp("^/(.*?)/([gimy]*)$"));return!!n&&new RegExp(n[1],n[2]).test(e)}function o(e,t){return"string"==typeof e&&c(t,10)&&e.length>=parseInt(t,10)}function r(e,t){return"string"==typeof e&&c(t,10)&&e.length<=parseInt(t,10)}function a(e,t){return!isNaN(+e)&&!isNaN(+t)&&+e>=+t}function l(e,t){return!isNaN(+e)&&!isNaN(+t)&&+e<=+t}function c(e){return/^(-?[1-9]\d*|0)$/.test(e)}t.exports={required:i,pattern:s,minLength:o,maxLength:r,min:a,max:l}},{}],760:[function(e,t,n){function i(e,t){for(var n,i,s=t.split(".");s.length;)n=s.pop(),0!==s.length?(i=o.getTarget(e,s.join(".")),i.$delete(n)):e.$delete(n)}var s=e("./validates"),o=e("./util");t.exports={inherit:!0,created:function(){this._initValidationVariables(),this._initOptions(),this._mixinCustomValidates(),this._defineProperties(),this._defineValidationScope()},methods:{_getValidationNamespace:function(e){return this.$options.validator.namespace[e]},_initValidationVariables:function(){this._validators={},this._validates={},this._initialValues={};for(var e in s)this._validates[e]=s[e];this._validatorWatchers={},this._readyEvents={}},_initOptions:function(){var e=this.$options.validator=this.$options.validator||{},t=e.namespace=e.namespace||{};t.validation=t.validation||"validation",t.valid=t.valid||"valid",t.invalid=t.invalid||"invalid",t.dirty=t.dirty||"dirty"},_mixinCustomValidates:function(){var e=this.$options.validator.validates;for(var t in e)this._validates[t]=e[t]},_defineValidProperty:function(e,t){Object.defineProperty(e,this._getValidationNamespace("valid"),{enumerable:!0,configurable:!0,get:t})},_undefineValidProperty:function(e){delete e[this._getValidationNamespace("valid")]},_defineInvalidProperty:function(e){var t=this;Object.defineProperty(e,this._getValidationNamespace("invalid"),{enumerable:!0,configurable:!0,get:function(){return!e[t._getValidationNamespace("valid")]}})},_undefineInvalidProperty:function(e){delete e[this._getValidationNamespace("invalid")]},_defineDirtyProperty:function(e,t){Object.defineProperty(e,this._getValidationNamespace("dirty"),{enumerable:!0,configurable:!0,get:t})},_undefineDirtyProperty:function(e){delete e[this._getValidationNamespace("dirty")]},_defineProperties:function(){var e=this,t=function(n,i,s){for(var o,r,a=!1,l=Object.keys(n),c=l.length;c--;)if(o=l[c],r=n[o],o in s||"object"!=typeof r){if(o===i&&"object"!=typeof r&&(a=r,o===e._getValidationNamespace("valid")&&!a||o===e._getValidationNamespace("dirty")&&a))break}else if(a=t(r,i,s),i===e._getValidationNamespace("valid")&&!a||i===e._getValidationNamespace("dirty")&&a)break;return a};this._defineValidProperty(this.$parent,function(){var n=e._getValidationNamespace("validation"),i=e._getValidationNamespace("valid"),s=e.$options.validator.namespace;return t(this[n],i,s)}),this._defineInvalidProperty(this.$parent),this._defineDirtyProperty(this.$parent,function(){var n=e._getValidationNamespace("validation"),i=e._getValidationNamespace("dirty"),s=e.$options.validator.namespace;return t(this[n],i,s)})},_undefineProperties:function(){this._undefineDirtyProperty(this.$parent),this._undefineInvalidProperty(this.$parent),this._undefineValidProperty(this.$parent)},_defineValidationScope:function(){this.$parent.$add(this._getValidationNamespace("validation"),{})},_undefineValidationScope:function(){var e=this._getValidationNamespace("validation");this.$parent.$delete(e)},_defineModelValidationScope:function(e){for(var t,n,i=this,s=this._getValidationNamespace("validation"),o=this._getValidationNamespace("dirty"),r=e.split("."),a=this[s],l=0;l<r.length;l++)n=r[l],t=a[n],t||(t={},a.$add(n,t)),a=t;a.$add(o,!1),this._defineValidProperty(a,function(){for(var t,n=!0,s=i._validators[e],o=s.length;o--;)if(t=s[o],a[t.name]){n=!1;break}return n}),this._defineInvalidProperty(a),this._validators[e]=[],this._watchModel(e,function(t,n){i._updateDirtyProperty(e,t),i._validators[e].forEach(function(n){i._doValidate(e,n.name,t)})})},_undefineModelValidationScope:function(e,t){if(this.$parent){var n=[this._getValidationNamespace("validation"),e].join("."),s=this.$parent.$get(n);s&&3===Object.keys(s).length&&this._getValidationNamespace("valid")in s&&this._getValidationNamespace("invalid")in s&&this._getValidationNamespace("dirty")in s&&(this._unwatchModel(e),this._undefineDirtyProperty(s),this._undefineInvalidProperty(s),this._undefineValidProperty(s),i(this.$parent.$get(this._getValidationNamespace("validation")),e))}},_defineValidatorToValidationScope:function(e,t){var n=o.getTarget(this[this._getValidationNamespace("validation")],e);n.$add(t,null)},_undefineValidatorToValidationScope:function(e,t){var n=this._getValidationNamespace("validation");if(this.$parent){var i=[n,e].join("."),s=this.$parent.$get(i);s&&s.$delete(t)}},_getInitialValue:function(e){return this._initialValues[e]},_setInitialValue:function(e,t){this._initialValues[e]=t},_addValidator:function(e,t,n){this._validators[e].push({name:t,arg:n})},_changeValidator:function(e,t,n){for(var i=this._validators[e],s=i.length;s--;)if(i[s].name===t){i[s].arg=n;break}},_findValidator:function(e,t){for(var n=null,i=this._validators[e],s=i.length;s--;)if(i[s].name===t){n=i[s];break}return n},_watchModel:function(e,t){this._validatorWatchers[e]=this.$watch(e,t,{deep:!1,immediate:!0})},_unwatchModel:function(e){var t=this._validatorWatchers[e];t&&(t(),delete this._validatorWatchers[e])},_addReadyEvents:function(e,t){this._readyEvents[e]=t},_getReadyEvents:function(e){return this._readyEvents[e]},_isRegistedReadyEvent:function(e){return e in this._readyEvents},_updateDirtyProperty:function(e,t){var n=this._getValidationNamespace("validation"),i=this._getValidationNamespace("dirty"),s=o.getTarget(this[n],e);s&&s.$set(i,this._getInitialValue(e)!==t)},_doValidate:function(e,t,n){var i=this._getValidationNamespace("validation"),s=o.getTarget(this[i],e),r=this._findValidator(e,t);s&&r&&this._invokeValidator(this._validates[t],n,r.arg,function(e){s.$set(t,!e)})},_invokeValidator:function(e,t,n,i){var s=e.call(this,t,n);if("function"==typeof s)if(s.resolved)i(s.resolved);else if(s.requested)s.pendingCallbacks.push(i);else{s.requested=!0;var o=s.pendingCallbacks=[i];s(function(){s.resolved=!0;for(var e=0,t=o.length;e<t;e++)o[e](!0)},function(){i(!1)})}else i(s)}}}},{"./util":758,"./validates":759}],761:[function(e,t,n){var i=e("../util");n.$addChild=function(e,t){t=t||i.Vue,e=e||{};var n,s=this,o=void 0!==e.inherit?e.inherit:t.options.inherit;if(o){var r=s._childCtors;if(n=r[t.cid],!n){var a=t.options.name,l=a?i.classify(a):"VueComponent";n=new Function("return function "+l+" (options) {this.constructor = "+l+";this._init(options) }")(),n.options=t.options,n.prototype=this,r[t.cid]=n}}else n=t;e._parent=s,e._root=s.$root;var c=new n(e);return c}},{"../util":818}],762:[function(e,t,n){var i=e("../util"),s=e("../watcher"),o=e("../parsers/path"),r=e("../parsers/text"),a=e("../parsers/directive"),l=e("../parsers/expression"),c=/[^|]\|[^|]/;n.$get=function(e){var t=l.parse(e);if(t)try{return t.get.call(this,this)}catch(n){}},n.$set=function(e,t){var n=l.parse(e,!0);n&&n.set&&n.set.call(this,this,t)},n.$add=function(e,t){this._data.$add(e,t)},n.$delete=function(e){this._data.$delete(e)},n.$watch=function(e,t,n,i){var o=this,r=n?e+"**deep**":e,a=o._userWatchers[r],l=function(e,n){t.call(o,e,n)};return a?a.addCb(l):a=o._userWatchers[r]=new s(o,e,l,{deep:n,user:!0}),i&&l(a.value),function(){a.removeCb(l),a.active||(o._userWatchers[r]=null)}},n.$eval=function(e){if(c.test(e)){var t=a.parse(e)[0];return t.filters?i.applyFilters(this.$get(t.expression),i.resolveFilters(this,t.filters).read,this):this.$get(t.expression)}return this.$get(e)},n.$interpolate=function(e){var t=r.parse(e),n=this;return t?1===t.length?n.$eval(t[0].value):t.map(function(e){return e.tag?n.$eval(e.value):e.value}).join(""):e},n.$log=function(e){var t=e?o.get(this._data,e):this._data;t&&(t=JSON.parse(JSON.stringify(t))),console.log(t)}},{"../parsers/directive":806,"../parsers/expression":807,"../parsers/path":808,"../parsers/text":810,"../util":818,"../watcher":822}],763:[function(e,t,n){function i(e,t,n,i,r,a){t=o(t);var l=!c.inDoc(t),u=i===!1||l?r:a,d=!l&&!e._isAttached&&!c.inDoc(e.$el);return e._isBlock?s(e,t,u,n):u(e.$el,t,e,n),d&&e._callHook("attached"),e}function s(e,t,n,i){for(var s,o=e._blockStart,r=e._blockEnd;s!==r;)s=o.nextSibling,n(o,t,e),o=s;n(r,t,e,i)}function o(e){return"string"==typeof e?document.querySelector(e):e}function r(e,t,n,i){t.appendChild(e),i&&i()}function a(e,t,n,i){c.before(e,t),i&&i()}function l(e,t,n){c.remove(e),n&&n()}var c=e("../util"),u=e("../transition");n.$appendTo=function(e,t,n){return i(this,e,t,n,r,u.append)},n.$prependTo=function(e,t,n){return e=o(e),e.hasChildNodes()?this.$before(e.firstChild,t,n):this.$appendTo(e,t,n),this},n.$before=function(e,t,n){return i(this,e,t,n,a,u.before)},n.$after=function(e,t,n){return e=o(e),e.nextSibling?this.$before(e.nextSibling,t,n):this.$appendTo(e.parentNode,t,n),this},n.$remove=function(e,t){var n=this._isAttached&&c.inDoc(this.$el);n||(t=!1);var i,o=this,a=function(){n&&o._callHook("detached"),e&&e()};return this._isBlock&&!this._blockFragment.hasChildNodes()?(i=t===!1?r:u.removeThenAppend,s(this,this._blockFragment,i,a)):(i=t===!1?l:u.remove)(this.$el,this,a),this}},{"../transition":812,"../util":818}],764:[function(e,t,n){function i(e,t,n){var i=e.$parent;if(i&&n&&!o.test(t))for(;i;)i._eventsCount[t]=(i._eventsCount[t]||0)+n,i=i.$parent}var s=e("../util");n.$on=function(e,t){return(this._events[e]||(this._events[e]=[])).push(t),i(this,e,1),this},n.$once=function(e,t){function n(){i.$off(e,n),t.apply(this,arguments)}var i=this;return n.fn=t,this.$on(e,n),this},n.$off=function(e,t){var n;if(!arguments.length){if(this.$parent)for(e in this._events)n=this._events[e],n&&i(this,e,-n.length);return this._events={},this}if(n=this._events[e],!n)return this;if(1===arguments.length)return i(this,e,-n.length),this._events[e]=null,this;for(var s,o=n.length;o--;)if(s=n[o],s===t||s.fn===t){i(this,e,-1),n.splice(o,1);break}return this},n.$emit=function(e){this._eventCancelled=!1;var t=this._events[e];if(t){for(var n=arguments.length-1,i=new Array(n);n--;)i[n]=arguments[n+1];n=0,t=t.length>1?s.toArray(t):t;for(var o=t.length;n<o;n++)t[n].apply(this,i)===!1&&(this._eventCancelled=!0)}return this},n.$broadcast=function(e){if(this._eventsCount[e]){for(var t=this._children,n=0,i=t.length;n<i;n++){var s=t[n];s.$emit.apply(s,arguments),s._eventCancelled||s.$broadcast.apply(s,arguments)}return this}},n.$dispatch=function(){for(var e=this.$parent;e;)e.$emit.apply(e,arguments),e=e._eventCancelled?null:e.$parent;return this};var o=/^hook:/},{"../util":818}],765:[function(e,t,n){function i(e){return new Function("return function "+o.classify(e)+" (options) { this._init(options) }")()}function s(e){l.forEach(function(t){e[t]=function(e,n){return n?void(this.options[t+"s"][e]=n):this.options[t+"s"][e]}}),e.component=function(e,t){return t?(o.isPlainObject(t)&&(t.name=e,t=o.Vue.extend(t)),void(this.options.components[e]=t)):this.options.components[e]}}var o=e("../util"),r=e("../util/merge-option");n.util=o,n.nextTick=o.nextTick,n.config=e("../config"),n.compiler={compile:e("../compiler/compile"),transclude:e("../compiler/transclude")},n.parsers={path:e("../parsers/path"),text:e("../parsers/text"),template:e("../parsers/template"),directive:e("../parsers/directive"),expression:e("../parsers/expression")},n.cid=0;var a=1;n.extend=function(e){e=e||{};var t=this,n=i(e.name||t.options.name||"VueComponent");return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.cid=a++,n.options=r(t.options,e),n["super"]=t,n.extend=t.extend,s(n),n},n.use=function(e){var t=o.toArray(arguments,1);return t.unshift(this),"function"==typeof e.install?e.install.apply(e,t):e.apply(null,t),this};var l=["directive","filter","partial","transition"];s(n)},{"../compiler/compile":769,"../compiler/transclude":770,"../config":771,"../parsers/directive":806,"../parsers/expression":807,"../parsers/path":808,"../parsers/template":809,"../parsers/text":810,"../util":818,"../util/merge-option":820}],766:[function(e,t,n){function i(){this._isAttached=!0,this._isReady=!0,this._callHook("ready")}var s=e("../util"),o=e("../compiler/compile");n.$mount=function(e){if(this._isCompiled)return void s.warn("$mount() should be called only once.");if(e){if("string"==typeof e){var t=e;if(e=document.querySelector(e),!e)return void s.warn("Cannot find element: "+t)}}else e=document.createElement("div");return this._compile(e),this._isCompiled=!0,this._callHook("compiled"),s.inDoc(this.$el)?(this._callHook("attached"),this._initDOMHooks(),i.call(this)):(this._initDOMHooks(),this.$once("hook:attached",i)),this},n.$destroy=function(e,t){this._destroy(e,t)},n.$compile=function(e){return o(e,this.$options,!0)(this,e)}},{"../compiler/compile":769,"../util":818}],767:[function(e,t,n){function i(){l=[],c=[],u={},d=!1,h=!1}function s(){h=!0,o(l),o(c),i()}function o(e){for(var t=0;t<e.length;t++)e[t].run()}var r=e("./util"),a=10,l=[],c=[],u={},d=!1,h=!1;n.push=function(e){var t=e.id;if(!t||!u[t]||h){if(u[t]){if(u[t]++,u[t]>a)return void r.warn('You may have an infinite update loop for the watcher with expression: "'+e.expression+'".')}else u[t]=1;if(h&&!e.user)return void e.run();(e.user?c:l).push(e),d||(d=!0,r.nextTick(s))}}},{"./util":818}],768:[function(e,t,n){function i(e){this.size=0,this.limit=e,this.head=this.tail=void 0,this._keymap={}}var s=i.prototype;s.put=function(e,t){var n={key:e,value:t};return this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit?this.shift():void this.size++},s.shift=function(){var e=this.head;return e&&(this.head=this.head.newer,this.head.older=void 0,e.newer=e.older=void 0,this._keymap[e.key]=void 0),e},s.get=function(e,t){var n=this._keymap[e];if(void 0!==n)return n===this.tail?t?n:n.value:(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n,t?n:n.value)},t.exports=i},{}],769:[function(e,t,n){function i(e,t,n,i){function r(e,t){var s=e._directives.length,o=e.$parent&&e.$parent._directives.length;c&&c(e,t);var r=_.toArray(t.childNodes),a=i?e.$parent:e,l=i?e:void 0;if(u&&u(a,t,l),h&&h(a,r,l),n&&!i){var d=e._directives.slice(s),p=e.$parent&&e.$parent._directives.slice(o),f=function(e,t){for(var n=t.length;n--;)t[n]._teardown();n=e._directives.indexOf(t[0]),e._directives.splice(n,t.length)};return function(){f(e,d),p&&f(e.$parent,p)}}}var a=11===e.nodeType,l=t.paramAttributes,c=!l||n||i||a?null:p(e,l,t),u=a?s(t._containerAttrs,l,t):o(e,t),h=u&&u.terminal||"SCRIPT"===e.tagName||!e.hasChildNodes()?null:d(e.childNodes,t);return i&&(r.terminal=!0),r}function s(e,t,n){if(!e)return null;var i=t?p(e,t,n):null,s=e[k.prefix+"with"],o=null;if(s){var r=C.parse(s)[0],a=n.directives["with"];o=function(e,t){e._bindDir("with",t,r,a)}}return function(e){i&&i(e,null),o&&o(e,null)}}function o(e,t){var n=e.nodeType;return 1===n&&"SCRIPT"!==e.tagName?r(e,t):3===n&&k.interpolate&&e.data.trim()?l(e,t):null}function r(e,t){if(x(e))return e.hasAttribute("__vue__wrap")&&(e=e.firstChild),i(e,t._parent.$options,!0,!0);var n,s,o;if(e.__vue__||(s=e.tagName.toLowerCase(),o=s.indexOf("-")>0&&t.components[s],o&&e.setAttribute(k.prefix+"component",s)),(o||e.hasAttributes())&&(n=v(e,t),!n)){var r=b(e,t);n=r.length?a(r):null}if("TEXTAREA"===e.tagName){var l=n;n=function(e,t){t.value=e.$interpolate(t.value),l&&l(e,t)},n.terminal=!0}return n}function a(e){return function(t,n,i){for(var s,o,r,a,l=e.length;l--;)if(s=e[l],a=s.transcluded?t.$parent:t,s._link)s._link(a,n);else for(r=s.descriptors.length,o=0;o<r;o++)a._bindDir(s.name,n,s.descriptors[o],s.def,i)}}function l(e,t){var n=S.parse(e.data);if(!n)return null;for(var i,s,o=document.createDocumentFragment(),r=0,a=n.length;r<a;r++)s=n[r],i=s.tag?c(s,t):document.createTextNode(s.value),o.appendChild(i);return u(n,o,t)}function c(e,t){function n(n){e.type=n,e.def=t.directives[n],e.descriptor=C.parse(e.value)[0]}var i;return e.oneTime?i=document.createTextNode(e.value):e.html?(i=document.createComment("v-html"),n("html")):e.partial?(i=document.createComment("v-partial"),n("partial")):(i=document.createTextNode(" "),n("text")),i}function u(e,t){return function(n,i){for(var s,o,r,a=t.cloneNode(!0),l=_.toArray(a.childNodes),c=0,u=e.length;c<u;c++)s=e[c],o=s.value,s.tag&&(r=l[c],s.oneTime?(o=n.$eval(o),s.html?_.replace(r,j.parse(o,!0)):r.data=o):n._bindDir(s.type,r,s.descriptor,s.def));_.replace(i,a)}}function d(e,t){for(var n,i,s,r=[],a=0,l=e.length;a<l;a++)s=e[a],n=o(s,t),i=n&&n.terminal||"SCRIPT"===s.tagName||!s.hasChildNodes()?null:d(s.childNodes,t),r.push(n,i);return r.length?h(r):null}function h(e){return function(t,n,i){for(var s,o,r,a=0,l=0,c=e.length;a<c;l++){s=n[l],o=e[a++],r=e[a++];var u=_.toArray(s.childNodes);o&&o(t,s,i),r&&r(t,u,i)}}}function p(e,t,n){for(var i,s,o,r=[],a=e.nodeType,l=t.length;l--;)if(i=t[l],/[A-Z]/.test(i)&&_.warn("You seem to be using camelCase for a paramAttribute, but HTML doesn't differentiate between upper and lower case. You should use hyphen-delimited attribute names. For more info see http://vuejs.org/api/options.html#paramAttributes"),s=a?e.getAttribute(i):e[i],null!==s){o={name:i,value:s};var c=S.parse(s);if(c){if(a&&e.removeAttribute(i),c.length>1){_.warn('Invalid param attribute binding: "'+i+'="'+s+"\"\nDon't mix binding tags with plain text in param attribute bindings.");continue}o.dynamic=!0,o.value=c[0].value}r.push(o)}return f(r,n)}function f(e,t){var n=t.directives["with"];return function(t,i){for(var s,o,r=e.length;r--;)s=e[r],o=_.camelize(s.name.replace(T,"")),s.dynamic?t._bindDir("with",i,{arg:o,expression:s.value},n):t.$set(o,s.value)}}function m(){}function v(e,t){if(null!==_.attr(e,"pre"))return m;for(var n,i,s=0;s<3;s++)if(i=E[s],n=_.attr(e,i))return g(e,i,n,t)}function g(e,t,n,i){var s=C.parse(n)[0],o=i.directives[t],r=function(e,n,i){e._bindDir(t,n,s,o,i)};return r.terminal=!0,r}function b(e,t){for(var n,i,s,o,r,a,l=_.toArray(e.attributes),c=l.length,u=[];c--;)n=l[c],i=n.name,a=t._transcludedAttrs&&t._transcludedAttrs[i],0===i.indexOf(k.prefix)?(o=i.slice(k.prefix.length),r=t.directives[o],_.assertAsset(r,"directive",o),r&&u.push({name:o,descriptors:C.parse(n.value),def:r,transcluded:a})):k.interpolate&&(s=y(e,i,n.value,t),s&&(s.transcluded=a,u.push(s)));return u.sort(w),u}function y(e,t,n,i){var s=S.parse(n);if(s){for(var o=i.directives.attr,r=s.length,a=!0;r--;){var l=s[r];l.tag&&!l.oneTime&&(a=!1)}return{def:o,_link:a?function(e,i){i.setAttribute(t,e.$interpolate(n))}:function(e,n){var i=S.tokensToExp(s,e),r=C.parse(t+":"+i)[0];e._bindDir("attr",n,r,o)}}}}function w(e,t){return e=e.def.priority||0,t=t.def.priority||0,e>t?1:-1}function x(e){if(1===e.nodeType&&e.hasAttribute(A))return e.removeAttribute(A),!0}var _=e("../util"),k=e("../config"),S=e("../parsers/text"),C=e("../parsers/directive"),j=e("../parsers/template");t.exports=i;var T=/^data-/,E=["repeat","if","component"];m.terminal=!0;var A="__vue__transcluded"},{"../config":771,"../parsers/directive":806,"../parsers/template":809,"../parsers/text":810,"../util":818}],770:[function(e,t,n){function i(e,t){var n=t.template,i=u.parse(n,!0);if(i){var o=t._content||l.extractContent(e);if(t.replace){if(i.childNodes.length>1){for(var r=t._containerAttrs={},a=e.attributes.length;a--;){var c=e.attributes[a];r[c.name]=c.value}return s(i,o),i}var d=i.firstChild;return l.copyAttributes(e,d),s(d,o),d}return e.appendChild(i),s(e,o),e}l.warn("Invalid template option: "+n)}function s(e,t){function n(e){return e.parentNode===t}var i=o(e),s=i.length;if(s){for(var a,c,u,d,h;s--;)a=i[s],t?(c=a.getAttribute("select"),c?(u=t.querySelectorAll(c),u.length&&(u=[].filter.call(u,n)),a.content=u.length?u:l.toArray(a.childNodes)):h=a):a.content=l.toArray(a.childNodes);for(s=0,d=i.length;s<d;s++)a=i[s],a!==h&&r(a,a.content);h&&r(h,l.toArray(t.childNodes))}}function o(e){return l.isArray(e)?h.apply([],e.map(o)):e.querySelectorAll?l.toArray(e.querySelectorAll("content")):[]}function r(e,t){for(var n=e.parentNode,i=0,s=t.length;i<s;i++)n.insertBefore(t[i],e);n.removeChild(e)}function a(e){if(!e)return null;for(var t={},n=c.prefix+"with",i=e.length;i--;){var s=e[i].name;s!==n&&(t[s]=!0)}return t}var l=e("../util"),c=e("../config"),u=e("../parsers/template"),d="__vue__transcluded";t.exports=function(e,t){if(t&&t._asComponent){t._transcludedAttrs=a(e.attributes);for(var n=e.childNodes.length;n--;){var s=e.childNodes[n];if(1===s.nodeType)s.setAttribute(d,"");else if(3===s.nodeType&&s.data.trim()){var o=document.createElement("span");o.textContent=s.data,o.setAttribute("__vue__wrap",""),o.setAttribute(d,""),e.replaceChild(o,s)}}}return"TEMPLATE"===e.tagName&&(e=u.parse(e)),t&&t.template&&(e=i(e,t)),e instanceof DocumentFragment&&(l.prepend(document.createComment("v-start"),e),e.appendChild(document.createComment("v-end"))),e};var h=[].concat},{"../config":771,"../parsers/template":809,"../util":818}],771:[function(e,t,n){t.exports={prefix:"v-",debug:!1,silent:!1,proto:!0,interpolate:!0,async:!0,warnExpressionErrors:!0,_delimitersChanged:!0};var i=["{{","}}"];Object.defineProperty(t.exports,"delimiters",{get:function(){return i},set:function(e){i=e,this._delimitersChanged=!0}})},{}],772:[function(e,t,n){function i(e,t,n,i,o,r){this.name=e,this.el=t,this.vm=n,this.raw=i.raw,this.expression=i.expression,this.arg=i.arg,this.filters=s.resolveFilters(n,i.filters),this._host=r,this._locked=!1,this._bound=!1,this._bind(o)}var s=e("./util"),o=e("./config"),r=e("./watcher"),a=e("./parsers/text"),l=e("./parsers/expression"),c=i.prototype;c._bind=function(e){if("cloak"!==this.name&&this.el&&this.el.removeAttribute&&this.el.removeAttribute(o.prefix+this.name),"function"==typeof e?this.update=e:s.extend(this,e),this._watcherExp=this.expression,this._checkDynamicLiteral(),this.bind&&this.bind(),this._watcherExp&&(this.update||this.twoWay)&&(!this.isLiteral||this._isDynamicLiteral)&&!this._checkStatement()){var t=this,n=this._update=this.update?function(e,n){t._locked||t.update(e,n)}:function(){},i=this.vm._watchers[this.raw];i&&"repeat"!==this.name?i.addCb(n):i=this.vm._watchers[this.raw]=new r(this.vm,this._watcherExp,n,{filters:this.filters,twoWay:this.twoWay,deep:this.deep}),this._watcher=i,null!=this._initValue?i.set(this._initValue):this.update&&this.update(i.value)}this._bound=!0},c._checkDynamicLiteral=function(){var e=this.expression;if(e&&this.isLiteral){var t=a.parse(e);if(t){var n=a.tokensToExp(t);this.expression=this.vm.$get(n),this._watcherExp=n,this._isDynamicLiteral=!0}}},c._checkStatement=function(){var e=this.expression;if(e&&this.acceptStatement&&!l.pathTestRE.test(e)){var t=l.parse(e).get,n=this.vm,i=function(){t.call(n,n)};return this.filters&&(i=s.applyFilters(i,this.filters.read,n)),this.update(i),!0}},c._checkParam=function(e){var t=this.el.getAttribute(e);return null!==t&&this.el.removeAttribute(e),t},c._teardown=function(){if(this._bound){this.unbind&&this.unbind();var e=this._watcher;e&&e.active&&(e.removeCb(this._update),e.active||(this.vm._watchers[this.raw]=null)),this._bound=!1,this.vm=this.el=this._watcher=null}},c.set=function(e,t){if(this.twoWay&&(t&&(this._locked=!0),this._watcher.set(e),t)){var n=this;s.nextTick(function(){n._locked=!1})}},t.exports=i},{"./config":771,"./parsers/expression":807,"./parsers/text":810,"./util":818,"./watcher":822}],773:[function(e,t,n){function i(e){e||0===e?this.el.setAttribute(this.arg,e):this.el.removeAttribute(this.arg)}function s(e){null!=e?this.el.setAttributeNS(o,this.arg,e):this.el.removeAttributeNS(o,"href")}var o="http://www.w3.org/1999/xlink",r=/^xlink:/;t.exports={priority:850,bind:function(){var e=this.arg;this.update=r.test(e)?s:i}}},{}],774:[function(e,t,n){var i=e("../util"),s=i.addClass,o=i.removeClass;t.exports=function(e){if(this.arg){var t=e?s:o;t(this.el,this.arg)}else this.lastVal&&o(this.el,this.lastVal),e&&(s(this.el,e),this.lastVal=e)}},{"../util":818}],775:[function(e,t,n){var i=e("../config");t.exports={bind:function(){var e=this.el;this.vm.$once("hook:compiled",function(){e.removeAttribute(i.prefix+"cloak")})}}},{"../config":771}],776:[function(e,t,n){var i=e("../util"),s=e("../parsers/template");t.exports={isLiteral:!0,bind:function(){if(this.el.__vue__)i.warn('v-component="'+this.expression+'" cannot be used on an already mounted instance.');else if(this.ref=document.createComment("v-component"),i.replace(this.el,this.ref),this.keepAlive=null!=this._checkParam("keep-alive"),this.refID=i.attr(this.el,"ref"),this.keepAlive&&(this.cache={}),null!==this._checkParam("inline-template")&&(this.template=i.extractContent(this.el,!0)),this._isDynamicLiteral)this.readyEvent=this._checkParam("wait-for"),this.transMode=this._checkParam("transition-mode");else{this.resolveCtor(this.expression);var e=this.build();e.$before(this.ref),this.setCurrent(e)}},resolveCtor:function(e){this.ctorId=e,this.Ctor=this.vm.$options.components[e],i.assertAsset(this.Ctor,"component",e)},build:function(){if(this.keepAlive){var e=this.cache[this.ctorId];if(e)return e}var t=this.vm,n=s.clone(this.el);if(this.Ctor){var i=t.$addChild({el:n,template:this.template,
_asComponent:!0,_host:this._host},this.Ctor);return this.keepAlive&&(this.cache[this.ctorId]=i),i}},unbuild:function(){var e=this.childVM;e&&!this.keepAlive&&e.$destroy(!1,!0)},remove:function(e,t){var n=this.keepAlive;e?e.$remove(function(){n||e._cleanup(),t&&t()}):t&&t()},update:function(e){if(e){this.resolveCtor(e),this.unbuild();var t=this.build(),n=this;this.readyEvent?t.$once(this.readyEvent,function(){n.swapTo(t)}):this.swapTo(t)}else this.unbuild(),this.remove(this.childVM),this.unsetCurrent()},swapTo:function(e){var t=this,n=this.childVM;switch(this.unsetCurrent(),this.setCurrent(e),t.transMode){case"in-out":e.$before(t.ref,function(){t.remove(n)});break;case"out-in":t.remove(n,function(){e.$before(t.ref)});break;default:t.remove(n),e.$before(t.ref)}},setCurrent:function(e){this.childVM=e;var t=e._refID||this.refID;t&&(this.vm.$[t]=e)},unsetCurrent:function(){var e=this.childVM;this.childVM=null;var t=e&&e._refID||this.refID;t&&(this.vm.$[t]=null)},unbind:function(){if(this.unbuild(),this.cache){for(var e in this.cache)this.cache[e].$destroy();this.cache=null}}}},{"../parsers/template":809,"../util":818}],777:[function(e,t,n){t.exports={isLiteral:!0,bind:function(){this.vm.$$[this.expression]=this.el},unbind:function(){delete this.vm.$$[this.expression]}}},{}],778:[function(e,t,n){var i=e("../util");t.exports={acceptStatement:!0,bind:function(){var e=this.el.__vue__;if(!e||this.vm!==e.$parent)return void i.warn("`v-events` should only be used on a child component from the parent template.")},update:function(e,t){if("function"!=typeof e)return void i.warn('Directive "v-events:'+this.expression+'" expects a function value.');var n=this.el.__vue__;t&&n.$off(this.arg,t),n.$on(this.arg,e)}}},{"../util":818}],779:[function(e,t,n){var i=e("../util"),s=e("../parsers/template");t.exports={bind:function(){8===this.el.nodeType&&(this.nodes=[])},update:function(e){e=i.toString(e),this.nodes?this.swap(e):this.el.innerHTML=e},swap:function(e){for(var t=this.nodes.length;t--;)i.remove(this.nodes[t]);var n=s.parse(e,!0,!0);this.nodes=i.toArray(n.childNodes),i.before(n,this.el)}}},{"../parsers/template":809,"../util":818}],780:[function(e,t,n){function i(e){e._isAttached||e._callHook("attached")}function s(e){e._isAttached&&e._callHook("detached")}var o=e("../util"),r=e("../compiler/compile"),a=e("../parsers/template"),l=e("../transition");t.exports={bind:function(){var e=this.el;e.__vue__?(this.invalid=!0,o.warn('v-if="'+this.expression+'" cannot be used on an already mounted instance.')):(this.start=document.createComment("v-if-start"),this.end=document.createComment("v-if-end"),o.replace(e,this.end),o.before(this.start,this.end),"TEMPLATE"===e.tagName?this.template=a.parse(e,!0):(this.template=document.createDocumentFragment(),this.template.appendChild(a.clone(e))),this.linker=r(this.template,this.vm.$options,!0))},update:function(e){if(!this.invalid)if(e){if(!this.unlink){var t=a.clone(this.template);this.compile(t)}}else this.teardown()},compile:function(e){var t=this.vm;if(this.unlink=this.linker?this.linker(t,e):t.$compile(e),l.blockAppend(e,this.end,t),o.inDoc(t.$el)){var n=this.getContainedComponents();n&&n.forEach(i)}},teardown:function(){if(this.unlink){var e;o.inDoc(this.vm.$el)&&(e=this.getContainedComponents()),l.blockRemove(this.start,this.end,this.vm),e&&e.forEach(s),this.unlink(),this.unlink=null}},getContainedComponents:function(){function e(e){for(var t,s=n;t!==i;){if(t=s.nextSibling,s===e.$el||s.contains&&s.contains(e.$el))return!0;s=t}return!1}var t=this.vm,n=this.start.nextSibling,i=this.end,s=t._children.length&&t._children.filter(e),o=t._transCpnts&&t._transCpnts.filter(e);return s?o?s.concat(o):s:o},unbind:function(){this.unlink&&this.unlink()}}},{"../compiler/compile":769,"../parsers/template":809,"../transition":812,"../util":818}],781:[function(e,t,n){n.text=e("./text"),n.html=e("./html"),n.attr=e("./attr"),n.show=e("./show"),n["class"]=e("./class"),n.el=e("./el"),n.ref=e("./ref"),n.cloak=e("./cloak"),n.style=e("./style"),n.partial=e("./partial"),n.transition=e("./transition"),n.on=e("./on"),n.model=e("./model"),n.component=e("./component"),n.repeat=e("./repeat"),n["if"]=e("./if"),n["with"]=e("./with"),n.events=e("./events")},{"./attr":773,"./class":774,"./cloak":775,"./component":776,"./el":777,"./events":778,"./html":779,"./if":780,"./model":784,"./on":787,"./partial":788,"./ref":789,"./repeat":790,"./show":791,"./style":792,"./text":793,"./transition":794,"./with":795}],782:[function(e,t,n){var i=e("../../util");t.exports={bind:function(){var e=this,t=this.el;this.listener=function(){e.set(t.checked,!0)},i.on(t,"change",this.listener),t.checked&&(this._initValue=t.checked)},update:function(e){this.el.checked=!!e},unbind:function(){i.off(this.el,"change",this.listener)}}},{"../../util":818}],783:[function(e,t,n){var i=e("../../util");t.exports={bind:function(){function e(){t.set(o?i.toNumber(n.value):n.value,!0)}var t=this,n=this.el,s=null!=this._checkParam("lazy"),o=null!=this._checkParam("number"),r=parseInt(this._checkParam("debounce"),10),a=!1;this.cpLock=function(){a=!0},this.cpUnlock=function(){a=!1,e()},i.on(n,"compositionstart",this.cpLock),i.on(n,"compositionend",this.cpUnlock);var l=this.filters&&this.filters.read;this.listener=l||"range"===n.type?function(){if(!a){var s;try{s=n.value.length-n.selectionStart}catch(o){}s<0||(e(),i.nextTick(function(){var e=t._watcher.value;if(t.update(e),null!=s){var o=i.toString(e).length-s;n.setSelectionRange(o,o)}}))}}:function(){a||e()},r&&(this.listener=i.debounce(this.listener,r)),this.event=s?"change":"input",this.hasjQuery="function"==typeof jQuery,this.hasjQuery?jQuery(n).on(this.event,this.listener):i.on(n,this.event,this.listener),!s&&i.isIE9&&(this.onCut=function(){i.nextTick(t.listener)},this.onDel=function(e){46!==e.keyCode&&8!==e.keyCode||t.listener()},i.on(n,"cut",this.onCut),i.on(n,"keyup",this.onDel)),(n.hasAttribute("value")||"TEXTAREA"===n.tagName&&n.value.trim())&&(this._initValue=o?i.toNumber(n.value):n.value)},update:function(e){this.el.value=i.toString(e)},unbind:function(){var e=this.el;this.hasjQuery?jQuery(e).off(this.event,this.listener):i.off(e,this.event,this.listener),i.off(e,"compositionstart",this.cpLock),i.off(e,"compositionend",this.cpUnlock),this.onCut&&(i.off(e,"cut",this.onCut),i.off(e,"keyup",this.onDel))}}},{"../../util":818}],784:[function(e,t,n){var i=e("../../util"),s={_default:e("./default"),radio:e("./radio"),select:e("./select"),checkbox:e("./checkbox")};t.exports={priority:800,twoWay:!0,handlers:s,bind:function(){var e=this.filters;e&&e.read&&!e.write&&i.warn("It seems you are using a read-only filter with v-model. You might want to use a two-way filter to ensure correct behavior.");var t,n=this.el,o=n.tagName;if("INPUT"===o)t=s[n.type]||s._default;else if("SELECT"===o)t=s.select;else{if("TEXTAREA"!==o)return void i.warn("v-model doesn't support element type: "+o);t=s._default}t.bind.call(this),this.update=t.update,this.unbind=t.unbind}}},{"../../util":818,"./checkbox":782,"./default":783,"./radio":785,"./select":786}],785:[function(e,t,n){var i=e("../../util");t.exports={bind:function(){var e=this,t=this.el;this.listener=function(){e.set(t.value,!0)},i.on(t,"change",this.listener),t.checked&&(this._initValue=t.value)},update:function(e){this.el.checked=e==this.el.value},unbind:function(){i.off(this.el,"change",this.listener)}}},{"../../util":818}],786:[function(e,t,n){function i(e){function t(e){u.isArray(e)?(n.el.innerHTML="",s(n.el,e),n._watcher&&n.update(n._watcher.value)):u.warn("Invalid options value for v-model: "+e)}var n=this,i=h.parse(e)[0];this.optionWatcher=new d(this.vm,i.expression,t,{deep:!0,filters:u.resolveFilters(this.vm,i.filters)}),t(this.optionWatcher.value)}function s(e,t){for(var n,i,o=0,r=t.length;o<r;o++)n=t[o],n.options?(i=document.createElement("optgroup"),i.label=n.label,s(i,n.options)):(i=document.createElement("option"),"string"==typeof n?i.text=i.value=n:(i.text=n.text,i.value=n.value)),e.appendChild(i)}function o(){for(var e,t=this.el.options,n=0,i=t.length;n<i;n++)t[n].hasAttribute("selected")&&(this.multiple?(e||(e=[])).push(t[n].value):e=t[n].value);"undefined"!=typeof e&&(this._initValue=this.number?u.toNumber(e):e)}function r(e){return Array.prototype.filter.call(e.options,a).map(l)}function a(e){return e.selected}function l(e){return e.value||e.text}function c(e,t){for(var n=e.length;n--;)if(e[n]==t)return n;return-1}var u=e("../../util"),d=e("../../watcher"),h=e("../../parsers/directive");t.exports={bind:function(){var e=this,t=this.el,n=this._checkParam("options");n&&i.call(this,n),this.number=null!=this._checkParam("number"),this.multiple=t.hasAttribute("multiple"),this.listener=function(){var n=e.multiple?r(t):t.value;n=e.number?u.isArray(n)?n.map(u.toNumber):u.toNumber(n):n,e.set(n,!0)},u.on(t,"change",this.listener),o.call(this)},update:function(e){var t=this.el;t.selectedIndex=-1;for(var n,i=this.multiple&&u.isArray(e),s=t.options,o=s.length;o--;)n=s[o],n.selected=i?c(e,n.value)>-1:e==n.value},unbind:function(){u.off(this.el,"change",this.listener),this.optionWatcher&&this.optionWatcher.teardown()}}},{"../../parsers/directive":806,"../../util":818,"../../watcher":822}],787:[function(e,t,n){var i=e("../util");t.exports={acceptStatement:!0,priority:700,bind:function(){if("IFRAME"===this.el.tagName&&"load"!==this.arg){var e=this;this.iframeBind=function(){i.on(e.el.contentWindow,e.arg,e.handler)},i.on(this.el,"load",this.iframeBind)}},update:function(e){if("function"!=typeof e)return void i.warn('Directive "v-on:'+this.expression+'" expects a function value.');this.reset();var t=this.vm;this.handler=function(n){n.targetVM=t,t.$event=n;var i=e(n);return t.$event=null,i},this.iframeBind?this.iframeBind():i.on(this.el,this.arg,this.handler)},reset:function(){var e=this.iframeBind?this.el.contentWindow:this.el;this.handler&&i.off(e,this.arg,this.handler)},unbind:function(){this.reset(),i.off(this.el,"load",this.iframeBind)}}},{"../util":818}],788:[function(e,t,n){var i=e("../util"),s=e("../parsers/template"),o=e("./if");t.exports={isLiteral:!0,compile:o.compile,teardown:o.teardown,getContainedComponents:o.getContainedComponents,unbind:o.unbind,bind:function(){var e=this.el;this.start=document.createComment("v-partial-start"),this.end=document.createComment("v-partial-end"),8!==e.nodeType&&(e.innerHTML=""),"TEMPLATE"===e.tagName||8===e.nodeType?i.replace(e,this.end):e.appendChild(this.end),i.before(this.start,this.end),this._isDynamicLiteral||this.insert(this.expression)},update:function(e){this.teardown(),this.insert(e)},insert:function(e){var t=this.vm.$options.partials[e];if(i.assertAsset(t,"partial",e),t){var n=this.filters&&this.filters.read;n&&(t=i.applyFilters(t,n,this.vm)),this.compile(s.parse(t,!0))}}}},{"../parsers/template":809,"../util":818,"./if":780}],789:[function(e,t,n){var i=e("../util");t.exports={isLiteral:!0,bind:function(){var e=this.el.__vue__;return e?void(e._refID=this.expression):void i.warn("v-ref should only be used on a component root element.")}}},{"../util":818}],790:[function(e,t,n){function i(e,t){for(var n=(e._blockEnd||e.$el).nextSibling;!n.__vue__&&n!==t;)n=n.nextSibling;return n.__vue__}function s(e){if(this.rawValue=e,!l(e))return e;for(var t,n=Object.keys(e),i=n.length,s=new Array(i);i--;)t=n[i],s[i]={$key:t,$value:e[t]};return this.converted=!0,s}function o(e){for(var t=-1,n=new Array(e);++t<e;)n[t]=t;return n}var r=e("../util"),a=r.isObject,l=r.isPlainObject,c=e("../parsers/text"),u=e("../parsers/expression"),d=e("../parsers/template"),h=e("../compiler/compile"),p=e("../compiler/transclude"),f=e("../util/merge-option"),m=0;t.exports={bind:function(){this.id="__v_repeat_"+ ++m,this.filters||(this.filters={});var e=r.bind(s,this);this.filters.read?this.filters.read.unshift(e):this.filters.read=[e],this.ref=document.createComment("v-repeat"),r.replace(this.el,this.ref),this.template="TEMPLATE"===this.el.tagName?d.parse(this.el,!0):this.el,this.checkIf(),this.checkRef(),this.checkComponent(),this.idKey=this._checkParam("track-by")||this._checkParam("trackby"),this.cache=Object.create(null)},checkIf:function(){null!==r.attr(this.el,"if")&&r.warn('Don\'t use v-if with v-repeat. Use v-show or the "filterBy" filter instead.')},checkRef:function(){var e=r.attr(this.el,"ref");this.refID=e?this.vm.$interpolate(e):null;var t=r.attr(this.el,"el");this.elId=t?this.vm.$interpolate(t):null},checkComponent:function(){var e=r.attr(this.el,"component"),t=this.vm.$options;if(e){this.asComponent=!0,null!==this._checkParam("inline-template")&&(this.inlineTempalte=r.extractContent(this.el,!0));var n=c.parse(e);if(n){var i=c.tokensToExp(n);this.ctorGetter=u.parse(i).get}else{var s=this.Ctor=t.components[e];r.assertAsset(s,"component",e);var o=f(s.options,{},{$parent:this.vm});o.template=this.inlineTempalte||o.template,o._asComponent=!0,o._parent=this.vm,this.template=p(this.template,o),this.template.__vue__=!0,this._linkFn=h(this.template,o)}}else this.Ctor=r.Vue,this.inherit=!0,this.template=p(this.template),this._linkFn=h(this.template,t)},update:function(e){e=e||[];var t=typeof e;"number"===t?e=o(e):"string"===t&&(e=r.toArray(e)),this.vms=this.diff(e,this.vms),this.refID&&(this.vm.$[this.refID]=this.vms),this.elId&&(this.vm.$$[this.elId]=this.vms.map(function(e){return e.$el}))},diff:function(e,t){var n,s,o,r,a,l=this.idKey,c=this.converted,u=this.ref,d=this.arg,h=!t,p=new Array(e.length);for(r=0,a=e.length;r<a;r++)n=e[r],s=c?n.$value:n,o=!h&&this.getVm(s),o?(o._reused=!0,o.$index=r,c&&(o.$key=n.$key),l&&(d?o[d]=s:o._setData(s))):(o=this.build(n,r,!0),o._new=!0,o._reused=!1),p[r]=o,h&&o.$before(u);if(h)return p;for(r=0,a=t.length;r<a;r++)o=t[r],o._reused||(this.uncacheVm(o),o.$destroy(!0));var f,m;for(r=p.length;r--;){if(o=p[r],f=p[r+1]){var v=f.$el;o._reused?(m=i(o,u),m!==f&&o.$before(v,null,!1)):o.$before(v)}else o._reused||o.$before(u);o._new=!1,o._reused=!1}return p},build:function(e,t,n){var i={$index:t};this.converted&&(i.$key=e.$key);var s=this.converted?e.$value:e,o=this.arg;o?(e={},e[o]=s):l(s)?e=s:(e={},i.$value=s);var r=this.Ctor||this.resolveCtor(e,i),a=this.vm.$addChild({el:d.clone(this.template),_asComponent:this.asComponent,_host:this._host,_linkFn:this._linkFn,_meta:i,data:e,inherit:this.inherit,template:this.inlineTempalte},r);a._repeat=!0,n&&this.cacheVm(s,a);var c=this;return a.$watch("$value",function(e){c.converted?c.rawValue[a.$key]=e:c.rawValue.$set(a.$index,e)}),a},resolveCtor:function(e,t){var n,i=Object.create(this.vm);for(n in e)r.define(i,n,e[n]);for(n in t)r.define(i,n,t[n]);var s=this.ctorGetter.call(i,i),o=this.vm.$options.components[s];return r.assertAsset(o,"component",s),o},unbind:function(){if(this.refID&&(this.vm.$[this.refID]=null),this.vms)for(var e,t=this.vms.length;t--;)e=this.vms[t],this.uncacheVm(e),e.$destroy()},cacheVm:function(e,t){var n,i=this.idKey,s=this.cache;i?(n=e[i],s[n]?r.warn("Duplicate track-by key in v-repeat: "+n):s[n]=t):a(e)?(n=this.id,e.hasOwnProperty(n)?null===e[n]?e[n]=t:r.warn("Duplicate objects are not supported in v-repeat when using components or transitions."):r.define(e,this.id,t)):s[e]?s[e].push(t):s[e]=[t],t._raw=e},getVm:function(e){if(this.idKey)return this.cache[e[this.idKey]];if(a(e))return e[this.id];var t=this.cache[e];if(t){for(var n=0,i=t[n];i&&(i._reused||i._new);)i=t[++n];return i}},uncacheVm:function(e){var t=e._raw;this.idKey?this.cache[t[this.idKey]]=null:a(t)?(t[this.id]=null,e._raw=null):this.cache[t].pop()}}},{"../compiler/compile":769,"../compiler/transclude":770,"../parsers/expression":807,"../parsers/template":809,"../parsers/text":810,"../util":818,"../util/merge-option":820}],791:[function(e,t,n){var i=e("../transition");t.exports=function(e){var t=this.el;i.apply(t,e?1:-1,function(){t.style.display=e?"":"none"},this.vm)}},{"../transition":812}],792:[function(e,t,n){function i(e){if(d[e])return d[e];var t=s(e);return d[e]=d[t]=t,t}function s(e){e=e.replace(c,"$1-$2").toLowerCase();var t=o.camelize(e),n=t.charAt(0).toUpperCase()+t.slice(1);if(u||(u=document.createElement("div")),t in u.style)return e;for(var i,s=r.length;s--;)if(i=a[s]+n,i in u.style)return r[s]+e}var o=e("../util"),r=["-webkit-","-moz-","-ms-"],a=["Webkit","Moz","ms"],l=/!important;?$/,c=/([a-z])([A-Z])/g,u=null,d={};t.exports={deep:!0,update:function(e){if(this.arg)this.setProp(this.arg,e);else if("object"==typeof e){this.cache||(this.cache={});for(var t in e)this.setProp(t,e[t]),e[t]!=this.cache[t]&&(this.cache[t]=e[t],this.setProp(t,e[t]))}else this.el.style.cssText=e},setProp:function(e,t){if(e=i(e))if(null!=t&&(t+=""),t){var n=l.test(t)?"important":"";n&&(t=t.replace(l,"").trim()),this.el.style.setProperty(e,t,n)}else this.el.style.removeProperty(e)}}},{"../util":818}],793:[function(e,t,n){var i=e("../util");t.exports={bind:function(){this.attr=3===this.el.nodeType?"nodeValue":"textContent"},update:function(e){this.el[this.attr]=i.toString(e)}}},{"../util":818}],794:[function(e,t,n){t.exports={priority:1e3,isLiteral:!0,bind:function(){this._isDynamicLiteral||this.update(this.expression)},update:function(e){var t=this.el.__vue__||this.vm;this.el.__v_trans={id:e,fns:t.$options.transitions[e]}}}},{}],795:[function(e,t,n){var i=e("../util"),s=e("../watcher"),o=e("../parsers/expression"),r=/^(true|false|\s?('[^']*'|"[^"]")\s?)$/;t.exports={priority:900,bind:function(){var e=this.vm,t=e.$parent,n=this.arg||"$data",a=this.expression;if(this.el&&this.el!==e.$el)i.warn("v-with can only be used on instance root elements.");else if(t)if(r.test(a))if(this.arg){var l=o.parse(a).get();e.$set(n,l)}else i.warn("v-with cannot bind literal value as $data: "+a);else{var c=!1,u=function(){c=!0,i.nextTick(d)},d=function(){c=!1};this.parentWatcher=new s(t,a,function(t){c||(u(),e.$set(n,t))}),e.$set(n,this.parentWatcher.value),this.childWatcher=new s(e,n,function(e){c||(u(),t.$set(a,e))})}else i.warn("v-with must be used on an instance with a parent.")},unbind:function(){this.parentWatcher&&(this.parentWatcher.teardown(),this.childWatcher.teardown())}}},{"../parsers/expression":807,"../util":818,"../watcher":822}],796:[function(e,t,n){function i(e,t){if(s.isObject(e)){for(var n in e)if(i(e[n],t))return!0}else if(null!=e)return e.toString().toLowerCase().indexOf(t)>-1}var s=e("../util"),o=e("../parsers/path");n.filterBy=function(e,t,n,r){n&&"in"!==n&&(r=n);var a=s.stripQuotes(t)||this.$get(t);return a?(a=(""+a).toLowerCase(),r=r&&(s.stripQuotes(r)||this.$get(r)),e.filter(function(e){return r?i(o.get(e,r),a):i(e,a)})):e},n.orderBy=function(e,t,n){var i=s.stripQuotes(t)||this.$get(t);if(!i)return e;var r=1;return n&&("-1"===n?r=-1:33===n.charCodeAt(0)?(n=n.slice(1),r=this.$get(n)?1:-1):r=this.$get(n)?-1:1),e.slice().sort(function(e,t){return e=s.isObject(e)?o.get(e,i):e,t=s.isObject(t)?o.get(t,i):t,e===t?0:e>t?r:-r})}},{"../parsers/path":808,"../util":818}],797:[function(e,t,n){var i=e("../util");n.json={read:function(e,t){return"string"==typeof e?e:JSON.stringify(e,null,Number(t)||2)},write:function(e){try{return JSON.parse(e)}catch(t){return e}}},n.capitalize=function(e){return e||0===e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""},n.uppercase=function(e){return e||0===e?e.toString().toUpperCase():""},n.lowercase=function(e){return e||0===e?e.toString().toLowerCase():""};var s=/(\d{3})(?=\d)/g;n.currency=function(e,t){if(e=parseFloat(e),!isFinite(e)||!e&&0!==e)return"";t=t||"$";var n=Math.floor(Math.abs(e)).toString(),i=n.length%3,o=i>0?n.slice(0,i)+(n.length>3?",":""):"",r=Math.abs(parseInt(100*e%100,10)),a="."+(r<10?"0"+r:r);return(e<0?"-":"")+t+o+n.slice(i).replace(s,"$1,")+a},n.pluralize=function(e){var t=i.toArray(arguments,1);return t.length>1?t[e%10-1]||t[t.length-1]:t[0]+(1===e?"":"s")};var o={enter:13,tab:9,"delete":46,up:38,left:37,right:39,down:40,esc:27};n.key=function(e,t){if(e){var n=o[t];return n||(n=parseInt(t,10)),function(t){if(t.keyCode===n)return e.call(this,t)}}},n.key.keyCodes=o,i.extend(n,e("./array-filters"))},{"../util":818,"./array-filters":796}],798:[function(e,t,n){var i=e("../util"),s=e("../directive"),o=e("../compiler/compile"),r=e("../compiler/transclude");n._compile=function(e){var t=this.$options;if(t._linkFn)this._initElement(e),t._linkFn(this,e);else{var n=e;e=r(e,t),this._initElement(e),o(e,t)(this,e),t.replace&&i.replace(n,e)}return e},n._initElement=function(e){e instanceof DocumentFragment?(this._isBlock=!0,this.$el=this._blockStart=e.firstChild,this._blockEnd=e.lastChild,this._blockFragment=e):this.$el=e,this.$el.__vue__=this,this._callHook("beforeCompile")},n._bindDir=function(e,t,n,i,o){this._directives.push(new s(e,t,this,n,i,o))},n._destroy=function(e,t){if(!this._isBeingDestroyed){this._callHook("beforeDestroy"),this._isBeingDestroyed=!0;var n,i=this.$parent;i&&!i._isBeingDestroyed&&(n=i._children.indexOf(this),i._children.splice(n,1));var s=this._host;for(s&&!s._isBeingDestroyed&&(n=s._transCpnts.indexOf(this),s._transCpnts.splice(n,1)),n=this._children.length;n--;)this._children[n].$destroy();for(n=0;n<this._directives.length;n++)this._directives[n]._teardown();var o;for(n in this._userWatchers)o=this._userWatchers[n],o&&o.teardown();this.$el&&(this.$el.__vue__=null);var r=this;e&&this.$el?this.$remove(function(){r._cleanup()}):t||this._cleanup()}},n._cleanup=function(){this._data.__ob__.removeVm(this),this._data=this._watchers=this._userWatchers=this._watcherList=this.$el=this.$parent=this.$root=this._children=this._transCpnts=this._directives=null,this._isDestroyed=!0,this._callHook("destroyed"),this.$off()}},{"../compiler/compile":769,"../compiler/transclude":770,"../directive":772,"../util":818}],799:[function(e,t,n){function i(e,t,n){if(n){var i,o,r,a;for(o in n)if(i=n[o],c.isArray(i))for(r=0,a=i.length;r<a;r++)s(e,t,o,i[r]);else s(e,t,o,i)}}function s(e,t,n,i){var s=typeof i;if("function"===s)e[t](n,i);else if("string"===s){var o=e.$options.methods,r=o&&o[i];r?e[t](n,r):c.warn('Unknown method: "'+i+'" when registering callback for '+t+': "'+n+'".')}}function o(){this._isAttached=!0,this._children.forEach(r),this._transCpnts.length&&this._transCpnts.forEach(r)}function r(e){!e._isAttached&&u(e.$el)&&e._callHook("attached")}function a(){this._isAttached=!1,this._children.forEach(l),this._transCpnts.length&&this._transCpnts.forEach(l)}function l(e){e._isAttached&&!u(e.$el)&&e._callHook("detached")}var c=e("../util"),u=c.inDoc;n._initEvents=function(){var e=this.$options;i(this,"$on",e.events),i(this,"$watch",e.watch)},n._initDOMHooks=function(){this.$on("hook:attached",o),this.$on("hook:detached",a)},n._callHook=function(e){var t=this.$options[e];if(t)for(var n=0,i=t.length;n<i;n++)t[n].call(this);this.$emit("hook:"+e)}},{"../util":818}],800:[function(e,t,n){var i=e("../util/merge-option");n._init=function(e){e=e||{},this.$el=null,this.$parent=e._parent,this.$root=e._root||this,this.$={},this.$$={},this._watcherList=[],this._watchers={},this._userWatchers={},this._directives=[],this._isVue=!0,this._events={},this._eventsCount={},this._eventCancelled=!1,this._isBlock=!1,this._blockStart=this._blockEnd=null,this._isCompiled=this._isDestroyed=this._isReady=this._isAttached=this._isBeingDestroyed=!1,this._children=[],this._childCtors={},this._containerUnlinkFn=this._contentUnlinkFn=null,this._transCpnts=[],this._host=e._host,this.$parent&&this.$parent._children.push(this),this._host&&this._host._transCpnts.push(this),this._new=!0,this._reused=!1,e=this.$options=i(this.constructor.options,e,this),this._data=e.data||{},this._initScope(),this._initEvents(),this._callHook("created"),e.el&&this.$mount(e.el)}},{"../util/merge-option":820}],801:[function(e,t,n){function i(){}var s=e("../util"),o=e("../observer"),r=e("../observer/dep");n._initScope=function(){this._initData(),this._initComputed(),this._initMethods(),this._initMeta()},n._initData=function(){for(var e,t=this._data,n=Object.keys(t),i=n.length;i--;)e=n[i],s.isReserved(e)||this._proxy(e);o.create(t).addVm(this)},n._setData=function(e){e=e||{};var t=this._data;this._data=e;var n,i,r;for(n=Object.keys(t),r=n.length;r--;)i=n[r],s.isReserved(i)||i in e||this._unproxy(i);for(n=Object.keys(e),r=n.length;r--;)i=n[r],this.hasOwnProperty(i)||s.isReserved(i)||this._proxy(i);t.__ob__.removeVm(this),o.create(e).addVm(this),this._digest()},n._proxy=function(e){var t=this;Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return t._data[e]},set:function(n){t._data[e]=n}})},n._unproxy=function(e){delete this[e]},n._digest=function(){for(var e=this._watcherList.length;e--;)this._watcherList[e].update();var t=this._children;for(e=t.length;e--;){var n=t[e];n.$options.inherit&&n._digest()}},n._initComputed=function(){var e=this.$options.computed;if(e)for(var t in e){var n=e[t],o={enumerable:!0,configurable:!0};"function"==typeof n?(o.get=s.bind(n,this),o.set=i):(o.get=n.get?s.bind(n.get,this):i,o.set=n.set?s.bind(n.set,this):i),Object.defineProperty(this,t,o)}},n._initMethods=function(){var e=this.$options.methods;if(e)for(var t in e)this[t]=s.bind(e[t],this)},n._initMeta=function(){var e=this.$options._meta;if(e)for(var t in e)this._defineMeta(t,e[t])},n._defineMeta=function(e,t){var n=new r;Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:function(){return o.target&&o.target.addDep(n),t},set:function(e){e!==t&&(t=e,n.notify())}})}},{"../observer":804,"../observer/dep":803,"../util":818}],802:[function(e,t,n){var i=e("../util"),s=Array.prototype,o=Object.create(s);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=s[e];i.define(o,e,function(){for(var n=arguments.length,i=new Array(n);n--;)i[n]=arguments[n];var s,o=t.apply(this,i),r=this.__ob__;switch(e){case"push":s=i;break;case"unshift":s=i;break;case"splice":s=i.slice(2)}return s&&r.observeArray(s),r.notify(),o})}),i.define(s,"$set",function(e,t){return e>=this.length&&(this.length=e+1),this.splice(e,1,t)[0]}),i.define(s,"$remove",function(e){if("number"!=typeof e&&(e=this.indexOf(e)),e>-1)return this.splice(e,1)[0]}),t.exports=o},{"../util":818}],803:[function(e,t,n){function i(){this.id=++s,this.subs=[]}var s=0,o=e("../util"),r=i.prototype;r.addSub=function(e){this.subs.push(e)},r.removeSub=function(e){if(this.subs.length){var t=this.subs.indexOf(e);t>-1&&this.subs.splice(t,1)}},r.notify=function(){for(var e=o.toArray(this.subs),t=0,n=e.length;t<n;t++)e[t].update()},t.exports=i},{"../util":818}],804:[function(e,t,n){function i(e,t){e.__proto__=t}function s(e,t,n){for(var i,s=n.length;s--;)i=n[s],r.define(e,i,t[i])}function o(e,t){if(this.id=++d,this.value=e,this.active=!0,this.deps=[],r.define(e,"__ob__",this),t===h){var n=a.proto&&r.hasProto?i:s;n(e,c,u),this.observeArray(e)}else t===p&&this.walk(e)}var r=e("../util"),a=e("../config"),l=e("./dep"),c=e("./array"),u=Object.getOwnPropertyNames(c);e("./object");var d=0,h=0,p=1;o.target=null;var f=o.prototype;o.create=function(e){return e&&e.hasOwnProperty("__ob__")&&e.__ob__ instanceof o?e.__ob__:r.isArray(e)?new o(e,h):r.isPlainObject(e)&&!e._isVue?new o(e,p):void 0},f.walk=function(e){for(var t,n,i=Object.keys(e),s=i.length;s--;)t=i[s],n=t.charCodeAt(0),36!==n&&95!==n&&this.convert(t,e[t])},f.observe=function(e){return o.create(e)},f.observeArray=function(e){for(var t=e.length;t--;)this.observe(e[t])},f.convert=function(e,t){var n=this,i=n.observe(t),s=new l;i&&i.deps.push(s),Object.defineProperty(n.value,e,{enumerable:!0,configurable:!0,get:function(){return n.active&&o.target&&o.target.addDep(s),t},set:function(e){if(e!==t){var i=t&&t.__ob__;if(i){var o=i.deps;o.splice(o.indexOf(s),1)}t=e;var r=n.observe(e);r&&r.deps.push(s),s.notify()}}})},f.notify=function(){for(var e=this.deps,t=0,n=e.length;t<n;t++)e[t].notify()},f.addVm=function(e){(this.vms=this.vms||[]).push(e)},f.removeVm=function(e){this.vms.splice(this.vms.indexOf(e),1)},t.exports=o},{"../config":771,"../util":818,"./array":802,"./dep":803,"./object":805}],805:[function(e,t,n){var i=e("../util"),s=Object.prototype;i.define(s,"$add",function(e,t){if(!this.hasOwnProperty(e)){var n=this.__ob__;if(!n||i.isReserved(e))return void(this[e]=t);if(n.convert(e,t),n.vms)for(var s=n.vms.length;s--;){var o=n.vms[s];o._proxy(e),o._digest()}else n.notify()}}),i.define(s,"$set",function(e,t){this.$add(e,t),this[e]=t}),i.define(s,"$delete",function(e){if(this.hasOwnProperty(e)){delete this[e];var t=this.__ob__;if(t&&!i.isReserved(e))if(t.vms)for(var n=t.vms.length;n--;){var s=t.vms[n];s._unproxy(e),s._digest()}else t.notify()}})},{"../util":818}],806:[function(e,t,n){function i(){g.raw=o.slice(f,a).trim(),void 0===g.expression?g.expression=o.slice(m,a).trim():b!==f&&s(),(0===a||g.expression)&&v.push(g)}function s(){var e,t=o.slice(b,a).trim();if(t){e={};var n=t.match(S);e.name=n[0],e.args=n.length>1?n.slice(1):null}e&&(g.filters=g.filters||[]).push(e),b=a+1}var o,r,a,l,c,u,d,h,p,f,m,v,g,b,y,w=e("../util"),x=e("../cache"),_=new x(1e3),k=/^[^\{\?]+$|^'[^']*'$|^"[^"]*"$/,S=/[^\s'"]+|'[^']+'|"[^"]+"/g;n.parse=function(e){var t=_.get(e);if(t)return t;for(o=e,c=u=!1,d=h=p=f=m=0,b=0,v=[],g={},y=null,a=0,l=o.length;a<l;a++)if(r=o.charCodeAt(a),c)39===r&&(c=!c);else if(u)34===r&&(u=!u);else if(44!==r||p||d||h)if(58!==r||g.expression||g.arg)if(124===r&&124!==o.charCodeAt(a+1)&&124!==o.charCodeAt(a-1))void 0===g.expression?(b=a+1,g.expression=o.slice(m,a).trim()):s();else switch(r){case 34:u=!0;break;case 39:c=!0;break;case 40:p++;break;case 41:p--;break;case 91:h++;break;case 93:h--;break;case 123:d++;break;case 125:d--}else y=o.slice(f,a).trim(),k.test(y)&&(m=a+1,g.arg=w.stripQuotes(y)||y);else i(),g={},f=m=b=a+1;return 0!==a&&f===a||i(),_.put(e,v),v}},{"../cache":768,"../util":818}],807:[function(e,t,n){function i(e,t){var n=j.length;return j[n]=t?e.replace(w,"\\n"):e,'"'+n+'"'}function s(e){var t=e.charAt(0),n=e.slice(1);return v.test(n)?e:(n=n.indexOf('"')>-1?n.replace(_,o):n,t+"scope."+n)}function o(e,t){return j[t]}function r(e,t){b.test(e)&&d.warn("Avoid using reserved keywords in expression: "+e),j.length=0;var n=e.replace(x,i).replace(y,"");n=(" "+n).replace(S,s).replace(_,o);var r=l(n);if(r)return{get:r,body:n,set:t?c(n):null}}function a(e){var t,n;return e.indexOf("[")<0?(n=e.split("."),t=h.compileGetter(n)):(n=h.parse(e),t=n.get),{get:t,set:function(e,t){h.set(e,n,t)}}}function l(e){try{return new Function("scope","return "+e+";")}catch(t){d.warn("Invalid expression. Generated function body: "+e)}}function c(e){try{return new Function("scope","value",e+"=value;")}catch(t){d.warn("Invalid setter function body: "+e)}}function u(e){e.set||(e.set=c(e.body))}var d=e("../util"),h=e("./path"),p=e("../cache"),f=new p(1e3),m="Math,Date,this,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,parseInt,parseFloat",v=new RegExp("^("+m.replace(/,/g,"\\b|")+"\\b)"),g="break,case,class,catch,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,let,return,super,switch,throw,try,var,while,with,yield,enum,await,implements,package,proctected,static,interface,private,public",b=new RegExp("^("+g.replace(/,/g,"\\b|")+"\\b)"),y=/\s/g,w=/\n/g,x=/[\{,]\s*[\w\$_]+\s*:|('[^']*'|"[^"]*")|new |typeof |void /g,_=/"(\d+)"/g,k=/^[A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\])*$/,S=/[^\w$\.]([A-Za-z_$][\w$]*(\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\])*)/g,C=/^(true|false)$/,j=[];n.parse=function(e,t){e=e.trim();var n=f.get(e);if(n)return t&&u(n),n;var i=k.test(e)&&!C.test(e)&&"Math."!==e.slice(0,5)?a(e):r(e,t);return f.put(e,i),i},n.pathTestRE=k},{"../cache":768,"../util":818,"./path":808}],808:[function(e,t,n){function i(){}function s(e){if(void 0===e)return"eof";var t=e.charCodeAt(0);switch(t){case 91:case 93:case 46:case 34:case 39:case 48:return e;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return 97<=t&&t<=122||65<=t&&t<=90?"ident":49<=t&&t<=57?"number":"else"}function o(e){function t(){var t=e[p+1];if("inSingleQuote"===f&&"'"===t||"inDoubleQuote"===f&&'"'===t)return p++,o=t,m.append(),!0}for(var n,o,r,a,l,c,u,h=[],p=-1,f="beforePath",m={
push:function(){void 0!==r&&(h.push(r),r=void 0)},append:function(){void 0===r?r=o:r+=o}};f;)if(p++,n=e[p],"\\"!==n||!t()){if(a=s(n),u=d[f],l=u[a]||u["else"]||"error","error"===l)return;if(f=l[0],c=m[l[1]]||i,o=void 0===l[2]?n:l[2],c(),"afterPath"===f)return h}}function r(e){return u.test(e)?"."+e:+e===e>>>0?"["+e+"]":'["'+e.replace(/"/g,'\\"')+'"]'}var a=e("../util"),l=e("../cache"),c=new l(1e3),u=/^[$_a-zA-Z]+[\w$]*$/,d={beforePath:{ws:["beforePath"],ident:["inIdent","append"],"[":["beforeElement"],eof:["afterPath"]},inPath:{ws:["inPath"],".":["beforeIdent"],"[":["beforeElement"],eof:["afterPath"]},beforeIdent:{ws:["beforeIdent"],ident:["inIdent","append"]},inIdent:{ident:["inIdent","append"],0:["inIdent","append"],number:["inIdent","append"],ws:["inPath","push"],".":["beforeIdent","push"],"[":["beforeElement","push"],eof:["afterPath","push"]},beforeElement:{ws:["beforeElement"],0:["afterZero","append"],number:["inIndex","append"],"'":["inSingleQuote","append",""],'"':["inDoubleQuote","append",""]},afterZero:{ws:["afterElement","push"],"]":["inPath","push"]},inIndex:{0:["inIndex","append"],number:["inIndex","append"],ws:["afterElement"],"]":["inPath","push"]},inSingleQuote:{"'":["afterElement"],eof:"error","else":["inSingleQuote","append"]},inDoubleQuote:{'"':["afterElement"],eof:"error","else":["inDoubleQuote","append"]},afterElement:{ws:["afterElement"],"]":["inPath","push"]}};n.compileGetter=function(e){var t="return o"+e.map(r).join("");return new Function("o",t)},n.parse=function(e){var t=c.get(e);return t||(t=o(e),t&&(t.get=n.compileGetter(t),c.put(e,t))),t},n.get=function(e,t){if(t=n.parse(t))return t.get(e)},n.set=function(e,t,i){if("string"==typeof t&&(t=n.parse(t)),!t||!a.isObject(e))return!1;for(var s,o,r=0,l=t.length-1;r<l;r++)s=e,o=t[r],e=e[o],a.isObject(e)||(e={},s.$add(o,e));return o=t[r],o in e?e[o]=i:e.$add(o,i),!0}},{"../cache":768,"../util":818}],809:[function(e,t,n){function i(e){var t=a.get(e);if(t)return t;var n=document.createDocumentFragment(),i=e.match(u),s=d.test(e);if(i||s){var o=i&&i[1],r=c[o]||c._default,l=r[0],h=r[1],p=r[2],f=document.createElement("div");for(f.innerHTML=h+e.trim()+p;l--;)f=f.lastChild;for(var m;m=f.firstChild;)n.appendChild(m)}else n.appendChild(document.createTextNode(e));return a.put(e,n),n}function s(e){var t=e.tagName;if("TEMPLATE"===t&&e.content instanceof DocumentFragment)return e.content;if("SCRIPT"===t)return i(e.textContent);for(var s,o=n.clone(e),r=document.createDocumentFragment();s=o.firstChild;)r.appendChild(s);return r}var o=e("../util"),r=e("../cache"),a=new r(1e3),l=new r(1e3),c={_default:[0,"",""],legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]};c.td=c.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],c.option=c.optgroup=[1,'<select multiple="multiple">',"</select>"],c.thead=c.tbody=c.colgroup=c.caption=c.tfoot=[1,"<table>","</table>"],c.g=c.defs=c.symbol=c.use=c.image=c.text=c.circle=c.ellipse=c.line=c.path=c.polygon=c.polyline=c.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events"version="1.1">',"</svg>"];var u=/<([\w:]+)/,d=/&\w+;/,h=!!o.inBrowser&&function(){var e=document.createElement("div");return e.innerHTML="<template>1</template>",!e.cloneNode(!0).firstChild.innerHTML}(),p=!!o.inBrowser&&function(){var e=document.createElement("textarea");return e.placeholder="t","t"===e.cloneNode(!0).value}();n.clone=function(e){var t,n,i,s=e.cloneNode(!0);if(h&&(n=e.querySelectorAll("template"),n.length))for(i=s.querySelectorAll("template"),t=i.length;t--;)i[t].parentNode.replaceChild(n[t].cloneNode(!0),i[t]);if(p)if("TEXTAREA"===e.tagName)s.value=e.value;else if(n=e.querySelectorAll("textarea"),n.length)for(i=s.querySelectorAll("textarea"),t=i.length;t--;)i[t].value=n[t].value;return s},n.parse=function(e,t,o){var r,a;return e instanceof DocumentFragment?t?e.cloneNode(!0):e:("string"==typeof e?o||"#"!==e.charAt(0)?a=i(e):(a=l.get(e),a||(r=document.getElementById(e.slice(1)),r&&(a=s(r),l.put(e,a)))):e.nodeType&&(a=s(e)),a&&t?n.clone(a):a)}},{"../cache":768,"../util":818}],810:[function(e,t,n){function i(e){return e.replace(m,"\\$&")}function s(){p._delimitersChanged=!1;var e=p.delimiters[0],t=p.delimiters[1];u=e.charAt(0),d=t.charAt(t.length-1);var n=i(u),s=i(d),o=i(e),r=i(t);l=new RegExp(n+"?"+o+"(.+?)"+r+s+"?","g"),c=new RegExp("^"+n+o+".*"+r+s+"$"),a=new h(1e3)}function o(e,t,n){return e.tag?t&&e.oneTime?'"'+t.$eval(e.value)+'"':n?e.value:r(e.value):'"'+e.value+'"'}function r(e){if(v.test(e)){var t=f.parse(e)[0];if(t.filters){e=t.expression;for(var n=0,i=t.filters.length;n<i;n++){var s=t.filters[n],o=s.args?',"'+s.args.join('","')+'"':"";s='this.$options.filters["'+s.name+'"]',e="("+s+".read||"+s+").apply(this,["+e+o+"])"}return e}return"("+e+")"}return"("+e+")"}var a,l,c,u,d,h=e("../cache"),p=e("../config"),f=e("./directive"),m=/[-.*+?^${}()|[\]\/\\]/g;n.parse=function(e){p._delimitersChanged&&s();var t=a.get(e);if(t)return t;if(!l.test(e))return null;for(var n,i,o,r,u,d,h=[],f=l.lastIndex=0;n=l.exec(e);)i=n.index,i>f&&h.push({value:e.slice(f,i)}),r=n[1].charCodeAt(0),u=42===r,d=62===r,o=u||d?n[1].slice(1):n[1],h.push({tag:!0,value:o.trim(),html:c.test(n[0]),oneTime:u,partial:d}),f=i+n[0].length;return f<e.length&&h.push({value:e.slice(f)}),a.put(e,h),h},n.tokensToExp=function(e,t){return e.length>1?e.map(function(e){return o(e,t)}).join("+"):o(e[0],t,!0)};var v=/[^|]\|[^|]/},{"../cache":768,"../config":771,"./directive":806}],811:[function(e,t,n){function i(e,t,n,i,o){h.push({el:e,dir:t,cb:o,cls:i,op:n}),p||(p=!0,a.nextTick(s))}function s(){document.documentElement.offsetHeight;h.forEach(o),h=[],p=!1}function o(e){function t(e,t){i.event=e;var s=i.callback=function(r){r.target===n&&(a.off(n,e,s),i.event=i.callback=null,t&&t(),o&&o())};a.on(n,e,s)}var n=e.el,i=n.__v_trans,s=e.cls,o=e.cb,l=e.op,u=r(n,i,s);if(e.dir>0)1===u?(c(n,s),o&&t(a.transitionEndEvent)):2===u?t(a.animationEndEvent,function(){c(n,s)}):(c(n,s),o&&o());else if(u){var d=1===u?a.transitionEndEvent:a.animationEndEvent;t(d,function(){l(),c(n,s)})}else l(),c(n,s),o&&o()}function r(e,t,n){var i=t.cache&&t.cache[n];if(i)return i;var s=e.style,o=window.getComputedStyle(e),r=s[u]||o[u];if(r&&"0s"!==r)i=1;else{var a=s[d]||o[d];a&&"0s"!==a&&(i=2)}return i&&(t.cache||(t.cache={}),t.cache[n]=i),i}var a=e("../util"),l=a.addClass,c=a.removeClass,u=a.transitionProp+"Duration",d=a.animationProp+"Duration",h=[],p=!1;t.exports=function(e,t,n,s,o){var r=s.id||"v",u=r+"-enter",d=r+"-leave";s.callback&&(a.off(e,s.event,s.callback),c(e,u),c(e,d),s.event=s.callback=null),t>0?(l(e,u),n(),i(e,t,null,u,o)):(l(e,d),i(e,t,n,d,o))}},{"../util":818}],812:[function(e,t,n){var i=e("../util"),s=e("./css"),o=e("./js"),r="undefined"==typeof document?null:document;n.append=function(e,t,n,i){a(e,1,function(){t.appendChild(e)},n,i)},n.before=function(e,t,n,s){a(e,1,function(){i.before(e,t)},n,s)},n.remove=function(e,t,n){a(e,-1,function(){i.remove(e)},t,n)},n.removeThenAppend=function(e,t,n,i){a(e,-1,function(){t.appendChild(e)},n,i)},n.blockAppend=function(e,t,s){for(var o=i.toArray(e.childNodes),r=0,a=o.length;r<a;r++)n.before(o[r],t,s)},n.blockRemove=function(e,t,i){for(var s,o=e.nextSibling;o!==t;)s=o.nextSibling,n.remove(o,i),o=s};var a=n.apply=function(e,t,n,a,l){var c=e.__v_trans;if(!c||!a._isCompiled||a.$parent&&!a.$parent._isCompiled)return n(),void(l&&l());var u=c.fns;u?o(e,t,n,c,u,a,l):!i.transitionEndEvent||r&&r.hidden?(n(),l&&l()):s(e,t,n,c,l)}},{"../util":818,"./css":811,"./js":813}],813:[function(e,t,n){t.exports=function(e,t,n,i,s,o,r){o=e.__vue__||o,i.cancel&&(i.cancel(),i.cancel=null),t>0?(s.beforeEnter&&s.beforeEnter.call(o,e),n(),s.enter?i.cancel=s.enter.call(o,e,function(){i.cancel=null,r&&r()}):r&&r()):s.leave?i.cancel=s.leave.call(o,e,function(){i.cancel=null,n(),r&&r()}):(n(),r&&r())}},{}],814:[function(e,t,n){function i(){var e="undefined"!=typeof console;n.log=function(t){e&&s.debug&&console.log("[Vue info]: "+t)},n.warn=function(t){!e||s.silent&&!s.debug||(console.warn("[Vue warn]: "+t),s.debug)},n.assertAsset=function(e,t,i){e||n.warn("Failed to resolve "+t+": "+i)}}var s=e("../config");i()},{"../config":771}],815:[function(e,t,n){var i=e("../config"),s="undefined"!=typeof document&&document.documentElement;n.inDoc=function(e){var t=e&&e.parentNode;return s===e||s===t||!(!t||1!==t.nodeType||!s.contains(t))},n.attr=function(e,t){t=i.prefix+t;var n=e.getAttribute(t);return null!==n&&e.removeAttribute(t),n},n.before=function(e,t){t.parentNode.insertBefore(e,t)},n.after=function(e,t){t.nextSibling?n.before(e,t.nextSibling):t.parentNode.appendChild(e)},n.remove=function(e){e.parentNode.removeChild(e)},n.prepend=function(e,t){t.firstChild?n.before(e,t.firstChild):t.appendChild(e)},n.replace=function(e,t){var n=e.parentNode;n&&n.replaceChild(t,e)},n.copyAttributes=function(e,t){if(e.hasAttributes())for(var n=e.attributes,i=0,s=n.length;i<s;i++){var o=n[i];t.setAttribute(o.name,o.value)}},n.on=function(e,t,n){e.addEventListener(t,n)},n.off=function(e,t,n){e.removeEventListener(t,n)},n.addClass=function(e,t){if(e.classList)e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}},n.removeClass=function(e,t){if(e.classList)e.classList.remove(t);else{for(var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");e.setAttribute("class",n.trim())}},n.extractContent=function(e,t){var n,i;if(e.hasChildNodes())for(i=t?document.createDocumentFragment():document.createElement("div");n=e.firstChild;)i.appendChild(n);return i}},{"../config":771}],816:[function(e,t,n){n.hasProto="__proto__"in{};var i=Object.prototype.toString,s=n.inBrowser="undefined"!=typeof window&&"[object Object]"!==i.call(window);if(n.nextTick=function(){function e(){i=!1;var e=n.slice(0);n=[];for(var t=0;t<e.length;t++)e[t]()}var t,n=[],i=!1;if("undefined"!=typeof MutationObserver){var s=1,o=new MutationObserver(e),r=document.createTextNode(s);o.observe(r,{characterData:!0}),t=function(){s=(s+1)%2,r.data=s}}else t=setTimeout;return function(s,o){var r=o?function(){s.call(o)}:s;n.push(r),i||(i=!0,t(e,0))}}(),n.isIE9=s&&navigator.userAgent.indexOf("MSIE 9.0")>0,s&&!n.isIE9){var o=void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend,r=void 0===window.onanimationend&&void 0!==window.onwebkitanimationend;n.transitionProp=o?"WebkitTransition":"transition",n.transitionEndEvent=o?"webkitTransitionEnd":"transitionend",n.animationProp=r?"WebkitAnimation":"animation",n.animationEndEvent=r?"webkitAnimationEnd":"animationend"}},{}],817:[function(e,t,n){var i=e("./debug");n.resolveFilters=function(e,t,n){if(t){var s=n||{};return t.forEach(function(t){var n=e.$options.filters[t.name];if(i.assertAsset(n,"filter",t.name),n){var o,r,a=t.args;"function"==typeof n?o=n:(o=n.read,r=n.write),o&&(s.read||(s.read=[]),s.read.push(function(t){return a?o.apply(e,[t].concat(a)):o.call(e,t)})),r&&(s.write||(s.write=[]),s.write.push(function(t,n){return a?r.apply(e,[t,n].concat(a)):r.call(e,t,n)}))}}),s}},n.applyFilters=function(e,t,n,i){if(!t)return e;for(var s=0,o=t.length;s<o;s++)e=t[s].call(n,e,i);return e}},{"./debug":814}],818:[function(e,t,n){var i=e("./lang"),s=i.extend;s(n,i),s(n,e("./env")),s(n,e("./dom")),s(n,e("./filter")),s(n,e("./debug"))},{"./debug":814,"./dom":815,"./env":816,"./filter":817,"./lang":819}],819:[function(e,t,n){function i(e,t){return t?t.toUpperCase():""}n.isReserved=function(e){var t=(e+"").charCodeAt(0);return 36===t||95===t},n.toString=function(e){return null==e?"":e.toString()},n.toNumber=function(e){return isNaN(e)||null===e||"boolean"==typeof e?e:Number(e)},n.stripQuotes=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(34===t||39===t)&&e.slice(1,-1)};var s=/-(\w)/g;n.camelize=function(e){return e.replace(s,i)};var o=/(?:^|[-_\/])(\w)/g;n.classify=function(e){return e.replace(o,i)},n.bind=function(e,t){return function(){return e.apply(t,arguments)}},n.toArray=function(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i},n.extend=function(e,t){for(var n in t)e[n]=t[n];return e},n.isObject=function(e){return e&&"object"==typeof e};var r=Object.prototype.toString;n.isPlainObject=function(e){return"[object Object]"===r.call(e)},n.isArray=function(e){return Array.isArray(e)},n.define=function(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})},n.debounce=function(e,t){var n,i,s,o,r,a=function(){var l=Date.now()-o;l<t&&l>=0?n=setTimeout(a,t-l):(n=null,r=e.apply(s,i),n||(s=i=null))};return function(){return s=this,i=arguments,o=Date.now(),n||(n=setTimeout(a,t)),r}}},{}],820:[function(e,t,n){function i(e,t){var n,s,r;for(n in t)s=e[n],r=t[n],e.hasOwnProperty(n)?o.isObject(s)&&o.isObject(r)&&i(s,r):e.$add(n,r);return e}function s(e){if(e){var t;for(var n in e)t=e[n],o.isPlainObject(t)&&(t.name=n,e[n]=o.Vue.extend(t))}}var o=e("./index"),r=o.extend,a=Object.create(null);a.data=function(e,t,n){if(n){var s="function"==typeof t?t.call(n):t,r="function"==typeof e?e.call(n):void 0;return s?i(s,r):r}return t?"function"!=typeof t?(o.warn('The "data" option should be a function that returns a per-instance value in component definitions.'),e):e?function(){return i(t.call(this),e.call(this))}:t:e},a.el=function(e,t,n){if(!n&&t&&"function"!=typeof t)return void o.warn('The "el" option should be a function that returns a per-instance value in component definitions.');var i=t||e;return n&&"function"==typeof i?i.call(n):i},a.created=a.ready=a.attached=a.detached=a.beforeCompile=a.compiled=a.beforeDestroy=a.destroyed=a.paramAttributes=function(e,t){return t?e?e.concat(t):o.isArray(t)?t:[t]:e},a.directives=a.filters=a.partials=a.transitions=a.components=function(e,t,n,i){var s=Object.create(n&&n.$parent?n.$parent.$options[i]:o.Vue.options[i]);if(e)for(var a,l=Object.keys(e),c=l.length;c--;)a=l[c],s[a]=e[a];return t&&r(s,t),s},a.watch=a.events=function(e,t){if(!t)return e;if(!e)return t;var n={};r(n,e);for(var i in t){var s=n[i],a=t[i];s&&!o.isArray(s)&&(s=[s]),n[i]=s?s.concat(a):[a]}return n},a.methods=a.computed=function(e,t){if(!t)return e;if(!e)return t;var n=Object.create(e);return r(n,t),n};var l=function(e,t){return void 0===t?e:t};t.exports=function c(e,t,n){function i(i){var s=a[i]||l;r[i]=s(e[i],t[i],n,i)}s(t.components);var o,r={};if(t.mixins)for(var u=0,d=t.mixins.length;u<d;u++)e=c(e,t.mixins[u],n);for(o in e)i(o);for(o in t)e.hasOwnProperty(o)||i(o);return r}},{"./index":818}],821:[function(e,t,n){function i(e){this._init(e)}var s=e("./util"),o=s.extend;o(i,e("./api/global")),i.options={directives:e("./directives"),filters:e("./filters"),partials:{},transitions:{},components:{}};var r=i.prototype;Object.defineProperty(r,"$data",{get:function(){return this._data},set:function(e){this._setData(e)}}),o(r,e("./instance/init")),o(r,e("./instance/events")),o(r,e("./instance/scope")),o(r,e("./instance/compile")),o(r,e("./api/data")),o(r,e("./api/dom")),o(r,e("./api/events")),o(r,e("./api/child")),o(r,e("./api/lifecycle")),t.exports=s.Vue=i},{"./api/child":761,"./api/data":762,"./api/dom":763,"./api/events":764,"./api/global":765,"./api/lifecycle":766,"./directives":781,"./filters":797,"./instance/compile":798,"./instance/events":799,"./instance/init":800,"./instance/scope":801,"./util":818}],822:[function(e,t,n){function i(e,t,n,i){this.vm=e,e._watcherList.push(this),this.expression=t,this.cbs=[n],this.id=++u,this.active=!0,i=i||{},this.deep=!!i.deep,this.user=!!i.user,this.deps=Object.create(null),i.filters&&(this.readFilters=i.filters.read,this.writeFilters=i.filters.write);var s=l.parse(t,i.twoWay);this.getter=s.get,this.setter=s.set,this.value=this.get()}function s(e){var t,n,i;for(t in e)if(n=e[t],o.isArray(n))for(i=n.length;i--;)s(n[i]);else o.isObject(n)&&s(n)}var o=e("./util"),r=e("./config"),a=e("./observer"),l=e("./parsers/expression"),c=e("./batcher"),u=0,d=i.prototype;d.addDep=function(e){var t=e.id;this.newDeps[t]||(this.newDeps[t]=e,this.deps[t]||(this.deps[t]=e,e.addSub(this)))},d.get=function(){this.beforeGet();var e,t=this.vm;try{e=this.getter.call(t,t)}catch(n){r.warnExpressionErrors&&o.warn('Error when evaluating expression "'+this.expression+'":\n   '+n)}return this.deep&&s(e),e=o.applyFilters(e,this.readFilters,t),this.afterGet(),e},d.set=function(e){var t=this.vm;e=o.applyFilters(e,this.writeFilters,t,this.value);try{this.setter.call(t,t,e)}catch(n){r.warnExpressionErrors&&o.warn('Error when evaluating setter "'+this.expression+'":\n   '+n)}},d.beforeGet=function(){a.target=this,this.newDeps={}},d.afterGet=function(){a.target=null;for(var e in this.deps)this.newDeps[e]||this.deps[e].removeSub(this);this.deps=this.newDeps},d.update=function(){!r.async||r.debug?this.run():c.push(this)},d.run=function(){if(this.active){var e=this.get();if(e!==this.value||Array.isArray(e)||this.deep){var t=this.value;this.value=e;for(var n=this.cbs,i=0,s=n.length;i<s;i++){n[i](e,t);var o=s-n.length;o&&(i-=o,s-=o)}}}},d.addCb=function(e){this.cbs.push(e)},d.removeCb=function(e){var t=this.cbs;if(t.length>1){var n=t.indexOf(e);n>-1&&t.splice(n,1)}else e===t[0]&&this.teardown()},d.teardown=function(){if(this.active){if(!this.vm._isBeingDestroyed){var e=this.vm._watcherList,t=e.indexOf(this);t>-1&&e.splice(t,1)}for(var n in this.deps)this.deps[n].removeSub(this);this.active=!1,this.vm=this.cbs=this.value=null}},t.exports=i},{"./batcher":767,"./config":771,"./observer":804,"./parsers/expression":807,"./util":818}]},{},[208]);